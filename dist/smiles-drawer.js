(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SmilesDrawer"] = factory();
	else
		root["SmilesDrawer"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./app.js":
/*!****************!*\
  !*** ./app.js ***!
  \****************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const Drawer = __webpack_require__(/*! ./src/Drawer */ "./src/Drawer.js");
const Parser = __webpack_require__(/*! ./src/Parser */ "./src/Parser.js");
const ReactionParser = __webpack_require__(/*! ./src/ReactionParser */ "./src/ReactionParser.js");
const SvgDrawer = __webpack_require__(/*! ./src/SvgDrawer */ "./src/SvgDrawer.js");
const ReactionDrawer = __webpack_require__(/*! ./src/ReactionDrawer */ "./src/ReactionDrawer.js");
const SmiDrawer = __webpack_require__(/*! ./src/SmilesDrawer */ "./src/SmilesDrawer.js");
const GaussDrawer = __webpack_require__(/*! ./src/GaussDrawer */ "./src/GaussDrawer.js");

// Detect SSR (server side rendering)
var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);

/**
 * The SmilesDrawer namespace.
 * @typicalname SmilesDrawer
 */
var SmilesDrawer = {
  Version: '1.0.0'
};
SmilesDrawer.Drawer = Drawer;
SmilesDrawer.Parser = Parser;
SmilesDrawer.SvgDrawer = SvgDrawer;
SmilesDrawer.ReactionDrawer = ReactionDrawer;
SmilesDrawer.ReactionParser = ReactionParser;
SmilesDrawer.GaussDrawer = GaussDrawer;

/**
* Cleans a SMILES string (removes non-valid characters)
*
* @static
* @param {String} smiles A SMILES string.
* @returns {String} The clean SMILES string.
*/
SmilesDrawer.clean = function (smiles) {
  return smiles.replace(/[^A-Za-z0-9@\.\+\-\?!\(\)\[\]\{\}/\\=#\$:\*]/g, '');
};

/**
* Applies the smiles drawer draw function to each canvas element that has a smiles string in the data-smiles attribute.
*
* @static
* @param {Object} options SmilesDrawer options.
* @param {String} [selector='canvas[data-smiles]'] Selectors for the draw areas (canvas elements).
* @param {String} [themeName='light'] The theme to apply.
* @param {Function} [onError='null'] A callback function providing an error object.
*/
SmilesDrawer.apply = function (options, selector = 'canvas[data-smiles]', themeName = 'light', onError = null) {
  let smilesDrawer = new Drawer(options);
  let elements = document.querySelectorAll(selector);
  for (var i = 0; i < elements.length; i++) {
    let element = elements[i];
    SmilesDrawer.parse(element.getAttribute('data-smiles'), function (tree) {
      smilesDrawer.draw(tree, element, themeName, false);
    }, function (err) {
      if (onError) {
        onError(err);
      }
    });
  }
};

/**
* Parses the entered smiles string.
* 
* @static
* @param {String} smiles A SMILES string.
* @param {Function} successCallback A callback that is called on success with the parse tree.
* @param {Function} errorCallback A callback that is called with the error object on error.
*/
SmilesDrawer.parse = function (smiles, successCallback, errorCallback) {
  try {
    if (successCallback) {
      successCallback(Parser.parse(smiles));
    }
  } catch (err) {
    if (errorCallback) {
      errorCallback(err);
    }
  }
};

/**
* Parses the entered reaction smiles string.
* 
* @static
* @param {String} reactionSmiles A reaction SMILES string.
* @param {Function} successCallback A callback that is called on success with the parse tree.
* @param {Function} errorCallback A callback that is called with the error object on error.
*/
SmilesDrawer.parseReaction = function (reactionSmiles, successCallback, errorCallback) {
  try {
    if (successCallback) {
      successCallback(ReactionParser.parse(reactionSmiles));
    }
  } catch (err) {
    if (errorCallback) {
      errorCallback(err);
    }
  }
};
if (canUseDOM) {
  window.SmilesDrawer = SmilesDrawer;
  window.SmiDrawer = SmiDrawer;
}

// Attach SmiDrawer to SmilesDrawer for npm imports
SmilesDrawer.SmiDrawer = SmiDrawer;

// There be dragons (polyfills)

if (!Array.prototype.fill) {
  Object.defineProperty(Array.prototype, 'fill', {
    value: function (value) {
      // Steps 1-2.
      if (this == null) {
        throw new TypeError('this is null or not defined');
      }
      var O = Object(this);

      // Steps 3-5.
      var len = O.length >>> 0;

      // Steps 6-7.
      var start = arguments[1];
      var relativeStart = start >> 0;

      // Step 8.
      var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);

      // Steps 9-10.
      var end = arguments[2];
      var relativeEnd = end === undefined ? len : end >> 0;

      // Step 11.
      var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);

      // Step 12.
      while (k < final) {
        O[k] = value;
        k++;
      }

      // Step 13.
      return O;
    }
  });
}
module.exports = SmilesDrawer;

/***/ }),

/***/ "./src/ArrayHelper.js":
/*!****************************!*\
  !*** ./src/ArrayHelper.js ***!
  \****************************/
/***/ ((module) => {

//@ts-check
/** 
 * A static class containing helper functions for array-related tasks. 
 */
class ArrayHelper {
  /**
   * Clone an array or an object. If an object is passed, a shallow clone will be created.
   *
   * @static
   * @param {*} arr The array or object to be cloned.
   * @returns {*} A clone of the array or object.
   */
  static clone(arr) {
    let out = Array.isArray(arr) ? Array() : {};
    for (let key in arr) {
      let value = arr[key];
      if (typeof value.clone === 'function') {
        out[key] = value.clone();
      } else {
        out[key] = typeof value === 'object' ? ArrayHelper.clone(value) : value;
      }
    }
    return out;
  }

  /**
   * Returns a boolean indicating whether or not the two arrays contain the same elements.
   * Only supports 1d, non-nested arrays.
   *
   * @static
   * @param {Array} arrA An array.
   * @param {Array} arrB An array.
   * @returns {Boolean} A boolean indicating whether or not the two arrays contain the same elements.
   */
  static equals(arrA, arrB) {
    if (arrA.length !== arrB.length) {
      return false;
    }
    let tmpA = arrA.slice().sort();
    let tmpB = arrB.slice().sort();
    for (var i = 0; i < tmpA.length; i++) {
      if (tmpA[i] !== tmpB[i]) {
        return false;
      }
    }
    return true;
  }

  /**
   * Returns a string representation of an array. If the array contains objects with an id property, the id property is printed for each of the elements.
   *
   * @static
   * @param {Object[]} arr An array.
   * @param {*} arr[].id If the array contains an object with the property 'id', the properties value is printed. Else, the array elements value is printend.
   * @returns {String} A string representation of the array.
   */
  static print(arr) {
    if (arr.length == 0) {
      return '';
    }
    let s = '(';
    for (let i = 0; i < arr.length; i++) {
      s += arr[i].id ? arr[i].id + ', ' : arr[i] + ', ';
    }
    s = s.substring(0, s.length - 2);
    return s + ')';
  }

  /**
   * Run a function for each element in the array. The element is supplied as an argument for the callback function
   *
   * @static
   * @param {Array} arr An array.
   * @param {Function} callback The callback function that is called for each element.
   */
  static each(arr, callback) {
    for (let i = 0; i < arr.length; i++) {
      callback(arr[i]);
    }
  }

  /**
   * Return the array element from an array containing objects, where a property of the object is set to a given value.
   *
   * @static
   * @param {Array} arr An array.
   * @param {(String|Number)} property A property contained within an object in the array.
   * @param {(String|Number)} value The value of the property.
   * @returns {*} The array element matching the value.
   */
  static get(arr, property, value) {
    for (let i = 0; i < arr.length; i++) {
      if (arr[i][property] == value) {
        return arr[i];
      }
    }
  }

  /**
   * Checks whether or not an array contains a given value. the options object passed as a second argument can contain three properties. value: The value to be searched for. property: The property that is to be searched for a given value. func: A function that is used as a callback to return either true or false in order to do a custom comparison.
   *
   * @static
   * @param {Array} arr An array.
   * @param {Object} options See method description.
   * @param {*} options.value The value for which to check.
   * @param {String} [options.property=undefined] The property on which to check.
   * @param {Function} [options.func=undefined] A custom property function.
   * @returns {Boolean} A boolean whether or not the array contains a value.
   */
  static contains(arr, options) {
    if (!options.property && !options.func) {
      for (let i = 0; i < arr.length; i++) {
        if (arr[i] == options.value) {
          return true;
        }
      }
    } else if (options.func) {
      for (let i = 0; i < arr.length; i++) {
        if (options.func(arr[i])) {
          return true;
        }
      }
    } else {
      for (let i = 0; i < arr.length; i++) {
        if (arr[i][options.property] == options.value) {
          return true;
        }
      }
    }
    return false;
  }

  /**
   * Returns an array containing the intersection between two arrays. That is, values that are common to both arrays.
   *
   * @static
   * @param {Array} arrA An array.
   * @param {Array} arrB An array.
   * @returns {Array} The intersecting vlaues.
   */
  static intersection(arrA, arrB) {
    let intersection = new Array();
    for (let i = 0; i < arrA.length; i++) {
      for (let j = 0; j < arrB.length; j++) {
        if (arrA[i] === arrB[j]) {
          intersection.push(arrA[i]);
        }
      }
    }
    return intersection;
  }

  /**
   * Returns an array of unique elements contained in an array.
   *
   * @static
   * @param {Array} arr An array.
   * @returns {Array} An array of unique elements contained within the array supplied as an argument.
   */
  static unique(arr) {
    let contains = {};
    return arr.filter(function (i) {
      // using !== instead of hasOwnProperty (http://andrew.hedges.name/experiments/in/)
      return contains[i] !== undefined ? false : contains[i] = true;
    });
  }

  /**
   * Count the number of occurences of a value in an array.
   *
   * @static
   * @param {Array} arr An array.
   * @param {*} value A value to be counted.
   * @returns {Number} The number of occurences of a value in the array.
   */
  static count(arr, value) {
    let count = 0;
    for (let i = 0; i < arr.length; i++) {
      if (arr[i] === value) {
        count++;
      }
    }
    return count;
  }

  /**
   * Toggles the value of an array. If a value is not contained in an array, the array returned will contain all the values of the original array including the value. If a value is contained in an array, the array returned will contain all the values of the original array excluding the value.
   *
   * @static
   * @param {Array} arr An array.
   * @param {*} value A value to be toggled.
   * @returns {Array} The toggled array.
   */
  static toggle(arr, value) {
    let newArr = Array();
    let removed = false;
    for (let i = 0; i < arr.length; i++) {
      // Do not copy value if it exists
      if (arr[i] !== value) {
        newArr.push(arr[i]);
      } else {
        // The element was not copied to the new array, which
        // means it was removed
        removed = true;
      }
    }

    // If the element was not removed, then it was not in the array
    // so add it
    if (!removed) {
      newArr.push(value);
    }
    return newArr;
  }

  /**
   * Remove a value from an array.
   *
   * @static
   * @param {Array} arr An array.
   * @param {*} value A value to be removed.
   * @returns {Array} A new array with the element with a given value removed.
   */
  static remove(arr, value) {
    let tmp = Array();
    for (let i = 0; i < arr.length; i++) {
      if (arr[i] !== value) {
        tmp.push(arr[i]);
      }
    }
    return tmp;
  }

  /**
   * Remove a value from an array with unique values.
   *
   * @static
   * @param {Array} arr An array.
   * @param {*} value A value to be removed.
   * @returns {Array} An array with the element with a given value removed.
   */
  static removeUnique(arr, value) {
    let index = arr.indexOf(value);
    if (index > -1) {
      arr.splice(index, 1);
    }
    return arr;
  }

  /**
   * Remove all elements contained in one array from another array.
   *
   * @static
   * @param {Array} arrA The array to be filtered.
   * @param {Array} arrB The array containing elements that will be removed from the other array.
   * @returns {Array} The filtered array.
   */
  static removeAll(arrA, arrB) {
    return arrA.filter(function (item) {
      return arrB.indexOf(item) === -1;
    });
  }

  /**
   * Merges two arrays and returns the result. The first array will be appended to the second array.
   *
   * @static
   * @param {Array} arrA An array.
   * @param {Array} arrB An array.
   * @returns {Array} The merged array.
   */
  static merge(arrA, arrB) {
    let arr = new Array(arrA.length + arrB.length);
    for (let i = 0; i < arrA.length; i++) {
      arr[i] = arrA[i];
    }
    for (let i = 0; i < arrB.length; i++) {
      arr[arrA.length + i] = arrB[i];
    }
    return arr;
  }

  /**
   * Checks whether or not an array contains all the elements of another array, without regard to the order.
   *
   * @static
   * @param {Array} arrA An array.
   * @param {Array} arrB An array.
   * @returns {Boolean} A boolean indicating whether or not both array contain the same elements.
   */
  static containsAll(arrA, arrB) {
    let containing = 0;
    for (let i = 0; i < arrA.length; i++) {
      for (let j = 0; j < arrB.length; j++) {
        if (arrA[i] === arrB[j]) {
          containing++;
        }
      }
    }
    return containing === arrB.length;
  }

  /**
   * Sort an array of atomic number information. Where the number is indicated as x, x.y, x.y.z, ...
   *
   * @param {Object[]} arr An array of vertex ids with their associated atomic numbers.
   * @param {Number} arr[].vertexId A vertex id.
   * @param {String} arr[].atomicNumber The atomic number associated with the vertex id.
   * @returns {Object[]} The array sorted by atomic number. Example of an array entry: { atomicNumber: 2, vertexId: 5 }.
   */
  static sortByAtomicNumberDesc(arr) {
    let map = arr.map(function (e, i) {
      return {
        index: i,
        value: e.atomicNumber.split('.').map(Number)
      };
    });
    map.sort(function (a, b) {
      let min = Math.min(b.value.length, a.value.length);
      let i = 0;
      while (i < min && b.value[i] === a.value[i]) {
        i++;
      }
      return i === min ? b.value.length - a.value.length : b.value[i] - a.value[i];
    });
    return map.map(function (e) {
      return arr[e.index];
    });
  }

  /**
   * Copies a an n-dimensional array.
   * 
   * @param {Array} arr The array to be copied.
   * @returns {Array} The copy.
   */
  static deepCopy(arr) {
    let newArr = Array();
    for (let i = 0; i < arr.length; i++) {
      let item = arr[i];
      if (item instanceof Array) {
        newArr[i] = ArrayHelper.deepCopy(item);
      } else {
        newArr[i] = item;
      }
    }
    return newArr;
  }
}
module.exports = ArrayHelper;

/***/ }),

/***/ "./src/Atom.js":
/*!*********************!*\
  !*** ./src/Atom.js ***!
  \*********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const ArrayHelper = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.js");
const Vertex = __webpack_require__(/*! ./Vertex */ "./src/Vertex.js");
const Ring = __webpack_require__(/*! ./Ring */ "./src/Ring.js");

/** 
 * A class representing an atom.
 * 
 * @property {String} element The element symbol of this atom. Single-letter symbols are always uppercase. Examples: H, C, F, Br, Si, ...
 * @property {Boolean} drawExplicit A boolean indicating whether or not this atom is drawn explicitly (for example, a carbon atom). This overrides the default behaviour.
 * @property {Object[]} ringbonds An array containing the ringbond ids and bond types as specified in the original SMILE.
 * @property {String} branchBond The branch bond as defined in the SMILES.
 * @property {Number} ringbonds[].id The ringbond id as defined in the SMILES.
 * @property {String} ringbonds[].bondType The bond type of the ringbond as defined in the SMILES.
 * @property {Number[]} rings The ids of rings which contain this atom.
 * @property {String} bondType The bond type associated with this array. Examples: -, =, #, ...
 * @property {Boolean} isBridge A boolean indicating whether or not this atom is part of a bridge in a bridged ring (contained by the largest ring).
 * @property {Boolean} isBridgeNode A boolean indicating whether or not this atom is a bridge node (a member of the largest ring in a bridged ring which is connected to a bridge-atom).
 * @property {Number[]} originalRings Used to back up rings when they are replaced by a bridged ring.
 * @property {Number} bridgedRing The id of the bridged ring if the atom is part of a bridged ring.
 * @property {Number[]} anchoredRings The ids of the rings that are anchored to this atom. The centers of anchored rings are translated when this atom is translated.
 * @property {Object} bracket If this atom is defined as a bracket atom in the original SMILES, this object contains all the bracket information. Example: { hcount: {Number}, charge: ['--', '-', '+', '++'], isotope: {Number} }.
 * @property {Number} plane Specifies on which "plane" the atoms is in stereochemical deptictions (-1 back, 0 middle, 1 front).
 * @property {Object[]} attachedPseudoElements A map with containing information for pseudo elements or concatinated elements. The key is comprised of the element symbol and the hydrogen count.
 * @property {String} attachedPseudoElement[].element The element symbol.
 * @property {Number} attachedPseudoElement[].count The number of occurences that match the key.
 * @property {Number} attachedPseudoElement[].hyrogenCount The number of hydrogens attached to each atom matching the key.
 * @property {Boolean} hasAttachedPseudoElements A boolean indicating whether or not this attom will be drawn with an attached pseudo element or concatinated elements.
 * @property {Boolean} isDrawn A boolean indicating whether or not this atom is drawn. In contrast to drawExplicit, the bond is drawn neither.
 * @property {Boolean} isConnectedToRing A boolean indicating whether or not this atom is directly connected (but not a member of) a ring.
 * @property {String[]} neighbouringElements An array containing the element symbols of neighbouring atoms.
 * @property {Boolean} isPartOfAromaticRing A boolean indicating whether or not this atom is part of an explicitly defined aromatic ring. Example: c1ccccc1.
 * @property {Number} bondCount The number of bonds in which this atom is participating.
 * @property {String} chirality The chirality of this atom if it is a stereocenter (R or S).
 * @property {Number} priority The priority of this atom acording to the CIP rules, where 0 is the highest priority.
 * @property {Boolean} mainChain A boolean indicating whether or not this atom is part of the main chain (used for chirality).
 * @property {String} hydrogenDirection The direction of the hydrogen, either up or down. Only for stereocenters with and explicit hydrogen.
 * @property {Number} subtreeDepth The depth of the subtree coming from a stereocenter.
 * @property {Number} class
 */
class Atom {
  /**
   * The constructor of the class Atom.
   *
   * @param {String} element The one-letter code of the element.
   * @param {String} [bondType='-'] The type of the bond associated with this atom.
   */
  constructor(element, bondType = '-') {
    this.idx = null;
    this.element = element.length === 1 ? element.toUpperCase() : element;
    this.drawExplicit = false;
    this.ringbonds = Array();
    this.rings = Array();
    this.bondType = bondType;
    this.branchBond = null;
    this.isBridge = false;
    this.isBridgeNode = false;
    this.originalRings = Array();
    this.bridgedRing = null;
    this.anchoredRings = Array();
    this.bracket = null;
    this.plane = 0;
    this.attachedPseudoElements = {};
    this.hasAttachedPseudoElements = false;
    this.isDrawn = true;
    this.isConnectedToRing = false;
    this.neighbouringElements = Array();
    this.isPartOfAromaticRing = element !== this.element;
    this.bondCount = 0;
    this.chirality = '';
    this.isStereoCenter = false;
    this.priority = 0;
    this.mainChain = false;
    this.hydrogenDirection = 'down';
    this.subtreeDepth = 1;
    this.hasHydrogen = false;
    this.class = undefined;
  }

  /**
   * Adds a neighbouring element to this atom.
   * 
   * @param {String} element A string representing an element.
   */
  addNeighbouringElement(element) {
    this.neighbouringElements.push(element);
  }

  /**
   * Attaches a pseudo element (e.g. Ac) to the atom.
   * @param {String} element The element identifier (e.g. Br, C, ...).
   * @param {String} previousElement The element that is part of the main chain (not the terminals that are converted to the pseudo element or concatinated).
   * @param {Number} [hydrogenCount=0] The number of hydrogens for the element.
   * @param {Number} [charge=0] The charge for the element.
   */
  attachPseudoElement(element, previousElement, hydrogenCount = 0, charge = 0) {
    if (hydrogenCount === null) {
      hydrogenCount = 0;
    }
    if (charge === null) {
      charge = 0;
    }
    let key = hydrogenCount + element + charge;
    if (this.attachedPseudoElements[key]) {
      this.attachedPseudoElements[key].count += 1;
    } else {
      this.attachedPseudoElements[key] = {
        element: element,
        count: 1,
        hydrogenCount: hydrogenCount,
        previousElement: previousElement,
        charge: charge
      };
    }
    this.hasAttachedPseudoElements = true;
  }

  /**
   * Returns the attached pseudo elements sorted by hydrogen count (ascending).
   *
   * @returns {Object} The sorted attached pseudo elements.
   */
  getAttachedPseudoElements() {
    let ordered = {};
    let that = this;
    Object.keys(this.attachedPseudoElements).sort().forEach(function (key) {
      ordered[key] = that.attachedPseudoElements[key];
    });
    return ordered;
  }

  /**
   * Returns the number of attached pseudo elements.
   *
   * @returns {Number} The number of attached pseudo elements.
   */
  getAttachedPseudoElementsCount() {
    return Object.keys(this.attachedPseudoElements).length;
  }

  /**
   * Returns whether this atom is a heteroatom (not C and not H).
   *
   * @returns {Boolean} A boolean indicating whether this atom is a heteroatom.
   */
  isHeteroAtom() {
    return this.element !== 'C' && this.element !== 'H';
  }

  /**
   * Defines this atom as the anchor for a ring. When doing repositionings of the vertices and the vertex associated with this atom is moved, the center of this ring is moved as well.
   *
   * @param {Number} ringId A ring id.
   */
  addAnchoredRing(ringId) {
    if (!ArrayHelper.contains(this.anchoredRings, {
      value: ringId
    })) {
      this.anchoredRings.push(ringId);
    }
  }

  /**
   * Returns the number of ringbonds (breaks in rings to generate the MST of the smiles) within this atom is connected to.
   *
   * @returns {Number} The number of ringbonds this atom is connected to.
   */
  getRingbondCount() {
    return this.ringbonds.length;
  }

  /**
   * Backs up the current rings.
   */
  backupRings() {
    this.originalRings = Array(this.rings.length);
    for (let i = 0; i < this.rings.length; i++) {
      this.originalRings[i] = this.rings[i];
    }
  }

  /**
   * Restores the most recent backed up rings.
   */
  restoreRings() {
    this.rings = Array(this.originalRings.length);
    for (let i = 0; i < this.originalRings.length; i++) {
      this.rings[i] = this.originalRings[i];
    }
  }

  /**
   * Checks whether or not two atoms share a common ringbond id. A ringbond is a break in a ring created when generating the spanning tree of a structure.
   *
   * @param {Atom} atomA An atom.
   * @param {Atom} atomB An atom.
   * @returns {Boolean} A boolean indicating whether or not two atoms share a common ringbond.
   */
  haveCommonRingbond(atomA, atomB) {
    for (let i = 0; i < atomA.ringbonds.length; i++) {
      for (let j = 0; j < atomB.ringbonds.length; j++) {
        if (atomA.ringbonds[i].id == atomB.ringbonds[j].id) {
          return true;
        }
      }
    }
    return false;
  }

  /**
   * Check whether or not the neighbouring elements of this atom equal the supplied array.
   * 
   * @param {String[]} arr An array containing all the elements that are neighbouring this atom. E.g. ['C', 'O', 'O', 'N']
   * @returns {Boolean} A boolean indicating whether or not the neighbours match the supplied array of elements.
   */
  neighbouringElementsEqual(arr) {
    if (arr.length !== this.neighbouringElements.length) {
      return false;
    }
    arr.sort();
    this.neighbouringElements.sort();
    for (var i = 0; i < this.neighbouringElements.length; i++) {
      if (arr[i] !== this.neighbouringElements[i]) {
        return false;
      }
    }
    return true;
  }

  /**
   * Get the atomic number of this atom.
   * 
   * @returns {Number} The atomic number of this atom.
   */
  getAtomicNumber() {
    return Atom.atomicNumbers[this.element];
  }

  /**
   * Get the maximum number of bonds for this atom.
   * 
   * @returns {Number} The maximum number of bonds of this atom.
   */
  getMaxBonds() {
    return Atom.maxBonds[this.element];
  }

  /**
   * A map mapping element symbols to their maximum bonds.
   */
  static get maxBonds() {
    return {
      'H': 1,
      'C': 4,
      'N': 3,
      'O': 2,
      'P': 3,
      'S': 2,
      'B': 3,
      'F': 1,
      'I': 1,
      'Cl': 1,
      'Br': 1
    };
  }

  /**
   * A map mapping element symbols to the atomic number.
   */
  static get atomicNumbers() {
    return {
      'H': 1,
      'He': 2,
      'Li': 3,
      'Be': 4,
      'B': 5,
      'b': 5,
      'C': 6,
      'c': 6,
      'N': 7,
      'n': 7,
      'O': 8,
      'o': 8,
      'F': 9,
      'Ne': 10,
      'Na': 11,
      'Mg': 12,
      'Al': 13,
      'Si': 14,
      'P': 15,
      'p': 15,
      'S': 16,
      's': 16,
      'Cl': 17,
      'Ar': 18,
      'K': 19,
      'Ca': 20,
      'Sc': 21,
      'Ti': 22,
      'V': 23,
      'Cr': 24,
      'Mn': 25,
      'Fe': 26,
      'Co': 27,
      'Ni': 28,
      'Cu': 29,
      'Zn': 30,
      'Ga': 31,
      'Ge': 32,
      'As': 33,
      'Se': 34,
      'Br': 35,
      'Kr': 36,
      'Rb': 37,
      'Sr': 38,
      'Y': 39,
      'Zr': 40,
      'Nb': 41,
      'Mo': 42,
      'Tc': 43,
      'Ru': 44,
      'Rh': 45,
      'Pd': 46,
      'Ag': 47,
      'Cd': 48,
      'In': 49,
      'Sn': 50,
      'Sb': 51,
      'Te': 52,
      'I': 53,
      'Xe': 54,
      'Cs': 55,
      'Ba': 56,
      'La': 57,
      'Ce': 58,
      'Pr': 59,
      'Nd': 60,
      'Pm': 61,
      'Sm': 62,
      'Eu': 63,
      'Gd': 64,
      'Tb': 65,
      'Dy': 66,
      'Ho': 67,
      'Er': 68,
      'Tm': 69,
      'Yb': 70,
      'Lu': 71,
      'Hf': 72,
      'Ta': 73,
      'W': 74,
      'Re': 75,
      'Os': 76,
      'Ir': 77,
      'Pt': 78,
      'Au': 79,
      'Hg': 80,
      'Tl': 81,
      'Pb': 82,
      'Bi': 83,
      'Po': 84,
      'At': 85,
      'Rn': 86,
      'Fr': 87,
      'Ra': 88,
      'Ac': 89,
      'Th': 90,
      'Pa': 91,
      'U': 92,
      'Np': 93,
      'Pu': 94,
      'Am': 95,
      'Cm': 96,
      'Bk': 97,
      'Cf': 98,
      'Es': 99,
      'Fm': 100,
      'Md': 101,
      'No': 102,
      'Lr': 103,
      'Rf': 104,
      'Db': 105,
      'Sg': 106,
      'Bh': 107,
      'Hs': 108,
      'Mt': 109,
      'Ds': 110,
      'Rg': 111,
      'Cn': 112,
      'Uut': 113,
      'Uuq': 114,
      'Uup': 115,
      'Uuh': 116,
      'Uus': 117,
      'Uuo': 118
    };
  }

  /**
   * A map mapping element symbols to the atomic mass.
   */
  static get mass() {
    return {
      'H': 1,
      'He': 2,
      'Li': 3,
      'Be': 4,
      'B': 5,
      'b': 5,
      'C': 6,
      'c': 6,
      'N': 7,
      'n': 7,
      'O': 8,
      'o': 8,
      'F': 9,
      'Ne': 10,
      'Na': 11,
      'Mg': 12,
      'Al': 13,
      'Si': 14,
      'P': 15,
      'p': 15,
      'S': 16,
      's': 16,
      'Cl': 17,
      'Ar': 18,
      'K': 19,
      'Ca': 20,
      'Sc': 21,
      'Ti': 22,
      'V': 23,
      'Cr': 24,
      'Mn': 25,
      'Fe': 26,
      'Co': 27,
      'Ni': 28,
      'Cu': 29,
      'Zn': 30,
      'Ga': 31,
      'Ge': 32,
      'As': 33,
      'Se': 34,
      'Br': 35,
      'Kr': 36,
      'Rb': 37,
      'Sr': 38,
      'Y': 39,
      'Zr': 40,
      'Nb': 41,
      'Mo': 42,
      'Tc': 43,
      'Ru': 44,
      'Rh': 45,
      'Pd': 46,
      'Ag': 47,
      'Cd': 48,
      'In': 49,
      'Sn': 50,
      'Sb': 51,
      'Te': 52,
      'I': 53,
      'Xe': 54,
      'Cs': 55,
      'Ba': 56,
      'La': 57,
      'Ce': 58,
      'Pr': 59,
      'Nd': 60,
      'Pm': 61,
      'Sm': 62,
      'Eu': 63,
      'Gd': 64,
      'Tb': 65,
      'Dy': 66,
      'Ho': 67,
      'Er': 68,
      'Tm': 69,
      'Yb': 70,
      'Lu': 71,
      'Hf': 72,
      'Ta': 73,
      'W': 74,
      'Re': 75,
      'Os': 76,
      'Ir': 77,
      'Pt': 78,
      'Au': 79,
      'Hg': 80,
      'Tl': 81,
      'Pb': 82,
      'Bi': 83,
      'Po': 84,
      'At': 85,
      'Rn': 86,
      'Fr': 87,
      'Ra': 88,
      'Ac': 89,
      'Th': 90,
      'Pa': 91,
      'U': 92,
      'Np': 93,
      'Pu': 94,
      'Am': 95,
      'Cm': 96,
      'Bk': 97,
      'Cf': 98,
      'Es': 99,
      'Fm': 100,
      'Md': 101,
      'No': 102,
      'Lr': 103,
      'Rf': 104,
      'Db': 105,
      'Sg': 106,
      'Bh': 107,
      'Hs': 108,
      'Mt': 109,
      'Ds': 110,
      'Rg': 111,
      'Cn': 112,
      'Uut': 113,
      'Uuq': 114,
      'Uup': 115,
      'Uuh': 116,
      'Uus': 117,
      'Uuo': 118
    };
  }
}
module.exports = Atom;

/***/ }),

/***/ "./src/CanvasWrapper.js":
/*!******************************!*\
  !*** ./src/CanvasWrapper.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const MathHelper = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const Line = __webpack_require__(/*! ./Line */ "./src/Line.js");
const Vertex = __webpack_require__(/*! ./Vertex */ "./src/Vertex.js");
const Ring = __webpack_require__(/*! ./Ring */ "./src/Ring.js");
const {
  getChargeText
} = __webpack_require__(/*! ./UtilityFunctions */ "./src/UtilityFunctions.js");

/** 
 * A class wrapping a canvas element.
 * 
 * @property {HTMLElement} canvas The HTML element for the canvas associated with this CanvasWrapper instance.
 * @property {CanvasRenderingContext2D} ctx The CanvasRenderingContext2D of the canvas associated with this CanvasWrapper instance.
 * @property {Object} colors The colors object as defined in the SmilesDrawer options.
 * @property {Object} opts The SmilesDrawer options.
 * @property {Number} drawingWidth The width of the canvas.
 * @property {Number} drawingHeight The height of the canvas.
 * @property {Number} offsetX The horizontal offset required for centering the drawing.
 * @property {Number} offsetY The vertical offset required for centering the drawing.
 * @property {Number} fontLarge The large font size in pt.
 * @property {Number} fontSmall The small font size in pt.
 */
class CanvasWrapper {
  /**
   * The constructor for the class CanvasWrapper.
   *
   * @param {(String|HTMLElement)} target The canvas id or the canvas HTMLElement.
   * @param {ThemeManager} themeManager Theme manager for setting proper colors.
   * @param {Object} options The smiles drawer options object.
   */
  constructor(target, themeManager, options) {
    if (typeof target === 'string' || target instanceof String) {
      this.canvas = document.getElementById(target);
    } else {
      this.canvas = target;
    }
    this.ctx = this.canvas.getContext('2d');
    this.themeManager = themeManager;
    this.opts = options;
    this.drawingWidth = 0.0;
    this.drawingHeight = 0.0;
    this.offsetX = 0.0;
    this.offsetY = 0.0;
    this.fontLarge = this.opts.fontSizeLarge + 'pt Helvetica, Arial, sans-serif';
    this.fontSmall = this.opts.fontSizeSmall + 'pt Helvetica, Arial, sans-serif';
    this.updateSize(this.opts.width, this.opts.height);
    this.ctx.font = this.fontLarge;
    this.hydrogenWidth = this.ctx.measureText('H').width;
    this.halfHydrogenWidth = this.hydrogenWidth / 2.0;
    this.halfBondThickness = this.opts.bondThickness / 2.0;

    // TODO: Find out why clear was here.
    // this.clear();
  }

  /**
   * Update the width and height of the canvas
   * 
   * @param {Number} width 
   * @param {Number} height 
   */
  updateSize(width, height) {
    this.devicePixelRatio = window.devicePixelRatio || 1;
    this.backingStoreRatio = this.ctx.webkitBackingStorePixelRatio || this.ctx.mozBackingStorePixelRatio || this.ctx.msBackingStorePixelRatio || this.ctx.oBackingStorePixelRatio || this.ctx.backingStorePixelRatio || 1;
    this.ratio = this.devicePixelRatio / this.backingStoreRatio;
    if (this.ratio !== 1) {
      this.canvas.width = width * this.ratio;
      this.canvas.height = height * this.ratio;
      this.canvas.style.width = width + 'px';
      this.canvas.style.height = height + 'px';
      this.ctx.setTransform(this.ratio, 0, 0, this.ratio, 0, 0);
    } else {
      this.canvas.width = width * this.ratio;
      this.canvas.height = height * this.ratio;
    }
  }

  /**
   * Sets a provided theme.
   *
   * @param {Object} theme A theme from the smiles drawer options.
   */
  setTheme(theme) {
    this.colors = theme;
  }

  /**
   * Scale the canvas based on vertex positions.
   *
   * @param {Vertex[]} vertices An array of vertices containing the vertices associated with the current molecule.
   */
  scale(vertices) {
    // Figure out the final size of the image
    let maxX = -Number.MAX_VALUE;
    let maxY = -Number.MAX_VALUE;
    let minX = Number.MAX_VALUE;
    let minY = Number.MAX_VALUE;
    for (var i = 0; i < vertices.length; i++) {
      if (!vertices[i].value.isDrawn) {
        continue;
      }
      let p = vertices[i].position;
      if (maxX < p.x) maxX = p.x;
      if (maxY < p.y) maxY = p.y;
      if (minX > p.x) minX = p.x;
      if (minY > p.y) minY = p.y;
    }

    // Add padding
    var padding = this.opts.padding;
    maxX += padding;
    maxY += padding;
    minX -= padding;
    minY -= padding;
    this.drawingWidth = maxX - minX;
    this.drawingHeight = maxY - minY;
    var scaleX = this.canvas.offsetWidth / this.drawingWidth;
    var scaleY = this.canvas.offsetHeight / this.drawingHeight;
    var scale = scaleX < scaleY ? scaleX : scaleY;
    this.ctx.scale(scale, scale);
    this.offsetX = -minX;
    this.offsetY = -minY;

    // Center
    if (scaleX < scaleY) {
      this.offsetY += this.canvas.offsetHeight / (2.0 * scale) - this.drawingHeight / 2.0;
    } else {
      this.offsetX += this.canvas.offsetWidth / (2.0 * scale) - this.drawingWidth / 2.0;
    }
  }

  /**
   * Resets the transform of the canvas.
   */
  reset() {
    this.ctx.setTransform(1, 0, 0, 1, 0, 0);
  }

  /**
   * Returns the hex code of a color associated with a key from the current theme.
   *
   * @param {String} key The color key in the theme (e.g. C, N, BACKGROUND, ...).
   * @returns {String} A color hex value.
   */
  getColor(key) {
    key = key.toUpperCase();
    if (key in this.colors) {
      return this.colors[key];
    }
    return this.colors['C'];
  }

  /**
   * Draws a circle to a canvas context.
   * @param {Number} x The x coordinate of the circles center.
   * @param {Number} y The y coordinate of the circles center.
   * @param {Number} radius The radius of the circle
   * @param {String} color A hex encoded color.
   * @param {Boolean} [fill=true] Whether to fill or stroke the circle.
   * @param {Boolean} [debug=false] Draw in debug mode.
   * @param {String} [debugText=''] A debug message.
   */
  drawCircle(x, y, radius, color, fill = true, debug = false, debugText = '') {
    let ctx = this.ctx;
    let offsetX = this.offsetX;
    let offsetY = this.offsetY;
    ctx.save();
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(x + offsetX, y + offsetY, radius, 0, MathHelper.twoPI, true);
    ctx.closePath();
    if (debug) {
      if (fill) {
        ctx.fillStyle = '#f00';
        ctx.fill();
      } else {
        ctx.strokeStyle = '#f00';
        ctx.stroke();
      }
      this.drawDebugText(x, y, debugText);
    } else {
      if (fill) {
        ctx.fillStyle = color;
        ctx.fill();
      } else {
        ctx.strokeStyle = color;
        ctx.stroke();
      }
    }
    ctx.restore();
  }

  /**
   * Draw a line to a canvas.
   *
   * @param {Line} line A line.
   * @param {Boolean} [dashed=false] Whether or not the line is dashed.
   * @param {Number} [alpha=1.0] The alpha value of the color.
   */
  drawLine(line, dashed = false, alpha = 1.0) {
    let ctx = this.ctx;
    let offsetX = this.offsetX;
    let offsetY = this.offsetY;

    // Add a shadow behind the line
    let shortLine = line.clone().shorten(4.0);
    let l = shortLine.getLeftVector().clone();
    let r = shortLine.getRightVector().clone();
    l.x += offsetX;
    l.y += offsetY;
    r.x += offsetX;
    r.y += offsetY;

    // Draw the "shadow"
    if (!dashed) {
      ctx.save();
      ctx.globalCompositeOperation = 'destination-out';
      ctx.beginPath();
      ctx.moveTo(l.x, l.y);
      ctx.lineTo(r.x, r.y);
      ctx.lineCap = 'round';
      ctx.lineWidth = this.opts.bondThickness + 1.2;
      ctx.strokeStyle = this.themeManager.getColor('BACKGROUND');
      ctx.stroke();
      ctx.globalCompositeOperation = 'source-over';
      ctx.restore();
    }
    l = line.getLeftVector().clone();
    r = line.getRightVector().clone();
    l.x += offsetX;
    l.y += offsetY;
    r.x += offsetX;
    r.y += offsetY;
    ctx.save();
    ctx.beginPath();
    ctx.moveTo(l.x, l.y);
    ctx.lineTo(r.x, r.y);
    ctx.lineCap = 'round';
    ctx.lineWidth = this.opts.bondThickness;
    let gradient = this.ctx.createLinearGradient(l.x, l.y, r.x, r.y);
    gradient.addColorStop(0.4, this.themeManager.getColor(line.getLeftElement()) || this.themeManager.getColor('C'));
    gradient.addColorStop(0.6, this.themeManager.getColor(line.getRightElement()) || this.themeManager.getColor('C'));
    if (dashed) {
      ctx.setLineDash([1, 1.5]);
      ctx.lineWidth = this.opts.bondThickness / 1.5;
    }
    if (alpha < 1.0) {
      ctx.globalAlpha = alpha;
    }
    ctx.strokeStyle = gradient;
    ctx.stroke();
    ctx.restore();
  }

  /**
   * Draw a wedge on the canvas.
   *
   * @param {Line} line A line.
   * @param {Number} width The wedge width.
   */
  drawWedge(line, width = 1.0) {
    if (isNaN(line.from.x) || isNaN(line.from.y) || isNaN(line.to.x) || isNaN(line.to.y)) {
      return;
    }
    let ctx = this.ctx;
    let offsetX = this.offsetX;
    let offsetY = this.offsetY;

    // Add a shadow behind the line
    let shortLine = line.clone().shorten(5.0);
    let l = shortLine.getLeftVector().clone();
    let r = shortLine.getRightVector().clone();
    l.x += offsetX;
    l.y += offsetY;
    r.x += offsetX;
    r.y += offsetY;
    l = line.getLeftVector().clone();
    r = line.getRightVector().clone();
    l.x += offsetX;
    l.y += offsetY;
    r.x += offsetX;
    r.y += offsetY;
    ctx.save();
    let normals = Vector2.normals(l, r);
    normals[0].normalize();
    normals[1].normalize();
    let isRightChiralCenter = line.getRightChiral();
    let start = l;
    let end = r;
    if (isRightChiralCenter) {
      start = r;
      end = l;
    }
    let t = Vector2.add(start, Vector2.multiplyScalar(normals[0], this.halfBondThickness));
    let u = Vector2.add(end, Vector2.multiplyScalar(normals[0], 1.5 + this.halfBondThickness));
    let v = Vector2.add(end, Vector2.multiplyScalar(normals[1], 1.5 + this.halfBondThickness));
    let w = Vector2.add(start, Vector2.multiplyScalar(normals[1], this.halfBondThickness));
    ctx.beginPath();
    ctx.moveTo(t.x, t.y);
    ctx.lineTo(u.x, u.y);
    ctx.lineTo(v.x, v.y);
    ctx.lineTo(w.x, w.y);
    let gradient = this.ctx.createRadialGradient(r.x, r.y, this.opts.bondLength, r.x, r.y, 0);
    gradient.addColorStop(0.4, this.themeManager.getColor(line.getLeftElement()) || this.themeManager.getColor('C'));
    gradient.addColorStop(0.6, this.themeManager.getColor(line.getRightElement()) || this.themeManager.getColor('C'));
    ctx.fillStyle = gradient;
    ctx.fill();
    ctx.restore();
  }

  /**
   * Draw a dashed wedge on the canvas.
   *
   * @param {Line} line A line.
   */
  drawDashedWedge(line) {
    if (isNaN(line.from.x) || isNaN(line.from.y) || isNaN(line.to.x) || isNaN(line.to.y)) {
      return;
    }
    let ctx = this.ctx;
    let offsetX = this.offsetX;
    let offsetY = this.offsetY;
    let l = line.getLeftVector().clone();
    let r = line.getRightVector().clone();
    l.x += offsetX;
    l.y += offsetY;
    r.x += offsetX;
    r.y += offsetY;
    ctx.save();
    let normals = Vector2.normals(l, r);
    normals[0].normalize();
    normals[1].normalize();
    let isRightChiralCenter = line.getRightChiral();
    let start;
    let end;
    let sStart;
    let sEnd;
    let shortLine = line.clone();
    if (isRightChiralCenter) {
      start = r;
      end = l;
      shortLine.shortenRight(1.0);
      sStart = shortLine.getRightVector().clone();
      sEnd = shortLine.getLeftVector().clone();
    } else {
      start = l;
      end = r;
      shortLine.shortenLeft(1.0);
      sStart = shortLine.getLeftVector().clone();
      sEnd = shortLine.getRightVector().clone();
    }
    sStart.x += offsetX;
    sStart.y += offsetY;
    sEnd.x += offsetX;
    sEnd.y += offsetY;
    let dir = Vector2.subtract(end, start).normalize();
    ctx.strokeStyle = this.themeManager.getColor('C');
    ctx.lineCap = 'round';
    ctx.lineWidth = this.opts.bondThickness;
    ctx.beginPath();
    let length = line.getLength();
    let step = 1.25 / (length / (this.opts.bondThickness * 3.0));
    let changed = false;
    for (var t = 0.0; t < 1.0; t += step) {
      let to = Vector2.multiplyScalar(dir, t * length);
      let startDash = Vector2.add(start, to);
      let width = 1.5 * t;
      let dashOffset = Vector2.multiplyScalar(normals[0], width);
      if (!changed && t > 0.5) {
        ctx.stroke();
        ctx.beginPath();
        ctx.strokeStyle = this.themeManager.getColor(line.getRightElement()) || this.themeManager.getColor('C');
        changed = true;
      }
      startDash.subtract(dashOffset);
      ctx.moveTo(startDash.x, startDash.y);
      startDash.add(Vector2.multiplyScalar(dashOffset, 2.0));
      ctx.lineTo(startDash.x, startDash.y);
    }
    ctx.stroke();
    ctx.restore();
  }

  /**
   * Draws a debug text message at a given position
   *
   * @param {Number} x The x coordinate.
   * @param {Number} y The y coordinate.
   * @param {String} text The debug text.
   */
  drawDebugText(x, y, text) {
    let ctx = this.ctx;
    ctx.save();
    ctx.font = '5px Droid Sans, sans-serif';
    ctx.textAlign = 'start';
    ctx.textBaseline = 'top';
    ctx.fillStyle = '#ff0000';
    ctx.fillText(text, x + this.offsetX, y + this.offsetY);
    ctx.restore();
  }

  /**
   * Draw a ball to the canvas.
   *
   * @param {Number} x The x position of the text.
   * @param {Number} y The y position of the text.
   * @param {String} elementName The name of the element (single-letter).
   */
  drawBall(x, y, elementName) {
    let ctx = this.ctx;
    ctx.save();
    ctx.beginPath();
    ctx.arc(x + this.offsetX, y + this.offsetY, this.opts.bondLength / 4.5, 0, MathHelper.twoPI, false);
    ctx.fillStyle = this.themeManager.getColor(elementName);
    ctx.fill();
    ctx.restore();
  }

  /**
   * Draw a point to the canvas.
   *
   * @param {Number} x The x position of the point.
   * @param {Number} y The y position of the point.
   * @param {String} elementName The name of the element (single-letter).
   */
  drawPoint(x, y, elementName) {
    let ctx = this.ctx;
    let offsetX = this.offsetX;
    let offsetY = this.offsetY;
    ctx.save();
    ctx.globalCompositeOperation = 'destination-out';
    ctx.beginPath();
    ctx.arc(x + offsetX, y + offsetY, 1.5, 0, MathHelper.twoPI, true);
    ctx.closePath();
    ctx.fill();
    ctx.globalCompositeOperation = 'source-over';
    ctx.beginPath();
    ctx.arc(x + this.offsetX, y + this.offsetY, 0.75, 0, MathHelper.twoPI, false);
    ctx.fillStyle = this.themeManager.getColor(elementName);
    ctx.fill();
    ctx.restore();
  }

  /**
   * Draw a text to the canvas.
   *
   * @param {Number} x The x position of the text.
   * @param {Number} y The y position of the text.
   * @param {String} elementName The name of the element (single-letter).
   * @param {Number} hydrogens The number of hydrogen atoms.
   * @param {String} direction The direction of the text in relation to the associated vertex.
   * @param {Boolean} isTerminal A boolean indicating whether or not the vertex is terminal.
   * @param {Number} charge The charge of the atom.
   * @param {Number} isotope The isotope number.
   * @param {Number} vertexCount The number of vertices in the molecular graph.
   * @param {Object} attachedPseudoElement A map with containing information for pseudo elements or concatinated elements. The key is comprised of the element symbol and the hydrogen count.
   * @param {String} attachedPseudoElement.element The element symbol.
   * @param {Number} attachedPseudoElement.count The number of occurences that match the key.
   * @param {Number} attachedPseudoElement.hyrogenCount The number of hydrogens attached to each atom matching the key.
   */
  drawText(x, y, elementName, hydrogens, direction, isTerminal, charge, isotope, vertexCount, attachedPseudoElement = {}) {
    let ctx = this.ctx;
    let offsetX = this.offsetX;
    let offsetY = this.offsetY;
    ctx.save();
    ctx.textAlign = 'start';
    ctx.textBaseline = 'alphabetic';
    let pseudoElementHandled = false;

    // Charge
    let chargeText = '';
    let chargeWidth = 0;
    if (charge) {
      chargeText = getChargeText(charge);
      ctx.font = this.fontSmall;
      chargeWidth = ctx.measureText(chargeText).width;
    }
    let isotopeText = '0';
    let isotopeWidth = 0;
    if (isotope > 0) {
      isotopeText = isotope.toString();
      ctx.font = this.fontSmall;
      isotopeWidth = ctx.measureText(isotopeText).width;
    }

    // TODO: Better handle exceptions
    // Exception for nitro (draw nitro as NO2 instead of N+O-O)
    if (charge === 1 && elementName === 'N' && attachedPseudoElement.hasOwnProperty('0O') && attachedPseudoElement.hasOwnProperty('0O-1')) {
      attachedPseudoElement = {
        '0O': {
          element: 'O',
          count: 2,
          hydrogenCount: 0,
          previousElement: 'C',
          charge: ''
        }
      };
      charge = 0;
    }
    ctx.font = this.fontLarge;
    ctx.fillStyle = this.themeManager.getColor('BACKGROUND');
    let dim = ctx.measureText(elementName);
    dim.totalWidth = dim.width + chargeWidth;
    dim.height = parseInt(this.fontLarge, 10);
    let r = dim.width > this.opts.fontSizeLarge ? dim.width : this.opts.fontSizeLarge;
    r /= 1.5;
    ctx.globalCompositeOperation = 'destination-out';
    ctx.beginPath();
    ctx.arc(x + offsetX, y + offsetY, r, 0, MathHelper.twoPI, true);
    ctx.closePath();
    ctx.fill();
    ctx.globalCompositeOperation = 'source-over';
    let cursorPos = -dim.width / 2.0;
    let cursorPosLeft = -dim.width / 2.0;
    ctx.fillStyle = this.themeManager.getColor(elementName);
    ctx.fillText(elementName, x + offsetX + cursorPos, y + this.opts.halfFontSizeLarge + offsetY);
    cursorPos += dim.width;
    if (charge) {
      ctx.font = this.fontSmall;
      ctx.fillText(chargeText, x + offsetX + cursorPos, y - this.opts.fifthFontSizeSmall + offsetY);
      cursorPos += chargeWidth;
    }
    if (isotope > 0) {
      ctx.font = this.fontSmall;
      ctx.fillText(isotopeText, x + offsetX + cursorPosLeft - isotopeWidth, y - this.opts.fifthFontSizeSmall + offsetY);
      cursorPosLeft -= isotopeWidth;
    }
    ctx.font = this.fontLarge;
    let hydrogenWidth = 0;
    let hydrogenCountWidth = 0;
    if (hydrogens === 1) {
      let hx = x + offsetX;
      let hy = y + offsetY + this.opts.halfFontSizeLarge;
      hydrogenWidth = this.hydrogenWidth;
      cursorPosLeft -= hydrogenWidth;
      if (direction === 'left') {
        hx += cursorPosLeft;
      } else if (direction === 'right') {
        hx += cursorPos;
      } else if (direction === 'up' && isTerminal) {
        hx += cursorPos;
      } else if (direction === 'down' && isTerminal) {
        hx += cursorPos;
      } else if (direction === 'up' && !isTerminal) {
        hy -= this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
        hx -= this.halfHydrogenWidth;
      } else if (direction === 'down' && !isTerminal) {
        hy += this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
        hx -= this.halfHydrogenWidth;
      }
      ctx.fillText('H', hx, hy);
      cursorPos += hydrogenWidth;
    } else if (hydrogens > 1) {
      let hx = x + offsetX;
      let hy = y + offsetY + this.opts.halfFontSizeLarge;
      hydrogenWidth = this.hydrogenWidth;
      ctx.font = this.fontSmall;
      hydrogenCountWidth = ctx.measureText(hydrogens).width;
      cursorPosLeft -= hydrogenWidth + hydrogenCountWidth;
      if (direction === 'left') {
        hx += cursorPosLeft;
      } else if (direction === 'right') {
        hx += cursorPos;
      } else if (direction === 'up' && isTerminal) {
        hx += cursorPos;
      } else if (direction === 'down' && isTerminal) {
        hx += cursorPos;
      } else if (direction === 'up' && !isTerminal) {
        hy -= this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
        hx -= this.halfHydrogenWidth;
      } else if (direction === 'down' && !isTerminal) {
        hy += this.opts.fontSizeLarge + this.opts.quarterFontSizeLarge;
        hx -= this.halfHydrogenWidth;
      }
      ctx.font = this.fontLarge;
      ctx.fillText('H', hx, hy);
      ctx.font = this.fontSmall;
      ctx.fillText(hydrogens, hx + this.halfHydrogenWidth + hydrogenCountWidth, hy + this.opts.fifthFontSizeSmall);
      cursorPos += hydrogenWidth + this.halfHydrogenWidth + hydrogenCountWidth;
    }
    if (pseudoElementHandled) {
      ctx.restore();
      return;
    }
    for (let key in attachedPseudoElement) {
      if (!attachedPseudoElement.hasOwnProperty(key)) {
        continue;
      }
      let openParenthesisWidth = 0;
      let closeParenthesisWidth = 0;
      let element = attachedPseudoElement[key].element;
      let elementCount = attachedPseudoElement[key].count;
      let hydrogenCount = attachedPseudoElement[key].hydrogenCount;
      let elementCharge = attachedPseudoElement[key].charge;
      ctx.font = this.fontLarge;
      if (elementCount > 1 && hydrogenCount > 0) {
        openParenthesisWidth = ctx.measureText('(').width;
        closeParenthesisWidth = ctx.measureText(')').width;
      }
      let elementWidth = ctx.measureText(element).width;
      let elementCountWidth = 0;
      let elementChargeText = '';
      let elementChargeWidth = 0;
      hydrogenWidth = 0;
      if (hydrogenCount > 0) {
        hydrogenWidth = this.hydrogenWidth;
      }
      ctx.font = this.fontSmall;
      if (elementCount > 1) {
        elementCountWidth = ctx.measureText(elementCount).width;
      }
      if (elementCharge !== 0) {
        elementChargeText = getChargeText(elementCharge);
        elementChargeWidth = ctx.measureText(elementChargeText).width;
      }
      hydrogenCountWidth = 0;
      if (hydrogenCount > 1) {
        hydrogenCountWidth = ctx.measureText(hydrogenCount).width;
      }
      ctx.font = this.fontLarge;
      let hx = x + offsetX;
      let hy = y + offsetY + this.opts.halfFontSizeLarge;
      ctx.fillStyle = this.themeManager.getColor(element);
      if (elementCount > 0) {
        cursorPosLeft -= elementCountWidth;
      }
      if (elementCount > 1 && hydrogenCount > 0) {
        if (direction === 'left') {
          cursorPosLeft -= closeParenthesisWidth;
          ctx.fillText(')', hx + cursorPosLeft, hy);
        } else {
          ctx.fillText('(', hx + cursorPos, hy);
          cursorPos += openParenthesisWidth;
        }
      }
      if (direction === 'left') {
        cursorPosLeft -= elementWidth;
        ctx.fillText(element, hx + cursorPosLeft, hy);
      } else {
        ctx.fillText(element, hx + cursorPos, hy);
        cursorPos += elementWidth;
      }
      if (hydrogenCount > 0) {
        if (direction === 'left') {
          cursorPosLeft -= hydrogenWidth + hydrogenCountWidth;
          ctx.fillText('H', hx + cursorPosLeft, hy);
          if (hydrogenCount > 1) {
            ctx.font = this.fontSmall;
            ctx.fillText(hydrogenCount, hx + cursorPosLeft + hydrogenWidth, hy + this.opts.fifthFontSizeSmall);
          }
        } else {
          ctx.fillText('H', hx + cursorPos, hy);
          cursorPos += hydrogenWidth;
          if (hydrogenCount > 1) {
            ctx.font = this.fontSmall;
            ctx.fillText(hydrogenCount, hx + cursorPos, hy + this.opts.fifthFontSizeSmall);
            cursorPos += hydrogenCountWidth;
          }
        }
      }
      ctx.font = this.fontLarge;
      if (elementCount > 1 && hydrogenCount > 0) {
        if (direction === 'left') {
          cursorPosLeft -= openParenthesisWidth;
          ctx.fillText('(', hx + cursorPosLeft, hy);
        } else {
          ctx.fillText(')', hx + cursorPos, hy);
          cursorPos += closeParenthesisWidth;
        }
      }
      ctx.font = this.fontSmall;
      if (elementCount > 1) {
        if (direction === 'left') {
          ctx.fillText(elementCount, hx + cursorPosLeft + openParenthesisWidth + closeParenthesisWidth + hydrogenWidth + hydrogenCountWidth + elementWidth, hy + this.opts.fifthFontSizeSmall);
        } else {
          ctx.fillText(elementCount, hx + cursorPos, hy + this.opts.fifthFontSizeSmall);
          cursorPos += elementCountWidth;
        }
      }
      if (elementCharge !== 0) {
        if (direction === 'left') {
          ctx.fillText(elementChargeText, hx + cursorPosLeft + openParenthesisWidth + closeParenthesisWidth + hydrogenWidth + hydrogenCountWidth + elementWidth, y - this.opts.fifthFontSizeSmall + offsetY);
        } else {
          ctx.fillText(elementChargeText, hx + cursorPos, y - this.opts.fifthFontSizeSmall + offsetY);
          cursorPos += elementChargeWidth;
        }
      }
    }
    ctx.restore();
  }

  /**
   * Translate the integer indicating the charge to the appropriate text.
   * @param {Number} charge The integer indicating the charge.
   * @returns {String} A string representing a charge.
   */
  getChargeText(charge) {
    if (charge === 1) {
      return '+';
    } else if (charge === 2) {
      return '2+';
    } else if (charge === -1) {
      return '-';
    } else if (charge === -2) {
      return '2-';
    } else {
      return '';
    }
  }

  /**
   * Draws a dubug dot at a given coordinate and adds text.
   *
   * @param {Number} x The x coordinate.
   * @param {Number} y The y coordindate.
   * @param {String} [debugText=''] A string.
   * @param {String} [color='#f00'] A color in hex form.
   */
  drawDebugPoint(x, y, debugText = '', color = '#f00') {
    this.drawCircle(x, y, 2, color, true, true, debugText);
  }

  /**
   * Draws a ring inside a provided ring, indicating aromaticity.
   *
   * @param {Ring} ring A ring.
   */
  drawAromaticityRing(ring) {
    let ctx = this.ctx;
    let radius = MathHelper.apothemFromSideLength(this.opts.bondLength, ring.getSize());
    ctx.save();
    ctx.strokeStyle = this.themeManager.getColor('C');
    ctx.lineWidth = this.opts.bondThickness;
    ctx.beginPath();
    ctx.arc(ring.center.x + this.offsetX, ring.center.y + this.offsetY, radius - this.opts.bondSpacing, 0, Math.PI * 2, true);
    ctx.closePath();
    ctx.stroke();
    ctx.restore();
  }

  /**
   * Clear the canvas.
   *
   */
  clear() {
    this.ctx.clearRect(0, 0, this.canvas.offsetWidth, this.canvas.offsetHeight);
  }
}
module.exports = CanvasWrapper;

/***/ }),

/***/ "./src/Drawer.js":
/*!***********************!*\
  !*** ./src/Drawer.js ***!
  \***********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const SvgDrawer = __webpack_require__(/*! ./SvgDrawer */ "./src/SvgDrawer.js");

/** 
 * The main class of the application representing the smiles drawer 
 * 
 * @property {Graph} graph The graph associated with this SmilesDrawer.Drawer instance.
 * @property {Number} ringIdCounter An internal counter to keep track of ring ids.
 * @property {Number} ringConnectionIdCounter An internal counter to keep track of ring connection ids.
 * @property {CanvasWrapper} canvasWrapper The CanvasWrapper associated with this SmilesDrawer.Drawer instance.
 * @property {Number} totalOverlapScore The current internal total overlap score.
 * @property {Object} defaultOptions The default options.
 * @property {Object} opts The merged options.
 * @property {Object} theme The current theme.
 */
class Drawer {
  /**
   * The constructor for the class SmilesDrawer.
   *
   * @param {Object} options An object containing custom values for different options. It is merged with the default options.
   */
  constructor(options) {
    this.svgDrawer = new SvgDrawer(options);
  }

  /**
   * Draws the parsed smiles data to a canvas element.
   *
   * @param {Object} data The tree returned by the smiles parser.
   * @param {(String|HTMLCanvasElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
   * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
   * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
   */
  draw(data, target, themeName = 'light', infoOnly = false, highlight_atoms = []) {
    let canvas = null;
    if (typeof target === 'string' || target instanceof String) {
      canvas = document.getElementById(target);
    } else {
      canvas = target;
    }
    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
    svg.setAttributeNS(null, 'viewBox', '0 0 ' + this.svgDrawer.opts.width + ' ' + this.svgDrawer.opts.height);
    svg.setAttributeNS(null, 'width', this.svgDrawer.opts.width + '');
    svg.setAttributeNS(null, 'height', this.svgDrawer.opts.height + '');
    this.svgDrawer.draw(data, svg, themeName, infoOnly, highlight_atoms);
    this.svgDrawer.svgWrapper.toCanvas(canvas, this.svgDrawer.opts.width, this.svgDrawer.opts.height);
  }

  /**
   * Returns the total overlap score of the current molecule.
   *
   * @returns {Number} The overlap score.
   */
  getTotalOverlapScore() {
    return this.svgDrawer.getTotalOverlapScore();
  }

  /**
   * Returns the molecular formula of the loaded molecule as a string.
   * 
   * @returns {String} The molecular formula.
   */
  getMolecularFormula() {
    this.svgDrawer.getMolecularFormula();
  }
}
module.exports = Drawer;

/***/ }),

/***/ "./src/DrawerBase.js":
/*!***************************!*\
  !*** ./src/DrawerBase.js ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const MathHelper = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.js");
const ArrayHelper = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const Line = __webpack_require__(/*! ./Line */ "./src/Line.js");
const Vertex = __webpack_require__(/*! ./Vertex */ "./src/Vertex.js");
const Edge = __webpack_require__(/*! ./Edge */ "./src/Edge.js");
const Atom = __webpack_require__(/*! ./Atom */ "./src/Atom.js");
const Ring = __webpack_require__(/*! ./Ring */ "./src/Ring.js");
const RingConnection = __webpack_require__(/*! ./RingConnection */ "./src/RingConnection.js");
const CanvasWrapper = __webpack_require__(/*! ./CanvasWrapper */ "./src/CanvasWrapper.js");
const Graph = __webpack_require__(/*! ./Graph */ "./src/Graph.js");
const SSSR = __webpack_require__(/*! ./SSSR */ "./src/SSSR.js");
const ThemeManager = __webpack_require__(/*! ./ThemeManager */ "./src/ThemeManager.js");
const Options = __webpack_require__(/*! ./Options */ "./src/Options.js");

/** 
 * The main class of the application representing the smiles drawer 
 * 
 * @property {Graph} graph The graph associated with this SmilesDrawer.Drawer instance.
 * @property {Number} ringIdCounter An internal counter to keep track of ring ids.
 * @property {Number} ringConnectionIdCounter An internal counter to keep track of ring connection ids.
 * @property {CanvasWrapper} canvasWrapper The CanvasWrapper associated with this SmilesDrawer.Drawer instance.
 * @property {Number} totalOverlapScore The current internal total overlap score.
 * @property {Object} defaultOptions The default options.
 * @property {Object} opts The merged options.
 * @property {Object} theme The current theme.
 */
class DrawerBase {
  /**
   * The constructor for the class SmilesDrawer.
   *
   * @param {Object} options An object containing custom values for different options. It is merged with the default options.
   */
  constructor(options) {
    this.graph = null;
    this.doubleBondConfigCount = 0;
    this.doubleBondConfig = null;
    this.ringIdCounter = 0;
    this.ringConnectionIdCounter = 0;
    this.canvasWrapper = null;
    this.totalOverlapScore = 0;
    this.defaultOptions = {
      width: 500,
      height: 500,
      scale: 0.0,
      bondThickness: 1.0,
      bondLength: 30,
      shortBondLength: 0.8,
      bondSpacing: 0.17 * 30,
      atomVisualization: 'default',
      isomeric: true,
      debug: false,
      terminalCarbons: false,
      explicitHydrogens: true,
      overlapSensitivity: 0.42,
      overlapResolutionIterations: 1,
      compactDrawing: true,
      fontFamily: 'Arial, Helvetica, sans-serif',
      fontSizeLarge: 11,
      fontSizeSmall: 3,
      padding: 10.0,
      experimentalSSSR: false,
      kkThreshold: 0.1,
      kkInnerThreshold: 0.1,
      kkMaxIteration: 20000,
      kkMaxInnerIteration: 50,
      kkMaxEnergy: 1e9,
      weights: {
        colormap: null,
        additionalPadding: 20.0,
        sigma: 10,
        interval: 0.0,
        opacity: 1.0
      },
      themes: {
        dark: {
          C: '#fff',
          O: '#e74c3c',
          N: '#3498db',
          F: '#27ae60',
          CL: '#16a085',
          BR: '#d35400',
          I: '#8e44ad',
          P: '#d35400',
          S: '#f1c40f',
          B: '#e67e22',
          SI: '#e67e22',
          H: '#aaa',
          BACKGROUND: '#141414'
        },
        light: {
          C: '#222',
          O: '#e74c3c',
          N: '#3498db',
          F: '#27ae60',
          CL: '#16a085',
          BR: '#d35400',
          I: '#8e44ad',
          P: '#d35400',
          S: '#f1c40f',
          B: '#e67e22',
          SI: '#e67e22',
          H: '#666',
          BACKGROUND: '#fff'
        },
        oldschool: {
          C: '#000',
          O: '#000',
          N: '#000',
          F: '#000',
          CL: '#000',
          BR: '#000',
          I: '#000',
          P: '#000',
          S: '#000',
          B: '#000',
          SI: '#000',
          H: '#000',
          BACKGROUND: '#fff'
        },
        "solarized": {
          C: "#586e75",
          O: "#dc322f",
          N: "#268bd2",
          F: "#859900",
          CL: "#16a085",
          BR: "#cb4b16",
          I: "#6c71c4",
          P: "#d33682",
          S: "#b58900",
          B: "#2aa198",
          SI: "#2aa198",
          H: "#657b83",
          BACKGROUND: "#fff"
        },
        "solarized-dark": {
          C: "#93a1a1",
          O: "#dc322f",
          N: "#268bd2",
          F: "#859900",
          CL: "#16a085",
          BR: "#cb4b16",
          I: "#6c71c4",
          P: "#d33682",
          S: "#b58900",
          B: "#2aa198",
          SI: "#2aa198",
          H: "#839496",
          BACKGROUND: "#fff"
        },
        "matrix": {
          C: "#678c61",
          O: "#2fc079",
          N: "#4f7e7e",
          F: "#90d762",
          CL: "#82d967",
          BR: "#23755a",
          I: "#409931",
          P: "#c1ff8a",
          S: "#faff00",
          B: "#50b45a",
          SI: "#409931",
          H: "#426644",
          BACKGROUND: "#fff"
        },
        "github": {
          C: "#24292f",
          O: "#cf222e",
          N: "#0969da",
          F: "#2da44e",
          CL: "#6fdd8b",
          BR: "#bc4c00",
          I: "#8250df",
          P: "#bf3989",
          S: "#d4a72c",
          B: "#fb8f44",
          SI: "#bc4c00",
          H: "#57606a",
          BACKGROUND: "#fff"
        },
        "carbon": {
          C: "#161616",
          O: "#da1e28",
          N: "#0f62fe",
          F: "#198038",
          CL: "#007d79",
          BR: "#fa4d56",
          I: "#8a3ffc",
          P: "#ff832b",
          S: "#f1c21b",
          B: "#8a3800",
          SI: "#e67e22",
          H: "#525252",
          BACKGROUND: "#fff"
        },
        "cyberpunk": {
          C: "#ea00d9",
          O: "#ff3131",
          N: "#0abdc6",
          F: "#00ff9f",
          CL: "#00fe00",
          BR: "#fe9f20",
          I: "#ff00ff",
          P: "#fe7f00",
          S: "#fcee0c",
          B: "#ff00ff",
          SI: "#ffffff",
          H: "#913cb1",
          BACKGROUND: "#fff"
        },
        "gruvbox": {
          C: "#665c54",
          O: "#cc241d",
          N: "#458588",
          F: "#98971a",
          CL: "#79740e",
          BR: "#d65d0e",
          I: "#b16286",
          P: "#af3a03",
          S: "#d79921",
          B: "#689d6a",
          SI: "#427b58",
          H: "#7c6f64",
          BACKGROUND: "#fbf1c7"
        },
        "gruvbox-dark": {
          C: "#ebdbb2",
          O: "#cc241d",
          N: "#458588",
          F: "#98971a",
          CL: "#b8bb26",
          BR: "#d65d0e",
          I: "#b16286",
          P: "#fe8019",
          S: "#d79921",
          B: "#8ec07c",
          SI: "#83a598",
          H: "#bdae93",
          BACKGROUND: "#282828"
        },
        custom: {
          C: '#222',
          O: '#e74c3c',
          N: '#3498db',
          F: '#27ae60',
          CL: '#16a085',
          BR: '#d35400',
          I: '#8e44ad',
          P: '#d35400',
          S: '#f1c40f',
          B: '#e67e22',
          SI: '#e67e22',
          H: '#666',
          BACKGROUND: '#fff'
        }
      }
    };
    this.opts = Options.extend(true, this.defaultOptions, options);
    this.opts.halfBondSpacing = this.opts.bondSpacing / 2.0;
    this.opts.bondLengthSq = this.opts.bondLength * this.opts.bondLength;
    this.opts.halfFontSizeLarge = this.opts.fontSizeLarge / 2.0;
    this.opts.quarterFontSizeLarge = this.opts.fontSizeLarge / 4.0;
    this.opts.fifthFontSizeSmall = this.opts.fontSizeSmall / 5.0;

    // Set the default theme.
    this.theme = this.opts.themes.dark;
  }

  /**
   * Draws the parsed smiles data to a canvas element.
   *
   * @param {Object} data The tree returned by the smiles parser.
   * @param {(String|HTMLCanvasElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
   * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
   * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
   */
  draw(data, target, themeName = 'light', infoOnly = false) {
    this.initDraw(data, themeName, infoOnly);
    if (!this.infoOnly) {
      this.themeManager = new ThemeManager(this.opts.themes, themeName);
      this.canvasWrapper = new CanvasWrapper(target, this.themeManager, this.opts);
    }
    if (!infoOnly) {
      this.processGraph();

      // Set the canvas to the appropriate size
      this.canvasWrapper.scale(this.graph.vertices);

      // Do the actual drawing
      this.drawEdges(this.opts.debug);
      this.drawVertices(this.opts.debug);
      this.canvasWrapper.reset();
      if (this.opts.debug) {
        console.log(this.graph);
        console.log(this.rings);
        console.log(this.ringConnections);
      }
    }
  }

  /**
   * Returns the number of rings this edge is a part of.
   *
   * @param {Number} edgeId The id of an edge.
   * @returns {Number} The number of rings the provided edge is part of.
   */
  edgeRingCount(edgeId) {
    let edge = this.graph.edges[edgeId];
    let a = this.graph.vertices[edge.sourceId];
    let b = this.graph.vertices[edge.targetId];
    return Math.min(a.value.rings.length, b.value.rings.length);
  }

  /**
   * Returns an array containing the bridged rings associated with this  molecule.
   *
   * @returns {Ring[]} An array containing all bridged rings associated with this molecule.
   */
  getBridgedRings() {
    let bridgedRings = Array();
    for (var i = 0; i < this.rings.length; i++) {
      if (this.rings[i].isBridged) {
        bridgedRings.push(this.rings[i]);
      }
    }
    return bridgedRings;
  }

  /**
   * Returns an array containing all fused rings associated with this molecule.
   *
   * @returns {Ring[]} An array containing all fused rings associated with this molecule.
   */
  getFusedRings() {
    let fusedRings = Array();
    for (var i = 0; i < this.rings.length; i++) {
      if (this.rings[i].isFused) {
        fusedRings.push(this.rings[i]);
      }
    }
    return fusedRings;
  }

  /**
   * Returns an array containing all spiros associated with this molecule.
   *
   * @returns {Ring[]} An array containing all spiros associated with this molecule.
   */
  getSpiros() {
    let spiros = Array();
    for (var i = 0; i < this.rings.length; i++) {
      if (this.rings[i].isSpiro) {
        spiros.push(this.rings[i]);
      }
    }
    return spiros;
  }

  /**
   * Returns a string containing a semicolon and new-line separated list of ring properties: Id; Members Count; Neighbours Count; IsSpiro; IsFused; IsBridged; Ring Count (subrings of bridged rings)
   *
   * @returns {String} A string as described in the method description.
   */
  printRingInfo() {
    let result = '';
    for (var i = 0; i < this.rings.length; i++) {
      const ring = this.rings[i];
      result += ring.id + ';';
      result += ring.members.length + ';';
      result += ring.neighbours.length + ';';
      result += ring.isSpiro ? 'true;' : 'false;';
      result += ring.isFused ? 'true;' : 'false;';
      result += ring.isBridged ? 'true;' : 'false;';
      result += ring.rings.length + ';';
      result += '\n';
    }
    return result;
  }

  /**
   * Rotates the drawing to make the widest dimension horizontal.
   */
  rotateDrawing() {
    // Rotate the vertices to make the molecule align horizontally
    // Find the longest distance
    let a = 0;
    let b = 0;
    let maxDist = 0;
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let vertexA = this.graph.vertices[i];
      if (!vertexA.value.isDrawn) {
        continue;
      }
      for (var j = i + 1; j < this.graph.vertices.length; j++) {
        let vertexB = this.graph.vertices[j];
        if (!vertexB.value.isDrawn) {
          continue;
        }
        let dist = vertexA.position.distanceSq(vertexB.position);
        if (dist > maxDist) {
          maxDist = dist;
          a = i;
          b = j;
        }
      }
    }
    let angle = -Vector2.subtract(this.graph.vertices[a].position, this.graph.vertices[b].position).angle();
    if (!isNaN(angle)) {
      // Round to 30 degrees
      let remainder = angle % 0.523599;

      // Round either up or down in 30 degree steps
      if (remainder < 0.2617995) {
        angle = angle - remainder;
      } else {
        angle += 0.523599 - remainder;
      }

      // Finally, rotate everything
      for (var i = 0; i < this.graph.vertices.length; i++) {
        if (i === b) {
          continue;
        }
        this.graph.vertices[i].position.rotateAround(angle, this.graph.vertices[b].position);
      }
      for (var i = 0; i < this.rings.length; i++) {
        this.rings[i].center.rotateAround(angle, this.graph.vertices[b].position);
      }
    }
  }

  /**
   * Returns the total overlap score of the current molecule.
   *
   * @returns {Number} The overlap score.
   */
  getTotalOverlapScore() {
    return this.totalOverlapScore;
  }

  /**
   * Returns the ring count of the current molecule.
   *
   * @returns {Number} The ring count.
   */
  getRingCount() {
    return this.rings.length;
  }

  /**
   * Checks whether or not the current molecule  a bridged ring.
   *
   * @returns {Boolean} A boolean indicating whether or not the current molecule  a bridged ring.
   */
  hasBridgedRing() {
    return this.bridgedRing;
  }

  /**
   * Returns the number of heavy atoms (non-hydrogen) in the current molecule.
   *
   * @returns {Number} The heavy atom count.
   */
  getHeavyAtomCount() {
    let hac = 0;
    for (var i = 0; i < this.graph.vertices.length; i++) {
      if (this.graph.vertices[i].value.element !== 'H') {
        hac++;
      }
    }
    return hac;
  }

  /**
   * Returns the molecular formula of the loaded molecule as a string.
   * 
   * @returns {String} The molecular formula.
   */
  getMolecularFormula(data = null) {
    let molecularFormula = '';
    let counts = new Map();
    let graph = data === null ? this.graph : new Graph(data, this.opts.isomeric);

    // Initialize element count
    for (var i = 0; i < graph.vertices.length; i++) {
      let atom = graph.vertices[i].value;
      if (counts.has(atom.element)) {
        counts.set(atom.element, counts.get(atom.element) + 1);
      } else {
        counts.set(atom.element, 1);
      }

      // Hydrogens attached to a chiral center were added as vertices,
      // those in non chiral brackets are added here
      if (atom.bracket && !atom.bracket.chirality) {
        if (counts.has('H')) {
          counts.set('H', counts.get('H') + atom.bracket.hcount);
        } else {
          counts.set('H', atom.bracket.hcount);
        }
      }

      // Add the implicit hydrogens according to valency, exclude
      // bracket atoms as they were handled and always have the number
      // of hydrogens specified explicitly
      if (!atom.bracket) {
        let nHydrogens = Atom.maxBonds[atom.element] - atom.bondCount;
        if (atom.isPartOfAromaticRing) {
          nHydrogens--;
        }
        if (counts.has('H')) {
          counts.set('H', counts.get('H') + nHydrogens);
        } else {
          counts.set('H', nHydrogens);
        }
      }
    }
    if (counts.has('C')) {
      let count = counts.get('C');
      molecularFormula += 'C' + (count > 1 ? count : '');
      counts.delete('C');
    }
    if (counts.has('H')) {
      let count = counts.get('H');
      molecularFormula += 'H' + (count > 1 ? count : '');
      counts.delete('H');
    }
    let elements = Object.keys(Atom.atomicNumbers).sort();
    elements.map(e => {
      if (counts.has(e)) {
        let count = counts.get(e);
        molecularFormula += e + (count > 1 ? count : '');
      }
    });
    return molecularFormula;
  }

  /**
   * Returns the type of the ringbond (e.g. '=' for a double bond). The ringbond represents the break in a ring introduced when creating the MST. If the two vertices supplied as arguments are not part of a common ringbond, the method returns null.
   *
   * @param {Vertex} vertexA A vertex.
   * @param {Vertex} vertexB A vertex.
   * @returns {(String|null)} Returns the ringbond type or null, if the two supplied vertices are not connected by a ringbond.
   */
  getRingbondType(vertexA, vertexB) {
    // Checks whether the two vertices are the ones connecting the ring
    // and what the bond type should be.
    if (vertexA.value.getRingbondCount() < 1 || vertexB.value.getRingbondCount() < 1) {
      return null;
    }
    for (var i = 0; i < vertexA.value.ringbonds.length; i++) {
      for (var j = 0; j < vertexB.value.ringbonds.length; j++) {
        // if(i != j) continue;
        if (vertexA.value.ringbonds[i].id === vertexB.value.ringbonds[j].id) {
          // If the bonds are equal, it doesn't matter which bond is returned.
          // if they are not equal, return the one that is not the default ("-")
          if (vertexA.value.ringbonds[i].bondType === '-') {
            return vertexB.value.ringbonds[j].bond;
          } else {
            return vertexA.value.ringbonds[i].bond;
          }
        }
      }
    }
    return null;
  }
  initDraw(data, themeName, infoOnly, highlight_atoms) {
    this.data = data;
    this.infoOnly = infoOnly;
    this.ringIdCounter = 0;
    this.ringConnectionIdCounter = 0;
    this.graph = new Graph(data, this.opts.isomeric);
    this.rings = Array();
    this.ringConnections = Array();
    this.originalRings = Array();
    this.originalRingConnections = Array();
    this.bridgedRing = false;

    // Reset those, in case the previous drawn SMILES had a dangling \ or /
    this.doubleBondConfigCount = null;
    this.doubleBondConfig = null;
    this.highlight_atoms = highlight_atoms;
    this.initRings();
    this.initHydrogens();
  }
  processGraph() {
    this.position();

    // Restore the ring information (removes bridged rings and replaces them with the original, multiple, rings)
    this.restoreRingInformation();

    // Atoms bonded to the same ring atom
    this.resolvePrimaryOverlaps();
    let overlapScore = this.getOverlapScore();
    this.totalOverlapScore = this.getOverlapScore().total;
    for (var o = 0; o < this.opts.overlapResolutionIterations; o++) {
      for (var i = 0; i < this.graph.edges.length; i++) {
        let edge = this.graph.edges[i];
        if (this.isEdgeRotatable(edge)) {
          let subTreeDepthA = this.graph.getTreeDepth(edge.sourceId, edge.targetId);
          let subTreeDepthB = this.graph.getTreeDepth(edge.targetId, edge.sourceId);

          // Only rotate the shorter subtree
          let a = edge.targetId;
          let b = edge.sourceId;
          if (subTreeDepthA > subTreeDepthB) {
            a = edge.sourceId;
            b = edge.targetId;
          }
          let subTreeOverlap = this.getSubtreeOverlapScore(b, a, overlapScore.vertexScores);
          if (subTreeOverlap.value > this.opts.overlapSensitivity) {
            let vertexA = this.graph.vertices[a];
            let vertexB = this.graph.vertices[b];
            let neighboursB = vertexB.getNeighbours(a);
            if (neighboursB.length === 1) {
              let neighbour = this.graph.vertices[neighboursB[0]];
              let angle = neighbour.position.getRotateAwayFromAngle(vertexA.position, vertexB.position, MathHelper.toRad(120));
              this.rotateSubtree(neighbour.id, vertexB.id, angle, vertexB.position);
              // If the new overlap is bigger, undo change
              let newTotalOverlapScore = this.getOverlapScore().total;
              if (newTotalOverlapScore > this.totalOverlapScore) {
                this.rotateSubtree(neighbour.id, vertexB.id, -angle, vertexB.position);
              } else {
                this.totalOverlapScore = newTotalOverlapScore;
              }
            } else if (neighboursB.length === 2) {
              // Switch places / sides
              // If vertex a is in a ring, do nothing
              if (vertexB.value.rings.length !== 0 && vertexA.value.rings.length !== 0) {
                continue;
              }
              let neighbourA = this.graph.vertices[neighboursB[0]];
              let neighbourB = this.graph.vertices[neighboursB[1]];
              if (neighbourA.value.rings.length === 1 && neighbourB.value.rings.length === 1) {
                // Both neighbours in same ring. TODO: does this create problems with wedges? (up = down and vice versa?)
                if (neighbourA.value.rings[0] !== neighbourB.value.rings[0]) {
                  continue;
                }
                // TODO: Rotate circle
              } else if (neighbourA.value.rings.length !== 0 || neighbourB.value.rings.length !== 0) {
                continue;
              } else {
                let angleA = neighbourA.position.getRotateAwayFromAngle(vertexA.position, vertexB.position, MathHelper.toRad(120));
                let angleB = neighbourB.position.getRotateAwayFromAngle(vertexA.position, vertexB.position, MathHelper.toRad(120));
                this.rotateSubtree(neighbourA.id, vertexB.id, angleA, vertexB.position);
                this.rotateSubtree(neighbourB.id, vertexB.id, angleB, vertexB.position);
                let newTotalOverlapScore = this.getOverlapScore().total;
                if (newTotalOverlapScore > this.totalOverlapScore) {
                  this.rotateSubtree(neighbourA.id, vertexB.id, -angleA, vertexB.position);
                  this.rotateSubtree(neighbourB.id, vertexB.id, -angleB, vertexB.position);
                } else {
                  this.totalOverlapScore = newTotalOverlapScore;
                }
              }
            }
            overlapScore = this.getOverlapScore();
          }
        }
      }
    }
    this.resolveSecondaryOverlaps(overlapScore.scores);
    if (this.opts.isomeric) {
      this.annotateStereochemistry();
    }

    // Initialize pseudo elements or shortcuts
    if (this.opts.compactDrawing && this.opts.atomVisualization === 'default') {
      this.initPseudoElements();
    }
    this.rotateDrawing();
  }

  /**
   * Initializes rings and ringbonds for the current molecule.
   */
  initRings() {
    let openBonds = new Map();

    // Close the open ring bonds (spanning tree -> graph)
    for (var i = this.graph.vertices.length - 1; i >= 0; i--) {
      let vertex = this.graph.vertices[i];
      if (vertex.value.ringbonds.length === 0) {
        continue;
      }
      for (var j = 0; j < vertex.value.ringbonds.length; j++) {
        let ringbondId = vertex.value.ringbonds[j].id;
        let ringbondBond = vertex.value.ringbonds[j].bond;

        // If the other ringbond id has not been discovered,
        // add it to the open bonds map and continue.
        // if the other ringbond id has already been discovered,
        // create a bond between the two atoms.
        if (!openBonds.has(ringbondId)) {
          openBonds.set(ringbondId, [vertex.id, ringbondBond]);
        } else {
          let sourceVertexId = vertex.id;
          let targetVertexId = openBonds.get(ringbondId)[0];
          let targetRingbondBond = openBonds.get(ringbondId)[1];
          let edge = new Edge(sourceVertexId, targetVertexId, 1);
          edge.setBondType(targetRingbondBond || ringbondBond || '-');
          let edgeId = this.graph.addEdge(edge);
          let targetVertex = this.graph.vertices[targetVertexId];
          vertex.addRingbondChild(targetVertexId, j);
          vertex.value.addNeighbouringElement(targetVertex.value.element);
          targetVertex.addRingbondChild(sourceVertexId, j);
          targetVertex.value.addNeighbouringElement(vertex.value.element);
          vertex.edges.push(edgeId);
          targetVertex.edges.push(edgeId);
          openBonds.delete(ringbondId);
        }
      }
    }

    // Get the rings in the graph (the SSSR)
    let rings = SSSR.getRings(this.graph, this.opts.experimentalSSSR);
    if (rings === null) {
      return;
    }
    for (var i = 0; i < rings.length; i++) {
      let ringVertices = [...rings[i]];
      let ringId = this.addRing(new Ring(ringVertices));

      // Add the ring to the atoms
      for (var j = 0; j < ringVertices.length; j++) {
        this.graph.vertices[ringVertices[j]].value.rings.push(ringId);
      }
    }

    // Find connection between rings
    // Check for common vertices and create ring connections. This is a bit
    // ugly, but the ringcount is always fairly low (< 100)
    for (var i = 0; i < this.rings.length - 1; i++) {
      for (var j = i + 1; j < this.rings.length; j++) {
        let a = this.rings[i];
        let b = this.rings[j];
        let ringConnection = new RingConnection(a, b);

        // If there are no vertices in the ring connection, then there
        // is no ring connection
        if (ringConnection.vertices.size > 0) {
          this.addRingConnection(ringConnection);
        }
      }
    }

    // Add neighbours to the rings
    for (var i = 0; i < this.rings.length; i++) {
      let ring = this.rings[i];
      ring.neighbours = RingConnection.getNeighbours(this.ringConnections, ring.id);
    }

    // Anchor the ring to one of it's members, so that the ring center will always
    // be tied to a single vertex when doing repositionings
    for (var i = 0; i < this.rings.length; i++) {
      let ring = this.rings[i];
      this.graph.vertices[ring.members[0]].value.addAnchoredRing(ring.id);
    }

    // Backup the ring information to restore after placing the bridged ring.
    // This is needed in order to identify aromatic rings and stuff like this in
    // rings that are member of the superring.
    this.backupRingInformation();

    // Replace rings contained by a larger bridged ring with a bridged ring
    while (this.rings.length > 0) {
      let id = -1;
      for (var i = 0; i < this.rings.length; i++) {
        let ring = this.rings[i];
        if (this.isPartOfBridgedRing(ring.id) && !ring.isBridged) {
          id = ring.id;
        }
      }
      if (id === -1) {
        break;
      }
      let ring = this.getRing(id);
      let involvedRings = this.getBridgedRingRings(ring.id);
      this.bridgedRing = true;
      this.createBridgedRing(involvedRings, ring.members[0]);

      // Remove the rings
      for (var i = 0; i < involvedRings.length; i++) {
        this.removeRing(involvedRings[i]);
      }
    }
  }
  initHydrogens() {
    // Do not draw hydrogens except when they are connected to a stereocenter connected to two or more rings.
    if (!this.opts.explicitHydrogens) {
      for (var i = 0; i < this.graph.vertices.length; i++) {
        let vertex = this.graph.vertices[i];
        if (vertex.value.element !== 'H') {
          continue;
        }

        // Hydrogens should have only one neighbour, so just take the first
        // Also set hasHydrogen true on connected atom
        let neighbour = this.graph.vertices[vertex.neighbours[0]];
        neighbour.value.hasHydrogen = true;
        if (!neighbour.value.isStereoCenter || neighbour.value.rings.length < 2 && !neighbour.value.bridgedRing || neighbour.value.bridgedRing && neighbour.value.originalRings.length < 2) {
          vertex.value.isDrawn = false;
        }
      }
    }
  }

  /**
   * Returns all rings connected by bridged bonds starting from the ring with the supplied ring id.
   *
   * @param {Number} ringId A ring id.
   * @returns {Number[]} An array containing all ring ids of rings part of a bridged ring system.
   */
  getBridgedRingRings(ringId) {
    let involvedRings = Array();
    let that = this;
    let recurse = function (r) {
      let ring = that.getRing(r);
      involvedRings.push(r);
      for (var i = 0; i < ring.neighbours.length; i++) {
        let n = ring.neighbours[i];
        if (involvedRings.indexOf(n) === -1 && n !== r && RingConnection.isBridge(that.ringConnections, that.graph.vertices, r, n)) {
          recurse(n);
        }
      }
    };
    recurse(ringId);
    return ArrayHelper.unique(involvedRings);
  }

  /**
   * Checks whether or not a ring is part of a bridged ring.
   *
   * @param {Number} ringId A ring id.
   * @returns {Boolean} A boolean indicating whether or not the supplied ring (by id) is part of a bridged ring system.
   */
  isPartOfBridgedRing(ringId) {
    for (var i = 0; i < this.ringConnections.length; i++) {
      if (this.ringConnections[i].containsRing(ringId) && this.ringConnections[i].isBridge(this.graph.vertices)) {
        return true;
      }
    }
    return false;
  }

  /**
   * Creates a bridged ring.
   *
   * @param {Number[]} ringIds An array of ids of rings involved in the bridged ring.
   * @param {Number} sourceVertexId The vertex id to start the bridged ring discovery from.
   * @returns {Ring} The bridged ring.
   */
  createBridgedRing(ringIds, sourceVertexId) {
    let ringMembers = new Set();
    let vertices = new Set();
    let neighbours = new Set();
    for (var i = 0; i < ringIds.length; i++) {
      let ring = this.getRing(ringIds[i]);
      ring.isPartOfBridged = true;
      for (var j = 0; j < ring.members.length; j++) {
        vertices.add(ring.members[j]);
      }
      for (var j = 0; j < ring.neighbours.length; j++) {
        let id = ring.neighbours[j];
        if (ringIds.indexOf(id) === -1) {
          neighbours.add(ring.neighbours[j]);
        }
      }
    }

    // A vertex is part of the bridged ring if it only belongs to
    // one of the rings (or to another ring
    // which is not part of the bridged ring).
    let leftovers = new Set();
    for (let id of vertices) {
      let vertex = this.graph.vertices[id];
      let intersection = ArrayHelper.intersection(ringIds, vertex.value.rings);
      if (vertex.value.rings.length === 1 || intersection.length === 1) {
        ringMembers.add(vertex.id);
      } else {
        leftovers.add(vertex.id);
      }
    }

    // Vertices can also be part of multiple rings and lay on the bridged ring,
    // however, they have to have at least two neighbours that are not part of
    // two rings
    let tmp = Array();
    let insideRing = Array();
    for (let id of leftovers) {
      let vertex = this.graph.vertices[id];
      let onRing = false;
      for (let j = 0; j < vertex.edges.length; j++) {
        if (this.edgeRingCount(vertex.edges[j]) === 1) {
          onRing = true;
        }
      }
      if (onRing) {
        vertex.value.isBridgeNode = true;
        ringMembers.add(vertex.id);
      } else {
        vertex.value.isBridge = true;
        ringMembers.add(vertex.id);
      }
    }

    // Create the ring
    let ring = new Ring([...ringMembers]);
    this.addRing(ring);
    ring.isBridged = true;
    ring.neighbours = [...neighbours];
    for (var i = 0; i < ringIds.length; i++) {
      ring.rings.push(this.getRing(ringIds[i]).clone());
    }
    for (var i = 0; i < ring.members.length; i++) {
      this.graph.vertices[ring.members[i]].value.bridgedRing = ring.id;
    }

    // Atoms inside the ring are no longer part of a ring but are now
    // associated with the bridged ring
    for (var i = 0; i < insideRing.length; i++) {
      let vertex = this.graph.vertices[insideRing[i]];
      vertex.value.rings = Array();
    }

    // Remove former rings from members of the bridged ring and add the bridged ring
    for (let id of ringMembers) {
      let vertex = this.graph.vertices[id];
      vertex.value.rings = ArrayHelper.removeAll(vertex.value.rings, ringIds);
      vertex.value.rings.push(ring.id);
    }

    // Remove all the ring connections no longer used
    for (var i = 0; i < ringIds.length; i++) {
      for (var j = i + 1; j < ringIds.length; j++) {
        this.removeRingConnectionsBetween(ringIds[i], ringIds[j]);
      }
    }

    // Update the ring connections and add this ring to the neighbours neighbours
    for (let id of neighbours) {
      let connections = this.getRingConnections(id, ringIds);
      for (var j = 0; j < connections.length; j++) {
        this.getRingConnection(connections[j]).updateOther(ring.id, id);
      }
      this.getRing(id).neighbours.push(ring.id);
    }
    return ring;
  }

  /**
   * Checks whether or not two vertices are in the same ring.
   *
   * @param {Vertex} vertexA A vertex.
   * @param {Vertex} vertexB A vertex.
   * @returns {Boolean} A boolean indicating whether or not the two vertices are in the same ring.
   */
  areVerticesInSameRing(vertexA, vertexB) {
    // This is a little bit lighter (without the array and push) than
    // getCommonRings().length > 0
    for (var i = 0; i < vertexA.value.rings.length; i++) {
      for (var j = 0; j < vertexB.value.rings.length; j++) {
        if (vertexA.value.rings[i] === vertexB.value.rings[j]) {
          return true;
        }
      }
    }
    return false;
  }

  /**
   * Returns an array of ring ids shared by both vertices.
   *
   * @param {Vertex} vertexA A vertex.
   * @param {Vertex} vertexB A vertex.
   * @returns {Number[]} An array of ids of rings shared by the two vertices.
   */
  getCommonRings(vertexA, vertexB) {
    let commonRings = Array();
    for (var i = 0; i < vertexA.value.rings.length; i++) {
      for (var j = 0; j < vertexB.value.rings.length; j++) {
        if (vertexA.value.rings[i] == vertexB.value.rings[j]) {
          commonRings.push(vertexA.value.rings[i]);
        }
      }
    }
    return commonRings;
  }

  /**
   * Returns the aromatic or largest ring shared by the two vertices.
   *
   * @param {Vertex} vertexA A vertex.
   * @param {Vertex} vertexB A vertex.
   * @returns {(Ring|null)} If an aromatic common ring exists, that ring, else the largest (non-aromatic) ring, else null.
   */
  getLargestOrAromaticCommonRing(vertexA, vertexB) {
    let commonRings = this.getCommonRings(vertexA, vertexB);
    let maxSize = 0;
    let largestCommonRing = null;
    for (var i = 0; i < commonRings.length; i++) {
      let ring = this.getRing(commonRings[i]);
      let size = ring.getSize();
      if (ring.isBenzeneLike(this.graph.vertices)) {
        return ring;
      } else if (size > maxSize) {
        maxSize = size;
        largestCommonRing = ring;
      }
    }
    return largestCommonRing;
  }

  /**
   * Returns an array of vertices positioned at a specified location.
   *
   * @param {Vector2} position The position to search for vertices.
   * @param {Number} radius The radius within to search.
   * @param {Number} excludeVertexId A vertex id to be excluded from the search results.
   * @returns {Number[]} An array containing vertex ids in a given location.
   */
  getVerticesAt(position, radius, excludeVertexId) {
    let locals = Array();
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let vertex = this.graph.vertices[i];
      if (vertex.id === excludeVertexId || !vertex.positioned) {
        continue;
      }
      let distance = position.distanceSq(vertex.position);
      if (distance <= radius * radius) {
        locals.push(vertex.id);
      }
    }
    return locals;
  }

  /**
   * Returns the closest vertex (connected as well as unconnected).
   *
   * @param {Vertex} vertex The vertex of which to find the closest other vertex.
   * @returns {Vertex} The closest vertex.
   */
  getClosestVertex(vertex) {
    let minDist = 99999;
    let minVertex = null;
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let v = this.graph.vertices[i];
      if (v.id === vertex.id) {
        continue;
      }
      let distSq = vertex.position.distanceSq(v.position);
      if (distSq < minDist) {
        minDist = distSq;
        minVertex = v;
      }
    }
    return minVertex;
  }

  /**
   * Add a ring to this representation of a molecule.
   *
   * @param {Ring} ring A new ring.
   * @returns {Number} The ring id of the new ring.
   */
  addRing(ring) {
    ring.id = this.ringIdCounter++;
    this.rings.push(ring);
    return ring.id;
  }

  /**
   * Removes a ring from the array of rings associated with the current molecule.
   *
   * @param {Number} ringId A ring id.
   */
  removeRing(ringId) {
    this.rings = this.rings.filter(function (item) {
      return item.id !== ringId;
    });

    // Also remove ring connections involving this ring
    this.ringConnections = this.ringConnections.filter(function (item) {
      return item.firstRingId !== ringId && item.secondRingId !== ringId;
    });

    // Remove the ring as neighbour of other rings
    for (var i = 0; i < this.rings.length; i++) {
      let r = this.rings[i];
      r.neighbours = r.neighbours.filter(function (item) {
        return item !== ringId;
      });
    }
  }

  /**
   * Gets a ring object from the array of rings associated with the current molecule by its id. The ring id is not equal to the index, since rings can be added and removed when processing bridged rings.
   *
   * @param {Number} ringId A ring id.
   * @returns {Ring} A ring associated with the current molecule.
   */
  getRing(ringId) {
    for (var i = 0; i < this.rings.length; i++) {
      if (this.rings[i].id == ringId) {
        return this.rings[i];
      }
    }
  }

  /**
   * Add a ring connection to this representation of a molecule.
   *
   * @param {RingConnection} ringConnection A new ringConnection.
   * @returns {Number} The ring connection id of the new ring connection.
   */
  addRingConnection(ringConnection) {
    ringConnection.id = this.ringConnectionIdCounter++;
    this.ringConnections.push(ringConnection);
    return ringConnection.id;
  }

  /**
   * Removes a ring connection from the array of rings connections associated with the current molecule.
   *
   * @param {Number} ringConnectionId A ring connection id.
   */
  removeRingConnection(ringConnectionId) {
    this.ringConnections = this.ringConnections.filter(function (item) {
      return item.id !== ringConnectionId;
    });
  }

  /**
   * Removes all ring connections between two vertices.
   *
   * @param {Number} vertexIdA A vertex id.
   * @param {Number} vertexIdB A vertex id.
   */
  removeRingConnectionsBetween(vertexIdA, vertexIdB) {
    let toRemove = Array();
    for (var i = 0; i < this.ringConnections.length; i++) {
      let ringConnection = this.ringConnections[i];
      if (ringConnection.firstRingId === vertexIdA && ringConnection.secondRingId === vertexIdB || ringConnection.firstRingId === vertexIdB && ringConnection.secondRingId === vertexIdA) {
        toRemove.push(ringConnection.id);
      }
    }
    for (var i = 0; i < toRemove.length; i++) {
      this.removeRingConnection(toRemove[i]);
    }
  }

  /**
   * Get a ring connection with a given id.
   * 
   * @param {Number} id 
   * @returns {RingConnection} The ring connection with the specified id.
   */
  getRingConnection(id) {
    for (var i = 0; i < this.ringConnections.length; i++) {
      if (this.ringConnections[i].id == id) {
        return this.ringConnections[i];
      }
    }
  }

  /**
   * Get the ring connections between a ring and a set of rings.
   *
   * @param {Number} ringId A ring id.
   * @param {Number[]} ringIds An array of ring ids.
   * @returns {Number[]} An array of ring connection ids.
   */
  getRingConnections(ringId, ringIds) {
    let ringConnections = Array();
    for (var i = 0; i < this.ringConnections.length; i++) {
      let rc = this.ringConnections[i];
      for (var j = 0; j < ringIds.length; j++) {
        let id = ringIds[j];
        if (rc.firstRingId === ringId && rc.secondRingId === id || rc.firstRingId === id && rc.secondRingId === ringId) {
          ringConnections.push(rc.id);
        }
      }
    }
    return ringConnections;
  }

  /**
   * Returns the overlap score of the current molecule based on its positioned vertices. The higher the score, the more overlaps occur in the structure drawing.
   *
   * @returns {Object} Returns the total overlap score and the overlap score of each vertex sorted by score (higher to lower). Example: { total: 99, scores: [ { id: 0, score: 22 }, ... ]  }
   */
  getOverlapScore() {
    let total = 0.0;
    let overlapScores = new Float32Array(this.graph.vertices.length);
    for (var i = 0; i < this.graph.vertices.length; i++) {
      overlapScores[i] = 0;
    }
    for (var i = 0; i < this.graph.vertices.length; i++) {
      var j = this.graph.vertices.length;
      while (--j > i) {
        let a = this.graph.vertices[i];
        let b = this.graph.vertices[j];
        if (!a.value.isDrawn || !b.value.isDrawn) {
          continue;
        }
        let dist = Vector2.subtract(a.position, b.position).lengthSq();
        if (dist < this.opts.bondLengthSq) {
          let weighted = (this.opts.bondLength - Math.sqrt(dist)) / this.opts.bondLength;
          total += weighted;
          overlapScores[i] += weighted;
          overlapScores[j] += weighted;
        }
      }
    }
    let sortable = Array();
    for (var i = 0; i < this.graph.vertices.length; i++) {
      sortable.push({
        id: i,
        score: overlapScores[i]
      });
    }
    sortable.sort(function (a, b) {
      return b.score - a.score;
    });
    return {
      total: total,
      scores: sortable,
      vertexScores: overlapScores
    };
  }

  /**
   * When drawing a double bond, choose the side to place the double bond. E.g. a double bond should always been drawn inside a ring.
   *
   * @param {Vertex} vertexA A vertex.
   * @param {Vertex} vertexB A vertex.
   * @param {Vector2[]} sides An array containing the two normals of the line spanned by the two provided vertices.
   * @returns {Object} Returns an object containing the following information: {
          totalSideCount: Counts the sides of each vertex in the molecule, is an array [ a, b ],
          totalPosition: Same as position, but based on entire molecule,
          sideCount: Counts the sides of each neighbour, is an array [ a, b ],
          position: which side to position the second bond, is 0 or 1, represents the index in the normal array. This is based on only the neighbours
          anCount: the number of neighbours of vertexA,
          bnCount: the number of neighbours of vertexB
      }
   */
  chooseSide(vertexA, vertexB, sides) {
    // Check which side has more vertices
    // Get all the vertices connected to the both ends
    let an = vertexA.getNeighbours(vertexB.id);
    let bn = vertexB.getNeighbours(vertexA.id);
    let anCount = an.length;
    let bnCount = bn.length;

    // All vertices connected to the edge vertexA to vertexB
    let tn = ArrayHelper.merge(an, bn);

    // Only considering the connected vertices
    let sideCount = [0, 0];
    for (var i = 0; i < tn.length; i++) {
      let v = this.graph.vertices[tn[i]].position;
      if (v.sameSideAs(vertexA.position, vertexB.position, sides[0])) {
        sideCount[0]++;
      } else {
        sideCount[1]++;
      }
    }

    // Considering all vertices in the graph, this is to resolve ties
    // from the above side counts
    let totalSideCount = [0, 0];
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let v = this.graph.vertices[i].position;
      if (v.sameSideAs(vertexA.position, vertexB.position, sides[0])) {
        totalSideCount[0]++;
      } else {
        totalSideCount[1]++;
      }
    }
    return {
      totalSideCount: totalSideCount,
      totalPosition: totalSideCount[0] > totalSideCount[1] ? 0 : 1,
      sideCount: sideCount,
      position: sideCount[0] > sideCount[1] ? 0 : 1,
      anCount: anCount,
      bnCount: bnCount
    };
  }

  /**
   * Sets the center for a ring.
   *
   * @param {Ring} ring A ring.
   */
  setRingCenter(ring) {
    let ringSize = ring.getSize();
    let total = new Vector2(0, 0);
    for (var i = 0; i < ringSize; i++) {
      total.add(this.graph.vertices[ring.members[i]].position);
    }
    ring.center = total.divide(ringSize);
  }

  /**
   * Gets the center of a ring contained within a bridged ring and containing a given vertex.
   *
   * @param {Ring} ring A bridged ring.
   * @param {Vertex} vertex A vertex.
   * @returns {Vector2} The center of the subring that containing the vertex.
   */
  getSubringCenter(ring, vertex) {
    let rings = vertex.value.originalRings;
    let center = ring.center;
    let smallest = Number.MAX_VALUE;

    // Always get the smallest ring.
    for (var i = 0; i < rings.length; i++) {
      for (var j = 0; j < ring.rings.length; j++) {
        if (rings[i] === ring.rings[j].id) {
          if (ring.rings[j].getSize() < smallest) {
            center = ring.rings[j].center;
            smallest = ring.rings[j].getSize();
          }
        }
      }
    }
    return center;
  }

  /**
   * Draw the actual edges as bonds to the canvas.
   *
   * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
   */
  drawEdges(debug) {
    let that = this;
    let drawn = Array(this.graph.edges.length);
    drawn.fill(false);
    this.graph.traverseBF(0, function (vertex) {
      let edges = that.graph.getEdges(vertex.id);
      for (var i = 0; i < edges.length; i++) {
        let edgeId = edges[i];
        if (!drawn[edgeId]) {
          drawn[edgeId] = true;
          that.drawEdge(edgeId, debug);
        }
      }
    });

    // Draw ring for implicitly defined aromatic rings
    if (!this.bridgedRing) {
      for (var i = 0; i < this.rings.length; i++) {
        let ring = this.rings[i];
        if (this.isRingAromatic(ring)) {
          this.canvasWrapper.drawAromaticityRing(ring);
        }
      }
    }
  }

  /**
   * Draw the an edge as a bonds to the canvas.
   *
   * @param {Number} edgeId An edge id.
   * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
   */
  drawEdge(edgeId, debug) {
    let that = this;
    let edge = this.graph.edges[edgeId];
    let vertexA = this.graph.vertices[edge.sourceId];
    let vertexB = this.graph.vertices[edge.targetId];
    let elementA = vertexA.value.element;
    let elementB = vertexB.value.element;
    if ((!vertexA.value.isDrawn || !vertexB.value.isDrawn) && this.opts.atomVisualization === 'default') {
      return;
    }
    let a = vertexA.position;
    let b = vertexB.position;
    let normals = this.getEdgeNormals(edge);

    // Create a point on each side of the line
    let sides = ArrayHelper.clone(normals);
    sides[0].multiplyScalar(10).add(a);
    sides[1].multiplyScalar(10).add(a);
    if (edge.bondType === '=' || this.getRingbondType(vertexA, vertexB) === '=' || edge.isPartOfAromaticRing && this.bridgedRing) {
      // Always draw double bonds inside the ring
      let inRing = this.areVerticesInSameRing(vertexA, vertexB);
      let s = this.chooseSide(vertexA, vertexB, sides);
      if (inRing) {
        // Always draw double bonds inside a ring
        // if the bond is shared by two rings, it is drawn in the larger
        // problem: smaller ring is aromatic, bond is still drawn in larger -> fix this
        let lcr = this.getLargestOrAromaticCommonRing(vertexA, vertexB);
        let center = lcr.center;
        normals[0].multiplyScalar(that.opts.bondSpacing);
        normals[1].multiplyScalar(that.opts.bondSpacing);

        // Choose the normal that is on the same side as the center
        let line = null;
        if (center.sameSideAs(vertexA.position, vertexB.position, Vector2.add(a, normals[0]))) {
          line = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        } else {
          line = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        }
        line.shorten(this.opts.bondLength - this.opts.shortBondLength * this.opts.bondLength);

        // The shortened edge
        if (edge.isPartOfAromaticRing) {
          this.canvasWrapper.drawLine(line, true);
        } else {
          this.canvasWrapper.drawLine(line);
        }

        // The normal edge
        this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else if (edge.center || vertexA.isTerminal() && vertexB.isTerminal()) {
        normals[0].multiplyScalar(that.opts.halfBondSpacing);
        normals[1].multiplyScalar(that.opts.halfBondSpacing);
        let lineA = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        let lineB = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        this.canvasWrapper.drawLine(lineA);
        this.canvasWrapper.drawLine(lineB);
      } else if (s.anCount == 0 && s.bnCount > 1 || s.bnCount == 0 && s.anCount > 1) {
        // Both lines are the same length here
        // Add the spacing to the edges (which are of unit length)
        normals[0].multiplyScalar(that.opts.halfBondSpacing);
        normals[1].multiplyScalar(that.opts.halfBondSpacing);
        let lineA = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        let lineB = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        this.canvasWrapper.drawLine(lineA);
        this.canvasWrapper.drawLine(lineB);
      } else if (s.sideCount[0] > s.sideCount[1]) {
        normals[0].multiplyScalar(that.opts.bondSpacing);
        normals[1].multiplyScalar(that.opts.bondSpacing);
        let line = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        line.shorten(this.opts.bondLength - this.opts.shortBondLength * this.opts.bondLength);
        this.canvasWrapper.drawLine(line);
        this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else if (s.sideCount[0] < s.sideCount[1]) {
        normals[0].multiplyScalar(that.opts.bondSpacing);
        normals[1].multiplyScalar(that.opts.bondSpacing);
        let line = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        line.shorten(this.opts.bondLength - this.opts.shortBondLength * this.opts.bondLength);
        this.canvasWrapper.drawLine(line);
        this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else if (s.totalSideCount[0] > s.totalSideCount[1]) {
        normals[0].multiplyScalar(that.opts.bondSpacing);
        normals[1].multiplyScalar(that.opts.bondSpacing);
        let line = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        line.shorten(this.opts.bondLength - this.opts.shortBondLength * this.opts.bondLength);
        this.canvasWrapper.drawLine(line);
        this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else if (s.totalSideCount[0] <= s.totalSideCount[1]) {
        normals[0].multiplyScalar(that.opts.bondSpacing);
        normals[1].multiplyScalar(that.opts.bondSpacing);
        let line = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        line.shorten(this.opts.bondLength - this.opts.shortBondLength * this.opts.bondLength);
        this.canvasWrapper.drawLine(line);
        this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else {}
    } else if (edge.bondType === '#') {
      normals[0].multiplyScalar(that.opts.bondSpacing / 1.5);
      normals[1].multiplyScalar(that.opts.bondSpacing / 1.5);
      let lineA = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
      let lineB = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
      this.canvasWrapper.drawLine(lineA);
      this.canvasWrapper.drawLine(lineB);
      this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB));
    } else if (edge.bondType === '.') {
      // TODO: Something... maybe... version 2?
    } else {
      let isChiralCenterA = vertexA.value.isStereoCenter;
      let isChiralCenterB = vertexB.value.isStereoCenter;
      if (edge.wedge === 'up') {
        this.canvasWrapper.drawWedge(new Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
      } else if (edge.wedge === 'down') {
        this.canvasWrapper.drawDashedWedge(new Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
      } else {
        this.canvasWrapper.drawLine(new Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
      }
    }
    if (debug) {
      let midpoint = Vector2.midpoint(a, b);
      this.canvasWrapper.drawDebugText(midpoint.x, midpoint.y, 'e: ' + edgeId);
    }
  }

  /**
   * Draws the vertices representing atoms to the canvas.
   *
   * @param {Boolean} debug A boolean indicating whether or not to draw debug messages to the canvas.
   */
  drawVertices(debug) {
    var i = this.graph.vertices.length;
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let vertex = this.graph.vertices[i];
      let atom = vertex.value;
      let charge = 0;
      let isotope = 0;
      let bondCount = vertex.value.bondCount;
      let element = atom.element;
      let hydrogens = Atom.maxBonds[element] - bondCount;
      let dir = vertex.getTextDirection(this.graph.vertices);
      let isTerminal = this.opts.terminalCarbons || element !== 'C' || atom.hasAttachedPseudoElements ? vertex.isTerminal() : false;
      let isCarbon = atom.element === 'C';
      // This is a HACK to remove all hydrogens from nitrogens in aromatic rings, as this
      // should be the most common state. This has to be fixed by kekulization
      if (atom.element === 'N' && atom.isPartOfAromaticRing) {
        hydrogens = 0;
      }
      if (atom.bracket) {
        hydrogens = atom.bracket.hcount;
        charge = atom.bracket.charge;
        isotope = atom.bracket.isotope;
      }
      if (this.opts.atomVisualization === 'allballs') {
        this.canvasWrapper.drawBall(vertex.position.x, vertex.position.y, element);
      } else if (atom.isDrawn && (!isCarbon || atom.drawExplicit || isTerminal || atom.hasAttachedPseudoElements) || this.graph.vertices.length === 1) {
        if (this.opts.atomVisualization === 'default') {
          this.canvasWrapper.drawText(vertex.position.x, vertex.position.y, element, hydrogens, dir, isTerminal, charge, isotope, this.graph.vertices.length, atom.getAttachedPseudoElements());
        } else if (this.opts.atomVisualization === 'balls') {
          this.canvasWrapper.drawBall(vertex.position.x, vertex.position.y, element);
        }
      } else if (vertex.getNeighbourCount() === 2 && vertex.forcePositioned == true) {
        // If there is a carbon which bonds are in a straight line, draw a dot
        let a = this.graph.vertices[vertex.neighbours[0]].position;
        let b = this.graph.vertices[vertex.neighbours[1]].position;
        let angle = Vector2.threePointangle(vertex.position, a, b);
        if (Math.abs(Math.PI - angle) < 0.1) {
          this.canvasWrapper.drawPoint(vertex.position.x, vertex.position.y, element);
        }
      }
      if (debug) {
        let value = 'v: ' + vertex.id + ' ' + ArrayHelper.print(atom.ringbonds);
        this.canvasWrapper.drawDebugText(vertex.position.x, vertex.position.y, value);
      } else {
        // this.canvasWrapper.drawDebugText(vertex.position.x, vertex.position.y, vertex.value.chirality);
      }
    }

    // Draw the ring centers for debug purposes
    if (this.opts.debug) {
      for (var i = 0; i < this.rings.length; i++) {
        let center = this.rings[i].center;
        this.canvasWrapper.drawDebugPoint(center.x, center.y, 'r: ' + this.rings[i].id);
      }
    }
  }

  /**
   * Position the vertices according to their bonds and properties.
   */
  position() {
    let startVertex = null;

    // Always start drawing at a bridged ring if there is one
    // If not, start with a ring
    // else, start with 0
    for (var i = 0; i < this.graph.vertices.length; i++) {
      if (this.graph.vertices[i].value.bridgedRing !== null) {
        startVertex = this.graph.vertices[i];
        break;
      }
    }
    for (var i = 0; i < this.rings.length; i++) {
      if (this.rings[i].isBridged) {
        startVertex = this.graph.vertices[this.rings[i].members[0]];
      }
    }
    if (this.rings.length > 0 && startVertex === null) {
      startVertex = this.graph.vertices[this.rings[0].members[0]];
    }
    if (startVertex === null) {
      startVertex = this.graph.vertices[0];
    }
    this.createNextBond(startVertex, null, 0.0);
  }

  /**
   * Stores the current information associated with rings.
   */
  backupRingInformation() {
    this.originalRings = Array();
    this.originalRingConnections = Array();
    for (var i = 0; i < this.rings.length; i++) {
      this.originalRings.push(this.rings[i]);
    }
    for (var i = 0; i < this.ringConnections.length; i++) {
      this.originalRingConnections.push(this.ringConnections[i]);
    }
    for (var i = 0; i < this.graph.vertices.length; i++) {
      this.graph.vertices[i].value.backupRings();
    }
  }

  /**
   * Restores the most recently backed up information associated with rings.
   */
  restoreRingInformation() {
    // Get the subring centers from the bridged rings
    let bridgedRings = this.getBridgedRings();
    this.rings = Array();
    this.ringConnections = Array();
    for (var i = 0; i < bridgedRings.length; i++) {
      let bridgedRing = bridgedRings[i];
      for (var j = 0; j < bridgedRing.rings.length; j++) {
        let ring = bridgedRing.rings[j];
        this.originalRings[ring.id].center = ring.center;
      }
    }
    for (var i = 0; i < this.originalRings.length; i++) {
      this.rings.push(this.originalRings[i]);
    }
    for (var i = 0; i < this.originalRingConnections.length; i++) {
      this.ringConnections.push(this.originalRingConnections[i]);
    }
    for (var i = 0; i < this.graph.vertices.length; i++) {
      this.graph.vertices[i].value.restoreRings();
    }
  }

  // TODO: This needs some cleaning up

  /**
   * Creates a new ring, that is, positiones all the vertices inside a ring.
   *
   * @param {Ring} ring The ring to position.
   * @param {(Vector2|null)} [center=null] The center of the ring to be created.
   * @param {(Vertex|null)} [startVertex=null] The first vertex to be positioned inside the ring.
   * @param {(Vertex|null)} [previousVertex=null] The last vertex that was positioned.
   * @param {Boolean} [previousVertex=false] A boolean indicating whether or not this ring was force positioned already - this is needed after force layouting a ring, in order to draw rings connected to it.
   */
  createRing(ring, center = null, startVertex = null, previousVertex = null) {
    if (ring.positioned) {
      return;
    }
    center = center ? center : new Vector2(0, 0);
    let orderedNeighbours = ring.getOrderedNeighbours(this.ringConnections);
    let startingAngle = startVertex ? Vector2.subtract(startVertex.position, center).angle() : 0;
    let radius = MathHelper.polyCircumradius(this.opts.bondLength, ring.getSize());
    let angle = MathHelper.centralAngle(ring.getSize());
    ring.centralAngle = angle;
    let a = startingAngle;
    let that = this;
    let startVertexId = startVertex ? startVertex.id : null;
    if (ring.members.indexOf(startVertexId) === -1) {
      if (startVertex) {
        startVertex.positioned = false;
      }
      startVertexId = ring.members[0];
    }

    // If the ring is bridged, then draw the vertices inside the ring
    // using a force based approach
    if (ring.isBridged) {
      this.graph.kkLayout(ring.members.slice(), center, startVertex.id, ring, this.opts.bondLength, this.opts.kkThreshold, this.opts.kkInnerThreshold, this.opts.kkMaxIteration, this.opts.kkMaxInnerIteration, this.opts.kkMaxEnergy);
      ring.positioned = true;

      // Update the center of the bridged ring
      this.setRingCenter(ring);
      center = ring.center;

      // Setting the centers for the subrings
      for (var i = 0; i < ring.rings.length; i++) {
        this.setRingCenter(ring.rings[i]);
      }
    } else {
      ring.eachMember(this.graph.vertices, function (v) {
        let vertex = that.graph.vertices[v];
        if (!vertex.positioned) {
          vertex.setPosition(center.x + Math.cos(a) * radius, center.y + Math.sin(a) * radius);
        }
        a += angle;
        if (!ring.isBridged || ring.rings.length < 3) {
          vertex.angle = a;
          vertex.positioned = true;
        }
      }, startVertexId, previousVertex ? previousVertex.id : null);
    }
    ring.positioned = true;
    ring.center = center;

    // Draw neighbours in decreasing order of connectivity
    for (var i = 0; i < orderedNeighbours.length; i++) {
      let neighbour = this.getRing(orderedNeighbours[i].neighbour);
      if (neighbour.positioned) {
        continue;
      }
      let vertices = RingConnection.getVertices(this.ringConnections, ring.id, neighbour.id);
      if (vertices.length === 2) {
        // This ring is a fused ring
        ring.isFused = true;
        neighbour.isFused = true;
        let vertexA = this.graph.vertices[vertices[0]];
        let vertexB = this.graph.vertices[vertices[1]];

        // Get middle between vertex A and B
        let midpoint = Vector2.midpoint(vertexA.position, vertexB.position);

        // Get the normals to the line between A and B
        let normals = Vector2.normals(vertexA.position, vertexB.position);

        // Normalize the normals
        normals[0].normalize();
        normals[1].normalize();

        // Set length from middle of side to center (the apothem)
        let r = MathHelper.polyCircumradius(this.opts.bondLength, neighbour.getSize());
        let apothem = MathHelper.apothem(r, neighbour.getSize());
        normals[0].multiplyScalar(apothem).add(midpoint);
        normals[1].multiplyScalar(apothem).add(midpoint);

        // Pick the normal which results in a larger distance to the previous center
        // Also check whether it's inside another ring
        let nextCenter = normals[0];
        if (Vector2.subtract(center, normals[1]).lengthSq() > Vector2.subtract(center, normals[0]).lengthSq()) {
          nextCenter = normals[1];
        }

        // Get the vertex (A or B) which is in clock-wise direction of the other
        let posA = Vector2.subtract(vertexA.position, nextCenter);
        let posB = Vector2.subtract(vertexB.position, nextCenter);
        if (posA.clockwise(posB) === -1) {
          if (!neighbour.positioned) {
            this.createRing(neighbour, nextCenter, vertexA, vertexB);
          }
        } else {
          if (!neighbour.positioned) {
            this.createRing(neighbour, nextCenter, vertexB, vertexA);
          }
        }
      } else if (vertices.length === 1) {
        // This ring is a spiro
        ring.isSpiro = true;
        neighbour.isSpiro = true;
        let vertexA = this.graph.vertices[vertices[0]];

        // Get the vector pointing from the shared vertex to the new centpositioner
        let nextCenter = Vector2.subtract(center, vertexA.position);
        nextCenter.invert();
        nextCenter.normalize();

        // Get the distance from the vertex to the center
        let r = MathHelper.polyCircumradius(this.opts.bondLength, neighbour.getSize());
        nextCenter.multiplyScalar(r);
        nextCenter.add(vertexA.position);
        if (!neighbour.positioned) {
          this.createRing(neighbour, nextCenter, vertexA);
        }
      }
    }

    // Next, draw atoms that are not part of a ring that are directly attached to this ring
    for (var i = 0; i < ring.members.length; i++) {
      let ringMember = this.graph.vertices[ring.members[i]];
      let ringMemberNeighbours = ringMember.neighbours;

      // If there are multiple, the ovlerap will be resolved in the appropriate step
      for (var j = 0; j < ringMemberNeighbours.length; j++) {
        let v = this.graph.vertices[ringMemberNeighbours[j]];
        if (v.positioned) {
          continue;
        }
        v.value.isConnectedToRing = true;
        this.createNextBond(v, ringMember, 0.0);
      }
    }
  }

  /**
   * Rotate an entire subtree by an angle around a center.
   *
   * @param {Number} vertexId A vertex id (the root of the sub-tree).
   * @param {Number} parentVertexId A vertex id in the previous direction of the subtree that is to rotate.
   * @param {Number} angle An angle in randians.
   * @param {Vector2} center The rotational center.
   */
  rotateSubtree(vertexId, parentVertexId, angle, center) {
    let that = this;
    this.graph.traverseTree(vertexId, parentVertexId, function (vertex) {
      vertex.position.rotateAround(angle, center);
      for (var i = 0; i < vertex.value.anchoredRings.length; i++) {
        let ring = that.rings[vertex.value.anchoredRings[i]];
        if (ring) {
          ring.center.rotateAround(angle, center);
        }
      }
    });
  }

  /**
   * Gets the overlap score of a subtree.
   *
   * @param {Number} vertexId A vertex id (the root of the sub-tree).
   * @param {Number} parentVertexId A vertex id in the previous direction of the subtree.
   * @param {Number[]} vertexOverlapScores An array containing the vertex overlap scores indexed by vertex id.
   * @returns {Object} An object containing the total overlap score and the center of mass of the subtree weighted by overlap score { value: 0.2, center: new Vector2() }.
   */
  getSubtreeOverlapScore(vertexId, parentVertexId, vertexOverlapScores) {
    let that = this;
    let score = 0;
    let center = new Vector2(0, 0);
    let count = 0;
    this.graph.traverseTree(vertexId, parentVertexId, function (vertex) {
      if (!vertex.value.isDrawn) {
        return;
      }
      let s = vertexOverlapScores[vertex.id];
      if (s > that.opts.overlapSensitivity) {
        score += s;
        count++;
      }
      let position = that.graph.vertices[vertex.id].position.clone();
      position.multiplyScalar(s);
      center.add(position);
    });
    center.divide(score);
    return {
      value: score / count,
      center: center
    };
  }

  /**
   * Returns the current (positioned vertices so far) center of mass.
   * 
   * @returns {Vector2} The current center of mass.
   */
  getCurrentCenterOfMass() {
    let total = new Vector2(0, 0);
    let count = 0;
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let vertex = this.graph.vertices[i];
      if (vertex.positioned) {
        total.add(vertex.position);
        count++;
      }
    }
    return total.divide(count);
  }

  /**
   * Returns the current (positioned vertices so far) center of mass in the neighbourhood of a given position.
   *
   * @param {Vector2} vec The point at which to look for neighbours.
   * @param {Number} [r=currentBondLength*2.0] The radius of vertices to include.
   * @returns {Vector2} The current center of mass.
   */
  getCurrentCenterOfMassInNeigbourhood(vec, r = this.opts.bondLength * 2.0) {
    let total = new Vector2(0, 0);
    let count = 0;
    let rSq = r * r;
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let vertex = this.graph.vertices[i];
      if (vertex.positioned && vec.distanceSq(vertex.position) < rSq) {
        total.add(vertex.position);
        count++;
      }
    }
    return total.divide(count);
  }

  /**
   * Resolve primary (exact) overlaps, such as two vertices that are connected to the same ring vertex.
   */
  resolvePrimaryOverlaps() {
    let overlaps = Array();
    let done = Array(this.graph.vertices.length);

    // Looking for overlaps created by two bonds coming out of a ring atom, which both point straight
    // away from the ring and are thus perfectly overlapping.
    for (var i = 0; i < this.rings.length; i++) {
      let ring = this.rings[i];
      for (var j = 0; j < ring.members.length; j++) {
        let vertex = this.graph.vertices[ring.members[j]];
        if (done[vertex.id]) {
          continue;
        }
        done[vertex.id] = true;
        let nonRingNeighbours = this.getNonRingNeighbours(vertex.id);
        if (nonRingNeighbours.length > 1) {
          // Look for rings where there are atoms with two bonds outside the ring (overlaps)
          let rings = Array();
          for (var k = 0; k < vertex.value.rings.length; k++) {
            rings.push(vertex.value.rings[k]);
          }
          overlaps.push({
            common: vertex,
            rings: rings,
            vertices: nonRingNeighbours
          });
        } else if (nonRingNeighbours.length === 1 && vertex.value.rings.length === 2) {
          // Look for bonds coming out of joined rings to adjust the angle, an example is: C1=CC(=CC=C1)[C@]12SCCN1CC1=CC=CC=C21
          // where the angle has to be adjusted to account for fused ring
          let rings = Array();
          for (var k = 0; k < vertex.value.rings.length; k++) {
            rings.push(vertex.value.rings[k]);
          }
          overlaps.push({
            common: vertex,
            rings: rings,
            vertices: nonRingNeighbours
          });
        }
      }
    }
    for (var i = 0; i < overlaps.length; i++) {
      let overlap = overlaps[i];
      if (overlap.vertices.length === 2) {
        let a = overlap.vertices[0];
        let b = overlap.vertices[1];
        if (!a.value.isDrawn || !b.value.isDrawn) {
          continue;
        }
        let angle = (2 * Math.PI - this.getRing(overlap.rings[0]).getAngle()) / 6.0;
        this.rotateSubtree(a.id, overlap.common.id, angle, overlap.common.position);
        this.rotateSubtree(b.id, overlap.common.id, -angle, overlap.common.position);

        // Decide which way to rotate the vertices depending on the effect it has on the overlap score
        let overlapScore = this.getOverlapScore();
        let subTreeOverlapA = this.getSubtreeOverlapScore(a.id, overlap.common.id, overlapScore.vertexScores);
        let subTreeOverlapB = this.getSubtreeOverlapScore(b.id, overlap.common.id, overlapScore.vertexScores);
        let total = subTreeOverlapA.value + subTreeOverlapB.value;
        this.rotateSubtree(a.id, overlap.common.id, -2.0 * angle, overlap.common.position);
        this.rotateSubtree(b.id, overlap.common.id, 2.0 * angle, overlap.common.position);
        overlapScore = this.getOverlapScore();
        subTreeOverlapA = this.getSubtreeOverlapScore(a.id, overlap.common.id, overlapScore.vertexScores);
        subTreeOverlapB = this.getSubtreeOverlapScore(b.id, overlap.common.id, overlapScore.vertexScores);
        if (subTreeOverlapA.value + subTreeOverlapB.value > total) {
          this.rotateSubtree(a.id, overlap.common.id, 2.0 * angle, overlap.common.position);
          this.rotateSubtree(b.id, overlap.common.id, -2.0 * angle, overlap.common.position);
        }
      } else if (overlap.vertices.length === 1) {
        if (overlap.rings.length === 2) {
          // TODO: Implement for more overlap resolution
          // console.log(overlap);
        }
      }
    }
  }

  /**
   * Resolve secondary overlaps. Those overlaps are due to the structure turning back on itself.
   *
   * @param {Object[]} scores An array of objects sorted descending by score.
   * @param {Number} scores[].id A vertex id.
   * @param {Number} scores[].score The overlap score associated with the vertex id.
   */
  resolveSecondaryOverlaps(scores) {
    for (var i = 0; i < scores.length; i++) {
      if (scores[i].score > this.opts.overlapSensitivity) {
        let vertex = this.graph.vertices[scores[i].id];
        if (vertex.isTerminal()) {
          let closest = this.getClosestVertex(vertex);
          if (closest) {
            // If one of the vertices is the first one, the previous vertex is not the central vertex but the dummy
            // so take the next rather than the previous, which is vertex 1
            let closestPosition = null;
            if (closest.isTerminal()) {
              closestPosition = closest.id === 0 ? this.graph.vertices[1].position : closest.previousPosition;
            } else {
              closestPosition = closest.id === 0 ? this.graph.vertices[1].position : closest.position;
            }
            let vertexPreviousPosition = vertex.id === 0 ? this.graph.vertices[1].position : vertex.previousPosition;
            vertex.position.rotateAwayFrom(closestPosition, vertexPreviousPosition, MathHelper.toRad(20));
          }
        }
      }
    }
  }

  /**
   * Get the last non-null or 0 angle vertex.
   * @param {Number} vertexId A vertex id.
   * @returns {Vertex} The last vertex with an angle that was not 0 or null.
   */
  getLastVertexWithAngle(vertexId) {
    let angle = 0;
    let vertex = null;
    while (!angle && vertexId) {
      vertex = this.graph.vertices[vertexId];
      angle = vertex.angle;
      vertexId = vertex.parentVertexId;
    }
    return vertex;
  }

  /**
   * Positiones the next vertex thus creating a bond.
   *
   * @param {Vertex} vertex A vertex.
   * @param {Vertex} [previousVertex=null] The previous vertex which has been positioned.
   * @param {Number} [angle=0.0] The (global) angle of the vertex.
   * @param {Boolean} [originShortest=false] Whether the origin is the shortest subtree in the branch.
   * @param {Boolean} [skipPositioning=false] Whether or not to skip positioning and just check the neighbours.
   */
  createNextBond(vertex, previousVertex = null, angle = 0.0, originShortest = false, skipPositioning = false) {
    if (vertex.positioned && !skipPositioning) {
      return;
    }

    // If the double bond config was set on this vertex, do not check later
    let doubleBondConfigSet = false;

    // Keeping track of configurations around double bonds
    if (previousVertex) {
      let edge = this.graph.getEdge(vertex.id, previousVertex.id);
      if ((edge.bondType === '/' || edge.bondType === '\\') && ++this.doubleBondConfigCount % 2 === 1) {
        if (this.doubleBondConfig === null) {
          this.doubleBondConfig = edge.bondType;
          doubleBondConfigSet = true;

          // Switch if the bond is a branch bond and previous vertex is the first
          // TODO: Why is it different with the first vertex?
          if (previousVertex.parentVertexId === null && vertex.value.branchBond) {
            if (this.doubleBondConfig === '/') {
              this.doubleBondConfig = '\\';
            } else if (this.doubleBondConfig === '\\') {
              this.doubleBondConfig = '/';
            }
          }
        }
      }
    }

    // If the current node is the member of one ring, then point straight away
    // from the center of the ring. However, if the current node is a member of
    // two rings, point away from the middle of the centers of the two rings
    if (!skipPositioning) {
      if (!previousVertex) {
        // Add a (dummy) previous position if there is no previous vertex defined
        // Since the first vertex is at (0, 0), create a vector at (bondLength, 0)
        // and rotate it by 90°

        let dummy = new Vector2(this.opts.bondLength, 0);
        dummy.rotate(MathHelper.toRad(-60));
        vertex.previousPosition = dummy;
        vertex.setPosition(this.opts.bondLength, 0);
        vertex.angle = MathHelper.toRad(-60);

        // Do not position the vertex if it belongs to a bridged ring that is positioned using a layout algorithm.
        if (vertex.value.bridgedRing === null) {
          vertex.positioned = true;
        }
      } else if (previousVertex.value.rings.length > 0) {
        let neighbours = previousVertex.neighbours;
        let joinedVertex = null;
        let pos = new Vector2(0.0, 0.0);
        if (previousVertex.value.bridgedRing === null && previousVertex.value.rings.length > 1) {
          for (var i = 0; i < neighbours.length; i++) {
            let neighbour = this.graph.vertices[neighbours[i]];
            if (ArrayHelper.containsAll(neighbour.value.rings, previousVertex.value.rings)) {
              joinedVertex = neighbour;
              break;
            }
          }
        }
        if (joinedVertex === null) {
          for (var i = 0; i < neighbours.length; i++) {
            let v = this.graph.vertices[neighbours[i]];
            if (v.positioned && this.areVerticesInSameRing(v, previousVertex)) {
              pos.add(Vector2.subtract(v.position, previousVertex.position));
            }
          }
          pos.invert().normalize().multiplyScalar(this.opts.bondLength).add(previousVertex.position);
        } else {
          pos = joinedVertex.position.clone().rotateAround(Math.PI, previousVertex.position);
        }
        vertex.previousPosition = previousVertex.position;
        vertex.setPositionFromVector(pos);
        vertex.positioned = true;
      } else {
        // If the previous vertex was not part of a ring, draw a bond based
        // on the global angle of the previous bond
        let v = new Vector2(this.opts.bondLength, 0);
        v.rotate(angle);
        v.add(previousVertex.position);
        vertex.setPositionFromVector(v);
        vertex.previousPosition = previousVertex.position;
        vertex.positioned = true;
      }
    }

    // Go to next vertex
    // If two rings are connected by a bond ...
    if (vertex.value.bridgedRing !== null) {
      let nextRing = this.getRing(vertex.value.bridgedRing);
      if (!nextRing.positioned) {
        let nextCenter = Vector2.subtract(vertex.previousPosition, vertex.position);
        nextCenter.invert();
        nextCenter.normalize();
        let r = MathHelper.polyCircumradius(this.opts.bondLength, nextRing.members.length);
        nextCenter.multiplyScalar(r);
        nextCenter.add(vertex.position);
        this.createRing(nextRing, nextCenter, vertex);
      }
    } else if (vertex.value.rings.length > 0) {
      let nextRing = this.getRing(vertex.value.rings[0]);
      if (!nextRing.positioned) {
        let nextCenter = Vector2.subtract(vertex.previousPosition, vertex.position);
        nextCenter.invert();
        nextCenter.normalize();
        let r = MathHelper.polyCircumradius(this.opts.bondLength, nextRing.getSize());
        nextCenter.multiplyScalar(r);
        nextCenter.add(vertex.position);
        this.createRing(nextRing, nextCenter, vertex);
      }
    } else {
      // Draw the non-ring vertices connected to this one  
      let isStereoCenter = vertex.value.isStereoCenter;
      let tmpNeighbours = vertex.getNeighbours();
      let neighbours = Array();

      // Remove neighbours that are not drawn
      for (var i = 0; i < tmpNeighbours.length; i++) {
        if (this.graph.vertices[tmpNeighbours[i]].value.isDrawn) {
          neighbours.push(tmpNeighbours[i]);
        }
      }

      // Remove the previous vertex (which has already been drawn)
      if (previousVertex) {
        neighbours = ArrayHelper.remove(neighbours, previousVertex.id);
      }
      let previousAngle = vertex.getAngle();
      if (neighbours.length === 1) {
        let nextVertex = this.graph.vertices[neighbours[0]];

        // Make a single chain always cis except when there's a tribble (yes, this is a Star Trek reference) bond
        // or if there are successive double bonds. Added a ring check because if there is an aromatic ring the ring bond inside the ring counts as a double bond and leads to =-= being straight.
        if (vertex.value.bondType === '#' || previousVertex && previousVertex.value.bondType === '#' || vertex.value.bondType === '=' && previousVertex && previousVertex.value.rings.length === 0 && previousVertex.value.bondType === '=' && vertex.value.branchBond !== '-') {
          vertex.value.drawExplicit = false;
          if (previousVertex) {
            let straightEdge1 = this.graph.getEdge(vertex.id, previousVertex.id);
            straightEdge1.center = true;
          }
          let straightEdge2 = this.graph.getEdge(vertex.id, nextVertex.id);
          straightEdge2.center = true;
          if (vertex.value.bondType === '#' || previousVertex && previousVertex.value.bondType === '#') {
            nextVertex.angle = 0.0;
          }
          nextVertex.drawExplicit = true;
          this.createNextBond(nextVertex, vertex, previousAngle + nextVertex.angle);
        } else if (previousVertex && previousVertex.value.rings.length > 0) {
          // If coming out of a ring, always draw away from the center of mass
          let proposedAngleA = MathHelper.toRad(60);
          let proposedAngleB = -proposedAngleA;
          let proposedVectorA = new Vector2(this.opts.bondLength, 0);
          let proposedVectorB = new Vector2(this.opts.bondLength, 0);
          proposedVectorA.rotate(proposedAngleA).add(vertex.position);
          proposedVectorB.rotate(proposedAngleB).add(vertex.position);

          // let centerOfMass = this.getCurrentCenterOfMassInNeigbourhood(vertex.position, 100);
          let centerOfMass = this.getCurrentCenterOfMass();
          let distanceA = proposedVectorA.distanceSq(centerOfMass);
          let distanceB = proposedVectorB.distanceSq(centerOfMass);
          nextVertex.angle = distanceA < distanceB ? proposedAngleB : proposedAngleA;
          this.createNextBond(nextVertex, vertex, previousAngle + nextVertex.angle);
        } else {
          let a = vertex.angle;
          // Take the min and max if the previous angle was in a 4-neighbourhood (90° angles)
          // TODO: If a is null or zero, it should be checked whether or not this one should go cis or trans, that is,
          //       it should go into the oposite direction of the last non-null or 0 previous vertex / angle.
          if (previousVertex && previousVertex.neighbours.length > 3) {
            if (a > 0) {
              a = Math.min(1.0472, a);
            } else if (a < 0) {
              a = Math.max(-1.0472, a);
            } else {
              a = 1.0472;
            }
          } else if (!a) {
            let v = this.getLastVertexWithAngle(vertex.id);
            a = v.angle;
            if (!a) {
              a = 1.0472;
            }
          }

          // Handle configuration around double bonds
          if (previousVertex && !doubleBondConfigSet) {
            let bondType = this.graph.getEdge(vertex.id, nextVertex.id).bondType;
            if (bondType === '/') {
              if (this.doubleBondConfig === '/') {
                // Nothing to do since it will be trans per default
              } else if (this.doubleBondConfig === '\\') {
                a = -a;
              }
              this.doubleBondConfig = null;
            } else if (bondType === '\\') {
              if (this.doubleBondConfig === '/') {
                a = -a;
              } else if (this.doubleBondConfig === '\\') {
                // Nothing to do since it will be trans per default
              }
              this.doubleBondConfig = null;
            }
          }
          if (originShortest) {
            nextVertex.angle = a;
          } else {
            nextVertex.angle = -a;
          }
          this.createNextBond(nextVertex, vertex, previousAngle + nextVertex.angle);
        }
      } else if (neighbours.length === 2) {
        // If the previous vertex comes out of a ring, it doesn't have an angle set
        let a = vertex.angle;
        if (!a) {
          a = 1.0472;
        }

        // Check for the longer subtree - always go with cis for the longer subtree
        let subTreeDepthA = this.graph.getTreeDepth(neighbours[0], vertex.id);
        let subTreeDepthB = this.graph.getTreeDepth(neighbours[1], vertex.id);
        let l = this.graph.vertices[neighbours[0]];
        let r = this.graph.vertices[neighbours[1]];
        l.value.subtreeDepth = subTreeDepthA;
        r.value.subtreeDepth = subTreeDepthB;

        // Also get the subtree for the previous direction (this is important when
        // the previous vertex is the shortest path)
        let subTreeDepthC = this.graph.getTreeDepth(previousVertex ? previousVertex.id : null, vertex.id);
        if (previousVertex) {
          previousVertex.value.subtreeDepth = subTreeDepthC;
        }
        let cis = 0;
        let trans = 1;

        // Carbons go always cis
        if (r.value.element === 'C' && l.value.element !== 'C' && subTreeDepthB > 1 && subTreeDepthA < 5) {
          cis = 1;
          trans = 0;
        } else if (r.value.element !== 'C' && l.value.element === 'C' && subTreeDepthA > 1 && subTreeDepthB < 5) {
          cis = 0;
          trans = 1;
        } else if (subTreeDepthB > subTreeDepthA) {
          cis = 1;
          trans = 0;
        }
        let cisVertex = this.graph.vertices[neighbours[cis]];
        let transVertex = this.graph.vertices[neighbours[trans]];
        let edgeCis = this.graph.getEdge(vertex.id, cisVertex.id);
        let edgeTrans = this.graph.getEdge(vertex.id, transVertex.id);

        // If the origin tree is the shortest, make them the main chain
        let originShortest = false;
        if (subTreeDepthC < subTreeDepthA && subTreeDepthC < subTreeDepthB) {
          originShortest = true;
        }
        transVertex.angle = a;
        cisVertex.angle = -a;
        if (this.doubleBondConfig === '\\') {
          if (transVertex.value.branchBond === '\\') {
            transVertex.angle = -a;
            cisVertex.angle = a;
          }
        } else if (this.doubleBondConfig === '/') {
          if (transVertex.value.branchBond === '/') {
            transVertex.angle = -a;
            cisVertex.angle = a;
          }
        }
        this.createNextBond(transVertex, vertex, previousAngle + transVertex.angle, originShortest);
        this.createNextBond(cisVertex, vertex, previousAngle + cisVertex.angle, originShortest);
      } else if (neighbours.length === 3) {
        // The vertex with the longest sub-tree should always go straight
        let d1 = this.graph.getTreeDepth(neighbours[0], vertex.id);
        let d2 = this.graph.getTreeDepth(neighbours[1], vertex.id);
        let d3 = this.graph.getTreeDepth(neighbours[2], vertex.id);
        let s = this.graph.vertices[neighbours[0]];
        let l = this.graph.vertices[neighbours[1]];
        let r = this.graph.vertices[neighbours[2]];
        s.value.subtreeDepth = d1;
        l.value.subtreeDepth = d2;
        r.value.subtreeDepth = d3;
        if (d2 > d1 && d2 > d3) {
          s = this.graph.vertices[neighbours[1]];
          l = this.graph.vertices[neighbours[0]];
          r = this.graph.vertices[neighbours[2]];
        } else if (d3 > d1 && d3 > d2) {
          s = this.graph.vertices[neighbours[2]];
          l = this.graph.vertices[neighbours[0]];
          r = this.graph.vertices[neighbours[1]];
        }

        // Create a cross if more than one subtree is of length > 1
        // or the vertex is connected to a ring
        if (previousVertex && previousVertex.value.rings.length < 1 && s.value.rings.length < 1 && l.value.rings.length < 1 && r.value.rings.length < 1 && this.graph.getTreeDepth(l.id, vertex.id) === 1 && this.graph.getTreeDepth(r.id, vertex.id) === 1 && this.graph.getTreeDepth(s.id, vertex.id) > 1) {
          s.angle = -vertex.angle;
          if (vertex.angle >= 0) {
            l.angle = MathHelper.toRad(30);
            r.angle = MathHelper.toRad(90);
          } else {
            l.angle = -MathHelper.toRad(30);
            r.angle = -MathHelper.toRad(90);
          }
          this.createNextBond(s, vertex, previousAngle + s.angle);
          this.createNextBond(l, vertex, previousAngle + l.angle);
          this.createNextBond(r, vertex, previousAngle + r.angle);
        } else {
          s.angle = 0.0;
          l.angle = MathHelper.toRad(90);
          r.angle = -MathHelper.toRad(90);
          this.createNextBond(s, vertex, previousAngle + s.angle);
          this.createNextBond(l, vertex, previousAngle + l.angle);
          this.createNextBond(r, vertex, previousAngle + r.angle);
        }
      } else if (neighbours.length === 4) {
        // The vertex with the longest sub-tree should always go to the reflected opposide direction
        let d1 = this.graph.getTreeDepth(neighbours[0], vertex.id);
        let d2 = this.graph.getTreeDepth(neighbours[1], vertex.id);
        let d3 = this.graph.getTreeDepth(neighbours[2], vertex.id);
        let d4 = this.graph.getTreeDepth(neighbours[3], vertex.id);
        let w = this.graph.vertices[neighbours[0]];
        let x = this.graph.vertices[neighbours[1]];
        let y = this.graph.vertices[neighbours[2]];
        let z = this.graph.vertices[neighbours[3]];
        w.value.subtreeDepth = d1;
        x.value.subtreeDepth = d2;
        y.value.subtreeDepth = d3;
        z.value.subtreeDepth = d4;
        if (d2 > d1 && d2 > d3 && d2 > d4) {
          w = this.graph.vertices[neighbours[1]];
          x = this.graph.vertices[neighbours[0]];
          y = this.graph.vertices[neighbours[2]];
          z = this.graph.vertices[neighbours[3]];
        } else if (d3 > d1 && d3 > d2 && d3 > d4) {
          w = this.graph.vertices[neighbours[2]];
          x = this.graph.vertices[neighbours[0]];
          y = this.graph.vertices[neighbours[1]];
          z = this.graph.vertices[neighbours[3]];
        } else if (d4 > d1 && d4 > d2 && d4 > d3) {
          w = this.graph.vertices[neighbours[3]];
          x = this.graph.vertices[neighbours[0]];
          y = this.graph.vertices[neighbours[1]];
          z = this.graph.vertices[neighbours[2]];
        }
        w.angle = -MathHelper.toRad(36);
        x.angle = MathHelper.toRad(36);
        y.angle = -MathHelper.toRad(108);
        z.angle = MathHelper.toRad(108);
        this.createNextBond(w, vertex, previousAngle + w.angle);
        this.createNextBond(x, vertex, previousAngle + x.angle);
        this.createNextBond(y, vertex, previousAngle + y.angle);
        this.createNextBond(z, vertex, previousAngle + z.angle);
      }
    }
  }

  /**
   * Gets the vetex sharing the edge that is the common bond of two rings.
   *
   * @param {Vertex} vertex A vertex.
   * @returns {(Number|null)} The id of a vertex sharing the edge that is the common bond of two rings with the vertex provided or null, if none.
   */
  getCommonRingbondNeighbour(vertex) {
    let neighbours = vertex.neighbours;
    for (var i = 0; i < neighbours.length; i++) {
      let neighbour = this.graph.vertices[neighbours[i]];
      if (ArrayHelper.containsAll(neighbour.value.rings, vertex.value.rings)) {
        return neighbour;
      }
    }
    return null;
  }

  /**
   * Check if a vector is inside any ring.
   *
   * @param {Vector2} vec A vector.
   * @returns {Boolean} A boolean indicating whether or not the point (vector) is inside any of the rings associated with the current molecule.
   */
  isPointInRing(vec) {
    for (var i = 0; i < this.rings.length; i++) {
      let ring = this.rings[i];
      if (!ring.positioned) {
        continue;
      }
      let radius = MathHelper.polyCircumradius(this.opts.bondLength, ring.getSize());
      let radiusSq = radius * radius;
      if (vec.distanceSq(ring.center) < radiusSq) {
        return true;
      }
    }
    return false;
  }

  /**
   * Check whether or not an edge is part of a ring.
   *
   * @param {Edge} edge An edge.
   * @returns {Boolean} A boolean indicating whether or not the edge is part of a ring.
   */
  isEdgeInRing(edge) {
    let source = this.graph.vertices[edge.sourceId];
    let target = this.graph.vertices[edge.targetId];
    return this.areVerticesInSameRing(source, target);
  }

  /**
   * Check whether or not an edge is rotatable.
   *
   * @param {Edge} edge An edge.
   * @returns {Boolean} A boolean indicating whether or not the edge is rotatable.
   */
  isEdgeRotatable(edge) {
    let vertexA = this.graph.vertices[edge.sourceId];
    let vertexB = this.graph.vertices[edge.targetId];

    // Only single bonds are rotatable
    if (edge.bondType !== '-') {
      return false;
    }

    // Do not rotate edges that have a further single bond to each side - do that!
    // If the bond is terminal, it doesn't make sense to rotate it
    // if (vertexA.getNeighbourCount() + vertexB.getNeighbourCount() < 5) {
    //   return false;
    // }

    if (vertexA.isTerminal() || vertexB.isTerminal()) {
      return false;
    }

    // Ringbonds are not rotatable
    if (vertexA.value.rings.length > 0 && vertexB.value.rings.length > 0 && this.areVerticesInSameRing(vertexA, vertexB)) {
      return false;
    }
    return true;
  }

  /**
   * Check whether or not a ring is an implicitly defined aromatic ring (lower case smiles).
   *
   * @param {Ring} ring A ring.
   * @returns {Boolean} A boolean indicating whether or not a ring is implicitly defined as aromatic.
   */
  isRingAromatic(ring) {
    for (var i = 0; i < ring.members.length; i++) {
      let vertex = this.graph.vertices[ring.members[i]];
      if (!vertex.value.isPartOfAromaticRing) {
        return false;
      }
    }
    return true;
  }

  /**
   * Get the normals of an edge.
   *
   * @param {Edge} edge An edge.
   * @returns {Vector2[]} An array containing two vectors, representing the normals.
   */
  getEdgeNormals(edge) {
    let v1 = this.graph.vertices[edge.sourceId].position;
    let v2 = this.graph.vertices[edge.targetId].position;

    // Get the normalized normals for the edge
    let normals = Vector2.units(v1, v2);
    return normals;
  }

  /**
   * Returns an array of vertices that are neighbouring a vertix but are not members of a ring (including bridges).
   *
   * @param {Number} vertexId A vertex id.
   * @returns {Vertex[]} An array of vertices.
   */
  getNonRingNeighbours(vertexId) {
    let nrneighbours = Array();
    let vertex = this.graph.vertices[vertexId];
    let neighbours = vertex.neighbours;
    for (var i = 0; i < neighbours.length; i++) {
      let neighbour = this.graph.vertices[neighbours[i]];
      let nIntersections = ArrayHelper.intersection(vertex.value.rings, neighbour.value.rings).length;
      if (nIntersections === 0 && neighbour.value.isBridge == false) {
        nrneighbours.push(neighbour);
      }
    }
    return nrneighbours;
  }

  /**
   * Annotaed stereochemistry information for visualization.
   */
  annotateStereochemistry() {
    let maxDepth = 10;

    // For each stereo-center
    for (var i = 0; i < this.graph.vertices.length; i++) {
      let vertex = this.graph.vertices[i];
      if (!vertex.value.isStereoCenter) {
        continue;
      }
      let neighbours = vertex.getNeighbours();
      let nNeighbours = neighbours.length;
      let priorities = Array(nNeighbours);
      for (var j = 0; j < nNeighbours; j++) {
        let visited = new Uint8Array(this.graph.vertices.length);
        let priority = Array(Array());
        visited[vertex.id] = 1;
        this.visitStereochemistry(neighbours[j], vertex.id, visited, priority, maxDepth, 0);

        // Sort each level according to atomic number
        for (var k = 0; k < priority.length; k++) {
          priority[k].sort(function (a, b) {
            return b - a;
          });
        }
        priorities[j] = [j, priority];
      }
      let maxLevels = 0;
      let maxEntries = 0;
      for (var j = 0; j < priorities.length; j++) {
        if (priorities[j][1].length > maxLevels) {
          maxLevels = priorities[j][1].length;
        }
        for (var k = 0; k < priorities[j][1].length; k++) {
          if (priorities[j][1][k].length > maxEntries) {
            maxEntries = priorities[j][1][k].length;
          }
        }
      }
      for (var j = 0; j < priorities.length; j++) {
        let diff = maxLevels - priorities[j][1].length;
        for (var k = 0; k < diff; k++) {
          priorities[j][1].push([]);
        }

        // Break ties by the position in the SMILES string as per specification
        priorities[j][1].push([neighbours[j]]);

        // Make all same length. Fill with zeroes.
        for (var k = 0; k < priorities[j][1].length; k++) {
          let diff = maxEntries - priorities[j][1][k].length;
          for (var l = 0; l < diff; l++) {
            priorities[j][1][k].push(0);
          }
        }
      }
      priorities.sort(function (a, b) {
        for (var j = 0; j < a[1].length; j++) {
          for (var k = 0; k < a[1][j].length; k++) {
            if (a[1][j][k] > b[1][j][k]) {
              return -1;
            } else if (a[1][j][k] < b[1][j][k]) {
              return 1;
            }
          }
        }
        return 0;
      });
      let order = new Uint8Array(nNeighbours);
      for (var j = 0; j < nNeighbours; j++) {
        order[j] = priorities[j][0];
        vertex.value.priority = j;
      }

      // Check the angles between elements 0 and 1, and 0 and 2 to determine whether they are
      // drawn cw or ccw
      // TODO: OC(Cl)=[C@]=C(C)F currently fails here, however this is, IMHO, not a valid SMILES.
      let posA = this.graph.vertices[neighbours[order[0]]].position;
      let posB = this.graph.vertices[neighbours[order[1]]].position;
      let posC = this.graph.vertices[neighbours[order[2]]].position;
      let cwA = posA.relativeClockwise(posB, vertex.position);
      let cwB = posA.relativeClockwise(posC, vertex.position);

      // If the second priority is clockwise from the first, the ligands are drawn clockwise, since
      // The hydrogen can be drawn on either side
      let isCw = cwA === -1;
      let rotation = vertex.value.bracket.chirality === '@' ? -1 : 1;
      let rs = MathHelper.parityOfPermutation(order) * rotation === 1 ? 'R' : 'S';

      // Flip the hydrogen direction when the drawing doesn't match the chirality.
      let wedgeA = 'down';
      let wedgeB = 'up';
      if (isCw && rs !== 'R' || !isCw && rs !== 'S') {
        vertex.value.hydrogenDirection = 'up';
        wedgeA = 'up';
        wedgeB = 'down';
      }
      if (vertex.value.hasHydrogen) {
        this.graph.getEdge(vertex.id, neighbours[order[order.length - 1]]).wedge = wedgeA;
      }

      // Get the shortest subtree to flip up / down. Ignore lowest priority
      // The rules are following:
      // 1. Do not draw wedge between two stereocenters
      // 2. Heteroatoms
      // 3. Draw outside ring
      // 4. Shortest subtree

      let wedgeOrder = new Array(neighbours.length - 1);
      let showHydrogen = vertex.value.rings.length > 1 && vertex.value.hasHydrogen;
      let offset = vertex.value.hasHydrogen ? 1 : 0;
      for (var j = 0; j < order.length - offset; j++) {
        wedgeOrder[j] = new Uint32Array(2);
        let neighbour = this.graph.vertices[neighbours[order[j]]];
        wedgeOrder[j][0] += neighbour.value.isStereoCenter ? 0 : 100000;
        // wedgeOrder[j][0] += neighbour.value.rings.length > 0 ? 0 : 10000;
        // Only add if in same ring, unlike above
        wedgeOrder[j][0] += this.areVerticesInSameRing(neighbour, vertex) ? 0 : 10000;
        wedgeOrder[j][0] += neighbour.value.isHeteroAtom() ? 1000 : 0;
        wedgeOrder[j][0] -= neighbour.value.subtreeDepth === 0 ? 1000 : 0;
        wedgeOrder[j][0] += 1000 - neighbour.value.subtreeDepth;
        wedgeOrder[j][1] = neighbours[order[j]];
      }
      wedgeOrder.sort(function (a, b) {
        if (a[0] > b[0]) {
          return -1;
        } else if (a[0] < b[0]) {
          return 1;
        }
        return 0;
      });

      // If all neighbours are in a ring, do not draw wedge, the hydrogen will be drawn.
      if (!showHydrogen) {
        let wedgeId = wedgeOrder[0][1];
        if (vertex.value.hasHydrogen) {
          this.graph.getEdge(vertex.id, wedgeId).wedge = wedgeB;
        } else {
          let wedge = wedgeB;
          for (var j = order.length - 1; j >= 0; j--) {
            if (wedge === wedgeA) {
              wedge = wedgeB;
            } else {
              wedge = wedgeA;
            }
            if (neighbours[order[j]] === wedgeId) {
              break;
            }
          }
          this.graph.getEdge(vertex.id, wedgeId).wedge = wedge;
        }
      }
      vertex.value.chirality = rs;
    }
  }

  /**
   * 
   * 
   * @param {Number} vertexId The id of a vertex.
   * @param {(Number|null)} previousVertexId The id of the parent vertex of the vertex.
   * @param {Uint8Array} visited An array containing the visited flag for all vertices in the graph.
   * @param {Array} priority An array of arrays storing the atomic numbers for each level.
   * @param {Number} maxDepth The maximum depth.
   * @param {Number} depth The current depth.
   */
  visitStereochemistry(vertexId, previousVertexId, visited, priority, maxDepth, depth, parentAtomicNumber = 0) {
    visited[vertexId] = 1;
    let vertex = this.graph.vertices[vertexId];
    let atomicNumber = vertex.value.getAtomicNumber();
    if (priority.length <= depth) {
      priority.push(Array());
    }
    for (var i = 0; i < this.graph.getEdge(vertexId, previousVertexId).weight; i++) {
      priority[depth].push(parentAtomicNumber * 1000 + atomicNumber);
    }
    let neighbours = this.graph.vertices[vertexId].neighbours;
    for (var i = 0; i < neighbours.length; i++) {
      if (visited[neighbours[i]] !== 1 && depth < maxDepth - 1) {
        this.visitStereochemistry(neighbours[i], vertexId, visited.slice(), priority, maxDepth, depth + 1, atomicNumber);
      }
    }

    // Valences are filled with hydrogens and passed to the next level.
    if (depth < maxDepth - 1) {
      let bonds = 0;
      for (var i = 0; i < neighbours.length; i++) {
        bonds += this.graph.getEdge(vertexId, neighbours[i]).weight;
      }
      for (var i = 0; i < vertex.value.getMaxBonds() - bonds; i++) {
        if (priority.length <= depth + 1) {
          priority.push(Array());
        }
        priority[depth + 1].push(atomicNumber * 1000 + 1);
      }
    }
  }

  /**
   * Creates pseudo-elements (such as Et, Me, Ac, Bz, ...) at the position of the carbon sets
   * the involved atoms not to be displayed.
   */
  initPseudoElements() {
    for (var i = 0; i < this.graph.vertices.length; i++) {
      const vertex = this.graph.vertices[i];
      const neighbourIds = vertex.neighbours;
      let neighbours = Array(neighbourIds.length);
      for (var j = 0; j < neighbourIds.length; j++) {
        neighbours[j] = this.graph.vertices[neighbourIds[j]];
      }

      // Ignore atoms that have less than 3 neighbours, except if
      // the vertex is connected to a ring and has two neighbours
      if (vertex.getNeighbourCount() < 3 || vertex.value.rings.length > 0) {
        continue;
      }

      // TODO: This exceptions should be handled more elegantly (via config file?)

      // Ignore phosphates (especially for triphosphates)
      if (vertex.value.element === 'P') {
        continue;
      }

      // Ignore also guanidine
      if (vertex.value.element === 'C' && neighbours.length === 3 && neighbours[0].value.element === 'N' && neighbours[1].value.element === 'N' && neighbours[2].value.element === 'N') {
        continue;
      }

      // Continue if there are less than two heteroatoms
      // or if a neighbour has more than 1 neighbour
      let heteroAtomCount = 0;
      let ctn = 0;
      for (var j = 0; j < neighbours.length; j++) {
        let neighbour = neighbours[j];
        let neighbouringElement = neighbour.value.element;
        let neighbourCount = neighbour.getNeighbourCount();
        if (neighbouringElement !== 'C' && neighbouringElement !== 'H' && neighbourCount === 1) {
          heteroAtomCount++;
        }
        if (neighbourCount > 1) {
          ctn++;
        }
      }
      if (ctn > 1 || heteroAtomCount < 2) {
        continue;
      }

      // Get the previous atom (the one which is not terminal)
      let previous = null;
      for (var j = 0; j < neighbours.length; j++) {
        let neighbour = neighbours[j];
        if (neighbour.getNeighbourCount() > 1) {
          previous = neighbour;
        }
      }
      for (var j = 0; j < neighbours.length; j++) {
        let neighbour = neighbours[j];
        if (neighbour.getNeighbourCount() > 1) {
          continue;
        }
        neighbour.value.isDrawn = false;
        let hydrogens = Atom.maxBonds[neighbour.value.element] - neighbour.value.bondCount;
        let charge = '';
        if (neighbour.value.bracket) {
          hydrogens = neighbour.value.bracket.hcount;
          charge = neighbour.value.bracket.charge || 0;
        }
        vertex.value.attachPseudoElement(neighbour.value.element, previous ? previous.value.element : null, hydrogens, charge);
      }
    }

    // The second pass
    for (var i = 0; i < this.graph.vertices.length; i++) {
      const vertex = this.graph.vertices[i];
      const atom = vertex.value;
      const element = atom.element;
      if (element === 'C' || element === 'H' || !atom.isDrawn) {
        continue;
      }
      const neighbourIds = vertex.neighbours;
      let neighbours = Array(neighbourIds.length);
      for (var j = 0; j < neighbourIds.length; j++) {
        neighbours[j] = this.graph.vertices[neighbourIds[j]];
      }
      for (var j = 0; j < neighbours.length; j++) {
        let neighbour = neighbours[j].value;
        if (!neighbour.hasAttachedPseudoElements || neighbour.getAttachedPseudoElementsCount() !== 2) {
          continue;
        }
        const pseudoElements = neighbour.getAttachedPseudoElements();
        if (pseudoElements.hasOwnProperty('0O') && pseudoElements.hasOwnProperty('3C')) {
          neighbour.isDrawn = false;
          vertex.value.attachPseudoElement('Ac', '', 0);
        }
      }
    }
  }
}
module.exports = DrawerBase;

/***/ }),

/***/ "./src/Edge.js":
/*!*********************!*\
  !*** ./src/Edge.js ***!
  \*********************/
/***/ ((module) => {

//@ts-check

/** 
 * A class representing an edge. 
 * 
 * @property {Number} id The id of this edge.
 * @property {Number} sourceId The id of the source vertex.
 * @property {Number} targetId The id of the target vertex.
 * @property {Number} weight The weight of this edge. That is, the degree of the bond (single bond = 1, double bond = 2, etc).
 * @property {String} [bondType='-'] The bond type of this edge.
 * @property {Boolean} [isPartOfAromaticRing=false] Whether or not this edge is part of an aromatic ring.
 * @property {Boolean} [center=false] Wheter or not the bond is centered. For example, this affects straight double bonds.
 * @property {String} [wedge=''] Wedge direction. Either '', 'up' or 'down'
 */
class Edge {
  /**
   * The constructor for the class Edge.
   *
   * @param {Number} sourceId A vertex id.
   * @param {Number} targetId A vertex id.
   * @param {Number} [weight=1] The weight of the edge.
   */
  constructor(sourceId, targetId, weight = 1) {
    this.id = null;
    this.sourceId = sourceId;
    this.targetId = targetId;
    this.weight = weight;
    this.bondType = '-';
    this.isPartOfAromaticRing = false;
    this.center = false;
    this.wedge = '';
  }

  /**
   * Set the bond type of this edge. This also sets the edge weight.
   * @param {String} bondType 
   */
  setBondType(bondType) {
    this.bondType = bondType;
    this.weight = Edge.bonds[bondType];
  }

  /**
   * An object mapping the bond type to the number of bonds.
   *
   * @returns {Object} The object containing the map.
   */
  static get bonds() {
    return {
      '-': 1,
      '/': 1,
      '\\': 1,
      '=': 2,
      '#': 3,
      '$': 4
    };
  }
}
module.exports = Edge;

/***/ }),

/***/ "./src/FormulaToCommonName.js":
/*!************************************!*\
  !*** ./src/FormulaToCommonName.js ***!
  \************************************/
/***/ ((module) => {

//@ts-check

const formulaToCommonName = {
  'C2H4O2': 'acetic acid',
  'C3H6O': 'acetone',
  'C2H3N': 'acetonitrile',
  'C6H6': 'benzene',
  'CCl4': 'carbon tetrachloride',
  'C6H5Cl': 'chlorobenzene',
  'CHCl3': 'chloroform',
  'C6H12': 'cyclohexane',
  'C2H4Cl2': '1,2-dichloroethane',
  'C4H10O3': 'diethylene glycol',
  'C6H14O3': 'diglyme',
  'C4H10O2': 'DME',
  'C3H7NO': 'DMF',
  'C2H6OS': 'DMSO',
  'C2H6O': 'ethanol',
  'C2H6O2': 'ethylene glycol',
  'C3H8O3': 'glycerin',
  'C7H16': 'heptane',
  'C6H18N3OP': 'HMPA',
  'C6H18N3P': 'HMPT',
  'C6H14': 'hexane',
  'CH4O': 'methanol',
  'C5H12O': 'MTBE',
  'CH2Cl2': 'methylene chloride',
  'CH5H9NO': 'NMP',
  'CH3NO2': 'nitromethane',
  'C5H12': 'pentane',
  'C5H5N': 'pyridine',
  'C7H8': 'toluene',
  'C6H15N': 'triethyl amine',
  'H2O': 'water'
};
module.exports = formulaToCommonName;

/***/ }),

/***/ "./src/GaussDrawer.js":
/*!****************************!*\
  !*** ./src/GaussDrawer.js ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const convertImage = __webpack_require__(/*! ./PixelsToSvg */ "./src/PixelsToSvg.js");
const chroma = __webpack_require__(/*! chroma-js */ "./node_modules/chroma-js/chroma.js");
class GaussDrawer {
  /**
  * The constructor of the class Graph.
  * 
  * @param {Vector2[]} points The centres of the gaussians.
  * @param {Number[]} weights The weights / amplitudes for each gaussian.
  */
  constructor(points, weights, width, height, sigma = 0.3, interval = 0, colormap = null, opacity = 1.0, normalized = false) {
    this.points = points;
    this.weights = weights;
    this.width = width;
    this.height = height;
    this.sigma = sigma;
    this.interval = interval;
    this.opacity = opacity;
    this.normalized = normalized;
    if (colormap === null) {
      let piyg11 = ["#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#ffffff", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221"];
      colormap = piyg11;
    }
    this.colormap = colormap;
    this.canvas = document.createElement('canvas');
    this.context = this.canvas.getContext('2d');
    this.canvas.width = this.width;
    this.canvas.height = this.height;
  }
  setFromArray(arr_points, arr_weights) {
    this.points = [];
    arr_points.forEach(a => {
      this.points.push(new Vector2(a[0], a[1]));
    });
    this.weights = [];
    arr_weights.forEach(w => {
      this.weights.push(w);
    });
  }

  /**
   * Compute and draw the gaussians.
   */
  draw() {
    let m = [];
    for (let x = 0; x < this.width; x++) {
      let row = [];
      for (let y = 0; y < this.height; y++) {
        row.push(0.0);
      }
      m.push(row);
    }

    // It looks like in some common js engines, multiplication by a 
    // fraction is faster than division ...
    let divisor = 1.0 / (2 * this.sigma ** 2);
    for (let i = 0; i < this.points.length; i++) {
      let v = this.points[i];
      let a = this.weights[i];
      for (let x = 0; x < this.width; x++) {
        for (let y = 0; y < this.height; y++) {
          // let v_x = (x - v.x) ** 2 / (2 * this.sigma ** 2);
          // let v_y = (y - v.y) ** 2 / (2 * this.sigma ** 2);
          let v_xy = ((x - v.x) ** 2 + (y - v.y) ** 2) * divisor;
          let val = a * Math.exp(-v_xy);
          m[x][y] += val;
        }
      }
    }
    let abs_max = 1.0;
    if (!this.normalized) {
      let max = -Number.MAX_SAFE_INTEGER;
      let min = Number.MAX_SAFE_INTEGER;
      for (let x = 0; x < this.width; x++) {
        for (let y = 0; y < this.height; y++) {
          if (m[x][y] < min) {
            min = m[x][y];
          }
          if (m[x][y] > max) {
            max = m[x][y];
          }
        }
      }
      abs_max = Math.max(Math.abs(min), Math.abs(max));
    }
    const scale = chroma.scale(this.colormap).domain([-1.0, 1.0]);
    for (let x = 0; x < this.width; x++) {
      for (let y = 0; y < this.height; y++) {
        if (!this.normalized) {
          m[x][y] = m[x][y] / abs_max;
        }
        if (this.interval !== 0) {
          m[x][y] = Math.round(m[x][y] / this.interval) * this.interval;
        }
        let [r, g, b] = scale(m[x][y]).rgb();
        this.setPixel(new Vector2(x, y), r, g, b);
      }
    }
  }

  /**
   * Get the canvas as an HTML image.
   * 
   * @param {CallableFunction} callback
   */
  getImage(callback) {
    let image = new Image();
    image.onload = () => {
      this.context.imageSmoothingEnabled = false;
      this.context.drawImage(image, 0, 0, this.width, this.height);
      if (callback) {
        callback(image);
      }
    };
    image.onerror = function (err) {
      console.log(err);
    };
    image.src = this.canvas.toDataURL();
  }

  /**
   * Get the canvas as an SVG element.
   * 
   * @param {CallableFunction} callback
   */
  getSVG() {
    return convertImage(this.context.getImageData(0, 0, this.width, this.height));
  }

  /**
   * Set the colour at a specific point on the canvas.
   * 
   * @param {Vector2} vec The pixel position on the canvas.
   * @param {Number} r The red colour-component.
   * @param {Number} g The green colour-component.
   * @param {Number} b The blue colour-component.
   * @param {Number} a The alpha colour-component.
   */
  setPixel(vec, r, g, b) {
    this.context.fillStyle = "rgba(" + r + "," + g + "," + b + "," + this.opacity + ")";
    this.context.fillRect(vec.x, vec.y, 1, 1);
  }
}
module.exports = GaussDrawer;

/***/ }),

/***/ "./src/Graph.js":
/*!**********************!*\
  !*** ./src/Graph.js ***!
  \**********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const MathHelper = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const Vertex = __webpack_require__(/*! ./Vertex */ "./src/Vertex.js");
const Edge = __webpack_require__(/*! ./Edge */ "./src/Edge.js");
const Ring = __webpack_require__(/*! ./Ring */ "./src/Ring.js");
const Atom = __webpack_require__(/*! ./Atom */ "./src/Atom.js");

/** 
 * A class representing the molecular graph. 
 * 
 * @property {Vertex[]} vertices The vertices of the graph.
 * @property {Edge[]} edges The edges of this graph.
 * @property {Number[]} atomIdxToVertexId A map mapping atom indices to vertex ids.
 * @property {Object} vertexIdsToEdgeId A map mapping vertex ids to the edge between the two vertices. The key is defined as vertexAId + '_' + vertexBId.
 * @property {Boolean} isometric A boolean indicating whether or not the SMILES associated with this graph is isometric.
 */
class Graph {
  /**
   * The constructor of the class Graph.
   * 
   * @param {Object} parseTree A SMILES parse tree.
   * @param {Boolean} [isomeric=false] A boolean specifying whether or not the SMILES is isomeric.
   */
  constructor(parseTree, isomeric = false) {
    this.vertices = Array();
    this.edges = Array();
    this.atomIdxToVertexId = Array();
    this.vertexIdsToEdgeId = {};
    this.isomeric = isomeric;

    // Used to assign indices to the heavy atoms.
    this._atomIdx = 0;

    // Used for the bridge detection algorithm
    this._time = 0;
    this._init(parseTree);
  }

  /**
   * PRIVATE FUNCTION. Initializing the graph from the parse tree.
   *
   * @param {Object} node The current node in the parse tree.
   * @param {?Number} parentVertexId=null The id of the previous vertex.
   * @param {Boolean} isBranch=false Whether or not the bond leading to this vertex is a branch bond. Branches are represented by parentheses in smiles (e.g. CC(O)C).
   */
  _init(node, order = 0, parentVertexId = null, isBranch = false) {
    // Create a new vertex object
    const element = node.atom.element ? node.atom.element : node.atom;
    let atom = new Atom(element, node.bond);
    if (element !== 'H' || !node.hasNext && parentVertexId === null) {
      atom.idx = this._atomIdx;
      this._atomIdx++;
    }
    atom.branchBond = node.branchBond;
    atom.ringbonds = node.ringbonds;
    atom.bracket = node.atom.element ? node.atom : null;
    atom.class = node.atom.class;
    let vertex = new Vertex(atom);
    let parentVertex = this.vertices[parentVertexId];
    this.addVertex(vertex);
    if (atom.idx !== null) {
      this.atomIdxToVertexId.push(vertex.id);
    }

    // Add the id of this node to the parent as child
    if (parentVertexId !== null) {
      vertex.setParentVertexId(parentVertexId);
      vertex.value.addNeighbouringElement(parentVertex.value.element);
      parentVertex.addChild(vertex.id);
      parentVertex.value.addNeighbouringElement(atom.element);

      // In addition create a spanningTreeChildren property, which later will
      // not contain the children added through ringbonds
      parentVertex.spanningTreeChildren.push(vertex.id);

      // Add edge between this node and its parent
      let edge = new Edge(parentVertexId, vertex.id, 1);
      let vertexId = null;
      if (isBranch) {
        edge.setBondType(vertex.value.branchBond || '-');
        vertexId = vertex.id;
        edge.setBondType(vertex.value.branchBond || '-');
        vertexId = vertex.id;
      } else {
        edge.setBondType(parentVertex.value.bondType || '-');
        vertexId = parentVertex.id;
      }
      let edgeId = this.addEdge(edge);
    }
    let offset = node.ringbondCount + 1;
    if (atom.bracket) {
      offset += atom.bracket.hcount;
    }
    let stereoHydrogens = 0;
    if (atom.bracket && atom.bracket.chirality) {
      atom.isStereoCenter = true;
      stereoHydrogens = atom.bracket.hcount;
      for (var i = 0; i < stereoHydrogens; i++) {
        this._init({
          atom: 'H',
          isBracket: 'false',
          branches: Array(),
          branchCount: 0,
          ringbonds: Array(),
          ringbondCount: false,
          next: null,
          hasNext: false,
          bond: '-'
        }, i, vertex.id, true);
      }
    }
    for (var i = 0; i < node.branchCount; i++) {
      this._init(node.branches[i], i + offset, vertex.id, true);
    }
    if (node.hasNext) {
      this._init(node.next, node.branchCount + offset, vertex.id);
    }
  }

  /**
   * Clears all the elements in this graph (edges and vertices).
   */
  clear() {
    this.vertices = Array();
    this.edges = Array();
    this.vertexIdsToEdgeId = {};
  }

  /**
   * Add a vertex to the graph.
   *
   * @param {Vertex} vertex A new vertex.
   * @returns {Number} The vertex id of the new vertex.
   */
  addVertex(vertex) {
    vertex.id = this.vertices.length;
    this.vertices.push(vertex);
    return vertex.id;
  }

  /**
   * Add an edge to the graph.
   *
   * @param {Edge} edge A new edge.
   * @returns {Number} The edge id of the new edge.
   */
  addEdge(edge) {
    let source = this.vertices[edge.sourceId];
    let target = this.vertices[edge.targetId];
    edge.id = this.edges.length;
    this.edges.push(edge);
    this.vertexIdsToEdgeId[edge.sourceId + '_' + edge.targetId] = edge.id;
    this.vertexIdsToEdgeId[edge.targetId + '_' + edge.sourceId] = edge.id;
    edge.isPartOfAromaticRing = source.value.isPartOfAromaticRing && target.value.isPartOfAromaticRing;
    source.value.bondCount += edge.weight;
    target.value.bondCount += edge.weight;
    source.edges.push(edge.id);
    target.edges.push(edge.id);
    return edge.id;
  }

  /**
   * Returns the edge between two given vertices.
   *
   * @param {Number} vertexIdA A vertex id.
   * @param {Number} vertexIdB A vertex id.
   * @returns {(Edge|null)} The edge or, if no edge can be found, null.
   */
  getEdge(vertexIdA, vertexIdB) {
    let edgeId = this.vertexIdsToEdgeId[vertexIdA + '_' + vertexIdB];
    return edgeId === undefined ? null : this.edges[edgeId];
  }

  /**
   * Returns the ids of edges connected to a vertex.
   *
   * @param {Number} vertexId A vertex id.
   * @returns {Number[]} An array containing the ids of edges connected to the vertex.
   */
  getEdges(vertexId) {
    let edgeIds = Array();
    let vertex = this.vertices[vertexId];
    for (var i = 0; i < vertex.neighbours.length; i++) {
      edgeIds.push(this.vertexIdsToEdgeId[vertexId + '_' + vertex.neighbours[i]]);
    }
    return edgeIds;
  }

  /**
   * Check whether or not two vertices are connected by an edge.
   *
   * @param {Number} vertexIdA A vertex id.
   * @param {Number} vertexIdB A vertex id.
   * @returns {Boolean} A boolean indicating whether or not two vertices are connected by an edge.
   */
  hasEdge(vertexIdA, vertexIdB) {
    return this.vertexIdsToEdgeId[vertexIdA + '_' + vertexIdB] !== undefined;
  }

  /**
   * Returns an array containing the vertex ids of this graph.
   * 
   * @returns {Number[]} An array containing all vertex ids of this graph.
   */
  getVertexList() {
    let arr = [this.vertices.length];
    for (var i = 0; i < this.vertices.length; i++) {
      arr[i] = this.vertices[i].id;
    }
    return arr;
  }

  /**
   * Returns an array containing source, target arrays of this graphs edges.
   * 
   * @returns {Array[]} An array containing source, target arrays of this graphs edges. Example: [ [ 2, 5 ], [ 6, 9 ] ].
   */
  getEdgeList() {
    let arr = Array(this.edges.length);
    for (var i = 0; i < this.edges.length; i++) {
      arr[i] = [this.edges[i].sourceId, this.edges[i].targetId];
    }
    return arr;
  }

  /**
   * Get the adjacency matrix of the graph.
   * 
   * @returns {Array[]} The adjancency matrix of the molecular graph.
   */
  getAdjacencyMatrix() {
    let length = this.vertices.length;
    let adjacencyMatrix = Array(length);
    for (var i = 0; i < length; i++) {
      adjacencyMatrix[i] = new Array(length);
      adjacencyMatrix[i].fill(0);
    }
    for (var i = 0; i < this.edges.length; i++) {
      let edge = this.edges[i];
      adjacencyMatrix[edge.sourceId][edge.targetId] = 1;
      adjacencyMatrix[edge.targetId][edge.sourceId] = 1;
    }
    return adjacencyMatrix;
  }

  /**
   * Get the adjacency matrix of the graph with all bridges removed (thus the components). Thus the remaining vertices are all part of ring systems.
   * 
   * @returns {Array[]} The adjancency matrix of the molecular graph with all bridges removed.
   */
  getComponentsAdjacencyMatrix() {
    let length = this.vertices.length;
    let adjacencyMatrix = Array(length);
    let bridges = this.getBridges();
    for (var i = 0; i < length; i++) {
      adjacencyMatrix[i] = new Array(length);
      adjacencyMatrix[i].fill(0);
    }
    for (var i = 0; i < this.edges.length; i++) {
      let edge = this.edges[i];
      adjacencyMatrix[edge.sourceId][edge.targetId] = 1;
      adjacencyMatrix[edge.targetId][edge.sourceId] = 1;
    }
    for (var i = 0; i < bridges.length; i++) {
      adjacencyMatrix[bridges[i][0]][bridges[i][1]] = 0;
      adjacencyMatrix[bridges[i][1]][bridges[i][0]] = 0;
    }
    return adjacencyMatrix;
  }

  /**
   * Get the adjacency matrix of a subgraph.
   * 
   * @param {Number[]} vertexIds An array containing the vertex ids contained within the subgraph.
   * @returns {Array[]} The adjancency matrix of the subgraph.
   */
  getSubgraphAdjacencyMatrix(vertexIds) {
    let length = vertexIds.length;
    let adjacencyMatrix = Array(length);
    for (var i = 0; i < length; i++) {
      adjacencyMatrix[i] = new Array(length);
      adjacencyMatrix[i].fill(0);
      for (var j = 0; j < length; j++) {
        if (i === j) {
          continue;
        }
        if (this.hasEdge(vertexIds[i], vertexIds[j])) {
          adjacencyMatrix[i][j] = 1;
        }
      }
    }
    return adjacencyMatrix;
  }

  /**
   * Get the distance matrix of the graph.
   * 
   * @returns {Array[]} The distance matrix of the graph.
   */
  getDistanceMatrix() {
    let length = this.vertices.length;
    let adja = this.getAdjacencyMatrix();
    let dist = Array(length);
    for (var i = 0; i < length; i++) {
      dist[i] = Array(length);
      dist[i].fill(Infinity);
    }
    for (var i = 0; i < length; i++) {
      for (var j = 0; j < length; j++) {
        if (adja[i][j] === 1) {
          dist[i][j] = 1;
        }
      }
    }
    for (var k = 0; k < length; k++) {
      for (var i = 0; i < length; i++) {
        for (var j = 0; j < length; j++) {
          if (dist[i][j] > dist[i][k] + dist[k][j]) {
            dist[i][j] = dist[i][k] + dist[k][j];
          }
        }
      }
    }
    return dist;
  }

  /**
   * Get the distance matrix of a subgraph.
   * 
   * @param {Number[]} vertexIds An array containing the vertex ids contained within the subgraph.
   * @returns {Array[]} The distance matrix of the subgraph.
   */
  getSubgraphDistanceMatrix(vertexIds) {
    let length = vertexIds.length;
    let adja = this.getSubgraphAdjacencyMatrix(vertexIds);
    let dist = Array(length);
    for (var i = 0; i < length; i++) {
      dist[i] = Array(length);
      dist[i].fill(Infinity);
    }
    for (var i = 0; i < length; i++) {
      for (var j = 0; j < length; j++) {
        if (adja[i][j] === 1) {
          dist[i][j] = 1;
        }
      }
    }
    for (var k = 0; k < length; k++) {
      for (var i = 0; i < length; i++) {
        for (var j = 0; j < length; j++) {
          if (dist[i][j] > dist[i][k] + dist[k][j]) {
            dist[i][j] = dist[i][k] + dist[k][j];
          }
        }
      }
    }
    return dist;
  }

  /**
   * Get the adjacency list of the graph.
   * 
   * @returns {Array[]} The adjancency list of the graph.
   */
  getAdjacencyList() {
    let length = this.vertices.length;
    let adjacencyList = Array(length);
    for (var i = 0; i < length; i++) {
      adjacencyList[i] = [];
      for (var j = 0; j < length; j++) {
        if (i === j) {
          continue;
        }
        if (this.hasEdge(this.vertices[i].id, this.vertices[j].id)) {
          adjacencyList[i].push(j);
        }
      }
    }
    return adjacencyList;
  }

  /**
   * Get the adjacency list of a subgraph.
   * 
   * @param {Number[]} vertexIds An array containing the vertex ids contained within the subgraph.
   * @returns {Array[]} The adjancency list of the subgraph.
   */
  getSubgraphAdjacencyList(vertexIds) {
    let length = vertexIds.length;
    let adjacencyList = Array(length);
    for (var i = 0; i < length; i++) {
      adjacencyList[i] = Array();
      for (var j = 0; j < length; j++) {
        if (i === j) {
          continue;
        }
        if (this.hasEdge(vertexIds[i], vertexIds[j])) {
          adjacencyList[i].push(j);
        }
      }
    }
    return adjacencyList;
  }

  /**
   * Returns an array containing the edge ids of bridges. A bridge splits the graph into multiple components when removed.
   * 
   * @returns {Number[]} An array containing the edge ids of the bridges.
   */
  getBridges() {
    let length = this.vertices.length;
    let visited = new Array(length);
    let disc = new Array(length);
    let low = new Array(length);
    let parent = new Array(length);
    let adj = this.getAdjacencyList();
    let outBridges = Array();
    visited.fill(false);
    parent.fill(null);
    this._time = 0;
    for (var i = 0; i < length; i++) {
      if (!visited[i]) {
        this._bridgeDfs(i, visited, disc, low, parent, adj, outBridges);
      }
    }
    return outBridges;
  }

  /**
   * Traverses the graph in breadth-first order.
   * 
   * @param {Number} startVertexId The id of the starting vertex.
   * @param {Function} callback The callback function to be called on every vertex.
   */
  traverseBF(startVertexId, callback) {
    let length = this.vertices.length;
    let visited = new Array(length);
    visited.fill(false);
    var queue = [startVertexId];
    while (queue.length > 0) {
      // JavaScripts shift() is O(n) ... bad JavaScript, bad!
      let u = queue.shift();
      let vertex = this.vertices[u];
      callback(vertex);
      for (var i = 0; i < vertex.neighbours.length; i++) {
        let v = vertex.neighbours[i];
        if (!visited[v]) {
          visited[v] = true;
          queue.push(v);
        }
      }
    }
  }

  /**
   * Get the depth of a subtree in the direction opposite to the vertex specified as the parent vertex.
   *
   * @param {Number} vertexId A vertex id.
   * @param {Number} parentVertexId The id of a neighbouring vertex.
   * @returns {Number} The depth of the sub-tree.
   */
  getTreeDepth(vertexId, parentVertexId) {
    if (vertexId === null || parentVertexId === null) {
      return 0;
    }
    let neighbours = this.vertices[vertexId].getSpanningTreeNeighbours(parentVertexId);
    let max = 0;
    for (var i = 0; i < neighbours.length; i++) {
      let childId = neighbours[i];
      let d = this.getTreeDepth(childId, vertexId);
      if (d > max) {
        max = d;
      }
    }
    return max + 1;
  }

  /**
   * Traverse a sub-tree in the graph.
   *
   * @param {Number} vertexId A vertex id.
   * @param {Number} parentVertexId A neighbouring vertex.
   * @param {Function} callback The callback function that is called with each visited as an argument.
   * @param {Number} [maxDepth=999999] The maximum depth of the recursion.
   * @param {Boolean} [ignoreFirst=false] Whether or not to ignore the starting vertex supplied as vertexId in the callback.
   * @param {Number} [depth=1] The current depth in the tree.
   * @param {Uint8Array} [visited=null] An array holding a flag on whether or not a node has been visited.
   */
  traverseTree(vertexId, parentVertexId, callback, maxDepth = 999999, ignoreFirst = false, depth = 1, visited = null) {
    if (visited === null) {
      visited = new Uint8Array(this.vertices.length);
    }
    if (depth > maxDepth + 1 || visited[vertexId] === 1) {
      return;
    }
    visited[vertexId] = 1;
    let vertex = this.vertices[vertexId];
    let neighbours = vertex.getNeighbours(parentVertexId);
    if (!ignoreFirst || depth > 1) {
      callback(vertex);
    }
    for (var i = 0; i < neighbours.length; i++) {
      this.traverseTree(neighbours[i], vertexId, callback, maxDepth, ignoreFirst, depth + 1, visited);
    }
  }

  /**
   * Positiones the (sub)graph using Kamada and Kawais algorithm for drawing general undirected graphs. https://pdfs.semanticscholar.org/b8d3/bca50ccc573c5cb99f7d201e8acce6618f04.pdf
   * There are undocumented layout parameters. They are undocumented for a reason, so be very careful.
   * 
   * @param {Number[]} vertexIds An array containing vertexIds to be placed using the force based layout.
   * @param {Vector2} center The center of the layout.
   * @param {Number} startVertexId A vertex id. Should be the starting vertex - e.g. the first to be positioned and connected to a previously place vertex.
   * @param {Ring} ring The bridged ring associated with this force-based layout.
   */
  kkLayout(vertexIds, center, startVertexId, ring, bondLength, threshold = 0.1, innerThreshold = 0.1, maxIteration = 2000, maxInnerIteration = 50, maxEnergy = 1e9) {
    let edgeStrength = bondLength;

    // Add vertices that are directly connected to the ring
    var i = vertexIds.length;
    while (i--) {
      let vertex = this.vertices[vertexIds[i]];
      var j = vertex.neighbours.length;
    }
    let matDist = this.getSubgraphDistanceMatrix(vertexIds);
    let length = vertexIds.length;

    // Initialize the positions. Place all vertices on a ring around the center
    let radius = MathHelper.polyCircumradius(500, length);
    let angle = MathHelper.centralAngle(length);
    let a = 0.0;
    let arrPositionX = new Float32Array(length);
    let arrPositionY = new Float32Array(length);
    let arrPositioned = Array(length);
    i = length;
    while (i--) {
      let vertex = this.vertices[vertexIds[i]];
      if (!vertex.positioned) {
        arrPositionX[i] = center.x + Math.cos(a) * radius;
        arrPositionY[i] = center.y + Math.sin(a) * radius;
      } else {
        arrPositionX[i] = vertex.position.x;
        arrPositionY[i] = vertex.position.y;
      }
      arrPositioned[i] = vertex.positioned;
      a += angle;
    }

    // Create the matrix containing the lengths
    let matLength = Array(length);
    i = length;
    while (i--) {
      matLength[i] = new Array(length);
      var j = length;
      while (j--) {
        matLength[i][j] = bondLength * matDist[i][j];
      }
    }

    // Create the matrix containing the spring strenghts
    let matStrength = Array(length);
    i = length;
    while (i--) {
      matStrength[i] = Array(length);
      var j = length;
      while (j--) {
        matStrength[i][j] = edgeStrength * Math.pow(matDist[i][j], -2.0);
      }
    }

    // Create the matrix containing the energies
    let matEnergy = Array(length);
    let arrEnergySumX = new Float32Array(length);
    let arrEnergySumY = new Float32Array(length);
    i = length;
    while (i--) {
      matEnergy[i] = Array(length);
    }
    i = length;
    let ux, uy, dEx, dEy, vx, vy, denom;
    while (i--) {
      ux = arrPositionX[i];
      uy = arrPositionY[i];
      dEx = 0.0;
      dEy = 0.0;
      let j = length;
      while (j--) {
        if (i === j) {
          continue;
        }
        vx = arrPositionX[j];
        vy = arrPositionY[j];
        denom = 1.0 / Math.sqrt((ux - vx) * (ux - vx) + (uy - vy) * (uy - vy));
        matEnergy[i][j] = [matStrength[i][j] * (ux - vx - matLength[i][j] * (ux - vx) * denom), matStrength[i][j] * (uy - vy - matLength[i][j] * (uy - vy) * denom)];
        matEnergy[j][i] = matEnergy[i][j];
        dEx += matEnergy[i][j][0];
        dEy += matEnergy[i][j][1];
      }
      arrEnergySumX[i] = dEx;
      arrEnergySumY[i] = dEy;
    }

    // Utility functions, maybe inline them later
    let energy = function (index) {
      return [arrEnergySumX[index] * arrEnergySumX[index] + arrEnergySumY[index] * arrEnergySumY[index], arrEnergySumX[index], arrEnergySumY[index]];
    };
    let highestEnergy = function () {
      let maxEnergy = 0.0;
      let maxEnergyId = 0;
      let maxDEX = 0.0;
      let maxDEY = 0.0;
      i = length;
      while (i--) {
        let [delta, dEX, dEY] = energy(i);
        if (delta > maxEnergy && arrPositioned[i] === false) {
          maxEnergy = delta;
          maxEnergyId = i;
          maxDEX = dEX;
          maxDEY = dEY;
        }
      }
      return [maxEnergyId, maxEnergy, maxDEX, maxDEY];
    };
    let update = function (index, dEX, dEY) {
      let dxx = 0.0;
      let dyy = 0.0;
      let dxy = 0.0;
      let ux = arrPositionX[index];
      let uy = arrPositionY[index];
      let arrL = matLength[index];
      let arrK = matStrength[index];
      i = length;
      while (i--) {
        if (i === index) {
          continue;
        }
        let vx = arrPositionX[i];
        let vy = arrPositionY[i];
        let l = arrL[i];
        let k = arrK[i];
        let m = (ux - vx) * (ux - vx);
        let denom = 1.0 / Math.pow(m + (uy - vy) * (uy - vy), 1.5);
        dxx += k * (1 - l * (uy - vy) * (uy - vy) * denom);
        dyy += k * (1 - l * m * denom);
        dxy += k * (l * (ux - vx) * (uy - vy) * denom);
      }

      // Prevent division by zero
      if (dxx === 0) {
        dxx = 0.1;
      }
      if (dyy === 0) {
        dyy = 0.1;
      }
      if (dxy === 0) {
        dxy = 0.1;
      }
      let dy = dEX / dxx + dEY / dxy;
      dy /= dxy / dxx - dyy / dxy; // had to split this onto two lines because the syntax highlighter went crazy.
      let dx = -(dxy * dy + dEX) / dxx;
      arrPositionX[index] += dx;
      arrPositionY[index] += dy;

      // Update the energies
      let arrE = matEnergy[index];
      dEX = 0.0;
      dEY = 0.0;
      ux = arrPositionX[index];
      uy = arrPositionY[index];
      let vx, vy, prevEx, prevEy, denom;
      i = length;
      while (i--) {
        if (index === i) {
          continue;
        }
        vx = arrPositionX[i];
        vy = arrPositionY[i];
        // Store old energies
        prevEx = arrE[i][0];
        prevEy = arrE[i][1];
        denom = 1.0 / Math.sqrt((ux - vx) * (ux - vx) + (uy - vy) * (uy - vy));
        dx = arrK[i] * (ux - vx - arrL[i] * (ux - vx) * denom);
        dy = arrK[i] * (uy - vy - arrL[i] * (uy - vy) * denom);
        arrE[i] = [dx, dy];
        dEX += dx;
        dEY += dy;
        arrEnergySumX[i] += dx - prevEx;
        arrEnergySumY[i] += dy - prevEy;
      }
      arrEnergySumX[index] = dEX;
      arrEnergySumY[index] = dEY;
    };

    // Setting up variables for the while loops
    let maxEnergyId = 0;
    let dEX = 0.0;
    let dEY = 0.0;
    let delta = 0.0;
    let iteration = 0;
    let innerIteration = 0;
    while (maxEnergy > threshold && maxIteration > iteration) {
      iteration++;
      [maxEnergyId, maxEnergy, dEX, dEY] = highestEnergy();
      delta = maxEnergy;
      innerIteration = 0;
      while (delta > innerThreshold && maxInnerIteration > innerIteration) {
        innerIteration++;
        update(maxEnergyId, dEX, dEY);
        [delta, dEX, dEY] = energy(maxEnergyId);
      }
    }
    i = length;
    while (i--) {
      let index = vertexIds[i];
      let vertex = this.vertices[index];
      vertex.position.x = arrPositionX[i];
      vertex.position.y = arrPositionY[i];
      vertex.positioned = true;
      vertex.forcePositioned = true;
    }
  }

  /**
   * PRIVATE FUNCTION used by getBridges().
   */
  _bridgeDfs(u, visited, disc, low, parent, adj, outBridges) {
    visited[u] = true;
    disc[u] = low[u] = ++this._time;
    for (var i = 0; i < adj[u].length; i++) {
      let v = adj[u][i];
      if (!visited[v]) {
        parent[v] = u;
        this._bridgeDfs(v, visited, disc, low, parent, adj, outBridges);
        low[u] = Math.min(low[u], low[v]);

        // If low > disc, we have a bridge
        if (low[v] > disc[u]) {
          outBridges.push([u, v]);
        }
      } else if (v !== parent[u]) {
        low[u] = Math.min(low[u], disc[v]);
      }
    }
  }

  /**
   * Returns the connected components of the graph.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Set[]} Connected components as sets.
   */
  static getConnectedComponents(adjacencyMatrix) {
    let length = adjacencyMatrix.length;
    let visited = new Array(length);
    let components = new Array();
    let count = 0;
    visited.fill(false);
    for (var u = 0; u < length; u++) {
      if (!visited[u]) {
        let component = Array();
        visited[u] = true;
        component.push(u);
        count++;
        Graph._ccGetDfs(u, visited, adjacencyMatrix, component);
        if (component.length > 1) {
          components.push(component);
        }
      }
    }
    return components;
  }

  /**
   * Returns the number of connected components for the graph. 
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Number} The number of connected components of the supplied graph.
   */
  static getConnectedComponentCount(adjacencyMatrix) {
    let length = adjacencyMatrix.length;
    let visited = new Array(length);
    let count = 0;
    visited.fill(false);
    for (var u = 0; u < length; u++) {
      if (!visited[u]) {
        visited[u] = true;
        count++;
        Graph._ccCountDfs(u, visited, adjacencyMatrix);
      }
    }
    return count;
  }

  /**
   * PRIVATE FUNCTION used by getConnectedComponentCount().
   */
  static _ccCountDfs(u, visited, adjacencyMatrix) {
    for (var v = 0; v < adjacencyMatrix[u].length; v++) {
      let c = adjacencyMatrix[u][v];
      if (!c || visited[v] || u === v) {
        continue;
      }
      visited[v] = true;
      Graph._ccCountDfs(v, visited, adjacencyMatrix);
    }
  }

  /**
   * PRIVATE FUNCTION used by getConnectedComponents().
   */
  static _ccGetDfs(u, visited, adjacencyMatrix, component) {
    for (var v = 0; v < adjacencyMatrix[u].length; v++) {
      let c = adjacencyMatrix[u][v];
      if (!c || visited[v] || u === v) {
        continue;
      }
      visited[v] = true;
      component.push(v);
      Graph._ccGetDfs(v, visited, adjacencyMatrix, component);
    }
  }
}
module.exports = Graph;

/***/ }),

/***/ "./src/Line.js":
/*!*********************!*\
  !*** ./src/Line.js ***!
  \*********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");

/** 
 * A class representing a line.
 * 
 * @property {Vector2} from The Vector2 defining the start of the line.
 * @property {Vector2} to The Vector2 defining the end of the line.
 * @property {String} elementFrom The element symbol associated with the start of the line.
 * @property {String} elementTo The element symbol associated with the end of the line.
 * @property {Boolean} chiralFrom A boolean indicating whether or not the source atom is a chiral center.
 * @property {Boolean} chiralTo A boolean indicating whether or tno the target atom is a chiral center.
 */
class Line {
  /**
   * The constructor for the class Line.
   *
   * @param {Vector2} [from=new Vector2(0, 0)] A vector marking the beginning of the line.
   * @param {Vector2} [to=new Vector2(0, 0)] A vector marking the end of the line.
   * @param {string} [elementFrom=null] A one-letter representation of the element associated with the vector marking the beginning of the line.
   * @param {string} [elementTo=null] A one-letter representation of the element associated with the vector marking the end of the line.
   * @param {Boolean} [chiralFrom=false] Whether or not the from atom is a chiral center.
   * @param {Boolean} [chiralTo=false] Whether or not the to atom is a chiral center.
   */
  constructor(from = new Vector2(0, 0), to = new Vector2(0, 0), elementFrom = null, elementTo = null, chiralFrom = false, chiralTo = false) {
    this.from = from;
    this.to = to;
    this.elementFrom = elementFrom;
    this.elementTo = elementTo;
    this.chiralFrom = chiralFrom;
    this.chiralTo = chiralTo;
  }

  /**
   * Clones this line and returns the clone.
   *
   * @returns {Line} A clone of this line.
   */
  clone() {
    return new Line(this.from.clone(), this.to.clone(), this.elementFrom, this.elementTo);
  }

  /**
   * Returns the length of this line.
   *
   * @returns {Number} The length of this line.
   */
  getLength() {
    return Math.sqrt(Math.pow(this.to.x - this.from.x, 2) + Math.pow(this.to.y - this.from.y, 2));
  }

  /**
   * Returns the angle of the line in relation to the coordinate system (the x-axis).
   *
   * @returns {Number} The angle in radians.
   */
  getAngle() {
    // Get the angle between the line and the x-axis
    let diff = Vector2.subtract(this.getRightVector(), this.getLeftVector());
    return diff.angle();
  }

  /**
   * Returns the right vector (the vector with the larger x value).
   *
   * @returns {Vector2} The right vector.
   */
  getRightVector() {
    // Return the vector with the larger x value (the right one)
    if (this.from.x < this.to.x) {
      return this.to;
    } else {
      return this.from;
    }
  }

  /**
   * Returns the left vector (the vector with the smaller x value).
   *
   * @returns {Vector2} The left vector.
   */
  getLeftVector() {
    // Return the vector with the smaller x value (the left one)
    if (this.from.x < this.to.x) {
      return this.from;
    } else {
      return this.to;
    }
  }

  /**
   * Returns the element associated with the right vector (the vector with the larger x value).
   *
   * @returns {String} The element associated with the right vector.
   */
  getRightElement() {
    if (this.from.x < this.to.x) {
      return this.elementTo;
    } else {
      return this.elementFrom;
    }
  }

  /**
   * Returns the element associated with the left vector (the vector with the smaller x value).
   *
   * @returns {String} The element associated with the left vector.
   */
  getLeftElement() {
    if (this.from.x < this.to.x) {
      return this.elementFrom;
    } else {
      return this.elementTo;
    }
  }

  /**
   * Returns whether or not the atom associated with the right vector (the vector with the larger x value) is a chiral center.
   *
   * @returns {Boolean} Whether or not the atom associated with the right vector is a chiral center.
   */
  getRightChiral() {
    if (this.from.x < this.to.x) {
      return this.chiralTo;
    } else {
      return this.chiralFrom;
    }
  }

  /**
   * Returns whether or not the atom associated with the left vector (the vector with the smaller x value) is a chiral center.
   *
   * @returns {Boolean} Whether or not the atom  associated with the left vector is a chiral center.
   */
  getLeftChiral() {
    if (this.from.x < this.to.x) {
      return this.chiralFrom;
    } else {
      return this.chiralTo;
    }
  }

  /**
   * Set the value of the right vector.
   *
   * @param {Number} x The x value.
   * @param {Number} y The y value.
   * @returns {Line} This line.
   */
  setRightVector(x, y) {
    if (this.from.x < this.to.x) {
      this.to.x = x;
      this.to.y = y;
    } else {
      this.from.x = x;
      this.from.y = y;
    }
    return this;
  }

  /**
   * Set the value of the left vector.
   *
   * @param {Number} x The x value.
   * @param {Number} y The y value.
   * @returns {Line} This line.
   */
  setLeftVector(x, y) {
    if (this.from.x < this.to.x) {
      this.from.x = x;
      this.from.y = y;
    } else {
      this.to.x = x;
      this.to.y = y;
    }
    return this;
  }

  /**
   * Rotates this line to be aligned with the x-axis. The center of rotation is the left vector.
   *
   * @returns {Line} This line.
   */
  rotateToXAxis() {
    let left = this.getLeftVector();
    this.setRightVector(left.x + this.getLength(), left.y);
    return this;
  }

  /**
   * Rotate the line by a given value (in radians). The center of rotation is the left vector.
   *
   * @param {Number} theta The angle (in radians) to rotate the line.
   * @returns {Line} This line.
   */
  rotate(theta) {
    let l = this.getLeftVector();
    let r = this.getRightVector();
    let sinTheta = Math.sin(theta);
    let cosTheta = Math.cos(theta);
    let x = cosTheta * (r.x - l.x) - sinTheta * (r.y - l.y) + l.x;
    let y = sinTheta * (r.x - l.x) - cosTheta * (r.y - l.y) + l.y;
    this.setRightVector(x, y);
    return this;
  }

  /**
   * Shortens this line from the "from" direction by a given value (in pixels).
   *
   * @param {Number} by The length in pixels to shorten the vector by.
   * @returns {Line} This line.
   */
  shortenFrom(by) {
    let f = Vector2.subtract(this.to, this.from);
    f.normalize();
    f.multiplyScalar(by);
    this.from.add(f);
    return this;
  }

  /**
   * Shortens this line from the "to" direction by a given value (in pixels).
   *
   * @param {Number} by The length in pixels to shorten the vector by.
   * @returns {Line} This line.
   */
  shortenTo(by) {
    let f = Vector2.subtract(this.from, this.to);
    f.normalize();
    f.multiplyScalar(by);
    this.to.add(f);
    return this;
  }

  /**
   * Shorten the right side.
   *
   * @param {Number} by The length in pixels to shorten the vector by.
   * @returns {Line} Returns itself.
   */
  shortenRight(by) {
    if (this.from.x < this.to.x) {
      this.shortenTo(by);
    } else {
      this.shortenFrom(by);
    }
    return this;
  }

  /**
   * Shorten the left side.
   * 
   * @param {Number} by The length in pixels to shorten the vector by.
   * @returns {Line} Returns itself.
   */
  shortenLeft(by) {
    if (this.from.x < this.to.x) {
      this.shortenFrom(by);
    } else {
      this.shortenTo(by);
    }
    return this;
  }

  /**
   * Shortens this line from both directions by a given value (in pixels).
   *
   * @param {Number} by The length in pixels to shorten the vector by.
   * @returns {Line} This line.
   */
  shorten(by) {
    let f = Vector2.subtract(this.from, this.to);
    f.normalize();
    f.multiplyScalar(by / 2.0);
    this.to.add(f);
    this.from.subtract(f);
    return this;
  }
}
module.exports = Line;

/***/ }),

/***/ "./src/MathHelper.js":
/*!***************************!*\
  !*** ./src/MathHelper.js ***!
  \***************************/
/***/ ((module) => {

/** 
 * A static class containing helper functions for math-related tasks. 
 */
class MathHelper {
  /**
   * Rounds a value to a given number of decimals.
   *
   * @static
   * @param {Number} value A number.
   * @param {Number} decimals The number of decimals.
   * @returns {Number} A number rounded to a given number of decimals.
   */
  static round(value, decimals) {
    decimals = decimals ? decimals : 1;
    return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);
  }

  /**
   * Returns the means of the angles contained in an array. In radians.
   *
   * @static
   * @param {Number[]} arr An array containing angles (in radians).
   * @returns {Number} The mean angle in radians.
   */
  static meanAngle(arr) {
    let sin = 0.0;
    let cos = 0.0;
    for (var i = 0; i < arr.length; i++) {
      sin += Math.sin(arr[i]);
      cos += Math.cos(arr[i]);
    }
    return Math.atan2(sin / arr.length, cos / arr.length);
  }

  /**
   * Returns the inner angle of a n-sided regular polygon.
   *
   * @static
   * @param {Number} n Number of sides of a regular polygon.
   * @returns {Number} The inner angle of a given regular polygon.
   */
  static innerAngle(n) {
    return MathHelper.toRad((n - 2) * 180 / n);
  }

  /**
   * Returns the circumradius of a n-sided regular polygon with a given side-length.
   *
   * @static
   * @param {Number} s The side length of the regular polygon.
   * @param {Number} n The number of sides.
   * @returns {Number} The circumradius of the regular polygon.
   */
  static polyCircumradius(s, n) {
    return s / (2 * Math.sin(Math.PI / n));
  }

  /**
   * Returns the apothem of a regular n-sided polygon based on its radius.
   *
   * @static
   * @param {Number} r The radius.
   * @param {Number} n The number of edges of the regular polygon.
   * @returns {Number} The apothem of a n-sided polygon based on its radius.
   */
  static apothem(r, n) {
    return r * Math.cos(Math.PI / n);
  }
  static apothemFromSideLength(s, n) {
    let r = MathHelper.polyCircumradius(s, n);
    return MathHelper.apothem(r, n);
  }

  /**
   * The central angle of a n-sided regular polygon. In radians.
   *
   * @static
   * @param {Number} n The number of sides of the regular polygon.
   * @returns {Number} The central angle of the n-sided polygon in radians.
   */
  static centralAngle(n) {
    return MathHelper.toRad(360 / n);
  }

  /**
   * Convertes radians to degrees.
   *
   * @static
   * @param {Number} rad An angle in radians.
   * @returns {Number} The angle in degrees.
   */
  static toDeg(rad) {
    return rad * MathHelper.degFactor;
  }

  /**
   * Converts degrees to radians.
   *
   * @static
   * @param {Number} deg An angle in degrees.
   * @returns {Number} The angle in radians.
   */
  static toRad(deg) {
    return deg * MathHelper.radFactor;
  }

  /**
   * Returns the parity of the permutation (1 or -1)
   * @param {(Array|Uint8Array)} arr An array containing the permutation.
   * @returns {Number} The parity of the permutation (1 or -1), where 1 means even and -1 means odd.
   */
  static parityOfPermutation(arr) {
    let visited = new Uint8Array(arr.length);
    let evenLengthCycleCount = 0;
    let traverseCycle = function (i, cycleLength = 0) {
      if (visited[i] === 1) {
        return cycleLength;
      }
      cycleLength++;
      visited[i] = 1;
      return traverseCycle(arr[i], cycleLength);
    };
    for (var i = 0; i < arr.length; i++) {
      if (visited[i] === 1) {
        continue;
      }
      let cycleLength = traverseCycle(i);
      evenLengthCycleCount += 1 - cycleLength % 2;
    }
    return evenLengthCycleCount % 2 ? -1 : 1;
  }

  /** The factor to convert degrees to radians. */
  static get radFactor() {
    return Math.PI / 180.0;
  }

  /** The factor to convert radians to degrees. */
  static get degFactor() {
    return 180.0 / Math.PI;
  }

  /** Two times PI. */
  static get twoPI() {
    return 2.0 * Math.PI;
  }
}
module.exports = MathHelper;

/***/ }),

/***/ "./src/Options.js":
/*!************************!*\
  !*** ./src/Options.js ***!
  \************************/
/***/ ((module) => {

//@ts-check

class Options {
  /**
   * A helper method to extend the default options with user supplied ones.
   */
  static extend() {
    let that = this;
    let extended = {};
    let deep = false;
    let i = 0;
    let length = arguments.length;
    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {
      deep = arguments[0];
      i++;
    }
    let merge = function (obj) {
      for (var prop in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, prop)) {
          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {
            extended[prop] = that.extend(true, extended[prop], obj[prop]);
          } else {
            extended[prop] = obj[prop];
          }
        }
      }
    };
    for (; i < length; i++) {
      let obj = arguments[i];
      merge(obj);
    }
    return extended;
  }
}
module.exports = Options;

/***/ }),

/***/ "./src/Parser.js":
/*!***********************!*\
  !*** ./src/Parser.js ***!
  \***********************/
/***/ ((module) => {

// WHEN REPLACING, CHECK FOR:
// KEEP THIS WHEN REGENERATING THE PARSER !!

module.exports = function () {
  "use strict";

  /*
   * Generated by PEG.js 0.10.0.
   *
   * http://pegjs.org/
   */
  function peg$subclass(child, parent) {
    function ctor() {
      this.constructor = child;
    }
    ctor.prototype = parent.prototype;
    child.prototype = new ctor();
  }
  function peg$SyntaxError(message, expected, found, location) {
    this.message = message;
    this.expected = expected;
    this.found = found;
    this.location = location;
    this.name = "SyntaxError";
    if (typeof Error.captureStackTrace === "function") {
      Error.captureStackTrace(this, peg$SyntaxError);
    }
  }
  peg$subclass(peg$SyntaxError, Error);
  peg$SyntaxError.buildMessage = function (expected, found) {
    var DESCRIBE_EXPECTATION_FNS = {
      literal: function (expectation) {
        return "\"" + literalEscape(expectation.text) + "\"";
      },
      "class": function (expectation) {
        var escapedParts = "",
          i;
        for (i = 0; i < expectation.parts.length; i++) {
          escapedParts += expectation.parts[i] instanceof Array ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1]) : classEscape(expectation.parts[i]);
        }
        return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";
      },
      any: function (expectation) {
        return "any character";
      },
      end: function (expectation) {
        return "end of input";
      },
      other: function (expectation) {
        return expectation.description;
      }
    };
    function hex(ch) {
      return ch.charCodeAt(0).toString(16).toUpperCase();
    }
    function literalEscape(s) {
      return s.replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/\0/g, '\\0').replace(/\t/g, '\\t').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/[\x00-\x0F]/g, function (ch) {
        return '\\x0' + hex(ch);
      }).replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) {
        return '\\x' + hex(ch);
      });
    }
    function classEscape(s) {
      return s.replace(/\\/g, '\\\\').replace(/\]/g, '\\]').replace(/\^/g, '\\^').replace(/-/g, '\\-').replace(/\0/g, '\\0').replace(/\t/g, '\\t').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/[\x00-\x0F]/g, function (ch) {
        return '\\x0' + hex(ch);
      }).replace(/[\x10-\x1F\x7F-\x9F]/g, function (ch) {
        return '\\x' + hex(ch);
      });
    }
    function describeExpectation(expectation) {
      return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);
    }
    function describeExpected(expected) {
      var descriptions = new Array(expected.length),
        i,
        j;
      for (i = 0; i < expected.length; i++) {
        descriptions[i] = describeExpectation(expected[i]);
      }
      descriptions.sort();
      if (descriptions.length > 0) {
        for (i = 1, j = 1; i < descriptions.length; i++) {
          if (descriptions[i - 1] !== descriptions[i]) {
            descriptions[j] = descriptions[i];
            j++;
          }
        }
        descriptions.length = j;
      }
      switch (descriptions.length) {
        case 1:
          return descriptions[0];
        case 2:
          return descriptions[0] + " or " + descriptions[1];
        default:
          return descriptions.slice(0, -1).join(", ") + ", or " + descriptions[descriptions.length - 1];
      }
    }
    function describeFound(found) {
      return found ? "\"" + literalEscape(found) + "\"" : "end of input";
    }
    return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";
  };
  function peg$parse(input, options) {
    options = options !== void 0 ? options : {};

    // KEEP THIS WHEN REGENERATING THE PARSER !!
    var nOpenParentheses = input.split('(').length - 1;
    var nCloseParentheses = input.split(')').length - 1;
    if (nOpenParentheses !== nCloseParentheses) {
      throw peg$buildSimpleError('The number of opening parentheses does not match the number of closing parentheses.', 0);
    }
    // KEEP THIS WHEN REGENERATING THE PARSER !!

    var peg$FAILED = {},
      peg$startRuleFunctions = {
        chain: peg$parsechain
      },
      peg$startRuleFunction = peg$parsechain,
      peg$c0 = function (s) {
        var branches = [];
        var rings = [];
        for (var i = 0; i < s[1].length; i++) {
          branches.push(s[1][i]);
        }
        for (var i = 0; i < s[2].length; i++) {
          var bond = s[2][i][0] ? s[2][i][0] : '-';
          rings.push({
            'bond': bond,
            'id': s[2][i][1]
          });
        }
        for (var i = 0; i < s[3].length; i++) {
          branches.push(s[3][i]);
        }
        for (var i = 0; i < s[6].length; i++) {
          branches.push(s[6][i]);
        }
        return {
          'atom': s[0],
          'isBracket': s[0].element ? true : false,
          'branches': branches,
          'branchCount': branches.length,
          'ringbonds': rings,
          'ringbondCount': rings.length,
          'bond': s[4] ? s[4] : '-',
          'next': s[5],
          'hasNext': s[5] ? true : false
        };
      },
      peg$c1 = "(",
      peg$c2 = peg$literalExpectation("(", false),
      peg$c3 = ")",
      peg$c4 = peg$literalExpectation(")", false),
      peg$c5 = function (b) {
        var bond = b[1] ? b[1] : '-';
        b[2].branchBond = bond;
        return b[2];
      },
      peg$c6 = function (a) {
        return a;
      },
      peg$c7 = /^[\-=#$:\/\\.]/,
      peg$c8 = peg$classExpectation(["-", "=", "#", "$", ":", "/", "\\", "."], false, false),
      peg$c9 = function (b) {
        return b;
      },
      peg$c10 = "[",
      peg$c11 = peg$literalExpectation("[", false),
      peg$c12 = "se",
      peg$c13 = peg$literalExpectation("se", false),
      peg$c14 = "as",
      peg$c15 = peg$literalExpectation("as", false),
      peg$c16 = "]",
      peg$c17 = peg$literalExpectation("]", false),
      peg$c18 = function (b) {
        return {
          'isotope': b[1],
          'element': b[2],
          'chirality': b[3],
          'hcount': b[4],
          'charge': b[5],
          'class': b[6]
        };
      },
      peg$c19 = "B",
      peg$c20 = peg$literalExpectation("B", false),
      peg$c21 = "r",
      peg$c22 = peg$literalExpectation("r", false),
      peg$c23 = "C",
      peg$c24 = peg$literalExpectation("C", false),
      peg$c25 = "l",
      peg$c26 = peg$literalExpectation("l", false),
      peg$c27 = /^[NOPSFI]/,
      peg$c28 = peg$classExpectation(["N", "O", "P", "S", "F", "I"], false, false),
      peg$c29 = function (o) {
        if (o.length > 1) return o.join('');
        return o;
      },
      peg$c30 = /^[bcnops]/,
      peg$c31 = peg$classExpectation(["b", "c", "n", "o", "p", "s"], false, false),
      peg$c32 = "*",
      peg$c33 = peg$literalExpectation("*", false),
      peg$c34 = function (w) {
        return w;
      },
      peg$c35 = /^[A-Z]/,
      peg$c36 = peg$classExpectation([["A", "Z"]], false, false),
      peg$c37 = /^[a-z]/,
      peg$c38 = peg$classExpectation([["a", "z"]], false, false),
      peg$c39 = function (e) {
        return e.join('');
      },
      peg$c40 = "%",
      peg$c41 = peg$literalExpectation("%", false),
      peg$c42 = /^[1-9]/,
      peg$c43 = peg$classExpectation([["1", "9"]], false, false),
      peg$c44 = /^[0-9]/,
      peg$c45 = peg$classExpectation([["0", "9"]], false, false),
      peg$c46 = function (r) {
        if (r.length == 1) return Number(r);
        return Number(r.join('').replace('%', ''));
      },
      peg$c47 = "@",
      peg$c48 = peg$literalExpectation("@", false),
      peg$c49 = "TH",
      peg$c50 = peg$literalExpectation("TH", false),
      peg$c51 = /^[12]/,
      peg$c52 = peg$classExpectation(["1", "2"], false, false),
      peg$c53 = "AL",
      peg$c54 = peg$literalExpectation("AL", false),
      peg$c55 = "SP",
      peg$c56 = peg$literalExpectation("SP", false),
      peg$c57 = /^[1-3]/,
      peg$c58 = peg$classExpectation([["1", "3"]], false, false),
      peg$c59 = "TB",
      peg$c60 = peg$literalExpectation("TB", false),
      peg$c61 = "OH",
      peg$c62 = peg$literalExpectation("OH", false),
      peg$c63 = function (c) {
        if (!c[1]) return '@';
        if (c[1] == '@') return '@@';
        return c[1].join('').replace(',', '');
      },
      peg$c64 = function (c) {
        return c;
      },
      peg$c65 = "+",
      peg$c66 = peg$literalExpectation("+", false),
      peg$c67 = function (c) {
        if (!c[1]) return 1;
        if (c[1] != '+') return Number(c[1].join(''));
        return 2;
      },
      peg$c68 = "-",
      peg$c69 = peg$literalExpectation("-", false),
      peg$c70 = function (c) {
        if (!c[1]) return -1;
        if (c[1] != '-') return -Number(c[1].join(''));
        return -2;
      },
      peg$c71 = "H",
      peg$c72 = peg$literalExpectation("H", false),
      peg$c73 = function (h) {
        if (h[1]) return Number(h[1]);
        return 1;
      },
      peg$c74 = ":",
      peg$c75 = peg$literalExpectation(":", false),
      peg$c76 = /^[0]/,
      peg$c77 = peg$classExpectation(["0"], false, false),
      peg$c78 = function (c) {
        return Number(c[1][0] + c[1][1].join(''));
      },
      peg$c79 = function (i) {
        return Number(i.join(''));
      },
      peg$currPos = 0,
      peg$savedPos = 0,
      peg$posDetailsCache = [{
        line: 1,
        column: 1
      }],
      peg$maxFailPos = 0,
      peg$maxFailExpected = [],
      peg$silentFails = 0,
      peg$result;
    if ("startRule" in options) {
      if (!(options.startRule in peg$startRuleFunctions)) {
        throw new Error("Can't start parsing from rule \"" + options.startRule + "\".");
      }
      peg$startRuleFunction = peg$startRuleFunctions[options.startRule];
    }
    function text() {
      return input.substring(peg$savedPos, peg$currPos);
    }
    function location() {
      return peg$computeLocation(peg$savedPos, peg$currPos);
    }
    function expected(description, location) {
      location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos);
      throw peg$buildStructuredError([peg$otherExpectation(description)], input.substring(peg$savedPos, peg$currPos), location);
    }
    function error(message, location) {
      location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos);
      throw peg$buildSimpleError(message, location);
    }
    function peg$literalExpectation(text, ignoreCase) {
      return {
        type: "literal",
        text: text,
        ignoreCase: ignoreCase
      };
    }
    function peg$classExpectation(parts, inverted, ignoreCase) {
      return {
        type: "class",
        parts: parts,
        inverted: inverted,
        ignoreCase: ignoreCase
      };
    }
    function peg$anyExpectation() {
      return {
        type: "any"
      };
    }
    function peg$endExpectation() {
      return {
        type: "end"
      };
    }
    function peg$otherExpectation(description) {
      return {
        type: "other",
        description: description
      };
    }
    function peg$computePosDetails(pos) {
      var details = peg$posDetailsCache[pos],
        p;
      if (details) {
        return details;
      } else {
        p = pos - 1;
        while (!peg$posDetailsCache[p]) {
          p--;
        }
        details = peg$posDetailsCache[p];
        details = {
          line: details.line,
          column: details.column
        };
        while (p < pos) {
          if (input.charCodeAt(p) === 10) {
            details.line++;
            details.column = 1;
          } else {
            details.column++;
          }
          p++;
        }
        peg$posDetailsCache[pos] = details;
        return details;
      }
    }
    function peg$computeLocation(startPos, endPos) {
      var startPosDetails = peg$computePosDetails(startPos),
        endPosDetails = peg$computePosDetails(endPos);
      return {
        start: {
          offset: startPos,
          line: startPosDetails.line,
          column: startPosDetails.column
        },
        end: {
          offset: endPos,
          line: endPosDetails.line,
          column: endPosDetails.column
        }
      };
    }
    function peg$fail(expected) {
      if (peg$currPos < peg$maxFailPos) {
        return;
      }
      if (peg$currPos > peg$maxFailPos) {
        peg$maxFailPos = peg$currPos;
        peg$maxFailExpected = [];
      }
      peg$maxFailExpected.push(expected);
    }
    function peg$buildSimpleError(message, location) {
      return new peg$SyntaxError(message, null, null, location);
    }
    function peg$buildStructuredError(expected, found, location) {
      return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected, found), expected, found, location);
    }
    function peg$parsechain() {
      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;
      s0 = peg$currPos;
      s1 = peg$currPos;
      s2 = peg$parseatom();
      if (s2 !== peg$FAILED) {
        s3 = [];
        s4 = peg$parsebranch();
        while (s4 !== peg$FAILED) {
          s3.push(s4);
          s4 = peg$parsebranch();
        }
        if (s3 !== peg$FAILED) {
          s4 = [];
          s5 = peg$currPos;
          s6 = peg$parsebond();
          if (s6 === peg$FAILED) {
            s6 = null;
          }
          if (s6 !== peg$FAILED) {
            s7 = peg$parsering();
            if (s7 !== peg$FAILED) {
              s6 = [s6, s7];
              s5 = s6;
            } else {
              peg$currPos = s5;
              s5 = peg$FAILED;
            }
          } else {
            peg$currPos = s5;
            s5 = peg$FAILED;
          }
          while (s5 !== peg$FAILED) {
            s4.push(s5);
            s5 = peg$currPos;
            s6 = peg$parsebond();
            if (s6 === peg$FAILED) {
              s6 = null;
            }
            if (s6 !== peg$FAILED) {
              s7 = peg$parsering();
              if (s7 !== peg$FAILED) {
                s6 = [s6, s7];
                s5 = s6;
              } else {
                peg$currPos = s5;
                s5 = peg$FAILED;
              }
            } else {
              peg$currPos = s5;
              s5 = peg$FAILED;
            }
          }
          if (s4 !== peg$FAILED) {
            s5 = [];
            s6 = peg$parsebranch();
            while (s6 !== peg$FAILED) {
              s5.push(s6);
              s6 = peg$parsebranch();
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parsebond();
              if (s6 === peg$FAILED) {
                s6 = null;
              }
              if (s6 !== peg$FAILED) {
                s7 = peg$parsechain();
                if (s7 === peg$FAILED) {
                  s7 = null;
                }
                if (s7 !== peg$FAILED) {
                  s8 = [];
                  s9 = peg$parsebranch();
                  while (s9 !== peg$FAILED) {
                    s8.push(s9);
                    s9 = peg$parsebranch();
                  }
                  if (s8 !== peg$FAILED) {
                    s2 = [s2, s3, s4, s5, s6, s7, s8];
                    s1 = s2;
                  } else {
                    peg$currPos = s1;
                    s1 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s1;
                  s1 = peg$FAILED;
                }
              } else {
                peg$currPos = s1;
                s1 = peg$FAILED;
              }
            } else {
              peg$currPos = s1;
              s1 = peg$FAILED;
            }
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c0(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsebranch() {
      var s0, s1, s2, s3, s4, s5;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 40) {
        s2 = peg$c1;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c2);
        }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$parsebond();
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s4 = peg$parsechain();
          if (s4 !== peg$FAILED) {
            if (input.charCodeAt(peg$currPos) === 41) {
              s5 = peg$c3;
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c4);
              }
            }
            if (s5 !== peg$FAILED) {
              s2 = [s2, s3, s4, s5];
              s1 = s2;
            } else {
              peg$currPos = s1;
              s1 = peg$FAILED;
            }
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c5(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseatom() {
      var s0, s1;
      s0 = peg$currPos;
      s1 = peg$parseorganicsymbol();
      if (s1 === peg$FAILED) {
        s1 = peg$parsearomaticsymbol();
        if (s1 === peg$FAILED) {
          s1 = peg$parsebracketatom();
          if (s1 === peg$FAILED) {
            s1 = peg$parsewildcard();
          }
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c6(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsebond() {
      var s0, s1;
      s0 = peg$currPos;
      if (peg$c7.test(input.charAt(peg$currPos))) {
        s1 = input.charAt(peg$currPos);

        // Hack to resolve problem caused by:
        // O=C(N[C@@H](CC(O)=O)C(N[C@H](C1=CC=C(O)C=C1)C(N[C@@H](CC(O)=O)C(NCC(N[C@@H](C(N[C@@H]([C@H](C)CC(O)=O)C(N/C(C(O[C@H](C)[C@@H]2NC([C@H](CO)NC(C(O3)C3CCC)=O)=O)=O)=C\\\\C4=CNC5=C4C=CC=C5)=O)=O)[C@H](O)C(N)=O)=O)=O)=O)=O)[C@H](CC(O)=O)NC([C@@H](CC6=CNC7=C6C=CC=C7)NC2=O)=O
        // KEEP THIS WHEN REGENERATING THE PARSER !!
        if (s1 === input.charAt(peg$currPos + 1)) {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) {
            throw peg$buildSimpleError('The parser encountered a bond repetition.', peg$currPos + 1);
          }
        }
        // KEEP THIS WHEN REGENERATING THE PARSER !!

        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c8);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c9(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsebracketatom() {
      var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 91) {
        s2 = peg$c10;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c11);
        }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$parseisotope();
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          if (input.substr(peg$currPos, 2) === peg$c12) {
            s4 = peg$c12;
            peg$currPos += 2;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c13);
            }
          }
          if (s4 === peg$FAILED) {
            if (input.substr(peg$currPos, 2) === peg$c14) {
              s4 = peg$c14;
              peg$currPos += 2;
            } else {
              s4 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c15);
              }
            }
            if (s4 === peg$FAILED) {
              s4 = peg$parsearomaticsymbol();
              if (s4 === peg$FAILED) {
                s4 = peg$parseelementsymbol();
                if (s4 === peg$FAILED) {
                  s4 = peg$parsewildcard();
                }
              }
            }
          }
          if (s4 !== peg$FAILED) {
            s5 = peg$parsechiral();
            if (s5 === peg$FAILED) {
              s5 = null;
            }
            if (s5 !== peg$FAILED) {
              s6 = peg$parsehcount();
              if (s6 === peg$FAILED) {
                s6 = null;
              }
              if (s6 !== peg$FAILED) {
                s7 = peg$parsecharge();
                if (s7 === peg$FAILED) {
                  s7 = null;
                }
                if (s7 !== peg$FAILED) {
                  s8 = peg$parseclass();
                  if (s8 === peg$FAILED) {
                    s8 = null;
                  }
                  if (s8 !== peg$FAILED) {
                    if (input.charCodeAt(peg$currPos) === 93) {
                      s9 = peg$c16;
                      peg$currPos++;
                    } else {
                      s9 = peg$FAILED;
                      if (peg$silentFails === 0) {
                        peg$fail(peg$c17);
                      }
                    }
                    if (s9 !== peg$FAILED) {
                      s2 = [s2, s3, s4, s5, s6, s7, s8, s9];
                      s1 = s2;
                    } else {
                      peg$currPos = s1;
                      s1 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s1;
                    s1 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s1;
                  s1 = peg$FAILED;
                }
              } else {
                peg$currPos = s1;
                s1 = peg$FAILED;
              }
            } else {
              peg$currPos = s1;
              s1 = peg$FAILED;
            }
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c18(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseorganicsymbol() {
      var s0, s1, s2, s3;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 66) {
        s2 = peg$c19;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c20);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 114) {
          s3 = peg$c21;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c22);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 === peg$FAILED) {
        s1 = peg$currPos;
        if (input.charCodeAt(peg$currPos) === 67) {
          s2 = peg$c23;
          peg$currPos++;
        } else {
          s2 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c24);
          }
        }
        if (s2 !== peg$FAILED) {
          if (input.charCodeAt(peg$currPos) === 108) {
            s3 = peg$c25;
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c26);
            }
          }
          if (s3 === peg$FAILED) {
            s3 = null;
          }
          if (s3 !== peg$FAILED) {
            s2 = [s2, s3];
            s1 = s2;
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
        if (s1 === peg$FAILED) {
          if (peg$c27.test(input.charAt(peg$currPos))) {
            s1 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s1 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c28);
            }
          }
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c29(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsearomaticsymbol() {
      var s0, s1;
      s0 = peg$currPos;
      if (peg$c30.test(input.charAt(peg$currPos))) {
        s1 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c31);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c6(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsewildcard() {
      var s0, s1;
      s0 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 42) {
        s1 = peg$c32;
        peg$currPos++;
      } else {
        s1 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c33);
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c34(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseelementsymbol() {
      var s0, s1, s2, s3;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (peg$c35.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c36);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c37.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c38);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c39(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsering() {
      var s0, s1, s2, s3, s4;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 37) {
        s2 = peg$c40;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c41);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c42.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c43);
          }
        }
        if (s3 !== peg$FAILED) {
          if (peg$c44.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c45);
            }
          }
          if (s4 !== peg$FAILED) {
            s2 = [s2, s3, s4];
            s1 = s2;
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 === peg$FAILED) {
        if (peg$c44.test(input.charAt(peg$currPos))) {
          s1 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s1 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c45);
          }
        }
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c46(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsechiral() {
      var s0, s1, s2, s3, s4, s5, s6;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 64) {
        s2 = peg$c47;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c48);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 64) {
          s3 = peg$c47;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c48);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (input.substr(peg$currPos, 2) === peg$c49) {
            s4 = peg$c49;
            peg$currPos += 2;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c50);
            }
          }
          if (s4 !== peg$FAILED) {
            if (peg$c51.test(input.charAt(peg$currPos))) {
              s5 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c52);
              }
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
          if (s3 === peg$FAILED) {
            s3 = peg$currPos;
            if (input.substr(peg$currPos, 2) === peg$c53) {
              s4 = peg$c53;
              peg$currPos += 2;
            } else {
              s4 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c54);
              }
            }
            if (s4 !== peg$FAILED) {
              if (peg$c51.test(input.charAt(peg$currPos))) {
                s5 = input.charAt(peg$currPos);
                peg$currPos++;
              } else {
                s5 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$c52);
                }
              }
              if (s5 !== peg$FAILED) {
                s4 = [s4, s5];
                s3 = s4;
              } else {
                peg$currPos = s3;
                s3 = peg$FAILED;
              }
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
            if (s3 === peg$FAILED) {
              s3 = peg$currPos;
              if (input.substr(peg$currPos, 2) === peg$c55) {
                s4 = peg$c55;
                peg$currPos += 2;
              } else {
                s4 = peg$FAILED;
                if (peg$silentFails === 0) {
                  peg$fail(peg$c56);
                }
              }
              if (s4 !== peg$FAILED) {
                if (peg$c57.test(input.charAt(peg$currPos))) {
                  s5 = input.charAt(peg$currPos);
                  peg$currPos++;
                } else {
                  s5 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$c58);
                  }
                }
                if (s5 !== peg$FAILED) {
                  s4 = [s4, s5];
                  s3 = s4;
                } else {
                  peg$currPos = s3;
                  s3 = peg$FAILED;
                }
              } else {
                peg$currPos = s3;
                s3 = peg$FAILED;
              }
              if (s3 === peg$FAILED) {
                s3 = peg$currPos;
                if (input.substr(peg$currPos, 2) === peg$c59) {
                  s4 = peg$c59;
                  peg$currPos += 2;
                } else {
                  s4 = peg$FAILED;
                  if (peg$silentFails === 0) {
                    peg$fail(peg$c60);
                  }
                }
                if (s4 !== peg$FAILED) {
                  if (peg$c42.test(input.charAt(peg$currPos))) {
                    s5 = input.charAt(peg$currPos);
                    peg$currPos++;
                  } else {
                    s5 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$c43);
                    }
                  }
                  if (s5 !== peg$FAILED) {
                    if (peg$c44.test(input.charAt(peg$currPos))) {
                      s6 = input.charAt(peg$currPos);
                      peg$currPos++;
                    } else {
                      s6 = peg$FAILED;
                      if (peg$silentFails === 0) {
                        peg$fail(peg$c45);
                      }
                    }
                    if (s6 === peg$FAILED) {
                      s6 = null;
                    }
                    if (s6 !== peg$FAILED) {
                      s4 = [s4, s5, s6];
                      s3 = s4;
                    } else {
                      peg$currPos = s3;
                      s3 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s3;
                    s3 = peg$FAILED;
                  }
                } else {
                  peg$currPos = s3;
                  s3 = peg$FAILED;
                }
                if (s3 === peg$FAILED) {
                  s3 = peg$currPos;
                  if (input.substr(peg$currPos, 2) === peg$c61) {
                    s4 = peg$c61;
                    peg$currPos += 2;
                  } else {
                    s4 = peg$FAILED;
                    if (peg$silentFails === 0) {
                      peg$fail(peg$c62);
                    }
                  }
                  if (s4 !== peg$FAILED) {
                    if (peg$c42.test(input.charAt(peg$currPos))) {
                      s5 = input.charAt(peg$currPos);
                      peg$currPos++;
                    } else {
                      s5 = peg$FAILED;
                      if (peg$silentFails === 0) {
                        peg$fail(peg$c43);
                      }
                    }
                    if (s5 !== peg$FAILED) {
                      if (peg$c44.test(input.charAt(peg$currPos))) {
                        s6 = input.charAt(peg$currPos);
                        peg$currPos++;
                      } else {
                        s6 = peg$FAILED;
                        if (peg$silentFails === 0) {
                          peg$fail(peg$c45);
                        }
                      }
                      if (s6 === peg$FAILED) {
                        s6 = null;
                      }
                      if (s6 !== peg$FAILED) {
                        s4 = [s4, s5, s6];
                        s3 = s4;
                      } else {
                        peg$currPos = s3;
                        s3 = peg$FAILED;
                      }
                    } else {
                      peg$currPos = s3;
                      s3 = peg$FAILED;
                    }
                  } else {
                    peg$currPos = s3;
                    s3 = peg$FAILED;
                  }
                }
              }
            }
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c63(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsecharge() {
      var s0, s1;
      s0 = peg$currPos;
      s1 = peg$parseposcharge();
      if (s1 === peg$FAILED) {
        s1 = peg$parsenegcharge();
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c64(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseposcharge() {
      var s0, s1, s2, s3, s4, s5;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 43) {
        s2 = peg$c65;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c66);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 43) {
          s3 = peg$c65;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c66);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (peg$c42.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c43);
            }
          }
          if (s4 !== peg$FAILED) {
            if (peg$c44.test(input.charAt(peg$currPos))) {
              s5 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c45);
              }
            }
            if (s5 === peg$FAILED) {
              s5 = null;
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c67(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsenegcharge() {
      var s0, s1, s2, s3, s4, s5;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 45) {
        s2 = peg$c68;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c69);
        }
      }
      if (s2 !== peg$FAILED) {
        if (input.charCodeAt(peg$currPos) === 45) {
          s3 = peg$c68;
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c69);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = peg$currPos;
          if (peg$c42.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c43);
            }
          }
          if (s4 !== peg$FAILED) {
            if (peg$c44.test(input.charAt(peg$currPos))) {
              s5 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s5 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c45);
              }
            }
            if (s5 === peg$FAILED) {
              s5 = null;
            }
            if (s5 !== peg$FAILED) {
              s4 = [s4, s5];
              s3 = s4;
            } else {
              peg$currPos = s3;
              s3 = peg$FAILED;
            }
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c70(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parsehcount() {
      var s0, s1, s2, s3;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 72) {
        s2 = peg$c71;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c72);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c44.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c45);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c73(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseclass() {
      var s0, s1, s2, s3, s4, s5, s6;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (input.charCodeAt(peg$currPos) === 58) {
        s2 = peg$c74;
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c75);
        }
      }
      if (s2 !== peg$FAILED) {
        s3 = peg$currPos;
        if (peg$c42.test(input.charAt(peg$currPos))) {
          s4 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s4 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c43);
          }
        }
        if (s4 !== peg$FAILED) {
          s5 = [];
          if (peg$c44.test(input.charAt(peg$currPos))) {
            s6 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s6 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c45);
            }
          }
          while (s6 !== peg$FAILED) {
            s5.push(s6);
            if (peg$c44.test(input.charAt(peg$currPos))) {
              s6 = input.charAt(peg$currPos);
              peg$currPos++;
            } else {
              s6 = peg$FAILED;
              if (peg$silentFails === 0) {
                peg$fail(peg$c45);
              }
            }
          }
          if (s5 !== peg$FAILED) {
            s4 = [s4, s5];
            s3 = s4;
          } else {
            peg$currPos = s3;
            s3 = peg$FAILED;
          }
        } else {
          peg$currPos = s3;
          s3 = peg$FAILED;
        }
        if (s3 === peg$FAILED) {
          if (peg$c76.test(input.charAt(peg$currPos))) {
            s3 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s3 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c77);
            }
          }
        }
        if (s3 !== peg$FAILED) {
          s2 = [s2, s3];
          s1 = s2;
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c78(s1);
      }
      s0 = s1;
      return s0;
    }
    function peg$parseisotope() {
      var s0, s1, s2, s3, s4;
      s0 = peg$currPos;
      s1 = peg$currPos;
      if (peg$c42.test(input.charAt(peg$currPos))) {
        s2 = input.charAt(peg$currPos);
        peg$currPos++;
      } else {
        s2 = peg$FAILED;
        if (peg$silentFails === 0) {
          peg$fail(peg$c43);
        }
      }
      if (s2 !== peg$FAILED) {
        if (peg$c44.test(input.charAt(peg$currPos))) {
          s3 = input.charAt(peg$currPos);
          peg$currPos++;
        } else {
          s3 = peg$FAILED;
          if (peg$silentFails === 0) {
            peg$fail(peg$c45);
          }
        }
        if (s3 === peg$FAILED) {
          s3 = null;
        }
        if (s3 !== peg$FAILED) {
          if (peg$c44.test(input.charAt(peg$currPos))) {
            s4 = input.charAt(peg$currPos);
            peg$currPos++;
          } else {
            s4 = peg$FAILED;
            if (peg$silentFails === 0) {
              peg$fail(peg$c45);
            }
          }
          if (s4 === peg$FAILED) {
            s4 = null;
          }
          if (s4 !== peg$FAILED) {
            s2 = [s2, s3, s4];
            s1 = s2;
          } else {
            peg$currPos = s1;
            s1 = peg$FAILED;
          }
        } else {
          peg$currPos = s1;
          s1 = peg$FAILED;
        }
      } else {
        peg$currPos = s1;
        s1 = peg$FAILED;
      }
      if (s1 !== peg$FAILED) {
        peg$savedPos = s0;
        s1 = peg$c79(s1);
      }
      s0 = s1;
      return s0;
    }
    peg$result = peg$startRuleFunction();
    if (peg$result !== peg$FAILED && peg$currPos === input.length) {
      return peg$result;
    } else {
      if (peg$result !== peg$FAILED && peg$currPos < input.length) {
        peg$fail(peg$endExpectation());
      }
      throw peg$buildStructuredError(peg$maxFailExpected, peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null, peg$maxFailPos < input.length ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1) : peg$computeLocation(peg$maxFailPos, peg$maxFailPos));
    }
  }
  return {
    SyntaxError: peg$SyntaxError,
    parse: peg$parse
  };
}();

/***/ }),

/***/ "./src/PixelsToSvg.js":
/*!****************************!*\
  !*** ./src/PixelsToSvg.js ***!
  \****************************/
/***/ ((module) => {

// Adapted from https://codepen.io/shshaw/pen/XbxvNj by 

function convertImage(img) {
  "use strict";

  function each(obj, fn) {
    var length = obj.length,
      likeArray = length === 0 || length > 0 && length - 1 in obj,
      i = 0;
    if (likeArray) {
      for (; i < length; i++) {
        if (fn.call(obj[i], i, obj[i]) === false) {
          break;
        }
      }
    } else {
      for (i in obj) {
        if (fn.call(obj[i], i, obj[i]) === false) {
          break;
        }
      }
    }
  }
  function componentToHex(c) {
    var hex = parseInt(c).toString(16);
    return hex.length == 1 ? "0" + hex : hex;
  }
  function getColor(r, g, b, a) {
    a = parseInt(a);
    if (a === undefined || a === 255) {
      return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
    }
    if (a === 0) {
      return false;
    }
    return 'rgba(' + r + ',' + g + ',' + b + ',' + a / 255 + ')';
  }

  // Optimized for horizontal lines
  function makePathData(x, y, w) {
    return 'M' + x + ' ' + y + 'h' + w + '';
  }
  function makePath(color, data) {
    return '<path stroke="' + color + '" d="' + data + '" />\n';
  }
  function colorsToPaths(colors) {
    var output = "";

    // Loop through each color to build paths
    each(colors, function (color, values) {
      var orig = color;
      color = getColor.apply(null, color.split(','));
      if (color === false) {
        return;
      }
      var paths = [];
      var curPath;
      var w = 1;

      // Loops through each color's pixels to optimize paths
      each(values, function () {
        if (curPath && this[1] === curPath[1] && this[0] === curPath[0] + w) {
          w++;
        } else {
          if (curPath) {
            paths.push(makePathData(curPath[0], curPath[1], w));
            w = 1;
          }
          curPath = this;
        }
      });
      paths.push(makePathData(curPath[0], curPath[1], w)); // Finish last path
      output += makePath(color, paths.join(''));
    });
    return output;
  }
  var getColors = function (img) {
    var colors = {},
      data = img.data,
      len = data.length,
      w = img.width,
      h = img.height,
      x = 0,
      y = 0,
      i = 0,
      color;
    for (; i < len; i += 4) {
      if (data[i + 3] > 0) {
        color = data[i] + ',' + data[i + 1] + ',' + data[i + 2] + ',' + data[i + 3];
        colors[color] = colors[color] || [];
        x = i / 4 % w;
        y = Math.floor(i / 4 / w);
        colors[color].push([x, y]);
      }
    }
    return colors;
  };
  let colors = getColors(img);
  let paths = colorsToPaths(colors);
  let output = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -0.5 ' + img.width + ' ' + img.height + '" shape-rendering="crispEdges"><g shape-rendering="crispEdges">' + paths + '</g></svg>';
  var dummyDiv = document.createElement('div');
  dummyDiv.innerHTML = output;
  return dummyDiv.firstChild;
}
module.exports = convertImage;

/***/ }),

/***/ "./src/Reaction.js":
/*!*************************!*\
  !*** ./src/Reaction.js ***!
  \*************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

4; //@ts-check
const Parser = __webpack_require__(/*! ./Parser */ "./src/Parser.js");
class Reaction {
  /**
   * The constructor for the class Reaction.
   *
   * @param {string} reactionSmiles A reaction SMILES.
   */
  constructor(reactionSmiles) {
    this.reactantsSmiles = [];
    this.reagentsSmiles = [];
    this.productsSmiles = [];
    this.reactantsWeights = [];
    this.reagentsWeights = [];
    this.productsWeights = [];
    this.reactants = [];
    this.reagents = [];
    this.products = [];
    let parts = reactionSmiles.split(">");
    if (parts.length !== 3) {
      throw new Error("Invalid reaction SMILES. Did you add fewer than or more than two '>'?");
    }
    if (parts[0] !== "") {
      this.reactantsSmiles = parts[0].split(".");
    }
    if (parts[1] !== "") {
      this.reagentsSmiles = parts[1].split(".");
    }
    if (parts[2] !== "") {
      this.productsSmiles = parts[2].split(".");
    }
    for (var i = 0; i < this.reactantsSmiles.length; i++) {
      this.reactants.push(Parser.parse(this.reactantsSmiles[i]));
    }
    for (var i = 0; i < this.reagentsSmiles.length; i++) {
      this.reagents.push(Parser.parse(this.reagentsSmiles[i]));
    }
    for (var i = 0; i < this.productsSmiles.length; i++) {
      this.products.push(Parser.parse(this.productsSmiles[i]));
    }
  }
}
module.exports = Reaction;

/***/ }),

/***/ "./src/ReactionDrawer.js":
/*!*******************************!*\
  !*** ./src/ReactionDrawer.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const SvgDrawer = __webpack_require__(/*! ./SvgDrawer */ "./src/SvgDrawer.js");
const SvgWrapper = __webpack_require__(/*! ./SvgWrapper */ "./src/SvgWrapper.js");
const Options = __webpack_require__(/*! ./Options */ "./src/Options.js");
const ThemeManager = __webpack_require__(/*! ./ThemeManager */ "./src/ThemeManager.js");
const formulaToCommonName = __webpack_require__(/*! ./FormulaToCommonName */ "./src/FormulaToCommonName.js");
class ReactionDrawer {
  /**
   * The constructor for the class ReactionDrawer.
   *
   * @param {Object} options An object containing reaction drawing specitic options.
   * @param {Object} moleculeOptions An object containing molecule drawing specific options.
   */
  constructor(options, moleculeOptions) {
    this.defaultOptions = {
      scale: moleculeOptions.scale > 0.0 ? moleculeOptions.scale : 1.0,
      fontSize: moleculeOptions.fontSizeLarge * 0.8,
      fontFamily: 'Arial, Helvetica, sans-serif',
      spacing: 10,
      plus: {
        size: 9,
        thickness: 1.0
      },
      arrow: {
        length: moleculeOptions.bondLength * 4.0,
        headSize: 6.0,
        thickness: 1.0,
        margin: 3
      },
      weights: {
        normalize: false
      }
    };
    this.opts = Options.extend(true, this.defaultOptions, options);
    this.drawer = new SvgDrawer(moleculeOptions);
    this.molOpts = this.drawer.opts;
  }

  /**
  * Draws the parsed reaction smiles data to a canvas element.
  *
  * @param {Object} reaction The reaction object returned by the reaction smiles parser.
  * @param {(String|SVGElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
  * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
  * @param {?Object} weights=null The weights for reactants, agents, and products.
  * @param {String} textAbove='{reagents}' The text above the arrow.
  * @param {String} textBelow='' The text below the arrow.
  * @param {?Object} weights=null The weights for reactants, agents, and products.
  * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
  * 
  * @returns {SVGElement} The svg element
  */
  draw(reaction, target, themeName = 'light', weights = null, textAbove = '{reagents}', textBelow = '', infoOnly = false) {
    this.themeManager = new ThemeManager(this.molOpts.themes, themeName);

    // Normalize the weights over the reaction molecules
    if (this.opts.weights.normalize) {
      let max = -Number.MAX_SAFE_INTEGER;
      let min = Number.MAX_SAFE_INTEGER;
      if (weights.hasOwnProperty('reactants')) {
        for (let i = 0; i < weights.reactants.length; i++) {
          for (let j = 0; j < weights.reactants[i].length; j++) {
            if (weights.reactants[i][j] < min) {
              min = weights.reactants[i][j];
            }
            if (weights.reactants[i][j] > max) {
              max = weights.reactants[i][j];
            }
          }
        }
      }
      if (weights.hasOwnProperty('reagents')) {
        for (let i = 0; i < weights.reagents.length; i++) {
          for (let j = 0; j < weights.reagents[i].length; j++) {
            if (weights.reagents[i][j] < min) {
              min = weights.reagents[i][j];
            }
            if (weights.reagents[i][j] > max) {
              max = weights.reagents[i][j];
            }
          }
        }
      }
      if (weights.hasOwnProperty('products')) {
        for (let i = 0; i < weights.products.length; i++) {
          for (let j = 0; j < weights.products[i].length; j++) {
            if (weights.products[i][j] < min) {
              min = weights.products[i][j];
            }
            if (weights.products[i][j] > max) {
              max = weights.products[i][j];
            }
          }
        }
      }
      let abs_max = Math.max(Math.abs(min), Math.abs(max));
      if (abs_max === 0.0) {
        abs_max = 1;
      }
      if (weights.hasOwnProperty('reactants')) {
        for (let i = 0; i < weights.reactants.length; i++) {
          for (let j = 0; j < weights.reactants[i].length; j++) {
            weights.reactants[i][j] /= abs_max;
          }
        }
      }
      if (weights.hasOwnProperty('reagents')) {
        for (let i = 0; i < weights.reagents.length; i++) {
          for (let j = 0; j < weights.reagents[i].length; j++) {
            weights.reagents[i][j] /= abs_max;
          }
        }
      }
      if (weights.hasOwnProperty('products')) {
        for (let i = 0; i < weights.products.length; i++) {
          for (let j = 0; j < weights.products[i].length; j++) {
            weights.products[i][j] /= abs_max;
          }
        }
      }
    }
    let svg = null;
    if (target === null || target === 'svg') {
      svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
      svg.setAttributeNS(null, 'width', 500 + '');
      svg.setAttributeNS(null, 'height', 500 + '');
    } else if (typeof target === 'string' || target instanceof String) {
      svg = document.getElementById(target);
    } else {
      svg = target;
    }
    while (svg.firstChild) {
      svg.removeChild(svg.firstChild);
    }
    let elements = [];
    let maxHeight = 0.0;

    // Reactants
    for (var i = 0; i < reaction.reactants.length; i++) {
      if (i > 0) {
        elements.push({
          width: this.opts.plus.size * this.opts.scale,
          height: this.opts.plus.size * this.opts.scale,
          svg: this.getPlus()
        });
      }
      let reactantWeights = null;
      if (weights && weights.hasOwnProperty('reactants') && weights.reactants.length > i) {
        reactantWeights = weights.reactants[i];
      }
      let reactantSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      this.drawer.draw(reaction.reactants[i], reactantSvg, themeName, reactantWeights, infoOnly, [], this.opts.weights.normalize);
      let element = {
        width: reactantSvg.viewBox.baseVal.width * this.opts.scale,
        height: reactantSvg.viewBox.baseVal.height * this.opts.scale,
        svg: reactantSvg
      };
      elements.push(element);
      if (element.height > maxHeight) {
        maxHeight = element.height;
      }
    }

    // Arrow
    elements.push({
      width: this.opts.arrow.length * this.opts.scale,
      height: this.opts.arrow.headSize * 2.0 * this.opts.scale,
      svg: this.getArrow()
    });

    // Text above the arrow / reagents
    let reagentsText = "";
    for (var i = 0; i < reaction.reagents.length; i++) {
      if (i > 0) {
        reagentsText += ", ";
      }
      let text = this.drawer.getMolecularFormula(reaction.reagents[i]);
      if (text in formulaToCommonName) {
        text = formulaToCommonName[text];
      }
      reagentsText += SvgWrapper.replaceNumbersWithSubscript(text);
    }
    textAbove = textAbove.replace('{reagents}', reagentsText);
    const topText = SvgWrapper.writeText(textAbove, this.themeManager, this.opts.fontSize * this.opts.scale, this.opts.fontFamily, this.opts.arrow.length * this.opts.scale);
    let centerOffsetX = (this.opts.arrow.length * this.opts.scale - topText.width) / 2.0;
    elements.push({
      svg: topText.svg,
      height: topText.height,
      width: this.opts.arrow.length * this.opts.scale,
      offsetX: -(this.opts.arrow.length * this.opts.scale + this.opts.spacing) + centerOffsetX,
      offsetY: -(topText.height / 2.0) - this.opts.arrow.margin,
      position: 'relative'
    });

    // Text below arrow
    const bottomText = SvgWrapper.writeText(textBelow, this.themeManager, this.opts.fontSize * this.opts.scale, this.opts.fontFamily, this.opts.arrow.length * this.opts.scale);
    centerOffsetX = (this.opts.arrow.length * this.opts.scale - bottomText.width) / 2.0;
    elements.push({
      svg: bottomText.svg,
      height: bottomText.height,
      width: this.opts.arrow.length * this.opts.scale,
      offsetX: -(this.opts.arrow.length * this.opts.scale + this.opts.spacing) + centerOffsetX,
      offsetY: bottomText.height / 2.0 + this.opts.arrow.margin,
      position: 'relative'
    });

    // Products
    for (var i = 0; i < reaction.products.length; i++) {
      if (i > 0) {
        elements.push({
          width: this.opts.plus.size * this.opts.scale,
          height: this.opts.plus.size * this.opts.scale,
          svg: this.getPlus()
        });
      }
      let productWeights = null;
      if (weights && weights.hasOwnProperty('products') && weights.products.length > i) {
        productWeights = weights.products[i];
      }
      let productSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      this.drawer.draw(reaction.products[i], productSvg, themeName, productWeights, infoOnly, [], this.opts.weights.normalize);
      let element = {
        width: productSvg.viewBox.baseVal.width * this.opts.scale,
        height: productSvg.viewBox.baseVal.height * this.opts.scale,
        svg: productSvg
      };
      elements.push(element);
      if (element.height > maxHeight) {
        maxHeight = element.height;
      }
    }
    let totalWidth = 0.0;
    elements.forEach(element => {
      var _element$offsetX, _element$offsetY;
      let offsetX = (_element$offsetX = element.offsetX) !== null && _element$offsetX !== void 0 ? _element$offsetX : 0.0;
      let offsetY = (_element$offsetY = element.offsetY) !== null && _element$offsetY !== void 0 ? _element$offsetY : 0.0;
      element.svg.setAttributeNS(null, 'x', Math.round(totalWidth + offsetX));
      element.svg.setAttributeNS(null, 'y', Math.round((maxHeight - element.height) / 2.0 + offsetY));
      element.svg.setAttributeNS(null, 'width', Math.round(element.width));
      element.svg.setAttributeNS(null, 'height', Math.round(element.height));
      svg.appendChild(element.svg);
      if (element.position !== 'relative') {
        totalWidth += Math.round(element.width + this.opts.spacing + offsetX);
      }
    });
    svg.setAttributeNS(null, 'viewBox', `0 0 ${totalWidth} ${maxHeight}`);
    svg.style.width = totalWidth + 'px';
    svg.style.height = maxHeight + 'px';
    return svg;
  }
  getPlus() {
    let s = this.opts.plus.size;
    let w = this.opts.plus.thickness;
    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    let rect_h = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
    let rect_v = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
    svg.setAttributeNS(null, 'id', 'plus');
    rect_h.setAttributeNS(null, 'x', 0);
    rect_h.setAttributeNS(null, 'y', s / 2.0 - w / 2.0);
    rect_h.setAttributeNS(null, 'width', s);
    rect_h.setAttributeNS(null, 'height', w);
    rect_h.setAttributeNS(null, 'fill', this.themeManager.getColor("C"));
    rect_v.setAttributeNS(null, 'x', s / 2.0 - w / 2.0);
    rect_v.setAttributeNS(null, 'y', 0);
    rect_v.setAttributeNS(null, 'width', w);
    rect_v.setAttributeNS(null, 'height', s);
    rect_v.setAttributeNS(null, 'fill', this.themeManager.getColor("C"));
    svg.appendChild(rect_h);
    svg.appendChild(rect_v);
    svg.setAttributeNS(null, 'viewBox', `0 0 ${s} ${s}`);
    return svg;
  }
  getArrowhead() {
    let s = this.opts.arrow.headSize;
    let marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
    let polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
    marker.setAttributeNS(null, 'id', 'arrowhead');
    marker.setAttributeNS(null, 'viewBox', `0 0 ${s} ${s}`);
    marker.setAttributeNS(null, 'markerUnits', 'userSpaceOnUse');
    marker.setAttributeNS(null, 'markerWidth', s);
    marker.setAttributeNS(null, 'markerHeight', s);
    marker.setAttributeNS(null, 'refX', 0);
    marker.setAttributeNS(null, 'refY', s / 2);
    marker.setAttributeNS(null, 'orient', 'auto');
    marker.setAttributeNS(null, 'fill', this.themeManager.getColor("C"));
    polygon.setAttributeNS(null, 'points', `0 0, ${s} ${s / 2}, 0 ${s}`);
    marker.appendChild(polygon);
    return marker;
  }
  getCDArrowhead() {
    let s = this.opts.arrow.headSize;
    let sw = s * (7 / 4.5);
    let marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
    let path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    marker.setAttributeNS(null, 'id', 'arrowhead');
    marker.setAttributeNS(null, 'viewBox', `0 0 ${sw} ${s}`);
    marker.setAttributeNS(null, 'markerUnits', 'userSpaceOnUse');
    marker.setAttributeNS(null, 'markerWidth', sw * 2);
    marker.setAttributeNS(null, 'markerHeight', s * 2);
    marker.setAttributeNS(null, 'refX', 2.2);
    marker.setAttributeNS(null, 'refY', 2.2);
    marker.setAttributeNS(null, 'orient', 'auto');
    marker.setAttributeNS(null, 'fill', this.themeManager.getColor("C"));
    path.setAttributeNS(null, 'style', 'fill-rule:nonzero;');
    path.setAttributeNS(null, 'd', 'm 0 0 l 7 2.25 l -7 2.25 c 0 0 0.735 -1.084 0.735 -2.28 c 0 -1.196 -0.735 -2.22 -0.735 -2.22 z');
    marker.appendChild(path);
    return marker;
  }
  getArrow() {
    let s = this.opts.arrow.headSize;
    let l = this.opts.arrow.length;
    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    let defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
    let line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    defs.appendChild(this.getCDArrowhead());
    svg.appendChild(defs);
    svg.setAttributeNS(null, 'id', 'arrow');
    line.setAttributeNS(null, 'x1', 0.0);
    line.setAttributeNS(null, 'y1', -this.opts.arrow.thickness / 2.0);
    line.setAttributeNS(null, 'x2', l);
    line.setAttributeNS(null, 'y2', -this.opts.arrow.thickness / 2.0);
    line.setAttributeNS(null, 'stroke-width', this.opts.arrow.thickness);
    line.setAttributeNS(null, 'stroke', this.themeManager.getColor("C"));
    line.setAttributeNS(null, 'marker-end', 'url(#arrowhead)');
    svg.appendChild(line);
    svg.setAttributeNS(null, 'viewBox', `0 ${-s / 2.0} ${l + s * (7 / 4.5)} ${s}`);
    return svg;
  }
}
module.exports = ReactionDrawer;

/***/ }),

/***/ "./src/ReactionParser.js":
/*!*******************************!*\
  !*** ./src/ReactionParser.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const Reaction = __webpack_require__(/*! ./Reaction */ "./src/Reaction.js");
class ReactionParser {
  /**
   * Returns the hex code of a color associated with a key from the current theme.
   *
   * @param {String} reactionSmiles A reaction SMILES.
   * @returns {Reaction} A reaction object.
   */
  static parse(reactionSmiles) {
    let reaction = new Reaction(reactionSmiles);
    return reaction;
  }
}
module.exports = ReactionParser;

/***/ }),

/***/ "./src/Ring.js":
/*!*********************!*\
  !*** ./src/Ring.js ***!
  \*********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const ArrayHelper = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const Vertex = __webpack_require__(/*! ./Vertex */ "./src/Vertex.js");
const RingConnection = __webpack_require__(/*! ./RingConnection */ "./src/RingConnection.js");

/** 
 * A class representing a ring.
 * 
 * @property {Number} id The id of this ring.
 * @property {Number[]} members An array containing the vertex ids of the ring members.
 * @property {Number[]} edges An array containing the edge ids of the edges between the ring members.
 * @property {Number[]} insiders An array containing the vertex ids of the vertices contained within the ring if it is a bridged ring.
 * @property {Number[]} neighbours An array containing the ids of neighbouring rings.
 * @property {Boolean} positioned A boolean indicating whether or not this ring has been positioned.
 * @property {Vector2} center The center of this ring.
 * @property {Ring[]} rings The rings contained within this ring if this ring is bridged.
 * @property {Boolean} isBridged A boolean whether or not this ring is bridged.
 * @property {Boolean} isPartOfBridged A boolean whether or not this ring is part of a bridge ring.
 * @property {Boolean} isSpiro A boolean whether or not this ring is part of a spiro.
 * @property {Boolean} isFused A boolean whether or not this ring is part of a fused ring.
 * @property {Number} centralAngle The central angle of this ring.
 * @property {Boolean} canFlip A boolean indicating whether or not this ring allows flipping of attached vertices to the inside of the ring.
 */
class Ring {
  /**
   * The constructor for the class Ring.
   *
   * @param {Number[]} members An array containing the vertex ids of the members of the ring to be created.
   */
  constructor(members) {
    this.id = null;
    this.members = members;
    this.edges = [];
    this.insiders = [];
    this.neighbours = [];
    this.positioned = false;
    this.center = new Vector2(0, 0);
    this.rings = [];
    this.isBridged = false;
    this.isPartOfBridged = false;
    this.isSpiro = false;
    this.isFused = false;
    this.centralAngle = 0.0;
    this.canFlip = true;
  }

  /**
   * Clones this ring and returns the clone.
   *
   * @returns {Ring} A clone of this ring.
   */
  clone() {
    let clone = new Ring(this.members);
    clone.id = this.id;
    clone.insiders = ArrayHelper.clone(this.insiders);
    clone.neighbours = ArrayHelper.clone(this.neighbours);
    clone.positioned = this.positioned;
    clone.center = this.center.clone();
    clone.rings = ArrayHelper.clone(this.rings);
    clone.isBridged = this.isBridged;
    clone.isPartOfBridged = this.isPartOfBridged;
    clone.isSpiro = this.isSpiro;
    clone.isFused = this.isFused;
    clone.centralAngle = this.centralAngle;
    clone.canFlip = this.canFlip;
    return clone;
  }

  /**
   * Returns the size (number of members) of this ring.
   *
   * @returns {Number} The size (number of members) of this ring.
   */
  getSize() {
    return this.members.length;
  }

  /**
   * Gets the polygon representation (an array of the ring-members positional vectors) of this ring.
   *
   * @param {Vertex[]} vertices An array of vertices representing the current molecule.
   * @returns {Vector2[]} An array of the positional vectors of the ring members.
   */
  getPolygon(vertices) {
    let polygon = [];
    for (let i = 0; i < this.members.length; i++) {
      polygon.push(vertices[this.members[i]].position);
    }
    return polygon;
  }

  /**
   * Returns the angle of this ring in relation to the coordinate system.
   *
   * @returns {Number} The angle in radians.
   */
  getAngle() {
    return Math.PI - this.centralAngle;
  }

  /**
   * Loops over the members of this ring from a given start position in a direction opposite to the vertex id passed as the previousId.
   *
   * @param {Vertex[]} vertices The vertices associated with the current molecule.
   * @param {Function} callback A callback with the current vertex id as a parameter.
   * @param {Number} startVertexId The vertex id of the start vertex.
   * @param {Number} previousVertexId The vertex id of the previous vertex (the loop calling the callback function will run in the opposite direction of this vertex).
   */
  eachMember(vertices, callback, startVertexId, previousVertexId) {
    startVertexId = startVertexId || startVertexId === 0 ? startVertexId : this.members[0];
    let current = startVertexId;
    let max = 0;
    while (current != null && max < 100) {
      let prev = current;
      callback(prev);
      current = vertices[current].getNextInRing(vertices, this.id, previousVertexId);
      previousVertexId = prev;

      // Stop while loop when arriving back at the start vertex
      if (current == startVertexId) {
        current = null;
      }
      max++;
    }
  }

  /**
   * Returns an array containing the neighbouring rings of this ring ordered by ring size.
   *
   * @param {RingConnection[]} ringConnections An array of ring connections associated with the current molecule.
   * @returns {Object[]} An array of neighbouring rings sorted by ring size. Example: { n: 5, neighbour: 1 }.
   */
  getOrderedNeighbours(ringConnections) {
    let orderedNeighbours = Array(this.neighbours.length);
    for (let i = 0; i < this.neighbours.length; i++) {
      let vertices = RingConnection.getVertices(ringConnections, this.id, this.neighbours[i]);
      orderedNeighbours[i] = {
        n: vertices.length,
        neighbour: this.neighbours[i]
      };
    }
    orderedNeighbours.sort(function (a, b) {
      // Sort highest to lowest
      return b.n - a.n;
    });
    return orderedNeighbours;
  }

  /**
   * Check whether this ring is an implicitly defined benzene-like (e.g. C1=CC=CC=C1) with 6 members and 3 double bonds.
   *
   * @param {Vertex[]} vertices An array of vertices associated with the current molecule.
   * @returns {Boolean} A boolean indicating whether or not this ring is an implicitly defined benzene-like.
   */
  isBenzeneLike(vertices) {
    let db = this.getDoubleBondCount(vertices);
    let length = this.members.length;
    return db === 3 && length === 6 || db === 2 && length === 5;
  }

  /**
   * Get the number of double bonds inside this ring.
   *
   * @param {Vertex[]} vertices An array of vertices associated with the current molecule.
   * @returns {Number} The number of double bonds inside this ring.
   */
  getDoubleBondCount(vertices) {
    let doubleBondCount = 0;
    for (let i = 0; i < this.members.length; i++) {
      let atom = vertices[this.members[i]].value;
      if (atom.bondType === '=' || atom.branchBond === '=') {
        doubleBondCount++;
      }
    }
    return doubleBondCount;
  }

  /**
   * Checks whether or not this ring contains a member with a given vertex id.
   *
   * @param {Number} vertexId A vertex id.
   * @returns {Boolean} A boolean indicating whether or not this ring contains a member with the given vertex id.
   */
  contains(vertexId) {
    for (let i = 0; i < this.members.length; i++) {
      if (this.members[i] == vertexId) {
        return true;
      }
    }
    return false;
  }
}
module.exports = Ring;

/***/ }),

/***/ "./src/RingConnection.js":
/*!*******************************!*\
  !*** ./src/RingConnection.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const Vertex = __webpack_require__(/*! ./Vertex */ "./src/Vertex.js");
const Ring = __webpack_require__(/*! ./Ring */ "./src/Ring.js");

/** 
 * A class representing a ring connection.
 * 
 * @property {Number} id The id of this ring connection.
 * @property {Number} firstRingId A ring id.
 * @property {Number} secondRingId A ring id.
 * @property {Set<Number>} vertices A set containing the vertex ids participating in the ring connection.
 */
class RingConnection {
  /**
   * The constructor for the class RingConnection.
   *
   * @param {Ring} firstRing A ring.
   * @param {Ring} secondRing A ring.
   */
  constructor(firstRing, secondRing) {
    this.id = null;
    this.firstRingId = firstRing.id;
    this.secondRingId = secondRing.id;
    this.vertices = new Set();
    for (var m = 0; m < firstRing.members.length; m++) {
      let c = firstRing.members[m];
      for (let n = 0; n < secondRing.members.length; n++) {
        let d = secondRing.members[n];
        if (c === d) {
          this.addVertex(c);
        }
      }
    }
  }

  /**
   * Adding a vertex to the ring connection.
   *
   * @param {Number} vertexId A vertex id.
   */
  addVertex(vertexId) {
    this.vertices.add(vertexId);
  }

  /**
   * Update the ring id of this ring connection that is not the ring id supplied as the second argument.
   *
   * @param {Number} ringId A ring id. The new ring id to be set.
   * @param {Number} otherRingId A ring id. The id that is NOT to be updated.
   */
  updateOther(ringId, otherRingId) {
    if (this.firstRingId === otherRingId) {
      this.secondRingId = ringId;
    } else {
      this.firstRingId = ringId;
    }
  }

  /**
   * Returns a boolean indicating whether or not a ring with a given id is participating in this ring connection.
   * 
   * @param {Number} ringId A ring id.
   * @returns {Boolean} A boolean indicating whether or not a ring with a given id participates in this ring connection.
   */
  containsRing(ringId) {
    return this.firstRingId === ringId || this.secondRingId === ringId;
  }

  /**
   * Checks whether or not this ring connection is a bridge in a bridged ring.
   *
   * @param {Vertex[]} vertices The array of vertices associated with the current molecule.
   * @returns {Boolean} A boolean indicating whether or not this ring connection is a bridge.
   */
  isBridge(vertices) {
    if (this.vertices.size > 2) {
      return true;
    }
    for (let vertexId of this.vertices) {
      if (vertices[vertexId].value.rings.length > 2) {
        return true;
      }
    }
    return false;
  }

  /**
   * Checks whether or not two rings are connected by a bridged bond.
   *
   * @static
   * @param {RingConnection[]} ringConnections An array of ring connections containing the ring connections associated with the current molecule.
   * @param {Vertex[]} vertices An array of vertices containing the vertices associated with the current molecule.
   * @param {Number} firstRingId A ring id.
   * @param {Number} secondRingId A ring id.
   * @returns {Boolean} A boolean indicating whether or not two rings ar connected by a bridged bond.
   */
  static isBridge(ringConnections, vertices, firstRingId, secondRingId) {
    let ringConnection = null;
    for (let i = 0; i < ringConnections.length; i++) {
      ringConnection = ringConnections[i];
      if (ringConnection.firstRingId === firstRingId && ringConnection.secondRingId === secondRingId || ringConnection.firstRingId === secondRingId && ringConnection.secondRingId === firstRingId) {
        return ringConnection.isBridge(vertices);
      }
    }
    return false;
  }

  /**
   * Retruns the neighbouring rings of a given ring.
   *
   * @static
   * @param {RingConnection[]} ringConnections An array of ring connections containing ring connections associated with the current molecule.
   * @param {Number} ringId A ring id.
   * @returns {Number[]} An array of ring ids of neighbouring rings.
   */
  static getNeighbours(ringConnections, ringId) {
    let neighbours = [];
    for (let i = 0; i < ringConnections.length; i++) {
      let ringConnection = ringConnections[i];
      if (ringConnection.firstRingId === ringId) {
        neighbours.push(ringConnection.secondRingId);
      } else if (ringConnection.secondRingId === ringId) {
        neighbours.push(ringConnection.firstRingId);
      }
    }
    return neighbours;
  }

  /**
   * Returns an array of vertex ids associated with a given ring connection.
   *
   * @static
   * @param {RingConnection[]} ringConnections An array of ring connections containing ring connections associated with the current molecule.
   * @param {Number} firstRingId A ring id.
   * @param {Number} secondRingId A ring id.
   * @returns {Number[]} An array of vertex ids associated with the ring connection.
   */
  static getVertices(ringConnections, firstRingId, secondRingId) {
    for (let i = 0; i < ringConnections.length; i++) {
      let ringConnection = ringConnections[i];
      if (ringConnection.firstRingId === firstRingId && ringConnection.secondRingId === secondRingId || ringConnection.firstRingId === secondRingId && ringConnection.secondRingId === firstRingId) {
        return [...ringConnection.vertices];
      }
    }
  }
}
module.exports = RingConnection;

/***/ }),

/***/ "./src/SSSR.js":
/*!*********************!*\
  !*** ./src/SSSR.js ***!
  \*********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const Graph = __webpack_require__(/*! ./Graph */ "./src/Graph.js");

/** A class encapsulating the functionality to find the smallest set of smallest rings in a graph. */
class SSSR {
  /**
   * Returns an array containing arrays, each representing a ring from the smallest set of smallest rings in the graph.
   * 
   * @param {Graph} graph A Graph object.
   * @param {Boolean} [experimental=false] Whether or not to use experimental SSSR.
   * @returns {Array[]} An array containing arrays, each representing a ring from the smallest set of smallest rings in the group.
   */
  static getRings(graph, experimental = false) {
    let adjacencyMatrix = graph.getComponentsAdjacencyMatrix();
    if (adjacencyMatrix.length === 0) {
      return null;
    }
    let connectedComponents = Graph.getConnectedComponents(adjacencyMatrix);
    let rings = Array();
    for (var i = 0; i < connectedComponents.length; i++) {
      let connectedComponent = connectedComponents[i];
      let ccAdjacencyMatrix = graph.getSubgraphAdjacencyMatrix([...connectedComponent]);
      let arrBondCount = new Uint16Array(ccAdjacencyMatrix.length);
      let arrRingCount = new Uint16Array(ccAdjacencyMatrix.length);
      for (var j = 0; j < ccAdjacencyMatrix.length; j++) {
        arrRingCount[j] = 0;
        arrBondCount[j] = 0;
        for (var k = 0; k < ccAdjacencyMatrix[j].length; k++) {
          arrBondCount[j] += ccAdjacencyMatrix[j][k];
        }
      }

      // Get the edge number and the theoretical number of rings in SSSR
      let nEdges = 0;
      for (var j = 0; j < ccAdjacencyMatrix.length; j++) {
        for (var k = j + 1; k < ccAdjacencyMatrix.length; k++) {
          nEdges += ccAdjacencyMatrix[j][k];
        }
      }
      let nSssr = nEdges - ccAdjacencyMatrix.length + 1;

      // console.log(nEdges, ccAdjacencyMatrix.length, nSssr);
      // console.log(SSSR.getEdgeList(ccAdjacencyMatrix));
      // console.log(ccAdjacencyMatrix);

      // If all vertices have 3 incident edges, calculate with different formula (see Euler)
      let allThree = true;
      for (var j = 0; j < arrBondCount.length; j++) {
        if (arrBondCount[j] !== 3) {
          allThree = false;
        }
      }
      if (allThree) {
        nSssr = 2.0 + nEdges - ccAdjacencyMatrix.length;
      }

      // All vertices are part of one ring if theres only one ring.
      if (nSssr === 1) {
        rings.push([...connectedComponent]);
        continue;
      }
      if (experimental) {
        nSssr = 999;
      }
      let {
        d,
        pe,
        pe_prime
      } = SSSR.getPathIncludedDistanceMatrices(ccAdjacencyMatrix);
      let c = SSSR.getRingCandidates(d, pe, pe_prime);
      let sssr = SSSR.getSSSR(c, d, ccAdjacencyMatrix, pe, pe_prime, arrBondCount, arrRingCount, nSssr);
      for (var j = 0; j < sssr.length; j++) {
        let ring = Array(sssr[j].size);
        let index = 0;
        for (let val of sssr[j]) {
          // Get the original id of the vertex back
          ring[index++] = connectedComponent[val];
        }
        rings.push(ring);
      }
    }

    // So, for some reason, this would return three rings for C1CCCC2CC1CCCC2, which is wrong
    // As I don't have time to fix this properly, it will stay in. I'm sorry next person who works
    // on it. At that point it might be best to reimplement the whole SSSR thing...
    return rings;
  }

  /**
   * Creates a printable string from a matrix (2D array).
   * 
   * @param {Array[]} matrix A 2D array.
   * @returns {String} A string representing the matrix.
   */
  static matrixToString(matrix) {
    let str = '';
    for (var i = 0; i < matrix.length; i++) {
      for (var j = 0; j < matrix[i].length; j++) {
        str += matrix[i][j] + ' ';
      }
      str += '\n';
    }
    return str;
  }

  /**
   * Returnes the two path-included distance matrices used to find the sssr.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Object} The path-included distance matrices. { p1, p2 }
   */
  static getPathIncludedDistanceMatrices(adjacencyMatrix) {
    let length = adjacencyMatrix.length;
    let d = Array(length);
    let pe = Array(length);
    let pe_prime = Array(length);
    var l = 0;
    var m = 0;
    var n = 0;
    var i = length;
    while (i--) {
      d[i] = Array(length);
      pe[i] = Array(length);
      pe_prime[i] = Array(length);
      var j = length;
      while (j--) {
        d[i][j] = i === j || adjacencyMatrix[i][j] === 1 ? adjacencyMatrix[i][j] : Number.POSITIVE_INFINITY;
        if (d[i][j] === 1) {
          pe[i][j] = [[[i, j]]];
        } else {
          pe[i][j] = Array();
        }
        pe_prime[i][j] = Array();
      }
    }
    var k = length;
    var j;
    while (k--) {
      i = length;
      while (i--) {
        j = length;
        while (j--) {
          const previousPathLength = d[i][j];
          const newPathLength = d[i][k] + d[k][j];
          if (previousPathLength > newPathLength) {
            var l, m, n;
            if (previousPathLength === newPathLength + 1) {
              pe_prime[i][j] = [pe[i][j].length];
              l = pe[i][j].length;
              while (l--) {
                pe_prime[i][j][l] = [pe[i][j][l].length];
                m = pe[i][j][l].length;
                while (m--) {
                  pe_prime[i][j][l][m] = [pe[i][j][l][m].length];
                  n = pe[i][j][l][m].length;
                  while (n--) {
                    pe_prime[i][j][l][m][n] = [pe[i][j][l][m][0], pe[i][j][l][m][1]];
                  }
                }
              }
            } else {
              pe_prime[i][j] = Array();
            }
            d[i][j] = newPathLength;
            pe[i][j] = [[]];
            l = pe[i][k][0].length;
            while (l--) {
              pe[i][j][0].push(pe[i][k][0][l]);
            }
            l = pe[k][j][0].length;
            while (l--) {
              pe[i][j][0].push(pe[k][j][0][l]);
            }
          } else if (previousPathLength === newPathLength) {
            if (pe[i][k].length && pe[k][j].length) {
              var l;
              if (pe[i][j].length) {
                let tmp = Array();
                l = pe[i][k][0].length;
                while (l--) {
                  tmp.push(pe[i][k][0][l]);
                }
                l = pe[k][j][0].length;
                while (l--) {
                  tmp.push(pe[k][j][0][l]);
                }
                pe[i][j].push(tmp);
              } else {
                let tmp = Array();
                l = pe[i][k][0].length;
                while (l--) {
                  tmp.push(pe[i][k][0][l]);
                }
                l = pe[k][j][0].length;
                while (l--) {
                  tmp.push(pe[k][j][0][l]);
                }
                pe[i][j][0] = tmp;
              }
            }
          } else if (previousPathLength === newPathLength - 1) {
            var l;
            if (pe_prime[i][j].length) {
              let tmp = Array();
              l = pe[i][k][0].length;
              while (l--) {
                tmp.push(pe[i][k][0][l]);
              }
              l = pe[k][j][0].length;
              while (l--) {
                tmp.push(pe[k][j][0][l]);
              }
              pe_prime[i][j].push(tmp);
            } else {
              let tmp = Array();
              l = pe[i][k][0].length;
              while (l--) {
                tmp.push(pe[i][k][0][l]);
              }
              l = pe[k][j][0].length;
              while (l--) {
                tmp.push(pe[k][j][0][l]);
              }
              pe_prime[i][j][0] = tmp;
            }
          }
        }
      }
    }
    return {
      d: d,
      pe: pe,
      pe_prime: pe_prime
    };
  }

  /**
   * Get the ring candidates from the path-included distance matrices.
   * 
   * @param {Array[]} d The distance matrix.
   * @param {Array[]} pe A matrix containing the shortest paths.
   * @param {Array[]} pe_prime A matrix containing the shortest paths + one vertex.
   * @returns {Array[]} The ring candidates.
   */
  static getRingCandidates(d, pe, pe_prime) {
    let length = d.length;
    let candidates = Array();
    let c = 0;
    for (let i = 0; i < length; i++) {
      for (let j = 0; j < length; j++) {
        if (d[i][j] === 0 || pe[i][j].length === 1 && pe_prime[i][j] === 0) {
          continue;
        } else {
          // c is the number of vertices in the cycle.
          if (pe_prime[i][j].length !== 0) {
            c = 2 * (d[i][j] + 0.5);
          } else {
            c = 2 * d[i][j];
          }
          if (c !== Infinity) {
            candidates.push([c, pe[i][j], pe_prime[i][j]]);
          }
        }
      }
    }

    // Candidates have to be sorted by c
    candidates.sort(function (a, b) {
      return a[0] - b[0];
    });
    return candidates;
  }

  /**
   * Searches the candidates for the smallest set of smallest rings.
   * 
   * @param {Array[]} c The candidates.
   * @param {Array[]} d The distance matrix.
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @param {Array[]} pe A matrix containing the shortest paths.
   * @param {Array[]} pe_prime A matrix containing the shortest paths + one vertex.
   * @param {Uint16Array} arrBondCount A matrix containing the bond count of each vertex.
   * @param {Uint16Array} arrRingCount A matrix containing the number of rings associated with each vertex.
   * @param {Number} nsssr The theoretical number of rings in the graph.
   * @returns {Set[]} The smallest set of smallest rings.
   */
  static getSSSR(c, d, adjacencyMatrix, pe, pe_prime, arrBondCount, arrRingCount, nsssr) {
    let cSssr = Array();
    let allBonds = Array();
    for (let i = 0; i < c.length; i++) {
      if (c[i][0] % 2 !== 0) {
        for (let j = 0; j < c[i][2].length; j++) {
          let bonds = c[i][1][0].concat(c[i][2][j]);
          // Some bonds are added twice, resulting in [[u, v], [u, v]] instead of [u, v].
          // TODO: This is a workaround, fix later. Probably should be a set rather than an array, however the computational overhead
          //       is probably bigger compared to leaving it like this.
          for (var k = 0; k < bonds.length; k++) {
            if (bonds[k][0].constructor === Array) bonds[k] = bonds[k][0];
          }
          let atoms = SSSR.bondsToAtoms(bonds);
          if (SSSR.getBondCount(atoms, adjacencyMatrix) === atoms.size && !SSSR.pathSetsContain(cSssr, atoms, bonds, allBonds, arrBondCount, arrRingCount)) {
            cSssr.push(atoms);
            allBonds = allBonds.concat(bonds);
          }
          if (cSssr.length > nsssr) {
            return cSssr;
          }
        }
      } else {
        for (let j = 0; j < c[i][1].length - 1; j++) {
          let bonds = c[i][1][j].concat(c[i][1][j + 1]);
          // Some bonds are added twice, resulting in [[u, v], [u, v]] instead of [u, v].
          // TODO: This is a workaround, fix later. Probably should be a set rather than an array, however the computational overhead
          //       is probably bigger compared to leaving it like this.
          for (var k = 0; k < bonds.length; k++) {
            if (bonds[k][0].constructor === Array) bonds[k] = bonds[k][0];
          }
          let atoms = SSSR.bondsToAtoms(bonds);
          if (SSSR.getBondCount(atoms, adjacencyMatrix) === atoms.size && !SSSR.pathSetsContain(cSssr, atoms, bonds, allBonds, arrBondCount, arrRingCount)) {
            cSssr.push(atoms);
            allBonds = allBonds.concat(bonds);
          }
          if (cSssr.length > nsssr) {
            return cSssr;
          }
        }
      }
    }
    return cSssr;
  }

  /**
   * Returns the number of edges in a graph defined by an adjacency matrix.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Number} The number of edges in the graph defined by the adjacency matrix.
   */
  static getEdgeCount(adjacencyMatrix) {
    let edgeCount = 0;
    let length = adjacencyMatrix.length;
    var i = length - 1;
    while (i--) {
      var j = length;
      while (j--) {
        if (adjacencyMatrix[i][j] === 1) {
          edgeCount++;
        }
      }
    }
    return edgeCount;
  }

  /**
   * Returns an edge list constructed form an adjacency matrix.
   * 
   * @param {Array[]} adjacencyMatrix An adjacency matrix.
   * @returns {Array[]} An edge list. E.g. [ [ 0, 1 ], ..., [ 16, 2 ] ]
   */
  static getEdgeList(adjacencyMatrix) {
    let length = adjacencyMatrix.length;
    let edgeList = Array();
    var i = length - 1;
    while (i--) {
      var j = length;
      while (j--) {
        if (adjacencyMatrix[i][j] === 1) {
          edgeList.push([i, j]);
        }
      }
    }
    return edgeList;
  }

  /**
   * Return a set of vertex indices contained in an array of bonds.
   * 
   * @param {Array} bonds An array of bonds. A bond is defined as [ sourceVertexId, targetVertexId ].
   * @returns {Set<Number>} An array of vertices.
   */
  static bondsToAtoms(bonds) {
    let atoms = new Set();
    var i = bonds.length;
    while (i--) {
      atoms.add(bonds[i][0]);
      atoms.add(bonds[i][1]);
    }
    return atoms;
  }

  /**
  * Returns the number of bonds within a set of atoms.
  * 
  * @param {Set<Number>} atoms An array of atom ids.
  * @param {Array[]} adjacencyMatrix An adjacency matrix.
  * @returns {Number} The number of bonds in a set of atoms.
  */
  static getBondCount(atoms, adjacencyMatrix) {
    let count = 0;
    for (let u of atoms) {
      for (let v of atoms) {
        if (u === v) {
          continue;
        }
        count += adjacencyMatrix[u][v];
      }
    }
    return count / 2;
  }

  /**
   * Checks whether or not a given path already exists in an array of paths.
   * 
   * @param {Set[]} pathSets An array of sets each representing a path.
   * @param {Set<Number>} pathSet A set representing a path.
   * @param {Array[]} bonds The bonds associated with the current path.
   * @param {Array[]} allBonds All bonds currently associated with rings in the SSSR set.
   * @param {Uint16Array} arrBondCount A matrix containing the bond count of each vertex.
   * @param {Uint16Array} arrRingCount A matrix containing the number of rings associated with each vertex.
   * @returns {Boolean} A boolean indicating whether or not a give path is contained within a set.
   */
  static pathSetsContain(pathSets, pathSet, bonds, allBonds, arrBondCount, arrRingCount) {
    var i = pathSets.length;
    while (i--) {
      if (SSSR.isSupersetOf(pathSet, pathSets[i])) {
        return true;
      }
      if (pathSets[i].size !== pathSet.size) {
        continue;
      }
      if (SSSR.areSetsEqual(pathSets[i], pathSet)) {
        return true;
      }
    }

    // Check if the edges from the candidate are already all contained within the paths of the set of paths.
    // TODO: For some reason, this does not replace the isSupersetOf method above -> why?
    let count = 0;
    let allContained = false;
    i = bonds.length;
    while (i--) {
      var j = allBonds.length;
      while (j--) {
        if (bonds[i][0] === allBonds[j][0] && bonds[i][1] === allBonds[j][1] || bonds[i][1] === allBonds[j][0] && bonds[i][0] === allBonds[j][1]) {
          count++;
        }
        if (count === bonds.length) {
          allContained = true;
        }
      }
    }

    // If all the bonds and thus vertices are already contained within other rings
    // check if there's one vertex with ringCount < bondCount
    let specialCase = false;
    if (allContained) {
      for (let element of pathSet) {
        if (arrRingCount[element] < arrBondCount[element]) {
          specialCase = true;
          break;
        }
      }
    }
    if (allContained && !specialCase) {
      return true;
    }

    // Update the ring counts for the vertices
    for (let element of pathSet) {
      arrRingCount[element]++;
    }
    return false;
  }

  /**
   * Checks whether or not two sets are equal (contain the same elements).
   * 
   * @param {Set<Number>} setA A set.
   * @param {Set<Number>} setB A set.
   * @returns {Boolean} A boolean indicating whether or not the two sets are equal.
   */
  static areSetsEqual(setA, setB) {
    if (setA.size !== setB.size) {
      return false;
    }
    for (let element of setA) {
      if (!setB.has(element)) {
        return false;
      }
    }
    return true;
  }

  /**
   * Checks whether or not a set (setA) is a superset of another set (setB).
   * 
   * @param {Set<Number>} setA A set.
   * @param {Set<Number>} setB A set.
   * @returns {Boolean} A boolean indicating whether or not setB is a superset of setA.
   */
  static isSupersetOf(setA, setB) {
    for (var element of setB) {
      if (!setA.has(element)) {
        return false;
      }
    }
    return true;
  }
}
module.exports = SSSR;

/***/ }),

/***/ "./src/SmilesDrawer.js":
/*!*****************************!*\
  !*** ./src/SmilesDrawer.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const Drawer = __webpack_require__(/*! ./Drawer */ "./src/Drawer.js");
const Parser = __webpack_require__(/*! ./Parser */ "./src/Parser.js");
const ReactionParser = __webpack_require__(/*! ./ReactionParser */ "./src/ReactionParser.js");
const SvgDrawer = __webpack_require__(/*! ./SvgDrawer */ "./src/SvgDrawer.js");
const ReactionDrawer = __webpack_require__(/*! ./ReactionDrawer */ "./src/ReactionDrawer.js");
const SvgWrapper = __webpack_require__(/*! ./SvgWrapper */ "./src/SvgWrapper.js");
const Options = __webpack_require__(/*! ./Options */ "./src/Options.js");
class SmilesDrawer {
  constructor(moleculeOptions = {}, reactionOptions = {}) {
    this.drawer = new SvgDrawer(moleculeOptions);

    // moleculeOptions gets edited in reactionOptions, so clone
    this.reactionDrawer = new ReactionDrawer(reactionOptions, JSON.parse(JSON.stringify(this.drawer.opts)));
  }
  static apply(moleculeOptions = {}, reactionOptions = {}, attribute = 'data-smiles', theme = 'light', successCallback = null, errorCallback = null) {
    const drawer = new SmilesDrawer(moleculeOptions, reactionOptions);
    drawer.apply(attribute, theme, successCallback, errorCallback);
  }
  apply(attribute = 'data-smiles', theme = 'light', successCallback = null, errorCallback = null) {
    let elements = document.querySelectorAll(`[${attribute}]`);
    elements.forEach(element => {
      let smiles = element.getAttribute(attribute);
      if (smiles === null) {
        throw Error('No SMILES provided.');
      }
      let currentTheme = theme;
      let weights = null;
      if (element.hasAttribute('data-smiles-theme')) {
        currentTheme = element.getAttribute('data-smiles-theme');
      }
      if (element.hasAttribute('data-smiles-weights')) {
        weights = element.getAttribute('data-smiles-weights').split(",").map(parseFloat);
      }
      if (element.hasAttribute('data-smiles-reactant-weights') || element.hasAttribute('data-smiles-reagent-weights') || element.hasAttribute('data-smiles-product-weights')) {
        weights = {
          reactants: [],
          reagents: [],
          products: []
        };
        if (element.hasAttribute('data-smiles-reactant-weights')) {
          weights.reactants = element.getAttribute('data-smiles-reactant-weights').split(';').map(v => {
            return v.split(',').map(parseFloat);
          });
        }
        if (element.hasAttribute('data-smiles-reagent-weights')) {
          weights.reagents = element.getAttribute('data-smiles-reagent-weights').split(';').map(v => {
            return v.split(',').map(parseFloat);
          });
        }
        if (element.hasAttribute('data-smiles-product-weights')) {
          weights.products = element.getAttribute('data-smiles-product-weights').split(';').map(v => {
            return v.split(',').map(parseFloat);
          });
        }
      }
      if (element.hasAttribute('data-smiles-options') || element.hasAttribute('data-smiles-reaction-options')) {
        let moleculeOptions = {};
        if (element.hasAttribute('data-smiles-options')) {
          moleculeOptions = JSON.parse(element.getAttribute('data-smiles-options').replaceAll('\'', '"'));
        }
        let reactionOptions = {};
        if (element.hasAttribute('data-smiles-reaction-options')) {
          reactionOptions = JSON.parse(element.getAttribute('data-smiles-reaction-options').replaceAll('\'', '"'));
        }
        let smilesDrawer = new SmilesDrawer(moleculeOptions, reactionOptions);
        smilesDrawer.draw(smiles, element, currentTheme, successCallback, errorCallback, weights);
      } else {
        this.draw(smiles, element, currentTheme, successCallback, errorCallback, weights);
      }
    });
  }

  /**
   * Draw the smiles to the target.
   * @param {String} smiles The SMILES to be depicted.
   * @param {*} target The target element.
   * @param {String} theme The theme.
   * @param {?CallableFunction} successCallback The function called on success.
   * @param {?CallableFunction} errorCallback The function called on error.
   * @param {?Number[]|Object} weights The weights for the gaussians.
   */
  draw(smiles, target, theme = 'light', successCallback = null, errorCallback = null, weights = null) {
    // get the settings
    let rest = [];
    [smiles, ...rest] = smiles.split(' ');
    let info = rest.join(' ');
    let settings = {};
    if (info.includes('__')) {
      let settingsString = info.substring(info.indexOf('__') + 2, info.lastIndexOf('__'));
      settings = JSON.parse(settingsString.replaceAll('\'', '"'));
    }
    let defaultSettings = {
      textAboveArrow: '{reagents}',
      textBelowArrow: ''
    };
    settings = Options.extend(true, defaultSettings, settings);
    if (smiles.includes('>')) {
      try {
        this.drawReaction(smiles, target, theme, settings, weights, successCallback);
      } catch (err) {
        if (errorCallback) {
          errorCallback(err);
        } else {
          console.error(err);
        }
      }
    } else {
      try {
        this.drawMolecule(smiles, target, theme, weights, successCallback);
      } catch (err) {
        if (errorCallback) {
          errorCallback(err);
        } else {
          console.error(err);
        }
      }
    }
  }
  drawMolecule(smiles, target, theme, weights, callback) {
    let parseTree = Parser.parse(smiles);
    if (target === null || target === 'svg') {
      let svg = this.drawer.draw(parseTree, null, theme, weights);
      let dims = this.getDimensions(svg);
      svg.setAttributeNS(null, 'width', '' + dims.w);
      svg.setAttributeNS(null, 'height', '' + dims.h);
      if (callback) {
        callback(svg);
      }
    } else if (target === 'canvas') {
      let canvas = this.svgToCanvas(this.drawer.draw(parseTree, null, theme, weights));
      if (callback) {
        callback(canvas);
      }
    } else if (target === 'img') {
      let img = this.svgToImg(this.drawer.draw(parseTree, null, theme, weights));
      if (callback) {
        callback(img);
      }
    } else if (target instanceof HTMLImageElement) {
      this.svgToImg(this.drawer.draw(parseTree, null, theme, weights), target);
      if (callback) {
        callback(target);
      }
    } else if (target instanceof SVGElement) {
      this.drawer.draw(parseTree, target, theme, weights);
      if (callback) {
        callback(target);
      }
    } else {
      let elements = document.querySelectorAll(target);
      elements.forEach(element => {
        let tag = element.nodeName.toLowerCase();
        if (tag === 'svg') {
          this.drawer.draw(parseTree, element, theme, weights);
          // let dims = this.getDimensions(element);
          // element.setAttributeNS(null, 'width', '' + dims.w);
          // element.setAttributeNS(null, 'height', '' + dims.h);
          if (callback) {
            callback(element);
          }
        } else if (tag === 'canvas') {
          this.svgToCanvas(this.drawer.draw(parseTree, null, theme, weights), element);
          if (callback) {
            callback(element);
          }
        } else if (tag === 'img') {
          this.svgToImg(this.drawer.draw(parseTree, null, theme, weights), element);
          if (callback) {
            callback(element);
          }
        }
      });
    }
  }
  drawReaction(smiles, target, theme, settings, weights, callback) {
    let reaction = ReactionParser.parse(smiles);
    if (target === null || target === 'svg') {
      let svg = this.reactionDrawer.draw(reaction, null, theme);
      let dims = this.getDimensions(svg);
      svg.setAttributeNS(null, 'width', '' + dims.w);
      svg.setAttributeNS(null, 'height', '' + dims.h);
      if (callback) {
        callback(svg);
      }
    } else if (target === 'canvas') {
      let canvas = this.svgToCanvas(this.reactionDrawer.draw(reaction, null, theme, weights, settings.textAboveArrow, settings.textBelowArrow));
      if (callback) {
        callback(canvas);
      }
    } else if (target === 'img') {
      let img = this.svgToImg(this.reactionDrawer.draw(reaction, null, theme, weights, settings.textAboveArrow, settings.textBelowArrow));
      if (callback) {
        callback(img);
      }
    } else if (target instanceof HTMLImageElement) {
      this.svgToImg(this.reactionDrawer.draw(reaction, null, theme, weights, settings.textAboveArrow, settings.textBelowArrow), target);
      if (callback) {
        callback(target);
      }
    } else if (target instanceof SVGElement) {
      this.reactionDrawer.draw(reaction, target, theme, weights, settings.textAboveArrow, settings.textBelowArrow);
      if (callback) {
        callback(target);
      }
    } else {
      let elements = document.querySelectorAll(target);
      elements.forEach(element => {
        let tag = element.nodeName.toLowerCase();
        if (tag === 'svg') {
          this.reactionDrawer.draw(reaction, element, theme, weights, settings.textAboveArrow, settings.textBelowArrow);
          // The svg has to have a css width and height set for the other
          // tags, however, here it would overwrite the chosen width and height
          if (this.reactionDrawer.opts.scale <= 0) {
            element.style.width = null;
            element.style.height = null;
          }
          // let dims = this.getDimensions(element);
          // element.setAttributeNS(null, 'width', '' + dims.w);
          // element.setAttributeNS(null, 'height', '' + dims.h);
          if (callback) {
            callback(element);
          }
        } else if (tag === 'canvas') {
          this.svgToCanvas(this.reactionDrawer.draw(reaction, null, theme, weights, settings.textAboveArrow, settings.textBelowArrow), element);
          if (callback) {
            callback(element);
          }
        } else if (tag === 'img') {
          this.svgToImg(this.reactionDrawer.draw(reaction, null, theme, weights, settings.textAboveArrow, settings.textBelowArrow), element);
          if (callback) {
            callback(element);
          }
        }
      });
    }
  }
  svgToCanvas(svg, canvas = null) {
    if (canvas === null) {
      canvas = document.createElement('canvas');
    }
    let dims = this.getDimensions(canvas, svg);
    SvgWrapper.svgToCanvas(svg, canvas, dims.w, dims.h);
    return canvas;
  }
  svgToImg(svg, img = null) {
    if (img === null) {
      img = document.createElement('img');
    }
    let dims = this.getDimensions(img, svg);
    SvgWrapper.svgToImg(svg, img, dims.w, dims.h);
    return img;
  }

  /**
   * 
   * @param {HTMLImageElement|HTMLCanvasElement|SVGElement} element 
   * @param {SVGElement} svg 
   * @returns {{w: Number, h: Number}} The width and height.
   */
  getDimensions(element, svg = null) {
    let w = this.drawer.opts.width;
    let h = this.drawer.opts.height;
    if (this.drawer.opts.scale <= 0) {
      if (w === null) {
        w = element.width;
      }
      if (h === null) {
        h = element.height;
      }
      if (element.style.width !== "") {
        w = parseInt(element.style.width);
      }
      if (element.style.height !== "") {
        h = parseInt(element.style.height);
      }
    } else if (svg) {
      w = parseFloat(svg.style.width);
      h = parseFloat(svg.style.height);
    }
    return {
      w: w,
      h: h
    };
  }
}
module.exports = SmilesDrawer;

/***/ }),

/***/ "./src/SvgDrawer.js":
/*!**************************!*\
  !*** ./src/SvgDrawer.js ***!
  \**************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// we use the drawer to do all the preprocessing. then we take over the drawing
// portion to output to svg
const ArrayHelper = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.js");
const Atom = __webpack_require__(/*! ./Atom */ "./src/Atom.js");
const DrawerBase = __webpack_require__(/*! ./DrawerBase */ "./src/DrawerBase.js");
const Graph = __webpack_require__(/*! ./Graph */ "./src/Graph.js");
const Line = __webpack_require__(/*! ./Line */ "./src/Line.js");
const SvgWrapper = __webpack_require__(/*! ./SvgWrapper */ "./src/SvgWrapper.js");
const ThemeManager = __webpack_require__(/*! ./ThemeManager */ "./src/ThemeManager.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const GaussDrawer = __webpack_require__(/*! ./GaussDrawer */ "./src/GaussDrawer.js");
class SvgDrawer {
  constructor(options, clear = true) {
    this.preprocessor = new DrawerBase(options);
    this.opts = this.preprocessor.opts;
    this.clear = clear;
    this.svgWrapper = null;
  }

  /**
   * Draws the parsed smiles data to an svg element.
   *
   * @param {Object} data The tree returned by the smiles parser.
   * @param {?(String|SVGElement)} target The id of the HTML svg element the structure is drawn to - or the element itself.
   * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
   * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
   *
   * @returns {SVGElement} The svg element
   */
  draw(data, target, themeName = 'light', weights = null, infoOnly = false, highlight_atoms = [], weightsNormalized = false) {
    if (target === null || target === 'svg') {
      target = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      target.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
      target.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');
      target.setAttributeNS(null, 'width', this.opts.width);
      target.setAttributeNS(null, 'height', this.opts.height);
    } else if (target instanceof String) {
      target = document.getElementById(target);
    }
    let optionBackup = {
      padding: this.opts.padding,
      compactDrawing: this.opts.compactDrawing
    };

    // Overwrite options when weights are added
    if (weights !== null) {
      this.opts.padding += this.opts.weights.additionalPadding;
      this.opts.compactDrawing = false;
    }
    let preprocessor = this.preprocessor;
    preprocessor.initDraw(data, themeName, infoOnly, highlight_atoms);
    if (!infoOnly) {
      this.themeManager = new ThemeManager(this.opts.themes, themeName);
      if (this.svgWrapper === null || this.clear) {
        this.svgWrapper = new SvgWrapper(this.themeManager, target, this.opts, this.clear);
      }
    }
    preprocessor.processGraph();

    // Set the canvas to the appropriate size
    this.svgWrapper.determineDimensions(preprocessor.graph.vertices);

    // Do the actual drawing
    this.drawAtomHighlights(preprocessor.opts.debug);
    this.drawEdges(preprocessor.opts.debug);
    this.drawVertices(preprocessor.opts.debug);
    if (weights !== null) {
      this.drawWeights(weights, weightsNormalized);
    }
    if (preprocessor.opts.debug) {
      console.log(preprocessor.graph);
      console.log(preprocessor.rings);
      console.log(preprocessor.ringConnections);
    }
    this.svgWrapper.constructSvg();

    // Reset options in case weights were added.
    if (weights !== null) {
      this.opts.padding = optionBackup.padding;
      this.opts.compactDrawing = optionBackup.padding;
    }
    return target;
  }

  /**
  * Draws the parsed smiles data to a canvas element.
  *
  * @param {Object} data The tree returned by the smiles parser.
  * @param {(String|HTMLCanvasElement)} target The id of the HTML canvas element the structure is drawn to - or the element itself.
  * @param {String} themeName='dark' The name of the theme to use. Built-in themes are 'light' and 'dark'.
  * @param {Boolean} infoOnly=false Only output info on the molecule without drawing anything to the canvas.
  */
  drawCanvas(data, target, themeName = 'light', infoOnly = false) {
    let canvas = null;
    if (typeof target === 'string' || target instanceof String) {
      canvas = document.getElementById(target);
    } else {
      canvas = target;
    }
    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
    // 500 as a size is arbritrary, but the canvas is scaled when drawn to the canvas anyway
    svg.setAttributeNS(null, 'viewBox', '0 0 ' + 500 + ' ' + 500);
    svg.setAttributeNS(null, 'width', 500 + '');
    svg.setAttributeNS(null, 'height', 500 + '');
    svg.setAttributeNS(null, 'style', 'visibility: hidden: position: absolute; left: -1000px');
    document.body.appendChild(svg);
    this.svgDrawer.draw(data, svg, themeName, infoOnly);
    this.svgDrawer.svgWrapper.toCanvas(canvas, this.svgDrawer.opts.width, this.svgDrawer.opts.height);
    document.body.removeChild(svg);
    return target;
  }

  /**
   * Draws a ring inside a provided ring, indicating aromaticity.
   *
   * @param {Ring} ring A ring.
   */
  drawAromaticityRing(ring) {
    let svgWrapper = this.svgWrapper;
    svgWrapper.drawRing(ring.center.x, ring.center.y, ring.getSize());
  }

  /**
   * Draw the actual edges as bonds.
   *
   * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
   */
  drawEdges(debug) {
    let preprocessor = this.preprocessor,
      graph = preprocessor.graph,
      rings = preprocessor.rings,
      drawn = Array(this.preprocessor.graph.edges.length);
    drawn.fill(false);
    graph.traverseBF(0, vertex => {
      let edges = graph.getEdges(vertex.id);
      for (var i = 0; i < edges.length; i++) {
        let edgeId = edges[i];
        if (!drawn[edgeId]) {
          drawn[edgeId] = true;
          this.drawEdge(edgeId, debug);
        }
      }
    });

    // Draw ring for implicitly defined aromatic rings
    if (!this.bridgedRing) {
      for (var i = 0; i < rings.length; i++) {
        let ring = rings[i];

        //TODO: uses canvas ctx to draw... need to update this to SVG
        if (preprocessor.isRingAromatic(ring)) {
          this.drawAromaticityRing(ring);
        }
      }
    }
  }

  /**
   * Draw the an edge as a bond.
   *
   * @param {Number} edgeId An edge id.
   * @param {Boolean} debug A boolean indicating whether or not to draw debug helpers.
   */
  drawEdge(edgeId, debug) {
    let preprocessor = this.preprocessor,
      opts = preprocessor.opts,
      svgWrapper = this.svgWrapper,
      edge = preprocessor.graph.edges[edgeId],
      vertexA = preprocessor.graph.vertices[edge.sourceId],
      vertexB = preprocessor.graph.vertices[edge.targetId],
      elementA = vertexA.value.element,
      elementB = vertexB.value.element;
    if ((!vertexA.value.isDrawn || !vertexB.value.isDrawn) && preprocessor.opts.atomVisualization === 'default') {
      return;
    }
    let a = vertexA.position,
      b = vertexB.position,
      normals = preprocessor.getEdgeNormals(edge),
      // Create a point on each side of the line
      sides = ArrayHelper.clone(normals);
    sides[0].multiplyScalar(10).add(a);
    sides[1].multiplyScalar(10).add(a);
    if (edge.bondType === '=' || preprocessor.getRingbondType(vertexA, vertexB) === '=' || edge.isPartOfAromaticRing && preprocessor.bridgedRing) {
      // Always draw double bonds inside the ring
      let inRing = preprocessor.areVerticesInSameRing(vertexA, vertexB);
      let s = preprocessor.chooseSide(vertexA, vertexB, sides);
      if (inRing) {
        // Always draw double bonds inside a ring
        // if the bond is shared by two rings, it is drawn in the larger
        // problem: smaller ring is aromatic, bond is still drawn in larger -> fix this
        let lcr = preprocessor.getLargestOrAromaticCommonRing(vertexA, vertexB);
        let center = lcr.center;
        normals[0].multiplyScalar(opts.bondSpacing);
        normals[1].multiplyScalar(opts.bondSpacing);

        // Choose the normal that is on the same side as the center
        let line = null;
        if (center.sameSideAs(vertexA.position, vertexB.position, Vector2.add(a, normals[0]))) {
          line = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        } else {
          line = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        }
        line.shorten(opts.bondLength - opts.shortBondLength * opts.bondLength);

        // The shortened edge
        if (edge.isPartOfAromaticRing) {
          // preprocessor.canvasWrapper.drawLine(line, true);
          svgWrapper.drawLine(line, true);
        } else {
          // preprocessor.canvasWrapper.drawLine(line);
          svgWrapper.drawLine(line);
        }
        svgWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else if (edge.center || vertexA.isTerminal() && vertexB.isTerminal() || s.anCount == 0 && s.bnCount > 1 || s.bnCount == 0 && s.anCount > 1) {
        this.multiplyNormals(normals, opts.halfBondSpacing);
        let lineA = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB),
          lineB = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        svgWrapper.drawLine(lineA);
        svgWrapper.drawLine(lineB);
      } else if (s.sideCount[0] > s.sideCount[1] || s.totalSideCount[0] > s.totalSideCount[1]) {
        this.multiplyNormals(normals, opts.bondSpacing);
        let line = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
        line.shorten(opts.bondLength - opts.shortBondLength * opts.bondLength);
        svgWrapper.drawLine(line);
        svgWrapper.drawLine(new Line(a, b, elementA, elementB));
      } else if (s.sideCount[0] < s.sideCount[1] || s.totalSideCount[0] <= s.totalSideCount[1]) {
        this.multiplyNormals(normals, opts.bondSpacing);
        let line = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
        line.shorten(opts.bondLength - opts.shortBondLength * opts.bondLength);
        svgWrapper.drawLine(line);
        svgWrapper.drawLine(new Line(a, b, elementA, elementB));
      }
    } else if (edge.bondType === '#') {
      normals[0].multiplyScalar(opts.bondSpacing / 1.5);
      normals[1].multiplyScalar(opts.bondSpacing / 1.5);
      let lineA = new Line(Vector2.add(a, normals[0]), Vector2.add(b, normals[0]), elementA, elementB);
      let lineB = new Line(Vector2.add(a, normals[1]), Vector2.add(b, normals[1]), elementA, elementB);
      svgWrapper.drawLine(lineA);
      svgWrapper.drawLine(lineB);
      svgWrapper.drawLine(new Line(a, b, elementA, elementB));
    } else if (edge.bondType === '.') {
      // TODO: Something... maybe... version 2?
    } else {
      let isChiralCenterA = vertexA.value.isStereoCenter;
      let isChiralCenterB = vertexB.value.isStereoCenter;
      if (edge.wedge === 'up') {
        svgWrapper.drawWedge(new Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
      } else if (edge.wedge === 'down') {
        svgWrapper.drawDashedWedge(new Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
      } else {
        svgWrapper.drawLine(new Line(a, b, elementA, elementB, isChiralCenterA, isChiralCenterB));
      }
    }
    if (debug) {
      let midpoint = Vector2.midpoint(a, b);
      svgWrapper.drawDebugText(midpoint.x, midpoint.y, 'e: ' + edgeId);
    }
  }

  /**
   * Draw the highlights for atoms to the canvas.
   * 
   * @param {Boolean} debug 
   */
  drawAtomHighlights(debug) {
    let preprocessor = this.preprocessor;
    let opts = preprocessor.opts;
    let graph = preprocessor.graph;
    let rings = preprocessor.rings;
    let svgWrapper = this.svgWrapper;
    for (var i = 0; i < graph.vertices.length; i++) {
      let vertex = graph.vertices[i];
      let atom = vertex.value;
      for (var j = 0; j < preprocessor.highlight_atoms.length; j++) {
        let highlight = preprocessor.highlight_atoms[j];
        if (atom.class === highlight[0]) {
          svgWrapper.drawAtomHighlight(vertex.position.x, vertex.position.y, highlight[1]);
        }
      }
    }
  }

  /**
   * Draws the vertices representing atoms to the canvas.
   *
   * @param {Boolean} debug A boolean indicating whether or not to draw debug messages to the canvas.
   */
  drawVertices(debug) {
    let preprocessor = this.preprocessor,
      opts = preprocessor.opts,
      graph = preprocessor.graph,
      rings = preprocessor.rings,
      svgWrapper = this.svgWrapper;
    var i = graph.vertices.length;
    for (var i = 0; i < graph.vertices.length; i++) {
      let vertex = graph.vertices[i];
      let atom = vertex.value;
      let charge = 0;
      let isotope = 0;
      let bondCount = vertex.value.bondCount;
      let element = atom.element;
      let hydrogens = Atom.maxBonds[element] - bondCount;
      let dir = vertex.getTextDirection(graph.vertices, atom.hasAttachedPseudoElements);
      let isTerminal = opts.terminalCarbons || element !== 'C' || atom.hasAttachedPseudoElements ? vertex.isTerminal() : false;
      let isCarbon = atom.element === 'C';

      // If the molecule has less than 3 elements, always write the "C" for carbon
      if (graph.vertices.length < 3) {
        isCarbon = false;
      }

      // This is a HACK to remove all hydrogens from nitrogens in aromatic rings, as this
      // should be the most common state. This has to be fixed by kekulization
      if (atom.element === 'N' && atom.isPartOfAromaticRing) {
        hydrogens = 0;
      }
      if (atom.bracket) {
        hydrogens = atom.bracket.hcount;
        charge = atom.bracket.charge;
        isotope = atom.bracket.isotope;
      }
      if (opts.atomVisualization === 'allballs') {
        svgWrapper.drawBall(vertex.position.x, vertex.position.y, element);
      } else if (atom.isDrawn && (!isCarbon || atom.drawExplicit || isTerminal || atom.hasAttachedPseudoElements) || graph.vertices.length === 1) {
        if (opts.atomVisualization === 'default') {
          let attachedPseudoElements = atom.getAttachedPseudoElements();

          // Draw to the right if the whole molecule is concatenated into one string
          if (atom.hasAttachedPseudoElements && graph.vertices.length === Object.keys(attachedPseudoElements).length + 1) {
            dir = 'right';
          }
          svgWrapper.drawText(vertex.position.x, vertex.position.y, element, hydrogens, dir, isTerminal, charge, isotope, graph.vertices.length, attachedPseudoElements);
        } else if (opts.atomVisualization === 'balls') {
          svgWrapper.drawBall(vertex.position.x, vertex.position.y, element);
        }
      } else if (vertex.getNeighbourCount() === 2 && vertex.forcePositioned == true) {
        // If there is a carbon which bonds are in a straight line, draw a dot
        let a = graph.vertices[vertex.neighbours[0]].position;
        let b = graph.vertices[vertex.neighbours[1]].position;
        let angle = Vector2.threePointangle(vertex.position, a, b);
        if (Math.abs(Math.PI - angle) < 0.1) {
          svgWrapper.drawPoint(vertex.position.x, vertex.position.y, element);
        }
      }
      if (debug) {
        let value = 'v: ' + vertex.id + ' ' + ArrayHelper.print(atom.ringbonds);
        svgWrapper.drawDebugText(vertex.position.x, vertex.position.y, value);
      }
      // else {
      //   svgWrapper.drawDebugText(vertex.position.x, vertex.position.y, vertex.value.chirality);
      // }
    }

    // Draw the ring centers for debug purposes
    if (opts.debug) {
      for (var i = 0; i < rings.length; i++) {
        let center = rings[i].center;
        svgWrapper.drawDebugPoint(center.x, center.y, 'r: ' + rings[i].id);
      }
    }
  }

  /**
   * Draw the weights on a background image.
   * @param {Number[]} weights The weights assigned to each atom.
   */
  drawWeights(weights, weightsNormalized) {
    if (weights.every(w => w === 0)) {
      return;
    }
    if (weights.length !== this.preprocessor.graph.atomIdxToVertexId.length) {
      throw new Error('The number of weights supplied must be equal to the number of (heavy) atoms in the molecule.');
    }
    let points = [];
    for (const atomIdx of this.preprocessor.graph.atomIdxToVertexId) {
      let vertex = this.preprocessor.graph.vertices[atomIdx];
      points.push(new Vector2(vertex.position.x - this.svgWrapper.minX, vertex.position.y - this.svgWrapper.minY));
    }
    let gd = new GaussDrawer(points, weights, this.svgWrapper.drawingWidth, this.svgWrapper.drawingHeight, this.opts.weights.sigma, this.opts.weights.interval, this.opts.weights.colormap, this.opts.weights.opacity, weightsNormalized);
    gd.draw();
    this.svgWrapper.addLayer(gd.getSVG());
  }

  /**
   * Returns the total overlap score of the current molecule.
   *
   * @returns {Number} The overlap score.
   */
  getTotalOverlapScore() {
    return this.preprocessor.getTotalOverlapScore();
  }

  /**
   * Returns the molecular formula of the loaded molecule as a string.
   *
   * @returns {String} The molecular formula.
   */
  getMolecularFormula(graph = null) {
    return this.preprocessor.getMolecularFormula(graph);
  }

  /**
   * @param {Array} normals list of normals to multiply
   * @param {Number} spacing value to multiply normals by
   */
  multiplyNormals(normals, spacing) {
    normals[0].multiplyScalar(spacing);
    normals[1].multiplyScalar(spacing);
  }
}
module.exports = SvgDrawer;

/***/ }),

/***/ "./src/SvgWrapper.js":
/*!***************************!*\
  !*** ./src/SvgWrapper.js ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

const {
  getChargeText
} = __webpack_require__(/*! ./UtilityFunctions */ "./src/UtilityFunctions.js");
const Line = __webpack_require__(/*! ./Line */ "./src/Line.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const MathHelper = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.js");
function makeid(length) {
  var result = '';
  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
  var charactersLength = characters.length;
  for (var i = 0; i < length; i++) {
    result += characters.charAt(Math.floor(Math.random() * charactersLength));
  }
  return result;
}
class SvgWrapper {
  constructor(themeManager, target, options, clear = true) {
    if (typeof target === 'string' || target instanceof String) {
      this.svg = document.getElementById(target);
    } else {
      this.svg = target;
    }
    this.container = null;
    this.opts = options;
    this.uid = makeid(5);
    this.gradientId = 0;

    // maintain a list of line elements and their corresponding gradients
    // maintain a list of vertex elements
    // maintain a list of highlighting elements
    this.backgroundItems = [];
    this.paths = [];
    this.vertices = [];
    this.gradients = [];
    this.highlights = [];

    // maintain the dimensions
    this.drawingWidth = 0;
    this.drawingHeight = 0;
    this.halfBondThickness = this.opts.bondThickness / 2.0;

    // for managing color schemes
    this.themeManager = themeManager;

    // create the mask
    this.maskElements = [];

    // min and max values of the coordinates
    this.maxX = -Number.MAX_VALUE;
    this.maxY = -Number.MAX_VALUE;
    this.minX = Number.MAX_VALUE;
    this.minY = Number.MAX_VALUE;

    // clear the svg element
    if (clear) {
      while (this.svg.firstChild) {
        this.svg.removeChild(this.svg.firstChild);
      }
    }

    // Create styles here as text measurement is done before constructSvg
    this.style = document.createElementNS('http://www.w3.org/2000/svg', 'style');

    // create the css styles
    this.style.appendChild(document.createTextNode(`
                .element {
                    font: ${this.opts.fontSizeLarge}pt ${this.opts.fontFamily};
                }
                .sub {
                    font: ${this.opts.fontSizeSmall}pt ${this.opts.fontFamily};
                }
            `));
    if (this.svg) {
      this.svg.appendChild(this.style);
    } else {
      this.container = document.createElementNS('http://www.w3.org/2000/svg', 'g');
      container.appendChild(this.style);
    }
  }
  constructSvg() {
    // TODO: add the defs element to put gradients in
    let defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs'),
      masks = document.createElementNS('http://www.w3.org/2000/svg', 'mask'),
      background = document.createElementNS('http://www.w3.org/2000/svg', 'g'),
      highlights = document.createElementNS('http://www.w3.org/2000/svg', 'g'),
      paths = document.createElementNS('http://www.w3.org/2000/svg', 'g'),
      vertices = document.createElementNS('http://www.w3.org/2000/svg', 'g'),
      pathChildNodes = this.paths;
    let mask = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
    mask.setAttributeNS(null, 'x', this.minX);
    mask.setAttributeNS(null, 'y', this.minY);
    mask.setAttributeNS(null, 'width', this.maxX - this.minX);
    mask.setAttributeNS(null, 'height', this.maxY - this.minY);
    mask.setAttributeNS(null, 'fill', 'white');
    masks.appendChild(mask);

    // give the mask an id
    masks.setAttributeNS(null, 'id', this.uid + '-text-mask');
    for (let path of pathChildNodes) {
      paths.appendChild(path);
    }
    for (let backgroundItem of this.backgroundItems) {
      background.appendChild(backgroundItem);
    }
    for (let highlight of this.highlights) {
      highlights.appendChild(highlight);
    }
    for (let vertex of this.vertices) {
      vertices.appendChild(vertex);
    }
    for (let mask of this.maskElements) {
      masks.appendChild(mask);
    }
    for (let gradient of this.gradients) {
      defs.appendChild(gradient);
    }
    paths.setAttributeNS(null, 'mask', 'url(#' + this.uid + '-text-mask)');
    this.updateViewbox(this.opts.scale);

    // Position the background
    background.setAttributeNS(null, 'style', `transform: translateX(${this.minX}px) translateY(${this.minY}px)`);
    if (this.svg) {
      this.svg.appendChild(defs);
      this.svg.appendChild(masks);
      this.svg.appendChild(background);
      this.svg.appendChild(highlights);
      this.svg.appendChild(paths);
      this.svg.appendChild(vertices);
    } else {
      this.container.appendChild(defs);
      this.container.appendChild(masks);
      this.container.appendChild(background);
      this.container.appendChild(paths);
      this.container.appendChild(vertices);
      return this.container;
    }
  }

  /**
   * Add a background to the svg.
   */
  addLayer(svg) {
    this.backgroundItems.push(svg.firstChild);
  }

  /**
   * Create a linear gradient to apply to a line
   *
   * @param {Line} line the line to apply the gradiation to.
   */
  createGradient(line) {
    // create the gradient and add it
    let gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient'),
      gradientUrl = this.uid + `-line-${this.gradientId++}`,
      l = line.getLeftVector(),
      r = line.getRightVector(),
      fromX = l.x,
      fromY = l.y,
      toX = r.x,
      toY = r.y;
    gradient.setAttributeNS(null, 'id', gradientUrl);
    gradient.setAttributeNS(null, 'gradientUnits', 'userSpaceOnUse');
    gradient.setAttributeNS(null, 'x1', fromX);
    gradient.setAttributeNS(null, 'y1', fromY);
    gradient.setAttributeNS(null, 'x2', toX);
    gradient.setAttributeNS(null, 'y2', toY);
    let firstStop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
    firstStop.setAttributeNS(null, 'stop-color', this.themeManager.getColor(line.getLeftElement()) || this.themeManager.getColor('C'));
    firstStop.setAttributeNS(null, 'offset', '20%');
    let secondStop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
    secondStop.setAttributeNS(null, 'stop-color', this.themeManager.getColor(line.getRightElement() || this.themeManager.getColor('C')));
    secondStop.setAttributeNS(null, 'offset', '100%');
    gradient.appendChild(firstStop);
    gradient.appendChild(secondStop);
    this.gradients.push(gradient);
    return gradientUrl;
  }

  /**
   * Create a tspan element for sub or super scripts that styles the text
   * appropriately as one of those text types.
   *
   * @param {String} text the actual text
   * @param {String} shift the type of text, either 'sub', or 'super'
   */
  createSubSuperScripts(text, shift) {
    let elem = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
    elem.setAttributeNS(null, 'baseline-shift', shift);
    elem.appendChild(document.createTextNode(text));
    elem.setAttributeNS(null, 'class', 'sub');
    return elem;
  }
  static createUnicodeCharge(n) {
    if (n === 1) {
      return '⁺';
    }
    if (n === -1) {
      return '⁻';
    }
    if (n > 1) {
      return SvgWrapper.createUnicodeSuperscript(n) + '⁺';
    }
    if (n < -1) {
      return SvgWrapper.createUnicodeSuperscript(n) + '⁻';
    }
    return '';
  }

  /**
   * Determine drawing dimensiosn based on vertex positions.
   *
   * @param {Vertex[]} vertices An array of vertices containing the vertices associated with the current molecule.
   */
  determineDimensions(vertices) {
    for (var i = 0; i < vertices.length; i++) {
      if (!vertices[i].value.isDrawn) {
        continue;
      }
      let p = vertices[i].position;
      if (this.maxX < p.x) this.maxX = p.x;
      if (this.maxY < p.y) this.maxY = p.y;
      if (this.minX > p.x) this.minX = p.x;
      if (this.minY > p.y) this.minY = p.y;
    }

    // Add padding
    let padding = this.opts.padding;
    this.maxX += padding;
    this.maxY += padding;
    this.minX -= padding;
    this.minY -= padding;
    this.drawingWidth = this.maxX - this.minX;
    this.drawingHeight = this.maxY - this.minY;
  }
  updateViewbox(scale) {
    let x = this.minX;
    let y = this.minY;
    let width = this.maxX - this.minX;
    let height = this.maxY - this.minY;
    if (scale <= 0.0) {
      if (width > height) {
        let diff = width - height;
        height = width;
        y -= diff / 2.0;
      } else {
        let diff = height - width;
        width = height;
        x -= diff / 2.0;
      }
    } else {
      if (this.svg) {
        this.svg.style.width = scale * width + 'px';
        this.svg.style.height = scale * height + 'px';
      }
    }
    this.svg.setAttributeNS(null, 'viewBox', `${x} ${y} ${width} ${height}`);
  }

  /**
   * Draw an svg ellipse as a ball.
   *
   * @param {Number} x The x position of the text.
   * @param {Number} y The y position of the text.
   * @param {String} elementName The name of the element (single-letter).
   */
  drawBall(x, y, elementName) {
    let r = this.opts.bondLength / 4.5;
    if (x - r < this.minX) {
      this.minX = x - r;
    }
    if (x + r > this.maxX) {
      this.maxX = x + r;
    }
    if (y - r < this.minY) {
      this.minY = y - r;
    }
    if (y + r > this.maxY) {
      this.maxY = y + r;
    }
    let ball = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    ball.setAttributeNS(null, 'cx', x);
    ball.setAttributeNS(null, 'cy', y);
    ball.setAttributeNS(null, 'r', r);
    ball.setAttributeNS(null, 'fill', this.themeManager.getColor(elementName));
    this.vertices.push(ball);
  }

  /**
   * @param {Line} line the line object to create the wedge from
   */
  drawWedge(line) {
    let l = line.getLeftVector().clone(),
      r = line.getRightVector().clone();
    let normals = Vector2.normals(l, r);
    normals[0].normalize();
    normals[1].normalize();
    let isRightChiralCenter = line.getRightChiral();
    let start = l,
      end = r;
    if (isRightChiralCenter) {
      start = r;
      end = l;
    }
    let t = Vector2.add(start, Vector2.multiplyScalar(normals[0], this.halfBondThickness)),
      u = Vector2.add(end, Vector2.multiplyScalar(normals[0], 3.0 + this.opts.fontSizeLarge / 4.0)),
      v = Vector2.add(end, Vector2.multiplyScalar(normals[1], 3.0 + this.opts.fontSizeLarge / 4.0)),
      w = Vector2.add(start, Vector2.multiplyScalar(normals[1], this.halfBondThickness));
    let polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon'),
      gradient = this.createGradient(line, l.x, l.y, r.x, r.y);
    polygon.setAttributeNS(null, 'points', `${t.x},${t.y} ${u.x},${u.y} ${v.x},${v.y} ${w.x},${w.y}`);
    polygon.setAttributeNS(null, 'fill', `url('#${gradient}')`);
    this.paths.push(polygon);
  }

  /* Draw a highlight for an atom
   * 
   *  @param {Number} x The x position of the highlight
   *  @param {Number} y The y position of the highlight
   *  @param {string} color The color of the highlight, default #03fc9d
   */
  drawAtomHighlight(x, y, color = "#03fc9d") {
    let ball = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    ball.setAttributeNS(null, 'cx', x);
    ball.setAttributeNS(null, 'cy', y);
    ball.setAttributeNS(null, 'r', this.opts.bondLength / 3);
    ball.setAttributeNS(null, 'fill', color);
    this.highlights.push(ball);
  }

  /**
   * Draw a dashed wedge on the canvas.
   *
   * @param {Line} line A line.
   */
  drawDashedWedge(line) {
    if (isNaN(line.from.x) || isNaN(line.from.y) || isNaN(line.to.x) || isNaN(line.to.y)) {
      return;
    }
    let l = line.getLeftVector().clone(),
      r = line.getRightVector().clone(),
      normals = Vector2.normals(l, r);
    normals[0].normalize();
    normals[1].normalize();
    let isRightChiralCenter = line.getRightChiral(),
      start,
      end;
    if (isRightChiralCenter) {
      start = r;
      end = l;
    } else {
      start = l;
      end = r;
    }
    let dir = Vector2.subtract(end, start).normalize(),
      length = line.getLength(),
      step = 1.25 / (length / (this.opts.bondLength / 10.0)),
      changed = false;
    let gradient = this.createGradient(line);
    for (let t = 0.0; t < 1.0; t += step) {
      let to = Vector2.multiplyScalar(dir, t * length),
        startDash = Vector2.add(start, to),
        width = this.opts.fontSizeLarge / 2.0 * t,
        dashOffset = Vector2.multiplyScalar(normals[0], width);
      startDash.subtract(dashOffset);
      let endDash = startDash.clone();
      endDash.add(Vector2.multiplyScalar(dashOffset, 2.0));
      this.drawLine(new Line(startDash, endDash), null, gradient);
    }
  }

  /**
   * Draws a debug dot at a given coordinate and adds text.
   *
   * @param {Number} x The x coordinate.
   * @param {Number} y The y coordindate.
   * @param {String} [debugText=''] A string.
   * @param {String} [color='#f00'] A color in hex form.
   */
  drawDebugPoint(x, y, debugText = '', color = '#f00') {
    let point = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    point.setAttributeNS(null, 'cx', x);
    point.setAttributeNS(null, 'cy', y);
    point.setAttributeNS(null, 'r', '2');
    point.setAttributeNS(null, 'fill', '#f00');
    this.vertices.push(point);
    this.drawDebugText(x, y, debugText);
  }

  /**
   * Draws a debug text message at a given position
   *
   * @param {Number} x The x coordinate.
   * @param {Number} y The y coordinate.
   * @param {String} text The debug text.
   */
  drawDebugText(x, y, text) {
    let textElem = document.createElementNS('http://www.w3.org/2000/svg', 'text');
    textElem.setAttributeNS(null, 'x', x);
    textElem.setAttributeNS(null, 'y', y);
    textElem.setAttributeNS(null, 'class', 'debug');
    textElem.setAttributeNS(null, 'fill', '#ff0000');
    textElem.setAttributeNS(null, 'style', `
                font: 5px Droid Sans, sans-serif;
            `);
    textElem.appendChild(document.createTextNode(text));
    this.vertices.push(textElem);
  }

  /**
   * Draws a ring.
   *
   * @param {x} x The x coordinate of the ring.
   * @param {y} r The y coordinate of the ring.
   * @param {s} s The size of the ring.
   */
  drawRing(x, y, s) {
    let circleElem = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    let radius = MathHelper.apothemFromSideLength(this.opts.bondLength, s);
    circleElem.setAttributeNS(null, 'cx', x);
    circleElem.setAttributeNS(null, 'cy', y);
    circleElem.setAttributeNS(null, 'r', radius - this.opts.bondSpacing);
    circleElem.setAttributeNS(null, 'stroke', this.themeManager.getColor('C'));
    circleElem.setAttributeNS(null, 'stroke-width', this.opts.bondThickness);
    circleElem.setAttributeNS(null, 'fill', 'none');
    this.paths.push(circleElem);
  }

  /**
   * Draws a line.
   *
   * @param {Line} line A line.
   * @param {Boolean} dashed defaults to false.
   * @param {String} gradient gradient url. Defaults to null.
   */
  drawLine(line, dashed = false, gradient = null, linecap = 'round') {
    let opts = this.opts,
      stylesArr = [['stroke-width', this.opts.bondThickness], ['stroke-linecap', linecap], ['stroke-dasharray', dashed ? '5, 5' : 'none']],
      l = line.getLeftVector(),
      r = line.getRightVector(),
      fromX = l.x,
      fromY = l.y,
      toX = r.x,
      toY = r.y;
    let styles = stylesArr.map(sub => sub.join(':')).join(';'),
      lineElem = document.createElementNS('http://www.w3.org/2000/svg', 'line');
    lineElem.setAttributeNS(null, 'x1', fromX);
    lineElem.setAttributeNS(null, 'y1', fromY);
    lineElem.setAttributeNS(null, 'x2', toX);
    lineElem.setAttributeNS(null, 'y2', toY);
    lineElem.setAttributeNS(null, 'style', styles);
    this.paths.push(lineElem);
    if (gradient == null) {
      gradient = this.createGradient(line, fromX, fromY, toX, toY);
    }
    lineElem.setAttributeNS(null, 'stroke', `url('#${gradient}')`);
  }

  /**
   * Draw a point.
   *
   * @param {Number} x The x position of the point.
   * @param {Number} y The y position of the point.
   * @param {String} elementName The name of the element (single-letter).
   */
  drawPoint(x, y, elementName) {
    let r = 0.75;
    if (x - r < this.minX) {
      this.minX = x - r;
    }
    if (x + r > this.maxX) {
      this.maxX = x + r;
    }
    if (y - r < this.minY) {
      this.minY = y - r;
    }
    if (y + r > this.maxY) {
      this.maxY = y + r;
    }

    // first create a mask
    let mask = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    mask.setAttributeNS(null, 'cx', x);
    mask.setAttributeNS(null, 'cy', y);
    mask.setAttributeNS(null, 'r', '1.5');
    mask.setAttributeNS(null, 'fill', 'black');
    this.maskElements.push(mask);

    // now create the point
    let point = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    point.setAttributeNS(null, 'cx', x);
    point.setAttributeNS(null, 'cy', y);
    point.setAttributeNS(null, 'r', r);
    point.setAttributeNS(null, 'fill', this.themeManager.getColor(elementName));
    this.vertices.push(point);
  }

  /**
   * Draw a text to the canvas.
   *
   * @param {Number} x The x position of the text.
   * @param {Number} y The y position of the text.
   * @param {String} elementName The name of the element (single-letter).
   * @param {Number} hydrogens The number of hydrogen atoms.
   * @param {String} direction The direction of the text in relation to the associated vertex.
   * @param {Boolean} isTerminal A boolean indicating whether or not the vertex is terminal.
   * @param {Number} charge The charge of the atom.
   * @param {Number} isotope The isotope number.
   * @param {Number} totalVertices The total number of vertices in the graph.
   * @param {Object} attachedPseudoElement A map with containing information for pseudo elements or concatinated elements. The key is comprised of the element symbol and the hydrogen count.
   * @param {String} attachedPseudoElement.element The element symbol.
   * @param {Number} attachedPseudoElement.count The number of occurences that match the key.
   * @param {Number} attachedPseudoElement.hyrogenCount The number of hydrogens attached to each atom matching the key.
   */
  drawText(x, y, elementName, hydrogens, direction, isTerminal, charge, isotope, totalVertices, attachedPseudoElement = {}) {
    let text = [];
    let display = elementName;
    if (charge !== 0 && charge !== null) {
      display += SvgWrapper.createUnicodeCharge(charge);
    }
    if (isotope !== 0 && isotope !== null) {
      display = SvgWrapper.createUnicodeSuperscript(isotope) + display;
    }
    text.push([display, elementName]);
    if (hydrogens === 1) {
      text.push(['H', 'H']);
    } else if (hydrogens > 1) {
      text.push(['H' + SvgWrapper.createUnicodeSubscript(hydrogens), 'H']);
    }

    // TODO: Better handle exceptions
    // Exception for nitro (draw nitro as NO2 instead of N+O-O)
    if (charge === 1 && elementName === 'N' && attachedPseudoElement.hasOwnProperty('0O') && attachedPseudoElement.hasOwnProperty('0O-1')) {
      attachedPseudoElement = {
        '0O': {
          element: 'O',
          count: 2,
          hydrogenCount: 0,
          previousElement: 'C',
          charge: ''
        }
      };
      charge = 0;
    }
    for (let key in attachedPseudoElement) {
      if (!attachedPseudoElement.hasOwnProperty(key)) {
        continue;
      }
      let pe = attachedPseudoElement[key];
      let display = pe.element;
      if (pe.count > 1) {
        display += SvgWrapper.createUnicodeSubscript(pe.count);
      }
      if (pe.charge !== '') {
        display += SvgWrapper.createUnicodeCharge(charge);
      }
      text.push([display, pe.element]);
      if (pe.hydrogenCount === 1) {
        text.push(['H', 'H']);
      } else if (pe.hydrogenCount > 1) {
        text.push(['H' + SvgWrapper.createUnicodeSubscript(pe.hydrogenCount), 'H']);
      }
    }
    this.write(text, direction, x, y, totalVertices === 1);
  }
  write(text, direction, x, y, singleVertex) {
    // Measure element name only, without charge or isotope ...
    let bbox = SvgWrapper.measureText(text[0][1], this.opts.fontSizeLarge, this.opts.fontFamily);

    // ... but for direction left move to the right to 
    if (direction === 'left' && text[0][0] !== text[0][1]) {
      bbox.width *= 2.0;
    }

    // Get the approximate width and height of text and add update max/min
    // to allow for narrower paddings
    if (singleVertex) {
      if (x + bbox.width * text.length > this.maxX) {
        this.maxX = x + bbox.width * text.length;
      }
      if (x - bbox.width / 2.0 < this.minX) {
        this.minX = x - bbox.width / 2.0;
      }
      if (y - bbox.height < this.minY) {
        this.minY = y - bbox.height;
      }
      if (y + bbox.height > this.maxY) {
        this.maxY = y + bbox.height;
      }
    } else {
      if (direction !== 'right') {
        if (x + bbox.width * text.length > this.maxX) {
          this.maxX = x + bbox.width * text.length;
        }
        if (x - bbox.width * text.length < this.minX) {
          this.minX = x - bbox.width * text.length;
        }
      } else if (direction !== 'left') {
        if (x + bbox.width * text.length > this.maxX) {
          this.maxX = x + bbox.width * text.length;
        }
        if (x - bbox.width / 2.0 < this.minX) {
          this.minX = x - bbox.width / 2.0;
        }
      }
      if (y - bbox.height < this.minY) {
        this.minY = y - bbox.height;
      }
      if (y + bbox.height > this.maxY) {
        this.maxY = y + bbox.height;
      }
      if (direction === 'down') {
        if (y + 0.8 * bbox.height * text.length > this.maxY) {
          this.maxY = y + 0.8 * bbox.height * text.length;
        }
      }
      if (direction === 'up') {
        if (y - 0.8 * bbox.height * text.length < this.minY) {
          this.minY = y - 0.8 * bbox.height * text.length;
        }
      }
    }
    let cx = x;
    let cy = y;

    // Draw the text
    let textElem = document.createElementNS('http://www.w3.org/2000/svg', 'text');
    textElem.setAttributeNS(null, 'class', 'element');
    let g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
    textElem.setAttributeNS(null, 'fill', '#ffffff');
    if (direction === 'left') {
      text = text.reverse();
    }
    if (direction === 'right' || direction === 'down' || direction === 'up') {
      x -= bbox.width / 2.0;
    }
    if (direction === 'left') {
      x += bbox.width / 2.0;
    }
    text.forEach((part, i) => {
      const display = part[0];
      const elementName = part[1];
      let tspanElem = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
      tspanElem.setAttributeNS(null, 'fill', this.themeManager.getColor(elementName));
      tspanElem.textContent = display;
      if (direction === 'up' || direction === 'down') {
        tspanElem.setAttributeNS(null, 'x', '0px');
        if (direction === 'up') {
          tspanElem.setAttributeNS(null, 'y', `-${0.9 * i}em`);
        } else {
          tspanElem.setAttributeNS(null, 'y', `${0.9 * i}em`);
        }
      }
      textElem.appendChild(tspanElem);
    });
    textElem.setAttributeNS(null, 'data-direction', direction);
    if (direction === 'left' || direction === 'right') {
      textElem.setAttributeNS(null, 'dominant-baseline', 'alphabetic');
      textElem.setAttributeNS(null, 'y', '0.36em');
    } else {
      textElem.setAttributeNS(null, 'dominant-baseline', 'central');
    }
    if (direction === 'left') {
      textElem.setAttributeNS(null, 'text-anchor', 'end');
    }
    g.appendChild(textElem);
    g.setAttributeNS(null, 'style', `transform: translateX(${x}px) translateY(${y}px)`);
    let maskRadius = this.opts.fontSizeLarge * 0.75;
    if (text[0][1].length > 1) {
      maskRadius = this.opts.fontSizeLarge * 1.1;
    }
    let mask = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    mask.setAttributeNS(null, 'cx', cx);
    mask.setAttributeNS(null, 'cy', cy);
    mask.setAttributeNS(null, 'r', maskRadius);
    mask.setAttributeNS(null, 'fill', 'black');
    this.maskElements.push(mask);
    this.vertices.push(g);
  }

  /**
   * Draw the wrapped SVG to a canvas.
   * @param {HTMLCanvasElement} canvas The canvas element to draw the svg to.
   */
  toCanvas(canvas, width, height) {
    if (typeof canvas === 'string' || canvas instanceof String) {
      canvas = document.getElementById(canvas);
    }
    let image = new Image();
    image.onload = function () {
      canvas.width = width;
      canvas.height = height;
      canvas.getContext('2d').drawImage(image, 0, 0, width, height);
    };
    image.src = 'data:image/svg+xml;charset-utf-8,' + encodeURIComponent(this.svg.outerHTML);
  }
  static createUnicodeSubscript(n) {
    let result = '';
    n.toString().split('').forEach(d => {
      result += ['₀', '₁', '₂', '₃', '₄', '₅', '₆', '₇', '₈', '₉'][parseInt(d)];
    });
    return result;
  }
  static createUnicodeSuperscript(n) {
    let result = '';
    n.toString().split('').forEach(d => {
      let parsed = parseInt(d);
      if (parsed) {
        result += ['⁰', '¹', '²', '³', '⁴', '⁵', '⁶', '⁷', '⁸', '⁹'][parseInt(d)];
      }
    });
    return result;
  }
  static replaceNumbersWithSubscript(text) {
    let subscriptNumbers = {
      '0': '₀',
      '1': '₁',
      '2': '₂',
      '3': '₃',
      '4': '₄',
      '5': '₅',
      '6': '₆',
      '7': '₇',
      '8': '₈',
      '9': '₉'
    };
    for (const [key, value] of Object.entries(subscriptNumbers)) {
      text = text.replaceAll(key, value);
    }
    return text;
  }
  static measureText(text, fontSize, fontFamily, lineHeight = 0.9) {
    const element = document.createElement('canvas');
    const ctx = element.getContext("2d");
    ctx.font = `${fontSize}pt ${fontFamily}`;
    let textMetrics = ctx.measureText(text);
    let compWidth = Math.abs(textMetrics.actualBoundingBoxLeft) + Math.abs(textMetrics.actualBoundingBoxRight);
    return {
      'width': textMetrics.width > compWidth ? textMetrics.width : compWidth,
      'height': (Math.abs(textMetrics.actualBoundingBoxAscent) + Math.abs(textMetrics.actualBoundingBoxAscent)) * lineHeight
    };
  }

  /**
   * Convert an SVG to a canvas. Warning: This happens async!
   * 
   * @param {SVGElement} svg 
   * @param {HTMLCanvasElement} canvas 
   * @param {Number} width 
   * @param {Number} height 
   * @param {CallableFunction} callback
   * @returns {HTMLCanvasElement} The input html canvas element after drawing to.
   */
  static svgToCanvas(svg, canvas, width, height, callback = null) {
    svg.setAttributeNS(null, 'width', width);
    svg.setAttributeNS(null, 'height', height);
    let image = new Image();
    image.onload = function () {
      canvas.width = width;
      canvas.height = height;
      let context = canvas.getContext('2d');
      context.imageSmoothingEnabled = false;
      context.drawImage(image, 0, 0, width, height);
      if (callback) {
        callback(canvas);
      }
    };
    image.onerror = function (err) {
      console.log(err);
    };
    image.src = 'data:image/svg+xml;charset-utf-8,' + encodeURIComponent(svg.outerHTML);
    return canvas;
  }

  /**
   * Convert an SVG to a canvas. Warning: This happens async!
   * 
   * @param {SVGElement} svg 
   * @param {HTMLImageElement} canvas 
   * @param {Number} width 
   * @param {Number} height
   */
  static svgToImg(svg, img, width, height) {
    let canvas = document.createElement('canvas');
    this.svgToCanvas(svg, canvas, width, height, result => {
      img.src = canvas.toDataURL("image/png");
    });
  }

  /**
   * Create an SVG element containing text.
   * @param {String} text 
   * @param {*} themeManager 
   * @param {*} options 
   * @returns {{svg: SVGElement, width: Number, height: Number}} The SVG element containing the text and its dimensions.
   */
  static writeText(text, themeManager, fontSize, fontFamily, maxWidth = Number.MAX_SAFE_INTEGER) {
    let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    let style = document.createElementNS('http://www.w3.org/2000/svg', 'style');
    style.appendChild(document.createTextNode(`
        .text {
            font: ${fontSize}pt ${fontFamily};
            dominant-baseline: ideographic;
        }
    `));
    svg.appendChild(style);
    let textElem = document.createElementNS('http://www.w3.org/2000/svg', 'text');
    textElem.setAttributeNS(null, 'class', 'text');
    let maxLineWidth = 0.0;
    let totalHeight = 0.0;
    let lines = [];
    text.split("\n").forEach(line => {
      let dims = SvgWrapper.measureText(line, fontSize, fontFamily, 1.0);
      if (dims.width >= maxWidth) {
        let totalWordsWidth = 0.0;
        let maxWordsHeight = 0.0;
        let words = line.split(" ");
        let offset = 0;
        for (let i = 0; i < words.length; i++) {
          let wordDims = SvgWrapper.measureText(words[i], fontSize, fontFamily, 1.0);
          if (totalWordsWidth + wordDims.width > maxWidth) {
            lines.push({
              text: words.slice(offset, i).join(' '),
              width: totalWordsWidth,
              height: maxWordsHeight
            });
            totalWordsWidth = 0.0;
            maxWordsHeight = 0.0;
            offset = i;
          }
          if (wordDims.height > maxWordsHeight) {
            maxWordsHeight = wordDims.height;
          }
          totalWordsWidth += wordDims.width;
        }
        if (offset < words.length) {
          lines.push({
            text: words.slice(offset, words.length).join(' '),
            width: totalWordsWidth,
            height: maxWordsHeight
          });
        }
      } else {
        lines.push({
          text: line,
          width: dims.width,
          height: dims.height
        });
      }
    });
    lines.forEach((line, i) => {
      totalHeight += line.height;
      let tspanElem = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
      tspanElem.setAttributeNS(null, 'fill', themeManager.getColor("C"));
      tspanElem.textContent = line.text;
      tspanElem.setAttributeNS(null, 'x', '0px');
      tspanElem.setAttributeNS(null, 'y', `${totalHeight}px`);
      textElem.appendChild(tspanElem);
      if (line.width > maxLineWidth) {
        maxLineWidth = line.width;
      }
    });
    svg.appendChild(textElem);
    return {
      svg: svg,
      width: maxLineWidth,
      height: totalHeight
    };
  }
}
module.exports = SvgWrapper;

/***/ }),

/***/ "./src/ThemeManager.js":
/*!*****************************!*\
  !*** ./src/ThemeManager.js ***!
  \*****************************/
/***/ ((module) => {

class ThemeManager {
  constructor(colors, theme) {
    this.colors = colors;
    this.theme = this.colors[theme];
  }

  /**
   * Returns the hex code of a color associated with a key from the current theme.
   *
   * @param {String} key The color key in the theme (e.g. C, N, BACKGROUND, ...).
   * @returns {String} A color hex value.
   */
  getColor(key) {
    if (key) {
      key = key.toUpperCase();
      if (key in this.theme) {
        return this.theme[key];
      }
    }
    return this.theme['C'];
  }

  /**
   * Sets the theme to the specified string if it exists. If it does not, this
   * does nothing.
   *
   * @param {String} theme the name of the theme to switch to
   */
  setTheme(theme) {
    if (this.colors.hasOwnProperty(theme)) {
      this.theme = this.colors[theme];
    }

    // TODO: this probably should notify those who are watching this theme
    // manager that the theme has changed so that colors can be changed
    // on the fly
  }
}
module.exports = ThemeManager;

/***/ }),

/***/ "./src/UtilityFunctions.js":
/*!*********************************!*\
  !*** ./src/UtilityFunctions.js ***!
  \*********************************/
/***/ ((module) => {

/**
 * Translate the integer indicating the charge to the appropriate text.
 * @param {Number} charge The integer indicating the charge.
 * @returns {String} A string representing a charge.
 */
function getChargeText(charge) {
  if (charge === 1) {
    return '+';
  } else if (charge === 2) {
    return '2+';
  } else if (charge === -1) {
    return '-';
  } else if (charge === -2) {
    return '2-';
  } else {
    return '';
  }
}
module.exports = {
  getChargeText
};

/***/ }),

/***/ "./src/Vector2.js":
/*!************************!*\
  !*** ./src/Vector2.js ***!
  \************************/
/***/ ((module) => {

//@ts-check

/** 
 * A class representing a 2D vector.
 * 
 * @property {Number} x The x component of the vector.
 * @property {Number} y The y component of the vector.
 */
class Vector2 {
  /**
   * The constructor of the class Vector2.
   *
   * @param {(Number|Vector2)} x The initial x coordinate value or, if the single argument, a Vector2 object.
   * @param {Number} y The initial y coordinate value.
   */
  constructor(x, y) {
    if (arguments.length == 0) {
      this.x = 0;
      this.y = 0;
    } else if (arguments.length == 1) {
      this.x = x.x;
      this.y = x.y;
    } else {
      this.x = x;
      this.y = y;
    }
  }

  /**
   * Clones this vector and returns the clone.
   *
   * @returns {Vector2} The clone of this vector.
   */
  clone() {
    return new Vector2(this.x, this.y);
  }

  /**
   * Returns a string representation of this vector.
   *
   * @returns {String} A string representation of this vector.
   */
  toString() {
    return '(' + this.x + ',' + this.y + ')';
  }

  /**
   * Add the x and y coordinate values of a vector to the x and y coordinate values of this vector.
   *
   * @param {Vector2} vec Another vector.
   * @returns {Vector2} Returns itself.
   */
  add(vec) {
    this.x += vec.x;
    this.y += vec.y;
    return this;
  }

  /**
   * Subtract the x and y coordinate values of a vector from the x and y coordinate values of this vector.
   *
   * @param {Vector2} vec Another vector.
   * @returns {Vector2} Returns itself.
   */
  subtract(vec) {
    this.x -= vec.x;
    this.y -= vec.y;
    return this;
  }

  /**
   * Divide the x and y coordinate values of this vector by a scalar.
   *
   * @param {Number} scalar The scalar.
   * @returns {Vector2} Returns itself.
   */
  divide(scalar) {
    this.x /= scalar;
    this.y /= scalar;
    return this;
  }

  /**
   * Multiply the x and y coordinate values of this vector by the values of another vector.
   *
   * @param {Vector2} v A vector.
   * @returns {Vector2} Returns itself.
   */
  multiply(v) {
    this.x *= v.x;
    this.y *= v.y;
    return this;
  }

  /**
   * Multiply the x and y coordinate values of this vector by a scalar.
   *
   * @param {Number} scalar The scalar.
   * @returns {Vector2} Returns itself.
   */
  multiplyScalar(scalar) {
    this.x *= scalar;
    this.y *= scalar;
    return this;
  }

  /**
   * Inverts this vector. Same as multiply(-1.0).
   *
   * @returns {Vector2} Returns itself.
   */
  invert() {
    this.x = -this.x;
    this.y = -this.y;
    return this;
  }

  /**
   * Returns the angle of this vector in relation to the coordinate system.
   *
   * @returns {Number} The angle in radians.
   */
  angle() {
    return Math.atan2(this.y, this.x);
  }

  /**
   * Returns the euclidean distance between this vector and another vector.
   *
   * @param {Vector2} vec A vector.
   * @returns {Number} The euclidean distance between the two vectors.
   */
  distance(vec) {
    return Math.sqrt((vec.x - this.x) * (vec.x - this.x) + (vec.y - this.y) * (vec.y - this.y));
  }

  /**
   * Returns the squared euclidean distance between this vector and another vector. When only the relative distances of a set of vectors are needed, this is is less expensive than using distance(vec).
   *
   * @param {Vector2} vec Another vector.
   * @returns {Number} The squared euclidean distance of the two vectors.
   */
  distanceSq(vec) {
    return (vec.x - this.x) * (vec.x - this.x) + (vec.y - this.y) * (vec.y - this.y);
  }

  /**
   * Checks whether or not this vector is in a clockwise or counter-clockwise rotational direction compared to another vector in relation to the coordinate system.
   *
   * @param {Vector2} vec Another vector.
   * @returns {Number} Returns -1, 0 or 1 if the vector supplied as an argument is clockwise, neutral or counter-clockwise respectively to this vector in relation to the coordinate system.
   */
  clockwise(vec) {
    let a = this.y * vec.x;
    let b = this.x * vec.y;
    if (a > b) {
      return -1;
    } else if (a === b) {
      return 0;
    }
    return 1;
  }

  /**
   * Checks whether or not this vector is in a clockwise or counter-clockwise rotational direction compared to another vector in relation to an arbitrary third vector.
   *
   * @param {Vector2} center The central vector.
   * @param {Vector2} vec Another vector.
   * @returns {Number} Returns -1, 0 or 1 if the vector supplied as an argument is clockwise, neutral or counter-clockwise respectively to this vector in relation to an arbitrary third vector.
   */
  relativeClockwise(center, vec) {
    let a = (this.y - center.y) * (vec.x - center.x);
    let b = (this.x - center.x) * (vec.y - center.y);
    if (a > b) {
      return -1;
    } else if (a === b) {
      return 0;
    }
    return 1;
  }

  /**
   * Rotates this vector by a given number of radians around the origin of the coordinate system.
   *
   * @param {Number} angle The angle in radians to rotate the vector.
   * @returns {Vector2} Returns itself.
   */
  rotate(angle) {
    let tmp = new Vector2(0, 0);
    let cosAngle = Math.cos(angle);
    let sinAngle = Math.sin(angle);
    tmp.x = this.x * cosAngle - this.y * sinAngle;
    tmp.y = this.x * sinAngle + this.y * cosAngle;
    this.x = tmp.x;
    this.y = tmp.y;
    return this;
  }

  /**
   * Rotates this vector around another vector.
   *
   * @param {Number} angle The angle in radians to rotate the vector.
   * @param {Vector2} vec The vector which is used as the rotational center.
   * @returns {Vector2} Returns itself.
   */
  rotateAround(angle, vec) {
    let s = Math.sin(angle);
    let c = Math.cos(angle);
    this.x -= vec.x;
    this.y -= vec.y;
    let x = this.x * c - this.y * s;
    let y = this.x * s + this.y * c;
    this.x = x + vec.x;
    this.y = y + vec.y;
    return this;
  }

  /**
   * Rotate a vector around a given center to the same angle as another vector (so that the two vectors and the center are in a line, with both vectors on one side of the center), keeps the distance from this vector to the center.
   *
   * @param {Vector2} vec The vector to rotate this vector to.
   * @param {Vector2} center The rotational center.
   * @param {Number} [offsetAngle=0.0] An additional amount of radians to rotate the vector.
   * @returns {Vector2} Returns itself.
   */
  rotateTo(vec, center, offsetAngle = 0.0) {
    // Problem if this is first position
    this.x += 0.001;
    this.y -= 0.001;
    let a = Vector2.subtract(this, center);
    let b = Vector2.subtract(vec, center);
    let angle = Vector2.angle(b, a);
    this.rotateAround(angle + offsetAngle, center);
    return this;
  }

  /**
   * Rotates the vector away from a specified vector around a center.
   * 
   * @param {Vector2} vec The vector this one is rotated away from.
   * @param {Vector2} center The rotational center.
   * @param {Number} angle The angle by which to rotate.
   */
  rotateAwayFrom(vec, center, angle) {
    this.rotateAround(angle, center);
    let distSqA = this.distanceSq(vec);
    this.rotateAround(-2.0 * angle, center);
    let distSqB = this.distanceSq(vec);

    // If it was rotated towards the other vertex, rotate in other direction by same amount.
    if (distSqB < distSqA) {
      this.rotateAround(2.0 * angle, center);
    }
  }

  /**
   * Returns the angle in radians used to rotate this vector away from a given vector.
   * 
   * @param {Vector2} vec The vector this one is rotated away from.
   * @param {Vector2} center The rotational center.
   * @param {Number} angle The angle by which to rotate.
   * @returns {Number} The angle in radians.
   */
  getRotateAwayFromAngle(vec, center, angle) {
    let tmp = this.clone();
    tmp.rotateAround(angle, center);
    let distSqA = tmp.distanceSq(vec);
    tmp.rotateAround(-2.0 * angle, center);
    let distSqB = tmp.distanceSq(vec);
    if (distSqB < distSqA) {
      return angle;
    } else {
      return -angle;
    }
  }

  /**
   * Returns the angle in radians used to rotate this vector towards a given vector.
   * 
   * @param {Vector2} vec The vector this one is rotated towards to.
   * @param {Vector2} center The rotational center.
   * @param {Number} angle The angle by which to rotate.
   * @returns {Number} The angle in radians.
   */
  getRotateTowardsAngle(vec, center, angle) {
    let tmp = this.clone();
    tmp.rotateAround(angle, center);
    let distSqA = tmp.distanceSq(vec);
    tmp.rotateAround(-2.0 * angle, center);
    let distSqB = tmp.distanceSq(vec);
    if (distSqB > distSqA) {
      return angle;
    } else {
      return -angle;
    }
  }

  /**
   * Gets the angles between this vector and another vector around a common center of rotation.
   *
   * @param {Vector2} vec Another vector.
   * @param {Vector2} center The center of rotation.
   * @returns {Number} The angle between this vector and another vector around a center of rotation in radians.
   */
  getRotateToAngle(vec, center) {
    let a = Vector2.subtract(this, center);
    let b = Vector2.subtract(vec, center);
    let angle = Vector2.angle(b, a);
    return Number.isNaN(angle) ? 0.0 : angle;
  }

  /**
   * Checks whether a vector lies within a polygon spanned by a set of vectors.
   *
   * @param {Vector2[]} polygon An array of vectors spanning the polygon.
   * @returns {Boolean} A boolean indicating whether or not this vector is within a polygon.
   */
  isInPolygon(polygon) {
    let inside = false;

    // Its not always a given, that the polygon is convex (-> sugars)
    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {
      if (polygon[i].y > this.y != polygon[j].y > this.y && this.x < (polygon[j].x - polygon[i].x) * (this.y - polygon[i].y) / (polygon[j].y - polygon[i].y) + polygon[i].x) {
        inside = !inside;
      }
    }
    return inside;
  }

  /**
   * Returns the length of this vector.
   *
   * @returns {Number} The length of this vector.
   */
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }

  /**
   * Returns the square of the length of this vector.
   *
   * @returns {Number} The square of the length of this vector.
   */
  lengthSq() {
    return this.x * this.x + this.y * this.y;
  }

  /**
   * Normalizes this vector.
   *
   * @returns {Vector2} Returns itself.
   */
  normalize() {
    this.divide(this.length());
    return this;
  }

  /**
   * Returns a normalized copy of this vector.
   *
   * @returns {Vector2} A normalized copy of this vector.
   */
  normalized() {
    return Vector2.divideScalar(this, this.length());
  }

  /**
   * Calculates which side of a line spanned by two vectors this vector is.
   *
   * @param {Vector2} vecA A vector.
   * @param {Vector2} vecB A vector.
   * @returns {Number} A number indicating the side of this vector, given a line spanned by two other vectors.
   */
  whichSide(vecA, vecB) {
    return (this.x - vecA.x) * (vecB.y - vecA.y) - (this.y - vecA.y) * (vecB.x - vecA.x);
  }

  /**
   * Checks whether or not this vector is on the same side of a line spanned by two vectors as another vector.
   *
   * @param {Vector2} vecA A vector spanning the line.
   * @param {Vector2} vecB A vector spanning the line.
   * @param {Vector2} vecC A vector to check whether or not it is on the same side as this vector.
   * @returns {Boolean} Returns a boolean indicating whether or not this vector is on the same side as another vector.
   */
  sameSideAs(vecA, vecB, vecC) {
    let d = this.whichSide(vecA, vecB);
    let dRef = vecC.whichSide(vecA, vecB);
    return d < 0 && dRef < 0 || d == 0 && dRef == 0 || d > 0 && dRef > 0;
  }

  /**
   * Adds two vectors and returns the result as a new vector.
   *
   * @static
   * @param {Vector2} vecA A summand.
   * @param {Vector2} vecB A summand.
   * @returns {Vector2} Returns the sum of two vectors.
   */
  static add(vecA, vecB) {
    return new Vector2(vecA.x + vecB.x, vecA.y + vecB.y);
  }

  /**
   * Subtracts one vector from another and returns the result as a new vector.
   *
   * @static
   * @param {Vector2} vecA The minuend.
   * @param {Vector2} vecB The subtrahend.
   * @returns {Vector2} Returns the difference of two vectors.
   */
  static subtract(vecA, vecB) {
    return new Vector2(vecA.x - vecB.x, vecA.y - vecB.y);
  }

  /**
   * Multiplies two vectors (value by value) and returns the result.
   *
   * @static
   * @param {Vector2} vecA A vector.
   * @param {Vector2} vecB A vector.
   * @returns {Vector2} Returns the product of two vectors.
   */
  static multiply(vecA, vecB) {
    return new Vector2(vecA.x * vecB.x, vecA.y * vecB.y);
  }

  /**
   * Multiplies two vectors (value by value) and returns the result.
   *
   * @static
   * @param {Vector2} vec A vector.
   * @param {Number} scalar A scalar.
   * @returns {Vector2} Returns the product of two vectors.
   */
  static multiplyScalar(vec, scalar) {
    return new Vector2(vec.x, vec.y).multiplyScalar(scalar);
  }

  /**
   * Returns the midpoint of a line spanned by two vectors.
   *
   * @static
   * @param {Vector2} vecA A vector spanning the line.
   * @param {Vector2} vecB A vector spanning the line.
   * @returns {Vector2} The midpoint of the line spanned by two vectors.
   */
  static midpoint(vecA, vecB) {
    return new Vector2((vecA.x + vecB.x) / 2, (vecA.y + vecB.y) / 2);
  }

  /**
   * Returns the normals of a line spanned by two vectors.
   *
   * @static
   * @param {Vector2} vecA A vector spanning the line.
   * @param {Vector2} vecB A vector spanning the line.
   * @returns {Vector2[]} An array containing the two normals, each represented by a vector.
   */
  static normals(vecA, vecB) {
    let delta = Vector2.subtract(vecB, vecA);
    return [new Vector2(-delta.y, delta.x), new Vector2(delta.y, -delta.x)];
  }

  /**
   * Returns the unit (normalized normal) vectors of a line spanned by two vectors.
   *
   * @static
   * @param {Vector2} vecA A vector spanning the line.
   * @param {Vector2} vecB A vector spanning the line.
   * @returns {Vector2[]} An array containing the two unit vectors.
   */
  static units(vecA, vecB) {
    let delta = Vector2.subtract(vecB, vecA);
    return [new Vector2(-delta.y, delta.x).normalize(), new Vector2(delta.y, -delta.x).normalize()];
  }

  /**
   * Divides a vector by another vector and returns the result as new vector.
   *
   * @static
   * @param {Vector2} vecA The dividend.
   * @param {Vector2} vecB The divisor.
   * @returns {Vector2} The fraction of the two vectors.
   */
  static divide(vecA, vecB) {
    return new Vector2(vecA.x / vecB.x, vecA.y / vecB.y);
  }

  /**
   * Divides a vector by a scalar and returns the result as new vector.
   *
   * @static
   * @param {Vector2} vecA The dividend.
   * @param {Number} s The scalar.
   * @returns {Vector2} The fraction of the two vectors.
   */
  static divideScalar(vecA, s) {
    return new Vector2(vecA.x / s, vecA.y / s);
  }

  /**
   * Returns the dot product of two vectors.
   *
   * @static
   * @param {Vector2} vecA A vector.
   * @param {Vector2} vecB A vector.
   * @returns {Number} The dot product of two vectors.
   */
  static dot(vecA, vecB) {
    return vecA.x * vecB.x + vecA.y * vecB.y;
  }

  /**
   * Returns the angle between two vectors.
   *
   * @static
   * @param {Vector2} vecA A vector.
   * @param {Vector2} vecB A vector.
   * @returns {Number} The angle between two vectors in radians.
   */
  static angle(vecA, vecB) {
    let dot = Vector2.dot(vecA, vecB);
    return Math.acos(dot / (vecA.length() * vecB.length()));
  }

  /**
   * Returns the angle between two vectors based on a third vector in between.
   *
   * @static
   * @param {Vector2} vecA A vector.
   * @param {Vector2} vecB A (central) vector.
   * @param {Vector2} vecC A vector.
   * @returns {Number} The angle in radians.
   */
  static threePointangle(vecA, vecB, vecC) {
    let ab = Vector2.subtract(vecB, vecA);
    let bc = Vector2.subtract(vecC, vecB);
    let abLength = vecA.distance(vecB);
    let bcLength = vecB.distance(vecC);
    return Math.acos(Vector2.dot(ab, bc) / (abLength * bcLength));
  }

  /**
   * Returns the scalar projection of a vector on another vector.
   *
   * @static
   * @param {Vector2} vecA The vector to be projected.
   * @param {Vector2} vecB The vector to be projection upon.
   * @returns {Number} The scalar component.
   */
  static scalarProjection(vecA, vecB) {
    let unit = vecB.normalized();
    return Vector2.dot(vecA, unit);
  }

  /**
  * Returns the average vector (normalized) of the input vectors.
  *
  * @static
  * @param {Array} vecs An array containing vectors.
  * @returns {Vector2} The resulting vector (normalized).
  */
  static averageDirection(vecs) {
    let avg = new Vector2(0.0, 0.0);
    for (var i = 0; i < vecs.length; i++) {
      let vec = vecs[i];
      avg.add(vec);
    }
    return avg.normalize();
  }
}
module.exports = Vector2;

/***/ }),

/***/ "./src/Vertex.js":
/*!***********************!*\
  !*** ./src/Vertex.js ***!
  \***********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//@ts-check
const MathHelper = __webpack_require__(/*! ./MathHelper */ "./src/MathHelper.js");
const ArrayHelper = __webpack_require__(/*! ./ArrayHelper */ "./src/ArrayHelper.js");
const Vector2 = __webpack_require__(/*! ./Vector2 */ "./src/Vector2.js");
const Atom = __webpack_require__(/*! ./Atom */ "./src/Atom.js");

/** 
 * A class representing a vertex.
 * 
 * @property {Number} id The id of this vertex.
 * @property {Atom} value The atom associated with this vertex.
 * @property {Vector2} position The position of this vertex.
 * @property {Vector2} previousPosition The position of the previous vertex.
 * @property {Number|null} parentVertexId The id of the previous vertex.
 * @property {Number[]} children The ids of the children of this vertex.
 * @property {Number[]} spanningTreeChildren The ids of the children of this vertex as defined in the spanning tree defined by the SMILES.
 * @property {Number[]} edges The ids of edges associated with this vertex.
 * @property {Boolean} positioned A boolean indicating whether or not this vertex has been positioned.
 * @property {Number} angle The angle of this vertex.
 * @property {Number} dir The direction of this vertex.
 * @property {Number} neighbourCount The number of neighbouring vertices.
 * @property {Number[]} neighbours The vertex ids of neighbouring vertices.
 * @property {String[]} neighbouringElements The element symbols associated with neighbouring vertices.
 * @property {Boolean} forcePositioned A boolean indicating whether or not this vertex was positioned using a force-based approach.
 */

class Vertex {
  /**
   * The constructor for the class Vertex.
   *
   * @param {Atom} value The value associated with this vertex.
   * @param {Number} [x=0] The initial x coordinate of the positional vector of this vertex.
   * @param {Number} [y=0] The initial y coordinate of the positional vector of this vertex.
   */
  constructor(value, x = 0, y = 0) {
    this.id = null;
    this.value = value;
    this.position = new Vector2(x ? x : 0, y ? y : 0);
    this.previousPosition = new Vector2(0, 0);
    this.parentVertexId = null;
    this.children = Array();
    this.spanningTreeChildren = Array();
    this.edges = Array();
    this.positioned = false;
    this.angle = null;
    this.dir = 1.0;
    this.neighbourCount = 0;
    this.neighbours = Array();
    this.neighbouringElements = Array();
    this.forcePositioned = false;
  }

  /**
   * Set the 2D coordinates of the vertex.
   * 
   * @param {Number} x The x component of the coordinates.
   * @param {Number} y The y component of the coordinates.
   * 
   */
  setPosition(x, y) {
    this.position.x = x;
    this.position.y = y;
  }

  /**
   * Set the 2D coordinates of the vertex from a Vector2.
   * 
   * @param {Vector2} v A 2D vector.
   * 
   */
  setPositionFromVector(v) {
    this.position.x = v.x;
    this.position.y = v.y;
  }

  /**
   * Add a child vertex id to this vertex.
   * @param {Number} vertexId The id of a vertex to be added as a child to this vertex.
   */
  addChild(vertexId) {
    this.children.push(vertexId);
    this.neighbours.push(vertexId);
    this.neighbourCount++;
  }

  /**
   * Add a child vertex id to this vertex as the second child of the neighbours array,
   * except this vertex is the first vertex of the SMILE string, then it is added as the first.
   * This is used to get the correct ordering of neighbours for parity calculations.
   * If a hydrogen is implicitly attached to the chiral center, insert as the third child.
   * @param {Number} vertexId The id of a vertex to be added as a child to this vertex.
   * @param {Number} ringbondIndex The index of the ringbond.
   */
  addRingbondChild(vertexId, ringbondIndex) {
    this.children.push(vertexId);
    if (this.value.bracket) {
      let index = 1;
      if (this.id === 0 && this.value.bracket.hcount === 0) {
        index = 0;
      }
      if (this.value.bracket.hcount === 1 && ringbondIndex === 0) {
        index = 2;
      }
      if (this.value.bracket.hcount === 1 && ringbondIndex === 1) {
        if (this.neighbours.length < 3) {
          index = 2;
        } else {
          index = 3;
        }
      }
      if (this.value.bracket.hcount === null && ringbondIndex === 0) {
        index = 1;
      }
      if (this.value.bracket.hcount === null && ringbondIndex === 1) {
        if (this.neighbours.length < 3) {
          index = 1;
        } else {
          index = 2;
        }
      }
      this.neighbours.splice(index, 0, vertexId);
    } else {
      this.neighbours.push(vertexId);
    }
    this.neighbourCount++;
  }

  /**
   * Set the vertex id of the parent.
   * 
   * @param {Number} parentVertexId The parents vertex id.
   */
  setParentVertexId(parentVertexId) {
    this.neighbourCount++;
    this.parentVertexId = parentVertexId;
    this.neighbours.push(parentVertexId);
  }

  /**
   * Returns true if this vertex is terminal (has no parent or child vertices), otherwise returns false. Always returns true if associated value has property hasAttachedPseudoElements set to true.
   *
   * @returns {Boolean} A boolean indicating whether or not this vertex is terminal.
   */
  isTerminal() {
    if (this.value.hasAttachedPseudoElements) {
      return true;
    }
    return this.parentVertexId === null && this.children.length < 2 || this.children.length === 0;
  }

  /**
   * Clones this vertex and returns the clone.
   *
   * @returns {Vertex} A clone of this vertex.
   */
  clone() {
    let clone = new Vertex(this.value, this.position.x, this.position.y);
    clone.id = this.id;
    clone.previousPosition = new Vector2(this.previousPosition.x, this.previousPosition.y);
    clone.parentVertexId = this.parentVertexId;
    clone.children = ArrayHelper.clone(this.children);
    clone.spanningTreeChildren = ArrayHelper.clone(this.spanningTreeChildren);
    clone.edges = ArrayHelper.clone(this.edges);
    clone.positioned = this.positioned;
    clone.angle = this.angle;
    clone.forcePositioned = this.forcePositioned;
    return clone;
  }

  /**
   * Returns true if this vertex and the supplied vertex both have the same id, else returns false.
   *
   * @param {Vertex} vertex The vertex to check.
   * @returns {Boolean} A boolean indicating whether or not the two vertices have the same id.
   */
  equals(vertex) {
    return this.id === vertex.id;
  }

  /**
   * Returns the angle of this vertexes positional vector. If a reference vector is supplied in relations to this vector, else in relations to the coordinate system.
   *
   * @param {Vector2} [referenceVector=null] - The reference vector.
   * @param {Boolean} [returnAsDegrees=false] - If true, returns angle in degrees, else in radians.
   * @returns {Number} The angle of this vertex.
   */
  getAngle(referenceVector = null, returnAsDegrees = false) {
    let u = null;
    if (!referenceVector) {
      u = Vector2.subtract(this.position, this.previousPosition);
    } else {
      u = Vector2.subtract(this.position, referenceVector);
    }
    if (returnAsDegrees) {
      return MathHelper.toDeg(u.angle());
    }
    return u.angle();
  }

  /**
   * Returns the suggested text direction when text is added at the position of this vertex.
   *
   * @param {Vertex[]} vertices The array of vertices for the current molecule.
   * @param {Boolean} onlyHorizontal In case the text direction should be limited to either left or right.
   * @returns {String} The suggested direction of the text.
   */
  getTextDirection(vertices, onlyHorizontal = false) {
    let neighbours = this.getDrawnNeighbours(vertices);
    let angles = Array();

    // If there is only one vertex in the graph, always draw to the right
    if (vertices.length === 1) {
      return 'right';
    }
    for (let i = 0; i < neighbours.length; i++) {
      angles.push(this.getAngle(vertices[neighbours[i]].position));
    }
    let textAngle = MathHelper.meanAngle(angles);
    if (this.isTerminal() || onlyHorizontal) {
      // Round to 0 or 180 if terminal or only horizontal allowed
      // With only this, text is written to the left if the angle is 90°/1.5708 rad (straight down).
      // So if angle is ~1.5708, force it a bit anti-clock-wise
      if (Math.round(textAngle * 100) / 100 === 1.57) {
        textAngle = textAngle - 0.2;
      }
      textAngle = Math.round(Math.round(textAngle / Math.PI) * Math.PI);
    } else {
      // Round to 0, 90, 180 or 270 degree if not terminal
      let halfPi = Math.PI / 2.0;
      textAngle = Math.round(Math.round(textAngle / halfPi) * halfPi);
    }
    if (textAngle === 2) {
      return 'down';
    } else if (textAngle === -2) {
      return 'up';
    } else if (textAngle === 0 || textAngle === -0) {
      return 'right'; // is checking for -0 necessary?
    } else if (textAngle === 3 || textAngle === -3) {
      return 'left';
    } else {
      return 'down'; // default to down
    }
  }

  /**
   * Returns an array of ids of neighbouring vertices.
   *
   * @param {Number} [vertexId=null] If a value is supplied, the vertex with this id is excluded from the returned indices.
   * @returns {Number[]} An array containing the ids of neighbouring vertices.
   */
  getNeighbours(vertexId = null) {
    if (vertexId === null) {
      return this.neighbours.slice();
    }
    let arr = Array();
    for (let i = 0; i < this.neighbours.length; i++) {
      if (this.neighbours[i] !== vertexId) {
        arr.push(this.neighbours[i]);
      }
    }
    return arr;
  }

  /**
   * Returns an array of ids of neighbouring vertices that will be drawn (vertex.value.isDrawn === true).
   * 
   * @param {Vertex[]} vertices An array containing the vertices associated with the current molecule.
   * @returns {Number[]} An array containing the ids of neighbouring vertices that will be drawn.
   */
  getDrawnNeighbours(vertices) {
    let arr = Array();
    for (let i = 0; i < this.neighbours.length; i++) {
      if (vertices[this.neighbours[i]].value.isDrawn) {
        arr.push(this.neighbours[i]);
      }
    }
    return arr;
  }

  /**
   * Returns the number of neighbours of this vertex.
   *
   * @returns {Number} The number of neighbours.
   */
  getNeighbourCount() {
    return this.neighbourCount;
  }

  /**
   * Returns a list of ids of vertices neighbouring this one in the original spanning tree, excluding the ringbond connections.
   *
   * @param {Number} [vertexId=null] If supplied, the vertex with this id is excluded from the array returned.
   * @returns {Number[]} An array containing the ids of the neighbouring vertices.
   */
  getSpanningTreeNeighbours(vertexId = null) {
    let neighbours = Array();
    for (let i = 0; i < this.spanningTreeChildren.length; i++) {
      if (vertexId === undefined || vertexId != this.spanningTreeChildren[i]) {
        neighbours.push(this.spanningTreeChildren[i]);
      }
    }
    if (this.parentVertexId != null) {
      if (vertexId === undefined || vertexId != this.parentVertexId) {
        neighbours.push(this.parentVertexId);
      }
    }
    return neighbours;
  }

  /**
   * Gets the next vertex in the ring in opposide direction to the supplied vertex id.
   *
   * @param {Vertex[]} vertices The array of vertices for the current molecule.
   * @param {Number} ringId The id of the ring containing this vertex.
   * @param {Number} previousVertexId The id of the previous vertex. The next vertex will be opposite from the vertex with this id as seen from this vertex.
   * @returns {Number} The id of the next vertex in the ring.
   */
  getNextInRing(vertices, ringId, previousVertexId) {
    let neighbours = this.getNeighbours();
    for (let i = 0; i < neighbours.length; i++) {
      if (ArrayHelper.contains(vertices[neighbours[i]].value.rings, {
        value: ringId
      }) && neighbours[i] != previousVertexId) {
        return neighbours[i];
      }
    }
    return null;
  }
}
module.exports = Vertex;

/***/ }),

/***/ "./node_modules/chroma-js/chroma.js":
/*!******************************************!*\
  !*** ./node_modules/chroma-js/chroma.js ***!
  \******************************************/
/***/ (function(module) {

/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */

(function (global, factory) {
     true ? module.exports = factory() :
    0;
})(this, (function () { 'use strict';

    var limit$2 = function (x, min, max) {
        if ( min === void 0 ) min=0;
        if ( max === void 0 ) max=1;

        return x < min ? min : x > max ? max : x;
    };

    var limit$1 = limit$2;

    var clip_rgb$3 = function (rgb) {
        rgb._clipped = false;
        rgb._unclipped = rgb.slice(0);
        for (var i=0; i<=3; i++) {
            if (i < 3) {
                if (rgb[i] < 0 || rgb[i] > 255) { rgb._clipped = true; }
                rgb[i] = limit$1(rgb[i], 0, 255);
            } else if (i === 3) {
                rgb[i] = limit$1(rgb[i], 0, 1);
            }
        }
        return rgb;
    };

    // ported from jQuery's $.type
    var classToType = {};
    for (var i$1 = 0, list$1 = ['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Undefined', 'Null']; i$1 < list$1.length; i$1 += 1) {
        var name = list$1[i$1];

        classToType[("[object " + name + "]")] = name.toLowerCase();
    }
    var type$p = function(obj) {
        return classToType[Object.prototype.toString.call(obj)] || "object";
    };

    var type$o = type$p;

    var unpack$B = function (args, keyOrder) {
        if ( keyOrder === void 0 ) keyOrder=null;

    	// if called with more than 3 arguments, we return the arguments
        if (args.length >= 3) { return Array.prototype.slice.call(args); }
        // with less than 3 args we check if first arg is object
        // and use the keyOrder string to extract and sort properties
    	if (type$o(args[0]) == 'object' && keyOrder) {
    		return keyOrder.split('')
    			.filter(function (k) { return args[0][k] !== undefined; })
    			.map(function (k) { return args[0][k]; });
    	}
    	// otherwise we just return the first argument
    	// (which we suppose is an array of args)
        return args[0];
    };

    var type$n = type$p;

    var last$4 = function (args) {
        if (args.length < 2) { return null; }
        var l = args.length-1;
        if (type$n(args[l]) == 'string') { return args[l].toLowerCase(); }
        return null;
    };

    var PI$2 = Math.PI;

    var utils = {
    	clip_rgb: clip_rgb$3,
    	limit: limit$2,
    	type: type$p,
    	unpack: unpack$B,
    	last: last$4,
    	PI: PI$2,
    	TWOPI: PI$2*2,
    	PITHIRD: PI$2/3,
    	DEG2RAD: PI$2 / 180,
    	RAD2DEG: 180 / PI$2
    };

    var input$h = {
    	format: {},
    	autodetect: []
    };

    var last$3 = utils.last;
    var clip_rgb$2 = utils.clip_rgb;
    var type$m = utils.type;
    var _input = input$h;

    var Color$D = function Color() {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var me = this;
        if (type$m(args[0]) === 'object' &&
            args[0].constructor &&
            args[0].constructor === this.constructor) {
            // the argument is already a Color instance
            return args[0];
        }

        // last argument could be the mode
        var mode = last$3(args);
        var autodetect = false;

        if (!mode) {
            autodetect = true;
            if (!_input.sorted) {
                _input.autodetect = _input.autodetect.sort(function (a,b) { return b.p - a.p; });
                _input.sorted = true;
            }
            // auto-detect format
            for (var i = 0, list = _input.autodetect; i < list.length; i += 1) {
                var chk = list[i];

                mode = chk.test.apply(chk, args);
                if (mode) { break; }
            }
        }

        if (_input.format[mode]) {
            var rgb = _input.format[mode].apply(null, autodetect ? args : args.slice(0,-1));
            me._rgb = clip_rgb$2(rgb);
        } else {
            throw new Error('unknown format: '+args);
        }

        // add alpha channel
        if (me._rgb.length === 3) { me._rgb.push(1); }
    };

    Color$D.prototype.toString = function toString () {
        if (type$m(this.hex) == 'function') { return this.hex(); }
        return ("[" + (this._rgb.join(',')) + "]");
    };

    var Color_1 = Color$D;

    var chroma$k = function () {
    	var args = [], len = arguments.length;
    	while ( len-- ) args[ len ] = arguments[ len ];

    	return new (Function.prototype.bind.apply( chroma$k.Color, [ null ].concat( args) ));
    };

    chroma$k.Color = Color_1;
    chroma$k.version = '2.4.2';

    var chroma_1 = chroma$k;

    var unpack$A = utils.unpack;
    var max$2 = Math.max;

    var rgb2cmyk$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$A(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r = r / 255;
        g = g / 255;
        b = b / 255;
        var k = 1 - max$2(r,max$2(g,b));
        var f = k < 1 ? 1 / (1-k) : 0;
        var c = (1-r-k) * f;
        var m = (1-g-k) * f;
        var y = (1-b-k) * f;
        return [c,m,y,k];
    };

    var rgb2cmyk_1 = rgb2cmyk$1;

    var unpack$z = utils.unpack;

    var cmyk2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$z(args, 'cmyk');
        var c = args[0];
        var m = args[1];
        var y = args[2];
        var k = args[3];
        var alpha = args.length > 4 ? args[4] : 1;
        if (k === 1) { return [0,0,0,alpha]; }
        return [
            c >= 1 ? 0 : 255 * (1-c) * (1-k), // r
            m >= 1 ? 0 : 255 * (1-m) * (1-k), // g
            y >= 1 ? 0 : 255 * (1-y) * (1-k), // b
            alpha
        ];
    };

    var cmyk2rgb_1 = cmyk2rgb;

    var chroma$j = chroma_1;
    var Color$C = Color_1;
    var input$g = input$h;
    var unpack$y = utils.unpack;
    var type$l = utils.type;

    var rgb2cmyk = rgb2cmyk_1;

    Color$C.prototype.cmyk = function() {
        return rgb2cmyk(this._rgb);
    };

    chroma$j.cmyk = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$C, [ null ].concat( args, ['cmyk']) ));
    };

    input$g.format.cmyk = cmyk2rgb_1;

    input$g.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$y(args, 'cmyk');
            if (type$l(args) === 'array' && args.length === 4) {
                return 'cmyk';
            }
        }
    });

    var unpack$x = utils.unpack;
    var last$2 = utils.last;
    var rnd = function (a) { return Math.round(a*100)/100; };

    /*
     * supported arguments:
     * - hsl2css(h,s,l)
     * - hsl2css(h,s,l,a)
     * - hsl2css([h,s,l], mode)
     * - hsl2css([h,s,l,a], mode)
     * - hsl2css({h,s,l,a}, mode)
     */
    var hsl2css$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hsla = unpack$x(args, 'hsla');
        var mode = last$2(args) || 'lsa';
        hsla[0] = rnd(hsla[0] || 0);
        hsla[1] = rnd(hsla[1]*100) + '%';
        hsla[2] = rnd(hsla[2]*100) + '%';
        if (mode === 'hsla' || (hsla.length > 3 && hsla[3]<1)) {
            hsla[3] = hsla.length > 3 ? hsla[3] : 1;
            mode = 'hsla';
        } else {
            hsla.length = 3;
        }
        return (mode + "(" + (hsla.join(',')) + ")");
    };

    var hsl2css_1 = hsl2css$1;

    var unpack$w = utils.unpack;

    /*
     * supported arguments:
     * - rgb2hsl(r,g,b)
     * - rgb2hsl(r,g,b,a)
     * - rgb2hsl([r,g,b])
     * - rgb2hsl([r,g,b,a])
     * - rgb2hsl({r,g,b,a})
     */
    var rgb2hsl$3 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$w(args, 'rgba');
        var r = args[0];
        var g = args[1];
        var b = args[2];

        r /= 255;
        g /= 255;
        b /= 255;

        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);

        var l = (max + min) / 2;
        var s, h;

        if (max === min){
            s = 0;
            h = Number.NaN;
        } else {
            s = l < 0.5 ? (max - min) / (max + min) : (max - min) / (2 - max - min);
        }

        if (r == max) { h = (g - b) / (max - min); }
        else if (g == max) { h = 2 + (b - r) / (max - min); }
        else if (b == max) { h = 4 + (r - g) / (max - min); }

        h *= 60;
        if (h < 0) { h += 360; }
        if (args.length>3 && args[3]!==undefined) { return [h,s,l,args[3]]; }
        return [h,s,l];
    };

    var rgb2hsl_1 = rgb2hsl$3;

    var unpack$v = utils.unpack;
    var last$1 = utils.last;
    var hsl2css = hsl2css_1;
    var rgb2hsl$2 = rgb2hsl_1;
    var round$6 = Math.round;

    /*
     * supported arguments:
     * - rgb2css(r,g,b)
     * - rgb2css(r,g,b,a)
     * - rgb2css([r,g,b], mode)
     * - rgb2css([r,g,b,a], mode)
     * - rgb2css({r,g,b,a}, mode)
     */
    var rgb2css$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$v(args, 'rgba');
        var mode = last$1(args) || 'rgb';
        if (mode.substr(0,3) == 'hsl') {
            return hsl2css(rgb2hsl$2(rgba), mode);
        }
        rgba[0] = round$6(rgba[0]);
        rgba[1] = round$6(rgba[1]);
        rgba[2] = round$6(rgba[2]);
        if (mode === 'rgba' || (rgba.length > 3 && rgba[3]<1)) {
            rgba[3] = rgba.length > 3 ? rgba[3] : 1;
            mode = 'rgba';
        }
        return (mode + "(" + (rgba.slice(0,mode==='rgb'?3:4).join(',')) + ")");
    };

    var rgb2css_1 = rgb2css$1;

    var unpack$u = utils.unpack;
    var round$5 = Math.round;

    var hsl2rgb$1 = function () {
        var assign;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$u(args, 'hsl');
        var h = args[0];
        var s = args[1];
        var l = args[2];
        var r,g,b;
        if (s === 0) {
            r = g = b = l*255;
        } else {
            var t3 = [0,0,0];
            var c = [0,0,0];
            var t2 = l < 0.5 ? l * (1+s) : l+s-l*s;
            var t1 = 2 * l - t2;
            var h_ = h / 360;
            t3[0] = h_ + 1/3;
            t3[1] = h_;
            t3[2] = h_ - 1/3;
            for (var i=0; i<3; i++) {
                if (t3[i] < 0) { t3[i] += 1; }
                if (t3[i] > 1) { t3[i] -= 1; }
                if (6 * t3[i] < 1)
                    { c[i] = t1 + (t2 - t1) * 6 * t3[i]; }
                else if (2 * t3[i] < 1)
                    { c[i] = t2; }
                else if (3 * t3[i] < 2)
                    { c[i] = t1 + (t2 - t1) * ((2 / 3) - t3[i]) * 6; }
                else
                    { c[i] = t1; }
            }
            (assign = [round$5(c[0]*255),round$5(c[1]*255),round$5(c[2]*255)], r = assign[0], g = assign[1], b = assign[2]);
        }
        if (args.length > 3) {
            // keep alpha channel
            return [r,g,b,args[3]];
        }
        return [r,g,b,1];
    };

    var hsl2rgb_1 = hsl2rgb$1;

    var hsl2rgb = hsl2rgb_1;
    var input$f = input$h;

    var RE_RGB = /^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/;
    var RE_RGBA = /^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/;
    var RE_RGB_PCT = /^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/;
    var RE_RGBA_PCT = /^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/;
    var RE_HSL = /^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/;
    var RE_HSLA = /^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/;

    var round$4 = Math.round;

    var css2rgb$1 = function (css) {
        css = css.toLowerCase().trim();
        var m;

        if (input$f.format.named) {
            try {
                return input$f.format.named(css);
            } catch (e) {
                // eslint-disable-next-line
            }
        }

        // rgb(250,20,0)
        if ((m = css.match(RE_RGB))) {
            var rgb = m.slice(1,4);
            for (var i=0; i<3; i++) {
                rgb[i] = +rgb[i];
            }
            rgb[3] = 1;  // default alpha
            return rgb;
        }

        // rgba(250,20,0,0.4)
        if ((m = css.match(RE_RGBA))) {
            var rgb$1 = m.slice(1,5);
            for (var i$1=0; i$1<4; i$1++) {
                rgb$1[i$1] = +rgb$1[i$1];
            }
            return rgb$1;
        }

        // rgb(100%,0%,0%)
        if ((m = css.match(RE_RGB_PCT))) {
            var rgb$2 = m.slice(1,4);
            for (var i$2=0; i$2<3; i$2++) {
                rgb$2[i$2] = round$4(rgb$2[i$2] * 2.55);
            }
            rgb$2[3] = 1;  // default alpha
            return rgb$2;
        }

        // rgba(100%,0%,0%,0.4)
        if ((m = css.match(RE_RGBA_PCT))) {
            var rgb$3 = m.slice(1,5);
            for (var i$3=0; i$3<3; i$3++) {
                rgb$3[i$3] = round$4(rgb$3[i$3] * 2.55);
            }
            rgb$3[3] = +rgb$3[3];
            return rgb$3;
        }

        // hsl(0,100%,50%)
        if ((m = css.match(RE_HSL))) {
            var hsl = m.slice(1,4);
            hsl[1] *= 0.01;
            hsl[2] *= 0.01;
            var rgb$4 = hsl2rgb(hsl);
            rgb$4[3] = 1;
            return rgb$4;
        }

        // hsla(0,100%,50%,0.5)
        if ((m = css.match(RE_HSLA))) {
            var hsl$1 = m.slice(1,4);
            hsl$1[1] *= 0.01;
            hsl$1[2] *= 0.01;
            var rgb$5 = hsl2rgb(hsl$1);
            rgb$5[3] = +m[4];  // default alpha = 1
            return rgb$5;
        }
    };

    css2rgb$1.test = function (s) {
        return RE_RGB.test(s) ||
            RE_RGBA.test(s) ||
            RE_RGB_PCT.test(s) ||
            RE_RGBA_PCT.test(s) ||
            RE_HSL.test(s) ||
            RE_HSLA.test(s);
    };

    var css2rgb_1 = css2rgb$1;

    var chroma$i = chroma_1;
    var Color$B = Color_1;
    var input$e = input$h;
    var type$k = utils.type;

    var rgb2css = rgb2css_1;
    var css2rgb = css2rgb_1;

    Color$B.prototype.css = function(mode) {
        return rgb2css(this._rgb, mode);
    };

    chroma$i.css = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$B, [ null ].concat( args, ['css']) ));
    };

    input$e.format.css = css2rgb;

    input$e.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$k(h) === 'string' && css2rgb.test(h)) {
                return 'css';
            }
        }
    });

    var Color$A = Color_1;
    var chroma$h = chroma_1;
    var input$d = input$h;
    var unpack$t = utils.unpack;

    input$d.format.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$t(args, 'rgba');
        rgb[0] *= 255;
        rgb[1] *= 255;
        rgb[2] *= 255;
        return rgb;
    };

    chroma$h.gl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$A, [ null ].concat( args, ['gl']) ));
    };

    Color$A.prototype.gl = function() {
        var rgb = this._rgb;
        return [rgb[0]/255, rgb[1]/255, rgb[2]/255, rgb[3]];
    };

    var unpack$s = utils.unpack;

    var rgb2hcg$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$s(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var c = delta * 100 / 255;
        var _g = min / (255 - delta) * 100;
        var h;
        if (delta === 0) {
            h = Number.NaN;
        } else {
            if (r === max) { h = (g - b) / delta; }
            if (g === max) { h = 2+(b - r) / delta; }
            if (b === max) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, c, _g];
    };

    var rgb2hcg_1 = rgb2hcg$1;

    var unpack$r = utils.unpack;
    var floor$3 = Math.floor;

    /*
     * this is basically just HSV with some minor tweaks
     *
     * hue.. [0..360]
     * chroma .. [0..1]
     * grayness .. [0..1]
     */

    var hcg2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$r(args, 'hcg');
        var h = args[0];
        var c = args[1];
        var _g = args[2];
        var r,g,b;
        _g = _g * 255;
        var _c = c * 255;
        if (c === 0) {
            r = g = b = _g;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;
            var i = floor$3(h);
            var f = h - i;
            var p = _g * (1 - c);
            var q = p + _c * (1 - f);
            var t = p + _c * f;
            var v = p + _c;
            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var hcg2rgb_1 = hcg2rgb;

    var unpack$q = utils.unpack;
    var type$j = utils.type;
    var chroma$g = chroma_1;
    var Color$z = Color_1;
    var input$c = input$h;

    var rgb2hcg = rgb2hcg_1;

    Color$z.prototype.hcg = function() {
        return rgb2hcg(this._rgb);
    };

    chroma$g.hcg = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$z, [ null ].concat( args, ['hcg']) ));
    };

    input$c.format.hcg = hcg2rgb_1;

    input$c.autodetect.push({
        p: 1,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$q(args, 'hcg');
            if (type$j(args) === 'array' && args.length === 3) {
                return 'hcg';
            }
        }
    });

    var unpack$p = utils.unpack;
    var last = utils.last;
    var round$3 = Math.round;

    var rgb2hex$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$p(args, 'rgba');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var a = ref[3];
        var mode = last(args) || 'auto';
        if (a === undefined) { a = 1; }
        if (mode === 'auto') {
            mode = a < 1 ? 'rgba' : 'rgb';
        }
        r = round$3(r);
        g = round$3(g);
        b = round$3(b);
        var u = r << 16 | g << 8 | b;
        var str = "000000" + u.toString(16); //#.toUpperCase();
        str = str.substr(str.length - 6);
        var hxa = '0' + round$3(a * 255).toString(16);
        hxa = hxa.substr(hxa.length - 2);
        switch (mode.toLowerCase()) {
            case 'rgba': return ("#" + str + hxa);
            case 'argb': return ("#" + hxa + str);
            default: return ("#" + str);
        }
    };

    var rgb2hex_1 = rgb2hex$2;

    var RE_HEX = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/;
    var RE_HEXA = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/;

    var hex2rgb$1 = function (hex) {
        if (hex.match(RE_HEX)) {
            // remove optional leading #
            if (hex.length === 4 || hex.length === 7) {
                hex = hex.substr(1);
            }
            // expand short-notation to full six-digit
            if (hex.length === 3) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2];
            }
            var u = parseInt(hex, 16);
            var r = u >> 16;
            var g = u >> 8 & 0xFF;
            var b = u & 0xFF;
            return [r,g,b,1];
        }

        // match rgba hex format, eg #FF000077
        if (hex.match(RE_HEXA)) {
            if (hex.length === 5 || hex.length === 9) {
                // remove optional leading #
                hex = hex.substr(1);
            }
            // expand short-notation to full eight-digit
            if (hex.length === 4) {
                hex = hex.split('');
                hex = hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]+hex[3]+hex[3];
            }
            var u$1 = parseInt(hex, 16);
            var r$1 = u$1 >> 24 & 0xFF;
            var g$1 = u$1 >> 16 & 0xFF;
            var b$1 = u$1 >> 8 & 0xFF;
            var a = Math.round((u$1 & 0xFF) / 0xFF * 100) / 100;
            return [r$1,g$1,b$1,a];
        }

        // we used to check for css colors here
        // if _input.css? and rgb = _input.css hex
        //     return rgb

        throw new Error(("unknown hex color: " + hex));
    };

    var hex2rgb_1 = hex2rgb$1;

    var chroma$f = chroma_1;
    var Color$y = Color_1;
    var type$i = utils.type;
    var input$b = input$h;

    var rgb2hex$1 = rgb2hex_1;

    Color$y.prototype.hex = function(mode) {
        return rgb2hex$1(this._rgb, mode);
    };

    chroma$f.hex = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$y, [ null ].concat( args, ['hex']) ));
    };

    input$b.format.hex = hex2rgb_1;
    input$b.autodetect.push({
        p: 4,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$i(h) === 'string' && [3,4,5,6,7,8,9].indexOf(h.length) >= 0) {
                return 'hex';
            }
        }
    });

    var unpack$o = utils.unpack;
    var TWOPI$2 = utils.TWOPI;
    var min$2 = Math.min;
    var sqrt$4 = Math.sqrt;
    var acos = Math.acos;

    var rgb2hsi$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/rgb2hsi.cpp
        */
        var ref = unpack$o(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        r /= 255;
        g /= 255;
        b /= 255;
        var h;
        var min_ = min$2(r,g,b);
        var i = (r+g+b) / 3;
        var s = i > 0 ? 1 - min_/i : 0;
        if (s === 0) {
            h = NaN;
        } else {
            h = ((r-g)+(r-b)) / 2;
            h /= sqrt$4((r-g)*(r-g) + (r-b)*(g-b));
            h = acos(h);
            if (b > g) {
                h = TWOPI$2 - h;
            }
            h /= TWOPI$2;
        }
        return [h*360,s,i];
    };

    var rgb2hsi_1 = rgb2hsi$1;

    var unpack$n = utils.unpack;
    var limit = utils.limit;
    var TWOPI$1 = utils.TWOPI;
    var PITHIRD = utils.PITHIRD;
    var cos$4 = Math.cos;

    /*
     * hue [0..360]
     * saturation [0..1]
     * intensity [0..1]
     */
    var hsi2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        borrowed from here:
        http://hummer.stanford.edu/museinfo/doc/examples/humdrum/keyscape2/hsi2rgb.cpp
        */
        args = unpack$n(args, 'hsi');
        var h = args[0];
        var s = args[1];
        var i = args[2];
        var r,g,b;

        if (isNaN(h)) { h = 0; }
        if (isNaN(s)) { s = 0; }
        // normalize hue
        if (h > 360) { h -= 360; }
        if (h < 0) { h += 360; }
        h /= 360;
        if (h < 1/3) {
            b = (1-s)/3;
            r = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;
            g = 1 - (b+r);
        } else if (h < 2/3) {
            h -= 1/3;
            r = (1-s)/3;
            g = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;
            b = 1 - (r+g);
        } else {
            h -= 2/3;
            g = (1-s)/3;
            b = (1+s*cos$4(TWOPI$1*h)/cos$4(PITHIRD-TWOPI$1*h))/3;
            r = 1 - (g+b);
        }
        r = limit(i*r*3);
        g = limit(i*g*3);
        b = limit(i*b*3);
        return [r*255, g*255, b*255, args.length > 3 ? args[3] : 1];
    };

    var hsi2rgb_1 = hsi2rgb;

    var unpack$m = utils.unpack;
    var type$h = utils.type;
    var chroma$e = chroma_1;
    var Color$x = Color_1;
    var input$a = input$h;

    var rgb2hsi = rgb2hsi_1;

    Color$x.prototype.hsi = function() {
        return rgb2hsi(this._rgb);
    };

    chroma$e.hsi = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$x, [ null ].concat( args, ['hsi']) ));
    };

    input$a.format.hsi = hsi2rgb_1;

    input$a.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$m(args, 'hsi');
            if (type$h(args) === 'array' && args.length === 3) {
                return 'hsi';
            }
        }
    });

    var unpack$l = utils.unpack;
    var type$g = utils.type;
    var chroma$d = chroma_1;
    var Color$w = Color_1;
    var input$9 = input$h;

    var rgb2hsl$1 = rgb2hsl_1;

    Color$w.prototype.hsl = function() {
        return rgb2hsl$1(this._rgb);
    };

    chroma$d.hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$w, [ null ].concat( args, ['hsl']) ));
    };

    input$9.format.hsl = hsl2rgb_1;

    input$9.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$l(args, 'hsl');
            if (type$g(args) === 'array' && args.length === 3) {
                return 'hsl';
            }
        }
    });

    var unpack$k = utils.unpack;
    var min$1 = Math.min;
    var max$1 = Math.max;

    /*
     * supported arguments:
     * - rgb2hsv(r,g,b)
     * - rgb2hsv([r,g,b])
     * - rgb2hsv({r,g,b})
     */
    var rgb2hsl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$k(args, 'rgb');
        var r = args[0];
        var g = args[1];
        var b = args[2];
        var min_ = min$1(r, g, b);
        var max_ = max$1(r, g, b);
        var delta = max_ - min_;
        var h,s,v;
        v = max_ / 255.0;
        if (max_ === 0) {
            h = Number.NaN;
            s = 0;
        } else {
            s = delta / max_;
            if (r === max_) { h = (g - b) / delta; }
            if (g === max_) { h = 2+(b - r) / delta; }
            if (b === max_) { h = 4+(r - g) / delta; }
            h *= 60;
            if (h < 0) { h += 360; }
        }
        return [h, s, v]
    };

    var rgb2hsv$1 = rgb2hsl;

    var unpack$j = utils.unpack;
    var floor$2 = Math.floor;

    var hsv2rgb = function () {
        var assign, assign$1, assign$2, assign$3, assign$4, assign$5;

        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];
        args = unpack$j(args, 'hsv');
        var h = args[0];
        var s = args[1];
        var v = args[2];
        var r,g,b;
        v *= 255;
        if (s === 0) {
            r = g = b = v;
        } else {
            if (h === 360) { h = 0; }
            if (h > 360) { h -= 360; }
            if (h < 0) { h += 360; }
            h /= 60;

            var i = floor$2(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
                case 0: (assign = [v, t, p], r = assign[0], g = assign[1], b = assign[2]); break
                case 1: (assign$1 = [q, v, p], r = assign$1[0], g = assign$1[1], b = assign$1[2]); break
                case 2: (assign$2 = [p, v, t], r = assign$2[0], g = assign$2[1], b = assign$2[2]); break
                case 3: (assign$3 = [p, q, v], r = assign$3[0], g = assign$3[1], b = assign$3[2]); break
                case 4: (assign$4 = [t, p, v], r = assign$4[0], g = assign$4[1], b = assign$4[2]); break
                case 5: (assign$5 = [v, p, q], r = assign$5[0], g = assign$5[1], b = assign$5[2]); break
            }
        }
        return [r,g,b,args.length > 3?args[3]:1];
    };

    var hsv2rgb_1 = hsv2rgb;

    var unpack$i = utils.unpack;
    var type$f = utils.type;
    var chroma$c = chroma_1;
    var Color$v = Color_1;
    var input$8 = input$h;

    var rgb2hsv = rgb2hsv$1;

    Color$v.prototype.hsv = function() {
        return rgb2hsv(this._rgb);
    };

    chroma$c.hsv = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$v, [ null ].concat( args, ['hsv']) ));
    };

    input$8.format.hsv = hsv2rgb_1;

    input$8.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$i(args, 'hsv');
            if (type$f(args) === 'array' && args.length === 3) {
                return 'hsv';
            }
        }
    });

    var labConstants = {
        // Corresponds roughly to RGB brighter/darker
        Kn: 18,

        // D65 standard referent
        Xn: 0.950470,
        Yn: 1,
        Zn: 1.088830,

        t0: 0.137931034,  // 4 / 29
        t1: 0.206896552,  // 6 / 29
        t2: 0.12841855,   // 3 * t1 * t1
        t3: 0.008856452,  // t1 * t1 * t1
    };

    var LAB_CONSTANTS$3 = labConstants;
    var unpack$h = utils.unpack;
    var pow$a = Math.pow;

    var rgb2lab$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$h(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2xyz(r,g,b);
        var x = ref$1[0];
        var y = ref$1[1];
        var z = ref$1[2];
        var l = 116 * y - 16;
        return [l < 0 ? 0 : l, 500 * (x - y), 200 * (y - z)];
    };

    var rgb_xyz = function (r) {
        if ((r /= 255) <= 0.04045) { return r / 12.92; }
        return pow$a((r + 0.055) / 1.055, 2.4);
    };

    var xyz_lab = function (t) {
        if (t > LAB_CONSTANTS$3.t3) { return pow$a(t, 1 / 3); }
        return t / LAB_CONSTANTS$3.t2 + LAB_CONSTANTS$3.t0;
    };

    var rgb2xyz = function (r,g,b) {
        r = rgb_xyz(r);
        g = rgb_xyz(g);
        b = rgb_xyz(b);
        var x = xyz_lab((0.4124564 * r + 0.3575761 * g + 0.1804375 * b) / LAB_CONSTANTS$3.Xn);
        var y = xyz_lab((0.2126729 * r + 0.7151522 * g + 0.0721750 * b) / LAB_CONSTANTS$3.Yn);
        var z = xyz_lab((0.0193339 * r + 0.1191920 * g + 0.9503041 * b) / LAB_CONSTANTS$3.Zn);
        return [x,y,z];
    };

    var rgb2lab_1 = rgb2lab$2;

    var LAB_CONSTANTS$2 = labConstants;
    var unpack$g = utils.unpack;
    var pow$9 = Math.pow;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var lab2rgb$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$g(args, 'lab');
        var l = args[0];
        var a = args[1];
        var b = args[2];
        var x,y,z, r,g,b_;

        y = (l + 16) / 116;
        x = isNaN(a) ? y : y + a / 500;
        z = isNaN(b) ? y : y - b / 200;

        y = LAB_CONSTANTS$2.Yn * lab_xyz(y);
        x = LAB_CONSTANTS$2.Xn * lab_xyz(x);
        z = LAB_CONSTANTS$2.Zn * lab_xyz(z);

        r = xyz_rgb(3.2404542 * x - 1.5371385 * y - 0.4985314 * z);  // D65 -> sRGB
        g = xyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z);
        b_ = xyz_rgb(0.0556434 * x - 0.2040259 * y + 1.0572252 * z);

        return [r,g,b_,args.length > 3 ? args[3] : 1];
    };

    var xyz_rgb = function (r) {
        return 255 * (r <= 0.00304 ? 12.92 * r : 1.055 * pow$9(r, 1 / 2.4) - 0.055)
    };

    var lab_xyz = function (t) {
        return t > LAB_CONSTANTS$2.t1 ? t * t * t : LAB_CONSTANTS$2.t2 * (t - LAB_CONSTANTS$2.t0)
    };

    var lab2rgb_1 = lab2rgb$1;

    var unpack$f = utils.unpack;
    var type$e = utils.type;
    var chroma$b = chroma_1;
    var Color$u = Color_1;
    var input$7 = input$h;

    var rgb2lab$1 = rgb2lab_1;

    Color$u.prototype.lab = function() {
        return rgb2lab$1(this._rgb);
    };

    chroma$b.lab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$u, [ null ].concat( args, ['lab']) ));
    };

    input$7.format.lab = lab2rgb_1;

    input$7.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$f(args, 'lab');
            if (type$e(args) === 'array' && args.length === 3) {
                return 'lab';
            }
        }
    });

    var unpack$e = utils.unpack;
    var RAD2DEG = utils.RAD2DEG;
    var sqrt$3 = Math.sqrt;
    var atan2$2 = Math.atan2;
    var round$2 = Math.round;

    var lab2lch$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$e(args, 'lab');
        var l = ref[0];
        var a = ref[1];
        var b = ref[2];
        var c = sqrt$3(a * a + b * b);
        var h = (atan2$2(b, a) * RAD2DEG + 360) % 360;
        if (round$2(c*10000) === 0) { h = Number.NaN; }
        return [l, c, h];
    };

    var lab2lch_1 = lab2lch$2;

    var unpack$d = utils.unpack;
    var rgb2lab = rgb2lab_1;
    var lab2lch$1 = lab2lch_1;

    var rgb2lch$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$d(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2lab(r,g,b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch$1(l,a,b_);
    };

    var rgb2lch_1 = rgb2lch$1;

    var unpack$c = utils.unpack;
    var DEG2RAD = utils.DEG2RAD;
    var sin$3 = Math.sin;
    var cos$3 = Math.cos;

    var lch2lab$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        /*
        Convert from a qualitative parameter h and a quantitative parameter l to a 24-bit pixel.
        These formulas were invented by David Dalrymple to obtain maximum contrast without going
        out of gamut if the parameters are in the range 0-1.

        A saturation multiplier was added by Gregor Aisch
        */
        var ref = unpack$c(args, 'lch');
        var l = ref[0];
        var c = ref[1];
        var h = ref[2];
        if (isNaN(h)) { h = 0; }
        h = h * DEG2RAD;
        return [l, cos$3(h) * c, sin$3(h) * c]
    };

    var lch2lab_1 = lch2lab$2;

    var unpack$b = utils.unpack;
    var lch2lab$1 = lch2lab_1;
    var lab2rgb = lab2rgb_1;

    var lch2rgb$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$b(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab$1 (l,c,h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = lab2rgb (L,a,b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var lch2rgb_1 = lch2rgb$1;

    var unpack$a = utils.unpack;
    var lch2rgb = lch2rgb_1;

    var hcl2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var hcl = unpack$a(args, 'hcl').reverse();
        return lch2rgb.apply(void 0, hcl);
    };

    var hcl2rgb_1 = hcl2rgb;

    var unpack$9 = utils.unpack;
    var type$d = utils.type;
    var chroma$a = chroma_1;
    var Color$t = Color_1;
    var input$6 = input$h;

    var rgb2lch = rgb2lch_1;

    Color$t.prototype.lch = function() { return rgb2lch(this._rgb); };
    Color$t.prototype.hcl = function() { return rgb2lch(this._rgb).reverse(); };

    chroma$a.lch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['lch']) ));
    };
    chroma$a.hcl = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$t, [ null ].concat( args, ['hcl']) ));
    };

    input$6.format.lch = lch2rgb_1;
    input$6.format.hcl = hcl2rgb_1;

    ['lch','hcl'].forEach(function (m) { return input$6.autodetect.push({
        p: 2,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$9(args, m);
            if (type$d(args) === 'array' && args.length === 3) {
                return m;
            }
        }
    }); });

    /**
    	X11 color names

    	http://www.w3.org/TR/css3-color/#svg-color
    */

    var w3cx11$1 = {
        aliceblue: '#f0f8ff',
        antiquewhite: '#faebd7',
        aqua: '#00ffff',
        aquamarine: '#7fffd4',
        azure: '#f0ffff',
        beige: '#f5f5dc',
        bisque: '#ffe4c4',
        black: '#000000',
        blanchedalmond: '#ffebcd',
        blue: '#0000ff',
        blueviolet: '#8a2be2',
        brown: '#a52a2a',
        burlywood: '#deb887',
        cadetblue: '#5f9ea0',
        chartreuse: '#7fff00',
        chocolate: '#d2691e',
        coral: '#ff7f50',
        cornflower: '#6495ed',
        cornflowerblue: '#6495ed',
        cornsilk: '#fff8dc',
        crimson: '#dc143c',
        cyan: '#00ffff',
        darkblue: '#00008b',
        darkcyan: '#008b8b',
        darkgoldenrod: '#b8860b',
        darkgray: '#a9a9a9',
        darkgreen: '#006400',
        darkgrey: '#a9a9a9',
        darkkhaki: '#bdb76b',
        darkmagenta: '#8b008b',
        darkolivegreen: '#556b2f',
        darkorange: '#ff8c00',
        darkorchid: '#9932cc',
        darkred: '#8b0000',
        darksalmon: '#e9967a',
        darkseagreen: '#8fbc8f',
        darkslateblue: '#483d8b',
        darkslategray: '#2f4f4f',
        darkslategrey: '#2f4f4f',
        darkturquoise: '#00ced1',
        darkviolet: '#9400d3',
        deeppink: '#ff1493',
        deepskyblue: '#00bfff',
        dimgray: '#696969',
        dimgrey: '#696969',
        dodgerblue: '#1e90ff',
        firebrick: '#b22222',
        floralwhite: '#fffaf0',
        forestgreen: '#228b22',
        fuchsia: '#ff00ff',
        gainsboro: '#dcdcdc',
        ghostwhite: '#f8f8ff',
        gold: '#ffd700',
        goldenrod: '#daa520',
        gray: '#808080',
        green: '#008000',
        greenyellow: '#adff2f',
        grey: '#808080',
        honeydew: '#f0fff0',
        hotpink: '#ff69b4',
        indianred: '#cd5c5c',
        indigo: '#4b0082',
        ivory: '#fffff0',
        khaki: '#f0e68c',
        laserlemon: '#ffff54',
        lavender: '#e6e6fa',
        lavenderblush: '#fff0f5',
        lawngreen: '#7cfc00',
        lemonchiffon: '#fffacd',
        lightblue: '#add8e6',
        lightcoral: '#f08080',
        lightcyan: '#e0ffff',
        lightgoldenrod: '#fafad2',
        lightgoldenrodyellow: '#fafad2',
        lightgray: '#d3d3d3',
        lightgreen: '#90ee90',
        lightgrey: '#d3d3d3',
        lightpink: '#ffb6c1',
        lightsalmon: '#ffa07a',
        lightseagreen: '#20b2aa',
        lightskyblue: '#87cefa',
        lightslategray: '#778899',
        lightslategrey: '#778899',
        lightsteelblue: '#b0c4de',
        lightyellow: '#ffffe0',
        lime: '#00ff00',
        limegreen: '#32cd32',
        linen: '#faf0e6',
        magenta: '#ff00ff',
        maroon: '#800000',
        maroon2: '#7f0000',
        maroon3: '#b03060',
        mediumaquamarine: '#66cdaa',
        mediumblue: '#0000cd',
        mediumorchid: '#ba55d3',
        mediumpurple: '#9370db',
        mediumseagreen: '#3cb371',
        mediumslateblue: '#7b68ee',
        mediumspringgreen: '#00fa9a',
        mediumturquoise: '#48d1cc',
        mediumvioletred: '#c71585',
        midnightblue: '#191970',
        mintcream: '#f5fffa',
        mistyrose: '#ffe4e1',
        moccasin: '#ffe4b5',
        navajowhite: '#ffdead',
        navy: '#000080',
        oldlace: '#fdf5e6',
        olive: '#808000',
        olivedrab: '#6b8e23',
        orange: '#ffa500',
        orangered: '#ff4500',
        orchid: '#da70d6',
        palegoldenrod: '#eee8aa',
        palegreen: '#98fb98',
        paleturquoise: '#afeeee',
        palevioletred: '#db7093',
        papayawhip: '#ffefd5',
        peachpuff: '#ffdab9',
        peru: '#cd853f',
        pink: '#ffc0cb',
        plum: '#dda0dd',
        powderblue: '#b0e0e6',
        purple: '#800080',
        purple2: '#7f007f',
        purple3: '#a020f0',
        rebeccapurple: '#663399',
        red: '#ff0000',
        rosybrown: '#bc8f8f',
        royalblue: '#4169e1',
        saddlebrown: '#8b4513',
        salmon: '#fa8072',
        sandybrown: '#f4a460',
        seagreen: '#2e8b57',
        seashell: '#fff5ee',
        sienna: '#a0522d',
        silver: '#c0c0c0',
        skyblue: '#87ceeb',
        slateblue: '#6a5acd',
        slategray: '#708090',
        slategrey: '#708090',
        snow: '#fffafa',
        springgreen: '#00ff7f',
        steelblue: '#4682b4',
        tan: '#d2b48c',
        teal: '#008080',
        thistle: '#d8bfd8',
        tomato: '#ff6347',
        turquoise: '#40e0d0',
        violet: '#ee82ee',
        wheat: '#f5deb3',
        white: '#ffffff',
        whitesmoke: '#f5f5f5',
        yellow: '#ffff00',
        yellowgreen: '#9acd32'
    };

    var w3cx11_1 = w3cx11$1;

    var Color$s = Color_1;
    var input$5 = input$h;
    var type$c = utils.type;

    var w3cx11 = w3cx11_1;
    var hex2rgb = hex2rgb_1;
    var rgb2hex = rgb2hex_1;

    Color$s.prototype.name = function() {
        var hex = rgb2hex(this._rgb, 'rgb');
        for (var i = 0, list = Object.keys(w3cx11); i < list.length; i += 1) {
            var n = list[i];

            if (w3cx11[n] === hex) { return n.toLowerCase(); }
        }
        return hex;
    };

    input$5.format.named = function (name) {
        name = name.toLowerCase();
        if (w3cx11[name]) { return hex2rgb(w3cx11[name]); }
        throw new Error('unknown color name: '+name);
    };

    input$5.autodetect.push({
        p: 5,
        test: function (h) {
            var rest = [], len = arguments.length - 1;
            while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];

            if (!rest.length && type$c(h) === 'string' && w3cx11[h.toLowerCase()]) {
                return 'named';
            }
        }
    });

    var unpack$8 = utils.unpack;

    var rgb2num$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$8(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        return (r << 16) + (g << 8) + b;
    };

    var rgb2num_1 = rgb2num$1;

    var type$b = utils.type;

    var num2rgb = function (num) {
        if (type$b(num) == "number" && num >= 0 && num <= 0xFFFFFF) {
            var r = num >> 16;
            var g = (num >> 8) & 0xFF;
            var b = num & 0xFF;
            return [r,g,b,1];
        }
        throw new Error("unknown num color: "+num);
    };

    var num2rgb_1 = num2rgb;

    var chroma$9 = chroma_1;
    var Color$r = Color_1;
    var input$4 = input$h;
    var type$a = utils.type;

    var rgb2num = rgb2num_1;

    Color$r.prototype.num = function() {
        return rgb2num(this._rgb);
    };

    chroma$9.num = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$r, [ null ].concat( args, ['num']) ));
    };

    input$4.format.num = num2rgb_1;

    input$4.autodetect.push({
        p: 5,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            if (args.length === 1 && type$a(args[0]) === 'number' && args[0] >= 0 && args[0] <= 0xFFFFFF) {
                return 'num';
            }
        }
    });

    var chroma$8 = chroma_1;
    var Color$q = Color_1;
    var input$3 = input$h;
    var unpack$7 = utils.unpack;
    var type$9 = utils.type;
    var round$1 = Math.round;

    Color$q.prototype.rgb = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        if (rnd === false) { return this._rgb.slice(0,3); }
        return this._rgb.slice(0,3).map(round$1);
    };

    Color$q.prototype.rgba = function(rnd) {
        if ( rnd === void 0 ) rnd=true;

        return this._rgb.slice(0,4).map(function (v,i) {
            return i<3 ? (rnd === false ? v : round$1(v)) : v;
        });
    };

    chroma$8.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$q, [ null ].concat( args, ['rgb']) ));
    };

    input$3.format.rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgba = unpack$7(args, 'rgba');
        if (rgba[3] === undefined) { rgba[3] = 1; }
        return rgba;
    };

    input$3.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$7(args, 'rgba');
            if (type$9(args) === 'array' && (args.length === 3 ||
                args.length === 4 && type$9(args[3]) == 'number' && args[3] >= 0 && args[3] <= 1)) {
                return 'rgb';
            }
        }
    });

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     */

    var log$1 = Math.log;

    var temperature2rgb$1 = function (kelvin) {
        var temp = kelvin / 100;
        var r,g,b;
        if (temp < 66) {
            r = 255;
            g = temp < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (g = temp-2) + 104.49216199393888 * log$1(g);
            b = temp < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (b = temp-10) + 115.67994401066147 * log$1(b);
        } else {
            r = 351.97690566805693 + 0.114206453784165 * (r = temp-55) - 40.25366309332127 * log$1(r);
            g = 325.4494125711974 + 0.07943456536662342 * (g = temp-50) - 28.0852963507957 * log$1(g);
            b = 255;
        }
        return [r,g,b,1];
    };

    var temperature2rgb_1 = temperature2rgb$1;

    /*
     * Based on implementation by Neil Bartlett
     * https://github.com/neilbartlett/color-temperature
     **/

    var temperature2rgb = temperature2rgb_1;
    var unpack$6 = utils.unpack;
    var round = Math.round;

    var rgb2temperature$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var rgb = unpack$6(args, 'rgb');
        var r = rgb[0], b = rgb[2];
        var minTemp = 1000;
        var maxTemp = 40000;
        var eps = 0.4;
        var temp;
        while (maxTemp - minTemp > eps) {
            temp = (maxTemp + minTemp) * 0.5;
            var rgb$1 = temperature2rgb(temp);
            if ((rgb$1[2] / rgb$1[0]) >= (b / r)) {
                maxTemp = temp;
            } else {
                minTemp = temp;
            }
        }
        return round(temp);
    };

    var rgb2temperature_1 = rgb2temperature$1;

    var chroma$7 = chroma_1;
    var Color$p = Color_1;
    var input$2 = input$h;

    var rgb2temperature = rgb2temperature_1;

    Color$p.prototype.temp =
    Color$p.prototype.kelvin =
    Color$p.prototype.temperature = function() {
        return rgb2temperature(this._rgb);
    };

    chroma$7.temp =
    chroma$7.kelvin =
    chroma$7.temperature = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$p, [ null ].concat( args, ['temp']) ));
    };

    input$2.format.temp =
    input$2.format.kelvin =
    input$2.format.temperature = temperature2rgb_1;

    var unpack$5 = utils.unpack;
    var cbrt = Math.cbrt;
    var pow$8 = Math.pow;
    var sign$1 = Math.sign;

    var rgb2oklab$2 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        // OKLab color space implementation taken from
        // https://bottosson.github.io/posts/oklab/
        var ref = unpack$5(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = [rgb2lrgb(r / 255), rgb2lrgb(g / 255), rgb2lrgb(b / 255)];
        var lr = ref$1[0];
        var lg = ref$1[1];
        var lb = ref$1[2];
        var l = cbrt(0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb);
        var m = cbrt(0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb);
        var s = cbrt(0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb);

        return [
            0.2104542553 * l + 0.793617785 * m - 0.0040720468 * s,
            1.9779984951 * l - 2.428592205 * m + 0.4505937099 * s,
            0.0259040371 * l + 0.7827717662 * m - 0.808675766 * s
        ];
    };

    var rgb2oklab_1 = rgb2oklab$2;

    function rgb2lrgb(c) {
        var abs = Math.abs(c);
        if (abs < 0.04045) {
            return c / 12.92;
        }
        return (sign$1(c) || 1) * pow$8((abs + 0.055) / 1.055, 2.4);
    }

    var unpack$4 = utils.unpack;
    var pow$7 = Math.pow;
    var sign = Math.sign;

    /*
     * L* [0..100]
     * a [-100..100]
     * b [-100..100]
     */
    var oklab2rgb$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$4(args, 'lab');
        var L = args[0];
        var a = args[1];
        var b = args[2];

        var l = pow$7(L + 0.3963377774 * a + 0.2158037573 * b, 3);
        var m = pow$7(L - 0.1055613458 * a - 0.0638541728 * b, 3);
        var s = pow$7(L - 0.0894841775 * a - 1.291485548 * b, 3);

        return [
            255 * lrgb2rgb(+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s),
            255 * lrgb2rgb(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s),
            255 * lrgb2rgb(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s),
            args.length > 3 ? args[3] : 1
        ];
    };

    var oklab2rgb_1 = oklab2rgb$1;

    function lrgb2rgb(c) {
        var abs = Math.abs(c);
        if (abs > 0.0031308) {
            return (sign(c) || 1) * (1.055 * pow$7(abs, 1 / 2.4) - 0.055);
        }
        return c * 12.92;
    }

    var unpack$3 = utils.unpack;
    var type$8 = utils.type;
    var chroma$6 = chroma_1;
    var Color$o = Color_1;
    var input$1 = input$h;

    var rgb2oklab$1 = rgb2oklab_1;

    Color$o.prototype.oklab = function () {
        return rgb2oklab$1(this._rgb);
    };

    chroma$6.oklab = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$o, [ null ].concat( args, ['oklab']) ));
    };

    input$1.format.oklab = oklab2rgb_1;

    input$1.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack$3(args, 'oklab');
            if (type$8(args) === 'array' && args.length === 3) {
                return 'oklab';
            }
        }
    });

    var unpack$2 = utils.unpack;
    var rgb2oklab = rgb2oklab_1;
    var lab2lch = lab2lch_1;

    var rgb2oklch$1 = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        var ref = unpack$2(args, 'rgb');
        var r = ref[0];
        var g = ref[1];
        var b = ref[2];
        var ref$1 = rgb2oklab(r, g, b);
        var l = ref$1[0];
        var a = ref$1[1];
        var b_ = ref$1[2];
        return lab2lch(l, a, b_);
    };

    var rgb2oklch_1 = rgb2oklch$1;

    var unpack$1 = utils.unpack;
    var lch2lab = lch2lab_1;
    var oklab2rgb = oklab2rgb_1;

    var oklch2rgb = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        args = unpack$1(args, 'lch');
        var l = args[0];
        var c = args[1];
        var h = args[2];
        var ref = lch2lab(l, c, h);
        var L = ref[0];
        var a = ref[1];
        var b_ = ref[2];
        var ref$1 = oklab2rgb(L, a, b_);
        var r = ref$1[0];
        var g = ref$1[1];
        var b = ref$1[2];
        return [r, g, b, args.length > 3 ? args[3] : 1];
    };

    var oklch2rgb_1 = oklch2rgb;

    var unpack = utils.unpack;
    var type$7 = utils.type;
    var chroma$5 = chroma_1;
    var Color$n = Color_1;
    var input = input$h;

    var rgb2oklch = rgb2oklch_1;

    Color$n.prototype.oklch = function () {
        return rgb2oklch(this._rgb);
    };

    chroma$5.oklch = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        return new (Function.prototype.bind.apply( Color$n, [ null ].concat( args, ['oklch']) ));
    };

    input.format.oklch = oklch2rgb_1;

    input.autodetect.push({
        p: 3,
        test: function () {
            var args = [], len = arguments.length;
            while ( len-- ) args[ len ] = arguments[ len ];

            args = unpack(args, 'oklch');
            if (type$7(args) === 'array' && args.length === 3) {
                return 'oklch';
            }
        }
    });

    var Color$m = Color_1;
    var type$6 = utils.type;

    Color$m.prototype.alpha = function(a, mutate) {
        if ( mutate === void 0 ) mutate=false;

        if (a !== undefined && type$6(a) === 'number') {
            if (mutate) {
                this._rgb[3] = a;
                return this;
            }
            return new Color$m([this._rgb[0], this._rgb[1], this._rgb[2], a], 'rgb');
        }
        return this._rgb[3];
    };

    var Color$l = Color_1;

    Color$l.prototype.clipped = function() {
        return this._rgb._clipped || false;
    };

    var Color$k = Color_1;
    var LAB_CONSTANTS$1 = labConstants;

    Color$k.prototype.darken = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lab = me.lab();
    	lab[0] -= LAB_CONSTANTS$1.Kn * amount;
    	return new Color$k(lab, 'lab').alpha(me.alpha(), true);
    };

    Color$k.prototype.brighten = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.darken(-amount);
    };

    Color$k.prototype.darker = Color$k.prototype.darken;
    Color$k.prototype.brighter = Color$k.prototype.brighten;

    var Color$j = Color_1;

    Color$j.prototype.get = function (mc) {
        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);
            if (i > -1) { return src[i]; }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var Color$i = Color_1;
    var type$5 = utils.type;
    var pow$6 = Math.pow;

    var EPS = 1e-7;
    var MAX_ITER = 20;

    Color$i.prototype.luminance = function(lum) {
        if (lum !== undefined && type$5(lum) === 'number') {
            if (lum === 0) {
                // return pure black
                return new Color$i([0,0,0,this._rgb[3]], 'rgb');
            }
            if (lum === 1) {
                // return pure white
                return new Color$i([255,255,255,this._rgb[3]], 'rgb');
            }
            // compute new color using...
            var cur_lum = this.luminance();
            var mode = 'rgb';
            var max_iter = MAX_ITER;

            var test = function (low, high) {
                var mid = low.interpolate(high, 0.5, mode);
                var lm = mid.luminance();
                if (Math.abs(lum - lm) < EPS || !max_iter--) {
                    // close enough
                    return mid;
                }
                return lm > lum ? test(low, mid) : test(mid, high);
            };

            var rgb = (cur_lum > lum ? test(new Color$i([0,0,0]), this) : test(this, new Color$i([255,255,255]))).rgb();
            return new Color$i(rgb.concat( [this._rgb[3]]));
        }
        return rgb2luminance.apply(void 0, (this._rgb).slice(0,3));
    };


    var rgb2luminance = function (r,g,b) {
        // relative luminance
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        r = luminance_x(r);
        g = luminance_x(g);
        b = luminance_x(b);
        return 0.2126 * r + 0.7152 * g + 0.0722 * b;
    };

    var luminance_x = function (x) {
        x /= 255;
        return x <= 0.03928 ? x/12.92 : pow$6((x+0.055)/1.055, 2.4);
    };

    var interpolator$1 = {};

    var Color$h = Color_1;
    var type$4 = utils.type;
    var interpolator = interpolator$1;

    var mix$1 = function (col1, col2, f) {
        if ( f === void 0 ) f=0.5;
        var rest = [], len = arguments.length - 3;
        while ( len-- > 0 ) rest[ len ] = arguments[ len + 3 ];

        var mode = rest[0] || 'lrgb';
        if (!interpolator[mode] && !rest.length) {
            // fall back to the first supported mode
            mode = Object.keys(interpolator)[0];
        }
        if (!interpolator[mode]) {
            throw new Error(("interpolation mode " + mode + " is not defined"));
        }
        if (type$4(col1) !== 'object') { col1 = new Color$h(col1); }
        if (type$4(col2) !== 'object') { col2 = new Color$h(col2); }
        return interpolator[mode](col1, col2, f)
            .alpha(col1.alpha() + f * (col2.alpha() - col1.alpha()));
    };

    var Color$g = Color_1;
    var mix = mix$1;

    Color$g.prototype.mix =
    Color$g.prototype.interpolate = function(col2, f) {
    	if ( f === void 0 ) f=0.5;
    	var rest = [], len = arguments.length - 2;
    	while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];

    	return mix.apply(void 0, [ this, col2, f ].concat( rest ));
    };

    var Color$f = Color_1;

    Color$f.prototype.premultiply = function(mutate) {
    	if ( mutate === void 0 ) mutate=false;

    	var rgb = this._rgb;
    	var a = rgb[3];
    	if (mutate) {
    		this._rgb = [rgb[0]*a, rgb[1]*a, rgb[2]*a, a];
    		return this;
    	} else {
    		return new Color$f([rgb[0]*a, rgb[1]*a, rgb[2]*a, a], 'rgb');
    	}
    };

    var Color$e = Color_1;
    var LAB_CONSTANTS = labConstants;

    Color$e.prototype.saturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	var me = this;
    	var lch = me.lch();
    	lch[1] += LAB_CONSTANTS.Kn * amount;
    	if (lch[1] < 0) { lch[1] = 0; }
    	return new Color$e(lch, 'lch').alpha(me.alpha(), true);
    };

    Color$e.prototype.desaturate = function(amount) {
    	if ( amount === void 0 ) amount=1;

    	return this.saturate(-amount);
    };

    var Color$d = Color_1;
    var type$3 = utils.type;

    Color$d.prototype.set = function (mc, value, mutate) {
        if ( mutate === void 0 ) mutate = false;

        var ref = mc.split('.');
        var mode = ref[0];
        var channel = ref[1];
        var src = this[mode]();
        if (channel) {
            var i = mode.indexOf(channel) - (mode.substr(0, 2) === 'ok' ? 2 : 0);
            if (i > -1) {
                if (type$3(value) == 'string') {
                    switch (value.charAt(0)) {
                        case '+':
                            src[i] += +value;
                            break;
                        case '-':
                            src[i] += +value;
                            break;
                        case '*':
                            src[i] *= +value.substr(1);
                            break;
                        case '/':
                            src[i] /= +value.substr(1);
                            break;
                        default:
                            src[i] = +value;
                    }
                } else if (type$3(value) === 'number') {
                    src[i] = value;
                } else {
                    throw new Error("unsupported value for Color.set");
                }
                var out = new Color$d(src, mode);
                if (mutate) {
                    this._rgb = out._rgb;
                    return this;
                }
                return out;
            }
            throw new Error(("unknown channel " + channel + " in mode " + mode));
        } else {
            return src;
        }
    };

    var Color$c = Color_1;

    var rgb = function (col1, col2, f) {
        var xyz0 = col1._rgb;
        var xyz1 = col2._rgb;
        return new Color$c(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'rgb'
        )
    };

    // register interpolator
    interpolator$1.rgb = rgb;

    var Color$b = Color_1;
    var sqrt$2 = Math.sqrt;
    var pow$5 = Math.pow;

    var lrgb = function (col1, col2, f) {
        var ref = col1._rgb;
        var x1 = ref[0];
        var y1 = ref[1];
        var z1 = ref[2];
        var ref$1 = col2._rgb;
        var x2 = ref$1[0];
        var y2 = ref$1[1];
        var z2 = ref$1[2];
        return new Color$b(
            sqrt$2(pow$5(x1,2) * (1-f) + pow$5(x2,2) * f),
            sqrt$2(pow$5(y1,2) * (1-f) + pow$5(y2,2) * f),
            sqrt$2(pow$5(z1,2) * (1-f) + pow$5(z2,2) * f),
            'rgb'
        )
    };

    // register interpolator
    interpolator$1.lrgb = lrgb;

    var Color$a = Color_1;

    var lab = function (col1, col2, f) {
        var xyz0 = col1.lab();
        var xyz1 = col2.lab();
        return new Color$a(
            xyz0[0] + f * (xyz1[0]-xyz0[0]),
            xyz0[1] + f * (xyz1[1]-xyz0[1]),
            xyz0[2] + f * (xyz1[2]-xyz0[2]),
            'lab'
        )
    };

    // register interpolator
    interpolator$1.lab = lab;

    var Color$9 = Color_1;

    var _hsx = function (col1, col2, f, m) {
        var assign, assign$1;

        var xyz0, xyz1;
        if (m === 'hsl') {
            xyz0 = col1.hsl();
            xyz1 = col2.hsl();
        } else if (m === 'hsv') {
            xyz0 = col1.hsv();
            xyz1 = col2.hsv();
        } else if (m === 'hcg') {
            xyz0 = col1.hcg();
            xyz1 = col2.hcg();
        } else if (m === 'hsi') {
            xyz0 = col1.hsi();
            xyz1 = col2.hsi();
        } else if (m === 'lch' || m === 'hcl') {
            m = 'hcl';
            xyz0 = col1.hcl();
            xyz1 = col2.hcl();
        } else if (m === 'oklch') {
            xyz0 = col1.oklch().reverse();
            xyz1 = col2.oklch().reverse();
        }

        var hue0, hue1, sat0, sat1, lbv0, lbv1;
        if (m.substr(0, 1) === 'h' || m === 'oklch') {
            (assign = xyz0, hue0 = assign[0], sat0 = assign[1], lbv0 = assign[2]);
            (assign$1 = xyz1, hue1 = assign$1[0], sat1 = assign$1[1], lbv1 = assign$1[2]);
        }

        var sat, hue, lbv, dh;

        if (!isNaN(hue0) && !isNaN(hue1)) {
            // both colors have hue
            if (hue1 > hue0 && hue1 - hue0 > 180) {
                dh = hue1 - (hue0 + 360);
            } else if (hue1 < hue0 && hue0 - hue1 > 180) {
                dh = hue1 + 360 - hue0;
            } else {
                dh = hue1 - hue0;
            }
            hue = hue0 + f * dh;
        } else if (!isNaN(hue0)) {
            hue = hue0;
            if ((lbv1 == 1 || lbv1 == 0) && m != 'hsv') { sat = sat0; }
        } else if (!isNaN(hue1)) {
            hue = hue1;
            if ((lbv0 == 1 || lbv0 == 0) && m != 'hsv') { sat = sat1; }
        } else {
            hue = Number.NaN;
        }

        if (sat === undefined) { sat = sat0 + f * (sat1 - sat0); }
        lbv = lbv0 + f * (lbv1 - lbv0);
        return m === 'oklch' ? new Color$9([lbv, sat, hue], m) : new Color$9([hue, sat, lbv], m);
    };

    var interpolate_hsx$5 = _hsx;

    var lch = function (col1, col2, f) {
    	return interpolate_hsx$5(col1, col2, f, 'lch');
    };

    // register interpolator
    interpolator$1.lch = lch;
    interpolator$1.hcl = lch;

    var Color$8 = Color_1;

    var num = function (col1, col2, f) {
        var c1 = col1.num();
        var c2 = col2.num();
        return new Color$8(c1 + f * (c2-c1), 'num')
    };

    // register interpolator
    interpolator$1.num = num;

    var interpolate_hsx$4 = _hsx;

    var hcg = function (col1, col2, f) {
    	return interpolate_hsx$4(col1, col2, f, 'hcg');
    };

    // register interpolator
    interpolator$1.hcg = hcg;

    var interpolate_hsx$3 = _hsx;

    var hsi = function (col1, col2, f) {
    	return interpolate_hsx$3(col1, col2, f, 'hsi');
    };

    // register interpolator
    interpolator$1.hsi = hsi;

    var interpolate_hsx$2 = _hsx;

    var hsl = function (col1, col2, f) {
    	return interpolate_hsx$2(col1, col2, f, 'hsl');
    };

    // register interpolator
    interpolator$1.hsl = hsl;

    var interpolate_hsx$1 = _hsx;

    var hsv = function (col1, col2, f) {
    	return interpolate_hsx$1(col1, col2, f, 'hsv');
    };

    // register interpolator
    interpolator$1.hsv = hsv;

    var Color$7 = Color_1;

    var oklab = function (col1, col2, f) {
        var xyz0 = col1.oklab();
        var xyz1 = col2.oklab();
        return new Color$7(
            xyz0[0] + f * (xyz1[0] - xyz0[0]),
            xyz0[1] + f * (xyz1[1] - xyz0[1]),
            xyz0[2] + f * (xyz1[2] - xyz0[2]),
            'oklab'
        );
    };

    // register interpolator
    interpolator$1.oklab = oklab;

    var interpolate_hsx = _hsx;

    var oklch = function (col1, col2, f) {
        return interpolate_hsx(col1, col2, f, 'oklch');
    };

    // register interpolator
    interpolator$1.oklch = oklch;

    var Color$6 = Color_1;
    var clip_rgb$1 = utils.clip_rgb;
    var pow$4 = Math.pow;
    var sqrt$1 = Math.sqrt;
    var PI$1 = Math.PI;
    var cos$2 = Math.cos;
    var sin$2 = Math.sin;
    var atan2$1 = Math.atan2;

    var average = function (colors, mode, weights) {
        if ( mode === void 0 ) mode='lrgb';
        if ( weights === void 0 ) weights=null;

        var l = colors.length;
        if (!weights) { weights = Array.from(new Array(l)).map(function () { return 1; }); }
        // normalize weights
        var k = l / weights.reduce(function(a, b) { return a + b; });
        weights.forEach(function (w,i) { weights[i] *= k; });
        // convert colors to Color objects
        colors = colors.map(function (c) { return new Color$6(c); });
        if (mode === 'lrgb') {
            return _average_lrgb(colors, weights)
        }
        var first = colors.shift();
        var xyz = first.get(mode);
        var cnt = [];
        var dx = 0;
        var dy = 0;
        // initial color
        for (var i=0; i<xyz.length; i++) {
            xyz[i] = (xyz[i] || 0) * weights[0];
            cnt.push(isNaN(xyz[i]) ? 0 : weights[0]);
            if (mode.charAt(i) === 'h' && !isNaN(xyz[i])) {
                var A = xyz[i] / 180 * PI$1;
                dx += cos$2(A) * weights[0];
                dy += sin$2(A) * weights[0];
            }
        }

        var alpha = first.alpha() * weights[0];
        colors.forEach(function (c,ci) {
            var xyz2 = c.get(mode);
            alpha += c.alpha() * weights[ci+1];
            for (var i=0; i<xyz.length; i++) {
                if (!isNaN(xyz2[i])) {
                    cnt[i] += weights[ci+1];
                    if (mode.charAt(i) === 'h') {
                        var A = xyz2[i] / 180 * PI$1;
                        dx += cos$2(A) * weights[ci+1];
                        dy += sin$2(A) * weights[ci+1];
                    } else {
                        xyz[i] += xyz2[i] * weights[ci+1];
                    }
                }
            }
        });

        for (var i$1=0; i$1<xyz.length; i$1++) {
            if (mode.charAt(i$1) === 'h') {
                var A$1 = atan2$1(dy / cnt[i$1], dx / cnt[i$1]) / PI$1 * 180;
                while (A$1 < 0) { A$1 += 360; }
                while (A$1 >= 360) { A$1 -= 360; }
                xyz[i$1] = A$1;
            } else {
                xyz[i$1] = xyz[i$1]/cnt[i$1];
            }
        }
        alpha /= l;
        return (new Color$6(xyz, mode)).alpha(alpha > 0.99999 ? 1 : alpha, true);
    };


    var _average_lrgb = function (colors, weights) {
        var l = colors.length;
        var xyz = [0,0,0,0];
        for (var i=0; i < colors.length; i++) {
            var col = colors[i];
            var f = weights[i] / l;
            var rgb = col._rgb;
            xyz[0] += pow$4(rgb[0],2) * f;
            xyz[1] += pow$4(rgb[1],2) * f;
            xyz[2] += pow$4(rgb[2],2) * f;
            xyz[3] += rgb[3] * f;
        }
        xyz[0] = sqrt$1(xyz[0]);
        xyz[1] = sqrt$1(xyz[1]);
        xyz[2] = sqrt$1(xyz[2]);
        if (xyz[3] > 0.9999999) { xyz[3] = 1; }
        return new Color$6(clip_rgb$1(xyz));
    };

    // minimal multi-purpose interface

    // @requires utils color analyze

    var chroma$4 = chroma_1;
    var type$2 = utils.type;

    var pow$3 = Math.pow;

    var scale$2 = function(colors) {

        // constructor
        var _mode = 'rgb';
        var _nacol = chroma$4('#ccc');
        var _spread = 0;
        // const _fixed = false;
        var _domain = [0, 1];
        var _pos = [];
        var _padding = [0,0];
        var _classes = false;
        var _colors = [];
        var _out = false;
        var _min = 0;
        var _max = 1;
        var _correctLightness = false;
        var _colorCache = {};
        var _useCache = true;
        var _gamma = 1;

        // private methods

        var setColors = function(colors) {
            colors = colors || ['#fff', '#000'];
            if (colors && type$2(colors) === 'string' && chroma$4.brewer &&
                chroma$4.brewer[colors.toLowerCase()]) {
                colors = chroma$4.brewer[colors.toLowerCase()];
            }
            if (type$2(colors) === 'array') {
                // handle single color
                if (colors.length === 1) {
                    colors = [colors[0], colors[0]];
                }
                // make a copy of the colors
                colors = colors.slice(0);
                // convert to chroma classes
                for (var c=0; c<colors.length; c++) {
                    colors[c] = chroma$4(colors[c]);
                }
                // auto-fill color position
                _pos.length = 0;
                for (var c$1=0; c$1<colors.length; c$1++) {
                    _pos.push(c$1/(colors.length-1));
                }
            }
            resetCache();
            return _colors = colors;
        };

        var getClass = function(value) {
            if (_classes != null) {
                var n = _classes.length-1;
                var i = 0;
                while (i < n && value >= _classes[i]) {
                    i++;
                }
                return i-1;
            }
            return 0;
        };

        var tMapLightness = function (t) { return t; };
        var tMapDomain = function (t) { return t; };

        // const classifyValue = function(value) {
        //     let val = value;
        //     if (_classes.length > 2) {
        //         const n = _classes.length-1;
        //         const i = getClass(value);
        //         const minc = _classes[0] + ((_classes[1]-_classes[0]) * (0 + (_spread * 0.5)));  // center of 1st class
        //         const maxc = _classes[n-1] + ((_classes[n]-_classes[n-1]) * (1 - (_spread * 0.5)));  // center of last class
        //         val = _min + ((((_classes[i] + ((_classes[i+1] - _classes[i]) * 0.5)) - minc) / (maxc-minc)) * (_max - _min));
        //     }
        //     return val;
        // };

        var getColor = function(val, bypassMap) {
            var col, t;
            if (bypassMap == null) { bypassMap = false; }
            if (isNaN(val) || (val === null)) { return _nacol; }
            if (!bypassMap) {
                if (_classes && (_classes.length > 2)) {
                    // find the class
                    var c = getClass(val);
                    t = c / (_classes.length-2);
                } else if (_max !== _min) {
                    // just interpolate between min/max
                    t = (val - _min) / (_max - _min);
                } else {
                    t = 1;
                }
            } else {
                t = val;
            }

            // domain map
            t = tMapDomain(t);

            if (!bypassMap) {
                t = tMapLightness(t);  // lightness correction
            }

            if (_gamma !== 1) { t = pow$3(t, _gamma); }

            t = _padding[0] + (t * (1 - _padding[0] - _padding[1]));

            t = Math.min(1, Math.max(0, t));

            var k = Math.floor(t * 10000);

            if (_useCache && _colorCache[k]) {
                col = _colorCache[k];
            } else {
                if (type$2(_colors) === 'array') {
                    //for i in [0.._pos.length-1]
                    for (var i=0; i<_pos.length; i++) {
                        var p = _pos[i];
                        if (t <= p) {
                            col = _colors[i];
                            break;
                        }
                        if ((t >= p) && (i === (_pos.length-1))) {
                            col = _colors[i];
                            break;
                        }
                        if (t > p && t < _pos[i+1]) {
                            t = (t-p)/(_pos[i+1]-p);
                            col = chroma$4.interpolate(_colors[i], _colors[i+1], t, _mode);
                            break;
                        }
                    }
                } else if (type$2(_colors) === 'function') {
                    col = _colors(t);
                }
                if (_useCache) { _colorCache[k] = col; }
            }
            return col;
        };

        var resetCache = function () { return _colorCache = {}; };

        setColors(colors);

        // public interface

        var f = function(v) {
            var c = chroma$4(getColor(v));
            if (_out && c[_out]) { return c[_out](); } else { return c; }
        };

        f.classes = function(classes) {
            if (classes != null) {
                if (type$2(classes) === 'array') {
                    _classes = classes;
                    _domain = [classes[0], classes[classes.length-1]];
                } else {
                    var d = chroma$4.analyze(_domain);
                    if (classes === 0) {
                        _classes = [d.min, d.max];
                    } else {
                        _classes = chroma$4.limits(d, 'e', classes);
                    }
                }
                return f;
            }
            return _classes;
        };


        f.domain = function(domain) {
            if (!arguments.length) {
                return _domain;
            }
            _min = domain[0];
            _max = domain[domain.length-1];
            _pos = [];
            var k = _colors.length;
            if ((domain.length === k) && (_min !== _max)) {
                // update positions
                for (var i = 0, list = Array.from(domain); i < list.length; i += 1) {
                    var d = list[i];

                  _pos.push((d-_min) / (_max-_min));
                }
            } else {
                for (var c=0; c<k; c++) {
                    _pos.push(c/(k-1));
                }
                if (domain.length > 2) {
                    // set domain map
                    var tOut = domain.map(function (d,i) { return i/(domain.length-1); });
                    var tBreaks = domain.map(function (d) { return (d - _min) / (_max - _min); });
                    if (!tBreaks.every(function (val, i) { return tOut[i] === val; })) {
                        tMapDomain = function (t) {
                            if (t <= 0 || t >= 1) { return t; }
                            var i = 0;
                            while (t >= tBreaks[i+1]) { i++; }
                            var f = (t - tBreaks[i]) / (tBreaks[i+1] - tBreaks[i]);
                            var out = tOut[i] + f * (tOut[i+1] - tOut[i]);
                            return out;
                        };
                    }

                }
            }
            _domain = [_min, _max];
            return f;
        };

        f.mode = function(_m) {
            if (!arguments.length) {
                return _mode;
            }
            _mode = _m;
            resetCache();
            return f;
        };

        f.range = function(colors, _pos) {
            setColors(colors);
            return f;
        };

        f.out = function(_o) {
            _out = _o;
            return f;
        };

        f.spread = function(val) {
            if (!arguments.length) {
                return _spread;
            }
            _spread = val;
            return f;
        };

        f.correctLightness = function(v) {
            if (v == null) { v = true; }
            _correctLightness = v;
            resetCache();
            if (_correctLightness) {
                tMapLightness = function(t) {
                    var L0 = getColor(0, true).lab()[0];
                    var L1 = getColor(1, true).lab()[0];
                    var pol = L0 > L1;
                    var L_actual = getColor(t, true).lab()[0];
                    var L_ideal = L0 + ((L1 - L0) * t);
                    var L_diff = L_actual - L_ideal;
                    var t0 = 0;
                    var t1 = 1;
                    var max_iter = 20;
                    while ((Math.abs(L_diff) > 1e-2) && (max_iter-- > 0)) {
                        (function() {
                            if (pol) { L_diff *= -1; }
                            if (L_diff < 0) {
                                t0 = t;
                                t += (t1 - t) * 0.5;
                            } else {
                                t1 = t;
                                t += (t0 - t) * 0.5;
                            }
                            L_actual = getColor(t, true).lab()[0];
                            return L_diff = L_actual - L_ideal;
                        })();
                    }
                    return t;
                };
            } else {
                tMapLightness = function (t) { return t; };
            }
            return f;
        };

        f.padding = function(p) {
            if (p != null) {
                if (type$2(p) === 'number') {
                    p = [p,p];
                }
                _padding = p;
                return f;
            } else {
                return _padding;
            }
        };

        f.colors = function(numColors, out) {
            // If no arguments are given, return the original colors that were provided
            if (arguments.length < 2) { out = 'hex'; }
            var result = [];

            if (arguments.length === 0) {
                result = _colors.slice(0);

            } else if (numColors === 1) {
                result = [f(0.5)];

            } else if (numColors > 1) {
                var dm = _domain[0];
                var dd = _domain[1] - dm;
                result = __range__(0, numColors, false).map(function (i) { return f( dm + ((i/(numColors-1)) * dd) ); });

            } else { // returns all colors based on the defined classes
                colors = [];
                var samples = [];
                if (_classes && (_classes.length > 2)) {
                    for (var i = 1, end = _classes.length, asc = 1 <= end; asc ? i < end : i > end; asc ? i++ : i--) {
                        samples.push((_classes[i-1]+_classes[i])*0.5);
                    }
                } else {
                    samples = _domain;
                }
                result = samples.map(function (v) { return f(v); });
            }

            if (chroma$4[out]) {
                result = result.map(function (c) { return c[out](); });
            }
            return result;
        };

        f.cache = function(c) {
            if (c != null) {
                _useCache = c;
                return f;
            } else {
                return _useCache;
            }
        };

        f.gamma = function(g) {
            if (g != null) {
                _gamma = g;
                return f;
            } else {
                return _gamma;
            }
        };

        f.nodata = function(d) {
            if (d != null) {
                _nacol = chroma$4(d);
                return f;
            } else {
                return _nacol;
            }
        };

        return f;
    };

    function __range__(left, right, inclusive) {
      var range = [];
      var ascending = left < right;
      var end = !inclusive ? right : ascending ? right + 1 : right - 1;
      for (var i = left; ascending ? i < end : i > end; ascending ? i++ : i--) {
        range.push(i);
      }
      return range;
    }

    //
    // interpolates between a set of colors uzing a bezier spline
    //

    // @requires utils lab
    var Color$5 = Color_1;

    var scale$1 = scale$2;

    // nth row of the pascal triangle
    var binom_row = function(n) {
        var row = [1, 1];
        for (var i = 1; i < n; i++) {
            var newrow = [1];
            for (var j = 1; j <= row.length; j++) {
                newrow[j] = (row[j] || 0) + row[j - 1];
            }
            row = newrow;
        }
        return row;
    };

    var bezier = function(colors) {
        var assign, assign$1, assign$2;

        var I, lab0, lab1, lab2;
        colors = colors.map(function (c) { return new Color$5(c); });
        if (colors.length === 2) {
            // linear interpolation
            (assign = colors.map(function (c) { return c.lab(); }), lab0 = assign[0], lab1 = assign[1]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return lab0[i] + (t * (lab1[i] - lab0[i])); }));
                return new Color$5(lab, 'lab');
            };
        } else if (colors.length === 3) {
            // quadratic bezier interpolation
            (assign$1 = colors.map(function (c) { return c.lab(); }), lab0 = assign$1[0], lab1 = assign$1[1], lab2 = assign$1[2]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i]); }));
                return new Color$5(lab, 'lab');
            };
        } else if (colors.length === 4) {
            // cubic bezier interpolation
            var lab3;
            (assign$2 = colors.map(function (c) { return c.lab(); }), lab0 = assign$2[0], lab1 = assign$2[1], lab2 = assign$2[2], lab3 = assign$2[3]);
            I = function(t) {
                var lab = ([0, 1, 2].map(function (i) { return ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i]); }));
                return new Color$5(lab, 'lab');
            };
        } else if (colors.length >= 5) {
            // general case (degree n bezier)
            var labs, row, n;
            labs = colors.map(function (c) { return c.lab(); });
            n = colors.length - 1;
            row = binom_row(n);
            I = function (t) {
                var u = 1 - t;
                var lab = ([0, 1, 2].map(function (i) { return labs.reduce(function (sum, el, j) { return (sum + row[j] * Math.pow( u, (n - j) ) * Math.pow( t, j ) * el[i]); }, 0); }));
                return new Color$5(lab, 'lab');
            };
        } else {
            throw new RangeError("No point in running bezier with only one color.")
        }
        return I;
    };

    var bezier_1 = function (colors) {
        var f = bezier(colors);
        f.scale = function () { return scale$1(f); };
        return f;
    };

    /*
     * interpolates between a set of colors uzing a bezier spline
     * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/
     */

    var chroma$3 = chroma_1;

    var blend = function (bottom, top, mode) {
        if (!blend[mode]) {
            throw new Error('unknown blend mode ' + mode);
        }
        return blend[mode](bottom, top);
    };

    var blend_f = function (f) { return function (bottom,top) {
            var c0 = chroma$3(top).rgb();
            var c1 = chroma$3(bottom).rgb();
            return chroma$3.rgb(f(c0, c1));
        }; };

    var each = function (f) { return function (c0, c1) {
            var out = [];
            out[0] = f(c0[0], c1[0]);
            out[1] = f(c0[1], c1[1]);
            out[2] = f(c0[2], c1[2]);
            return out;
        }; };

    var normal = function (a) { return a; };
    var multiply = function (a,b) { return a * b / 255; };
    var darken = function (a,b) { return a > b ? b : a; };
    var lighten = function (a,b) { return a > b ? a : b; };
    var screen = function (a,b) { return 255 * (1 - (1-a/255) * (1-b/255)); };
    var overlay = function (a,b) { return b < 128 ? 2 * a * b / 255 : 255 * (1 - 2 * (1 - a / 255 ) * ( 1 - b / 255 )); };
    var burn = function (a,b) { return 255 * (1 - (1 - b / 255) / (a/255)); };
    var dodge = function (a,b) {
        if (a === 255) { return 255; }
        a = 255 * (b / 255) / (1 - a / 255);
        return a > 255 ? 255 : a
    };

    // # add = (a,b) ->
    // #     if (a + b > 255) then 255 else a + b

    blend.normal = blend_f(each(normal));
    blend.multiply = blend_f(each(multiply));
    blend.screen = blend_f(each(screen));
    blend.overlay = blend_f(each(overlay));
    blend.darken = blend_f(each(darken));
    blend.lighten = blend_f(each(lighten));
    blend.dodge = blend_f(each(dodge));
    blend.burn = blend_f(each(burn));
    // blend.add = blend_f(each(add));

    var blend_1 = blend;

    // cubehelix interpolation
    // based on D.A. Green "A colour scheme for the display of astronomical intensity images"
    // http://astron-soc.in/bulletin/11June/289392011.pdf

    var type$1 = utils.type;
    var clip_rgb = utils.clip_rgb;
    var TWOPI = utils.TWOPI;
    var pow$2 = Math.pow;
    var sin$1 = Math.sin;
    var cos$1 = Math.cos;
    var chroma$2 = chroma_1;

    var cubehelix = function(start, rotations, hue, gamma, lightness) {
        if ( start === void 0 ) start=300;
        if ( rotations === void 0 ) rotations=-1.5;
        if ( hue === void 0 ) hue=1;
        if ( gamma === void 0 ) gamma=1;
        if ( lightness === void 0 ) lightness=[0,1];

        var dh = 0, dl;
        if (type$1(lightness) === 'array') {
            dl = lightness[1] - lightness[0];
        } else {
            dl = 0;
            lightness = [lightness, lightness];
        }

        var f = function(fract) {
            var a = TWOPI * (((start+120)/360) + (rotations * fract));
            var l = pow$2(lightness[0] + (dl * fract), gamma);
            var h = dh !== 0 ? hue[0] + (fract * dh) : hue;
            var amp = (h * l * (1-l)) / 2;
            var cos_a = cos$1(a);
            var sin_a = sin$1(a);
            var r = l + (amp * ((-0.14861 * cos_a) + (1.78277* sin_a)));
            var g = l + (amp * ((-0.29227 * cos_a) - (0.90649* sin_a)));
            var b = l + (amp * (+1.97294 * cos_a));
            return chroma$2(clip_rgb([r*255,g*255,b*255,1]));
        };

        f.start = function(s) {
            if ((s == null)) { return start; }
            start = s;
            return f;
        };

        f.rotations = function(r) {
            if ((r == null)) { return rotations; }
            rotations = r;
            return f;
        };

        f.gamma = function(g) {
            if ((g == null)) { return gamma; }
            gamma = g;
            return f;
        };

        f.hue = function(h) {
            if ((h == null)) { return hue; }
            hue = h;
            if (type$1(hue) === 'array') {
                dh = hue[1] - hue[0];
                if (dh === 0) { hue = hue[1]; }
            } else {
                dh = 0;
            }
            return f;
        };

        f.lightness = function(h) {
            if ((h == null)) { return lightness; }
            if (type$1(h) === 'array') {
                lightness = h;
                dl = h[1] - h[0];
            } else {
                lightness = [h,h];
                dl = 0;
            }
            return f;
        };

        f.scale = function () { return chroma$2.scale(f); };

        f.hue(hue);

        return f;
    };

    var Color$4 = Color_1;
    var digits = '0123456789abcdef';

    var floor$1 = Math.floor;
    var random = Math.random;

    var random_1 = function () {
        var code = '#';
        for (var i=0; i<6; i++) {
            code += digits.charAt(floor$1(random() * 16));
        }
        return new Color$4(code, 'hex');
    };

    var type = type$p;
    var log = Math.log;
    var pow$1 = Math.pow;
    var floor = Math.floor;
    var abs$1 = Math.abs;


    var analyze = function (data, key) {
        if ( key === void 0 ) key=null;

        var r = {
            min: Number.MAX_VALUE,
            max: Number.MAX_VALUE*-1,
            sum: 0,
            values: [],
            count: 0
        };
        if (type(data) === 'object') {
            data = Object.values(data);
        }
        data.forEach(function (val) {
            if (key && type(val) === 'object') { val = val[key]; }
            if (val !== undefined && val !== null && !isNaN(val)) {
                r.values.push(val);
                r.sum += val;
                if (val < r.min) { r.min = val; }
                if (val > r.max) { r.max = val; }
                r.count += 1;
            }
        });

        r.domain = [r.min, r.max];

        r.limits = function (mode, num) { return limits(r, mode, num); };

        return r;
    };


    var limits = function (data, mode, num) {
        if ( mode === void 0 ) mode='equal';
        if ( num === void 0 ) num=7;

        if (type(data) == 'array') {
            data = analyze(data);
        }
        var min = data.min;
        var max = data.max;
        var values = data.values.sort(function (a,b) { return a-b; });

        if (num === 1) { return [min,max]; }

        var limits = [];

        if (mode.substr(0,1) === 'c') { // continuous
            limits.push(min);
            limits.push(max);
        }

        if (mode.substr(0,1) === 'e') { // equal interval
            limits.push(min);
            for (var i=1; i<num; i++) {
                limits.push(min+((i/num)*(max-min)));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'l') { // log scale
            if (min <= 0) {
                throw new Error('Logarithmic scales are only possible for values > 0');
            }
            var min_log = Math.LOG10E * log(min);
            var max_log = Math.LOG10E * log(max);
            limits.push(min);
            for (var i$1=1; i$1<num; i$1++) {
                limits.push(pow$1(10, min_log + ((i$1/num) * (max_log - min_log))));
            }
            limits.push(max);
        }

        else if (mode.substr(0,1) === 'q') { // quantile scale
            limits.push(min);
            for (var i$2=1; i$2<num; i$2++) {
                var p = ((values.length-1) * i$2)/num;
                var pb = floor(p);
                if (pb === p) {
                    limits.push(values[pb]);
                } else { // p > pb
                    var pr = p - pb;
                    limits.push((values[pb]*(1-pr)) + (values[pb+1]*pr));
                }
            }
            limits.push(max);

        }

        else if (mode.substr(0,1) === 'k') { // k-means clustering
            /*
            implementation based on
            http://code.google.com/p/figue/source/browse/trunk/figue.js#336
            simplified for 1-d input values
            */
            var cluster;
            var n = values.length;
            var assignments = new Array(n);
            var clusterSizes = new Array(num);
            var repeat = true;
            var nb_iters = 0;
            var centroids = null;

            // get seed values
            centroids = [];
            centroids.push(min);
            for (var i$3=1; i$3<num; i$3++) {
                centroids.push(min + ((i$3/num) * (max-min)));
            }
            centroids.push(max);

            while (repeat) {
                // assignment step
                for (var j=0; j<num; j++) {
                    clusterSizes[j] = 0;
                }
                for (var i$4=0; i$4<n; i$4++) {
                    var value = values[i$4];
                    var mindist = Number.MAX_VALUE;
                    var best = (void 0);
                    for (var j$1=0; j$1<num; j$1++) {
                        var dist = abs$1(centroids[j$1]-value);
                        if (dist < mindist) {
                            mindist = dist;
                            best = j$1;
                        }
                        clusterSizes[best]++;
                        assignments[i$4] = best;
                    }
                }

                // update centroids step
                var newCentroids = new Array(num);
                for (var j$2=0; j$2<num; j$2++) {
                    newCentroids[j$2] = null;
                }
                for (var i$5=0; i$5<n; i$5++) {
                    cluster = assignments[i$5];
                    if (newCentroids[cluster] === null) {
                        newCentroids[cluster] = values[i$5];
                    } else {
                        newCentroids[cluster] += values[i$5];
                    }
                }
                for (var j$3=0; j$3<num; j$3++) {
                    newCentroids[j$3] *= 1/clusterSizes[j$3];
                }

                // check convergence
                repeat = false;
                for (var j$4=0; j$4<num; j$4++) {
                    if (newCentroids[j$4] !== centroids[j$4]) {
                        repeat = true;
                        break;
                    }
                }

                centroids = newCentroids;
                nb_iters++;

                if (nb_iters > 200) {
                    repeat = false;
                }
            }

            // finished k-means clustering
            // the next part is borrowed from gabrielflor.it
            var kClusters = {};
            for (var j$5=0; j$5<num; j$5++) {
                kClusters[j$5] = [];
            }
            for (var i$6=0; i$6<n; i$6++) {
                cluster = assignments[i$6];
                kClusters[cluster].push(values[i$6]);
            }
            var tmpKMeansBreaks = [];
            for (var j$6=0; j$6<num; j$6++) {
                tmpKMeansBreaks.push(kClusters[j$6][0]);
                tmpKMeansBreaks.push(kClusters[j$6][kClusters[j$6].length-1]);
            }
            tmpKMeansBreaks = tmpKMeansBreaks.sort(function (a,b){ return a-b; });
            limits.push(tmpKMeansBreaks[0]);
            for (var i$7=1; i$7 < tmpKMeansBreaks.length; i$7+= 2) {
                var v = tmpKMeansBreaks[i$7];
                if (!isNaN(v) && (limits.indexOf(v) === -1)) {
                    limits.push(v);
                }
            }
        }
        return limits;
    };

    var analyze_1 = {analyze: analyze, limits: limits};

    var Color$3 = Color_1;


    var contrast = function (a, b) {
        // WCAG contrast ratio
        // see http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef
        a = new Color$3(a);
        b = new Color$3(b);
        var l1 = a.luminance();
        var l2 = b.luminance();
        return l1 > l2 ? (l1 + 0.05) / (l2 + 0.05) : (l2 + 0.05) / (l1 + 0.05);
    };

    var Color$2 = Color_1;
    var sqrt = Math.sqrt;
    var pow = Math.pow;
    var min = Math.min;
    var max = Math.max;
    var atan2 = Math.atan2;
    var abs = Math.abs;
    var cos = Math.cos;
    var sin = Math.sin;
    var exp = Math.exp;
    var PI = Math.PI;

    var deltaE = function(a, b, Kl, Kc, Kh) {
        if ( Kl === void 0 ) Kl=1;
        if ( Kc === void 0 ) Kc=1;
        if ( Kh === void 0 ) Kh=1;

        // Delta E (CIE 2000)
        // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html
        var rad2deg = function(rad) {
            return 360 * rad / (2 * PI);
        };
        var deg2rad = function(deg) {
            return (2 * PI * deg) / 360;
        };
        a = new Color$2(a);
        b = new Color$2(b);
        var ref = Array.from(a.lab());
        var L1 = ref[0];
        var a1 = ref[1];
        var b1 = ref[2];
        var ref$1 = Array.from(b.lab());
        var L2 = ref$1[0];
        var a2 = ref$1[1];
        var b2 = ref$1[2];
        var avgL = (L1 + L2)/2;
        var C1 = sqrt(pow(a1, 2) + pow(b1, 2));
        var C2 = sqrt(pow(a2, 2) + pow(b2, 2));
        var avgC = (C1 + C2)/2;
        var G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));
        var a1p = a1*(1+G);
        var a2p = a2*(1+G);
        var C1p = sqrt(pow(a1p, 2) + pow(b1, 2));
        var C2p = sqrt(pow(a2p, 2) + pow(b2, 2));
        var avgCp = (C1p + C2p)/2;
        var arctan1 = rad2deg(atan2(b1, a1p));
        var arctan2 = rad2deg(atan2(b2, a2p));
        var h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;
        var h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;
        var avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;
        var T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));
        var deltaHp = h2p - h1p;
        deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;
        deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);
        var deltaL = L2 - L1;
        var deltaCp = C2p - C1p;    
        var sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));
        var sc = 1 + 0.045*avgCp;
        var sh = 1 + 0.015*avgCp*T;
        var deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));
        var Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));
        var Rt = -Rc*sin(2*deg2rad(deltaTheta));
        var result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));
        return max(0, min(100, result));
    };

    var Color$1 = Color_1;

    // simple Euclidean distance
    var distance = function(a, b, mode) {
        if ( mode === void 0 ) mode='lab';

        // Delta E (CIE 1976)
        // see http://www.brucelindbloom.com/index.html?Equations.html
        a = new Color$1(a);
        b = new Color$1(b);
        var l1 = a.get(mode);
        var l2 = b.get(mode);
        var sum_sq = 0;
        for (var i in l1) {
            var d = (l1[i] || 0) - (l2[i] || 0);
            sum_sq += d*d;
        }
        return Math.sqrt(sum_sq);
    };

    var Color = Color_1;

    var valid = function () {
        var args = [], len = arguments.length;
        while ( len-- ) args[ len ] = arguments[ len ];

        try {
            new (Function.prototype.bind.apply( Color, [ null ].concat( args) ));
            return true;
        } catch (e) {
            return false;
        }
    };

    // some pre-defined color scales:
    var chroma$1 = chroma_1;

    var scale = scale$2;

    var scales = {
    	cool: function cool() { return scale([chroma$1.hsl(180,1,.9), chroma$1.hsl(250,.7,.4)]) },
    	hot: function hot() { return scale(['#000','#f00','#ff0','#fff']).mode('rgb') }
    };

    /**
        ColorBrewer colors for chroma.js

        Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The
        Pennsylvania State University.

        Licensed under the Apache License, Version 2.0 (the "License");
        you may not use this file except in compliance with the License.
        You may obtain a copy of the License at
        http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software distributed
        under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
        CONDITIONS OF ANY KIND, either express or implied. See the License for the
        specific language governing permissions and limitations under the License.
    */

    var colorbrewer = {
        // sequential
        OrRd: ['#fff7ec', '#fee8c8', '#fdd49e', '#fdbb84', '#fc8d59', '#ef6548', '#d7301f', '#b30000', '#7f0000'],
        PuBu: ['#fff7fb', '#ece7f2', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0', '#045a8d', '#023858'],
        BuPu: ['#f7fcfd', '#e0ecf4', '#bfd3e6', '#9ebcda', '#8c96c6', '#8c6bb1', '#88419d', '#810f7c', '#4d004b'],
        Oranges: ['#fff5eb', '#fee6ce', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801', '#a63603', '#7f2704'],
        BuGn: ['#f7fcfd', '#e5f5f9', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45', '#006d2c', '#00441b'],
        YlOrBr: ['#ffffe5', '#fff7bc', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02', '#993404', '#662506'],
        YlGn: ['#ffffe5', '#f7fcb9', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443', '#006837', '#004529'],
        Reds: ['#fff5f0', '#fee0d2', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d', '#a50f15', '#67000d'],
        RdPu: ['#fff7f3', '#fde0dd', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e', '#7a0177', '#49006a'],
        Greens: ['#f7fcf5', '#e5f5e0', '#c7e9c0', '#a1d99b', '#74c476', '#41ab5d', '#238b45', '#006d2c', '#00441b'],
        YlGnBu: ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],
        Purples: ['#fcfbfd', '#efedf5', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3', '#54278f', '#3f007d'],
        GnBu: ['#f7fcf0', '#e0f3db', '#ccebc5', '#a8ddb5', '#7bccc4', '#4eb3d3', '#2b8cbe', '#0868ac', '#084081'],
        Greys: ['#ffffff', '#f0f0f0', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252', '#252525', '#000000'],
        YlOrRd: ['#ffffcc', '#ffeda0', '#fed976', '#feb24c', '#fd8d3c', '#fc4e2a', '#e31a1c', '#bd0026', '#800026'],
        PuRd: ['#f7f4f9', '#e7e1ef', '#d4b9da', '#c994c7', '#df65b0', '#e7298a', '#ce1256', '#980043', '#67001f'],
        Blues: ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'],
        PuBuGn: ['#fff7fb', '#ece2f0', '#d0d1e6', '#a6bddb', '#67a9cf', '#3690c0', '#02818a', '#016c59', '#014636'],
        Viridis: ['#440154', '#482777', '#3f4a8a', '#31678e', '#26838f', '#1f9d8a', '#6cce5a', '#b6de2b', '#fee825'],

        // diverging

        Spectral: ['#9e0142', '#d53e4f', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#e6f598', '#abdda4', '#66c2a5', '#3288bd', '#5e4fa2'],
        RdYlGn: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee08b', '#ffffbf', '#d9ef8b', '#a6d96a', '#66bd63', '#1a9850', '#006837'],
        RdBu: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#f7f7f7', '#d1e5f0', '#92c5de', '#4393c3', '#2166ac', '#053061'],
        PiYG: ['#8e0152', '#c51b7d', '#de77ae', '#f1b6da', '#fde0ef', '#f7f7f7', '#e6f5d0', '#b8e186', '#7fbc41', '#4d9221', '#276419'],
        PRGn: ['#40004b', '#762a83', '#9970ab', '#c2a5cf', '#e7d4e8', '#f7f7f7', '#d9f0d3', '#a6dba0', '#5aae61', '#1b7837', '#00441b'],
        RdYlBu: ['#a50026', '#d73027', '#f46d43', '#fdae61', '#fee090', '#ffffbf', '#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695'],
        BrBG: ['#543005', '#8c510a', '#bf812d', '#dfc27d', '#f6e8c3', '#f5f5f5', '#c7eae5', '#80cdc1', '#35978f', '#01665e', '#003c30'],
        RdGy: ['#67001f', '#b2182b', '#d6604d', '#f4a582', '#fddbc7', '#ffffff', '#e0e0e0', '#bababa', '#878787', '#4d4d4d', '#1a1a1a'],
        PuOr: ['#7f3b08', '#b35806', '#e08214', '#fdb863', '#fee0b6', '#f7f7f7', '#d8daeb', '#b2abd2', '#8073ac', '#542788', '#2d004b'],

        // qualitative

        Set2: ['#66c2a5', '#fc8d62', '#8da0cb', '#e78ac3', '#a6d854', '#ffd92f', '#e5c494', '#b3b3b3'],
        Accent: ['#7fc97f', '#beaed4', '#fdc086', '#ffff99', '#386cb0', '#f0027f', '#bf5b17', '#666666'],
        Set1: ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'],
        Set3: ['#8dd3c7', '#ffffb3', '#bebada', '#fb8072', '#80b1d3', '#fdb462', '#b3de69', '#fccde5', '#d9d9d9', '#bc80bd', '#ccebc5', '#ffed6f'],
        Dark2: ['#1b9e77', '#d95f02', '#7570b3', '#e7298a', '#66a61e', '#e6ab02', '#a6761d', '#666666'],
        Paired: ['#a6cee3', '#1f78b4', '#b2df8a', '#33a02c', '#fb9a99', '#e31a1c', '#fdbf6f', '#ff7f00', '#cab2d6', '#6a3d9a', '#ffff99', '#b15928'],
        Pastel2: ['#b3e2cd', '#fdcdac', '#cbd5e8', '#f4cae4', '#e6f5c9', '#fff2ae', '#f1e2cc', '#cccccc'],
        Pastel1: ['#fbb4ae', '#b3cde3', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#e5d8bd', '#fddaec', '#f2f2f2'],
    };

    // add lowercase aliases for case-insensitive matches
    for (var i = 0, list = Object.keys(colorbrewer); i < list.length; i += 1) {
        var key = list[i];

        colorbrewer[key.toLowerCase()] = colorbrewer[key];
    }

    var colorbrewer_1 = colorbrewer;

    var chroma = chroma_1;

    // feel free to comment out anything to rollup
    // a smaller chroma.js built

    // io --> convert colors

















    // operators --> modify existing Colors










    // interpolators












    // generators -- > create new colors
    chroma.average = average;
    chroma.bezier = bezier_1;
    chroma.blend = blend_1;
    chroma.cubehelix = cubehelix;
    chroma.mix = chroma.interpolate = mix$1;
    chroma.random = random_1;
    chroma.scale = scale$2;

    // other utility methods
    chroma.analyze = analyze_1.analyze;
    chroma.contrast = contrast;
    chroma.deltaE = deltaE;
    chroma.distance = distance;
    chroma.limits = analyze_1.limits;
    chroma.valid = valid;

    // scale
    chroma.scales = scales;

    // colors
    chroma.colors = w3cx11_1;
    chroma.brewer = colorbrewer_1;

    var chroma_js = chroma;

    return chroma_js;

}));


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./app.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixJQUFJLEVBQUUsQ0FBQztNQUNQLElBQUksRUFBRTtJQUNSLENBQUM7RUFDSDs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxXQUFXRixhQUFhQSxDQUFBLEVBQUc7SUFDekIsT0FBTztNQUNMLEdBQUcsRUFBRSxDQUFDO01BQ04sSUFBSSxFQUFFLENBQUM7TUFDUCxJQUFJLEVBQUUsQ0FBQztNQUNQLElBQUksRUFBRSxDQUFDO01BQ1AsR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLEdBQUcsRUFBRSxFQUFFO01BQ1AsR0FBRyxFQUFFLEVBQUU7TUFDUCxHQUFHLEVBQUUsRUFBRTtNQUNQLEdBQUcsRUFBRSxFQUFFO01BQ1AsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLEdBQUcsRUFBRSxFQUFFO01BQ1AsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixHQUFHLEVBQUUsRUFBRTtNQUNQLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxHQUFHO01BQ1QsSUFBSSxFQUFFLEdBQUc7TUFDVCxJQUFJLEVBQUUsR0FBRztNQUNULElBQUksRUFBRSxHQUFHO01BQ1QsSUFBSSxFQUFFLEdBQUc7TUFDVCxJQUFJLEVBQUUsR0FBRztNQUNULElBQUksRUFBRSxHQUFHO01BQ1QsSUFBSSxFQUFFLEdBQUc7TUFDVCxJQUFJLEVBQUUsR0FBRztNQUNULElBQUksRUFBRSxHQUFHO01BQ1QsSUFBSSxFQUFFLEdBQUc7TUFDVCxJQUFJLEVBQUUsR0FBRztNQUNULElBQUksRUFBRSxHQUFHO01BQ1QsS0FBSyxFQUFFLEdBQUc7TUFDVixLQUFLLEVBQUUsR0FBRztNQUNWLEtBQUssRUFBRSxHQUFHO01BQ1YsS0FBSyxFQUFFLEdBQUc7TUFDVixLQUFLLEVBQUUsR0FBRztNQUNWLEtBQUssRUFBRTtJQUNULENBQUM7RUFDSDs7RUFFQTtBQUNGO0FBQ0E7RUFDRSxXQUFXRyxJQUFJQSxDQUFBLEVBQUc7SUFDaEIsT0FBTztNQUNMLEdBQUcsRUFBRSxDQUFDO01BQ04sSUFBSSxFQUFFLENBQUM7TUFDUCxJQUFJLEVBQUUsQ0FBQztNQUNQLElBQUksRUFBRSxDQUFDO01BQ1AsR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sR0FBRyxFQUFFLENBQUM7TUFDTixHQUFHLEVBQUUsQ0FBQztNQUNOLEdBQUcsRUFBRSxDQUFDO01BQ04sSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLEdBQUcsRUFBRSxFQUFFO01BQ1AsR0FBRyxFQUFFLEVBQUU7TUFDUCxHQUFHLEVBQUUsRUFBRTtNQUNQLEdBQUcsRUFBRSxFQUFFO01BQ1AsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLEdBQUcsRUFBRSxFQUFFO01BQ1AsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixHQUFHLEVBQUUsRUFBRTtNQUNQLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsR0FBRyxFQUFFLEVBQUU7TUFDUCxJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01BQ1IsSUFBSSxFQUFFLEVBQUU7TUFDUixJQUFJLEVBQUUsRUFBRTtNQUNSLElBQUksRUFBRSxFQUFFO01B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LEVBQUUsU0FBUztVQUNaQyxVQUFVLEVBQUU7UUFDZCxDQUFDO1FBQ0QsUUFBUSxFQUFFO1VBQ1JYLENBQUMsRUFBRSxTQUFTO1VBQ1poVyxDQUFDLEVBQUUsU0FBUztVQUNaaVcsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsVUFBVSxFQUFFO1FBQ2QsQ0FBQztRQUNELFFBQVEsRUFBRTtVQUNSWCxDQUFDLEVBQUUsU0FBUztVQUNaaFcsQ0FBQyxFQUFFLFNBQVM7VUFDWmlXLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLEVBQUUsRUFBRSxTQUFTO1VBQ2JDLEVBQUUsRUFBRSxTQUFTO1VBQ2JDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLEVBQUUsRUFBRSxTQUFTO1VBQ2JDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLFVBQVUsRUFBRTtRQUNkLENBQUM7UUFDRCxXQUFXLEVBQUU7VUFDWFgsQ0FBQyxFQUFFLFNBQVM7VUFDWmhXLENBQUMsRUFBRSxTQUFTO1VBQ1ppVyxDQUFDLEVBQUUsU0FBUztVQUNaQyxDQUFDLEVBQUUsU0FBUztVQUNaQyxFQUFFLEVBQUUsU0FBUztVQUNiQyxFQUFFLEVBQUUsU0FBUztVQUNiQyxDQUFDLEVBQUUsU0FBUztVQUNaQyxDQUFDLEVBQUUsU0FBUztVQUNaQyxDQUFDLEVBQUUsU0FBUztVQUNaQyxDQUFDLEVBQUUsU0FBUztVQUNaQyxFQUFFLEVBQUUsU0FBUztVQUNiQyxDQUFDLEVBQUUsU0FBUztVQUNaQyxVQUFVLEVBQUU7UUFDZCxDQUFDO1FBQ0QsU0FBUyxFQUFFO1VBQ1RYLENBQUMsRUFBRSxTQUFTO1VBQ1poVyxDQUFDLEVBQUUsU0FBUztVQUNaaVcsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsVUFBVSxFQUFFO1FBQ2QsQ0FBQztRQUNELGNBQWMsRUFBRTtVQUNkWCxDQUFDLEVBQUUsU0FBUztVQUNaaFcsQ0FBQyxFQUFFLFNBQVM7VUFDWmlXLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLEVBQUUsRUFBRSxTQUFTO1VBQ2JDLEVBQUUsRUFBRSxTQUFTO1VBQ2JDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLEVBQUUsRUFBRSxTQUFTO1VBQ2JDLENBQUMsRUFBRSxTQUFTO1VBQ1pDLFVBQVUsRUFBRTtRQUNkLENBQUM7UUFDREcsTUFBTSxFQUFFO1VBQ05kLENBQUMsRUFBRSxNQUFNO1VBQ1RoVyxDQUFDLEVBQUUsU0FBUztVQUNaaVcsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsQ0FBQyxFQUFFLFNBQVM7VUFDWkMsRUFBRSxFQUFFLFNBQVM7VUFDYkMsQ0FBQyxFQUFFLE1BQU07VUFDVEMsVUFBVSxFQUFFO1FB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Q0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBOztBQUVBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxRUFBcUU7QUFDckU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5Q0FBeUM7QUFDekMseUNBQXlDOztBQUV6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFvRCxpQkFBaUI7QUFDckU7O0FBRUEscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FB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aXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vYXBwLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9BcnJheUhlbHBlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvQXRvbS5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvQ2FudmFzV3JhcHBlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvRHJhd2VyLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9EcmF3ZXJCYXNlLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9FZGdlLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9Gb3JtdWxhVG9Db21tb25OYW1lLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9HYXVzc0RyYXdlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvR3JhcGguanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL0xpbmUuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL01hdGhIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL09wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1BhcnNlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvUGl4ZWxzVG9TdmcuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1JlYWN0aW9uLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9SZWFjdGlvbkRyYXdlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvUmVhY3Rpb25QYXJzZXIuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1JpbmcuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1JpbmdDb25uZWN0aW9uLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9TU1NSLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9TbWlsZXNEcmF3ZXIuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vc3JjL1N2Z0RyYXdlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvU3ZnV3JhcHBlci5qcyIsIndlYnBhY2s6Ly9TbWlsZXNEcmF3ZXIvLi9zcmMvVGhlbWVNYW5hZ2VyLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9VdGlsaXR5RnVuY3Rpb25zLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9WZWN0b3IyLmpzIiwid2VicGFjazovL1NtaWxlc0RyYXdlci8uL3NyYy9WZXJ0ZXguanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyLy4vbm9kZV9tb2R1bGVzL2Nocm9tYS1qcy9jaHJvbWEuanMiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1NtaWxlc0RyYXdlci93ZWJwYWNrL2JlZm9yZS1zdGFydHVwIiwid2VicGFjazovL1NtaWxlc0RyYXdlci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vU21pbGVzRHJhd2VyL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTbWlsZXNEcmF3ZXJcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiU21pbGVzRHJhd2VyXCJdID0gZmFjdG9yeSgpO1xufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsIi8vQHRzLWNoZWNrXHJcbmNvbnN0IERyYXdlciA9IHJlcXVpcmUoJy4vc3JjL0RyYXdlcicpXHJcbmNvbnN0IFBhcnNlciA9IHJlcXVpcmUoJy4vc3JjL1BhcnNlcicpXHJcbmNvbnN0IFJlYWN0aW9uUGFyc2VyID0gcmVxdWlyZSgnLi9zcmMvUmVhY3Rpb25QYXJzZXInKVxyXG5jb25zdCBTdmdEcmF3ZXIgPSByZXF1aXJlKCcuL3NyYy9TdmdEcmF3ZXInKVxyXG5jb25zdCBSZWFjdGlvbkRyYXdlciA9IHJlcXVpcmUoJy4vc3JjL1JlYWN0aW9uRHJhd2VyJylcclxuY29uc3QgU21pRHJhd2VyID0gcmVxdWlyZSgnLi9zcmMvU21pbGVzRHJhd2VyJylcclxuY29uc3QgR2F1c3NEcmF3ZXIgPSByZXF1aXJlKCcuL3NyYy9HYXVzc0RyYXdlcicpXHJcblxyXG4vLyBEZXRlY3QgU1NSIChzZXJ2ZXIgc2lkZSByZW5kZXJpbmcpXHJcbnZhciBjYW5Vc2VET00gPSAhIShcclxuICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudClcclxuKTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgU21pbGVzRHJhd2VyIG5hbWVzcGFjZS5cclxuICogQHR5cGljYWxuYW1lIFNtaWxlc0RyYXdlclxyXG4gKi9cclxudmFyIFNtaWxlc0RyYXdlciA9IHtcclxuICBWZXJzaW9uOiAnMS4wLjAnXHJcbn07XHJcblxyXG5TbWlsZXNEcmF3ZXIuRHJhd2VyID0gRHJhd2VyO1xyXG5TbWlsZXNEcmF3ZXIuUGFyc2VyID0gUGFyc2VyO1xyXG5TbWlsZXNEcmF3ZXIuU3ZnRHJhd2VyID0gU3ZnRHJhd2VyO1xyXG5cclxuU21pbGVzRHJhd2VyLlJlYWN0aW9uRHJhd2VyID0gUmVhY3Rpb25EcmF3ZXI7XHJcblNtaWxlc0RyYXdlci5SZWFjdGlvblBhcnNlciA9IFJlYWN0aW9uUGFyc2VyO1xyXG5TbWlsZXNEcmF3ZXIuR2F1c3NEcmF3ZXIgPSBHYXVzc0RyYXdlcjtcclxuXHJcbi8qKlxyXG4qIENsZWFucyBhIFNNSUxFUyBzdHJpbmcgKHJlbW92ZXMgbm9uLXZhbGlkIGNoYXJhY3RlcnMpXHJcbipcclxuKiBAc3RhdGljXHJcbiogQHBhcmFtIHtTdHJpbmd9IHNtaWxlcyBBIFNNSUxFUyBzdHJpbmcuXHJcbiogQHJldHVybnMge1N0cmluZ30gVGhlIGNsZWFuIFNNSUxFUyBzdHJpbmcuXHJcbiovXHJcblNtaWxlc0RyYXdlci5jbGVhbiA9IGZ1bmN0aW9uIChzbWlsZXMpIHtcclxuICByZXR1cm4gc21pbGVzLnJlcGxhY2UoL1teQS1aYS16MC05QFxcLlxcK1xcLVxcPyFcXChcXClcXFtcXF1cXHtcXH0vXFxcXD0jXFwkOlxcKl0vZywgJycpO1xyXG59XHJcblxyXG4vKipcclxuKiBBcHBsaWVzIHRoZSBzbWlsZXMgZHJhd2VyIGRyYXcgZnVuY3Rpb24gdG8gZWFjaCBjYW52YXMgZWxlbWVudCB0aGF0IGhhcyBhIHNtaWxlcyBzdHJpbmcgaW4gdGhlIGRhdGEtc21pbGVzIGF0dHJpYnV0ZS5cclxuKlxyXG4qIEBzdGF0aWNcclxuKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBTbWlsZXNEcmF3ZXIgb3B0aW9ucy5cclxuKiBAcGFyYW0ge1N0cmluZ30gW3NlbGVjdG9yPSdjYW52YXNbZGF0YS1zbWlsZXNdJ10gU2VsZWN0b3JzIGZvciB0aGUgZHJhdyBhcmVhcyAoY2FudmFzIGVsZW1lbnRzKS5cclxuKiBAcGFyYW0ge1N0cmluZ30gW3RoZW1lTmFtZT0nbGlnaHQnXSBUaGUgdGhlbWUgdG8gYXBwbHkuXHJcbiogQHBhcmFtIHtGdW5jdGlvbn0gW29uRXJyb3I9J251bGwnXSBBIGNhbGxiYWNrIGZ1bmN0aW9uIHByb3ZpZGluZyBhbiBlcnJvciBvYmplY3QuXHJcbiovXHJcblNtaWxlc0RyYXdlci5hcHBseSA9IGZ1bmN0aW9uIChvcHRpb25zLCBzZWxlY3RvciA9ICdjYW52YXNbZGF0YS1zbWlsZXNdJywgdGhlbWVOYW1lID0gJ2xpZ2h0Jywgb25FcnJvciA9IG51bGwpIHtcclxuICBsZXQgc21pbGVzRHJhd2VyID0gbmV3IERyYXdlcihvcHRpb25zKTtcclxuICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcclxuXHJcbiAgICBTbWlsZXNEcmF3ZXIucGFyc2UoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzJyksIGZ1bmN0aW9uICh0cmVlKSB7XHJcbiAgICAgIHNtaWxlc0RyYXdlci5kcmF3KHRyZWUsIGVsZW1lbnQsIHRoZW1lTmFtZSwgZmFsc2UpO1xyXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgIG9uRXJyb3IoZXJyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuKiBQYXJzZXMgdGhlIGVudGVyZWQgc21pbGVzIHN0cmluZy5cclxuKiBcclxuKiBAc3RhdGljXHJcbiogQHBhcmFtIHtTdHJpbmd9IHNtaWxlcyBBIFNNSUxFUyBzdHJpbmcuXHJcbiogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2Vzc0NhbGxiYWNrIEEgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgb24gc3VjY2VzcyB3aXRoIHRoZSBwYXJzZSB0cmVlLlxyXG4qIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aXRoIHRoZSBlcnJvciBvYmplY3Qgb24gZXJyb3IuXHJcbiovXHJcblNtaWxlc0RyYXdlci5wYXJzZSA9IGZ1bmN0aW9uIChzbWlsZXMsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgIHN1Y2Nlc3NDYWxsYmFjayhQYXJzZXIucGFyc2Uoc21pbGVzKSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xyXG4gICAgICBlcnJvckNhbGxiYWNrKGVycik7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuKiBQYXJzZXMgdGhlIGVudGVyZWQgcmVhY3Rpb24gc21pbGVzIHN0cmluZy5cclxuKiBcclxuKiBAc3RhdGljXHJcbiogQHBhcmFtIHtTdHJpbmd9IHJlYWN0aW9uU21pbGVzIEEgcmVhY3Rpb24gU01JTEVTIHN0cmluZy5cclxuKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWNjZXNzQ2FsbGJhY2sgQSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCBvbiBzdWNjZXNzIHdpdGggdGhlIHBhcnNlIHRyZWUuXHJcbiogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3JDYWxsYmFjayBBIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdpdGggdGhlIGVycm9yIG9iamVjdCBvbiBlcnJvci5cclxuKi9cclxuU21pbGVzRHJhd2VyLnBhcnNlUmVhY3Rpb24gPSBmdW5jdGlvbiAocmVhY3Rpb25TbWlsZXMsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xyXG4gIHRyeSB7XHJcbiAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgIHN1Y2Nlc3NDYWxsYmFjayhSZWFjdGlvblBhcnNlci5wYXJzZShyZWFjdGlvblNtaWxlcykpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgZXJyb3JDYWxsYmFjayhlcnIpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuaWYgKGNhblVzZURPTSkge1xyXG4gIHdpbmRvdy5TbWlsZXNEcmF3ZXIgPSBTbWlsZXNEcmF3ZXI7XHJcbiAgd2luZG93LlNtaURyYXdlciA9IFNtaURyYXdlcjtcclxufVxyXG5cclxuLy8gQXR0YWNoIFNtaURyYXdlciB0byBTbWlsZXNEcmF3ZXIgZm9yIG5wbSBpbXBvcnRzXHJcblNtaWxlc0RyYXdlci5TbWlEcmF3ZXIgPSBTbWlEcmF3ZXI7XHJcblxyXG4vLyBUaGVyZSBiZSBkcmFnb25zIChwb2x5ZmlsbHMpXHJcblxyXG5pZiAoIUFycmF5LnByb3RvdHlwZS5maWxsKSB7XHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgJ2ZpbGwnLCB7XHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcblxyXG4gICAgICAvLyBTdGVwcyAxLTIuXHJcbiAgICAgIGlmICh0aGlzID09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIE8gPSBPYmplY3QodGhpcyk7XHJcblxyXG4gICAgICAvLyBTdGVwcyAzLTUuXHJcbiAgICAgIHZhciBsZW4gPSBPLmxlbmd0aCA+Pj4gMDtcclxuXHJcbiAgICAgIC8vIFN0ZXBzIDYtNy5cclxuICAgICAgdmFyIHN0YXJ0ID0gYXJndW1lbnRzWzFdO1xyXG4gICAgICB2YXIgcmVsYXRpdmVTdGFydCA9IHN0YXJ0ID4+IDA7XHJcblxyXG4gICAgICAvLyBTdGVwIDguXHJcbiAgICAgIHZhciBrID0gcmVsYXRpdmVTdGFydCA8IDAgP1xyXG4gICAgICAgIE1hdGgubWF4KGxlbiArIHJlbGF0aXZlU3RhcnQsIDApIDpcclxuICAgICAgICBNYXRoLm1pbihyZWxhdGl2ZVN0YXJ0LCBsZW4pO1xyXG5cclxuICAgICAgLy8gU3RlcHMgOS0xMC5cclxuICAgICAgdmFyIGVuZCA9IGFyZ3VtZW50c1syXTtcclxuICAgICAgdmFyIHJlbGF0aXZlRW5kID0gZW5kID09PSB1bmRlZmluZWQgP1xyXG4gICAgICAgIGxlbiA6IGVuZCA+PiAwO1xyXG5cclxuICAgICAgLy8gU3RlcCAxMS5cclxuICAgICAgdmFyIGZpbmFsID0gcmVsYXRpdmVFbmQgPCAwID9cclxuICAgICAgICBNYXRoLm1heChsZW4gKyByZWxhdGl2ZUVuZCwgMCkgOlxyXG4gICAgICAgIE1hdGgubWluKHJlbGF0aXZlRW5kLCBsZW4pO1xyXG5cclxuICAgICAgLy8gU3RlcCAxMi5cclxuICAgICAgd2hpbGUgKGsgPCBmaW5hbCkge1xyXG4gICAgICAgIE9ba10gPSB2YWx1ZTtcclxuICAgICAgICBrKys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFN0ZXAgMTMuXHJcbiAgICAgIHJldHVybiBPO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFNtaWxlc0RyYXdlcjsiLCIvL0B0cy1jaGVja1xyXG4vKiogXHJcbiAqIEEgc3RhdGljIGNsYXNzIGNvbnRhaW5pbmcgaGVscGVyIGZ1bmN0aW9ucyBmb3IgYXJyYXktcmVsYXRlZCB0YXNrcy4gXHJcbiAqL1xyXG5jbGFzcyBBcnJheUhlbHBlciB7XHJcbiAgICAvKipcclxuICAgICAqIENsb25lIGFuIGFycmF5IG9yIGFuIG9iamVjdC4gSWYgYW4gb2JqZWN0IGlzIHBhc3NlZCwgYSBzaGFsbG93IGNsb25lIHdpbGwgYmUgY3JlYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0geyp9IGFyciBUaGUgYXJyYXkgb3Igb2JqZWN0IHRvIGJlIGNsb25lZC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBIGNsb25lIG9mIHRoZSBhcnJheSBvciBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjbG9uZShhcnIpIHtcclxuICAgICAgICBsZXQgb3V0ID0gQXJyYXkuaXNBcnJheShhcnIpID8gQXJyYXkoKSA6IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gYXJyKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGFycltrZXldO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZS5jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgb3V0W2tleV0gPSB2YWx1ZS5jbG9uZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0W2tleV0gPSAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgPyBBcnJheUhlbHBlci5jbG9uZSh2YWx1ZSkgOiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHR3byBhcnJheXMgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cy5cclxuICAgICAqIE9ubHkgc3VwcG9ydHMgMWQsIG5vbi1uZXN0ZWQgYXJyYXlzLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyckEgQW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJCIEFuIGFycmF5LlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB0d28gYXJyYXlzIGNvbnRhaW4gdGhlIHNhbWUgZWxlbWVudHMuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBlcXVhbHMoYXJyQSwgYXJyQikge1xyXG4gICAgICAgIGlmIChhcnJBLmxlbmd0aCAhPT0gYXJyQi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRtcEEgPSBhcnJBLnNsaWNlKCkuc29ydCgpO1xyXG4gICAgICAgIGxldCB0bXBCID0gYXJyQi5zbGljZSgpLnNvcnQoKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0bXBBLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0bXBBW2ldICE9PSB0bXBCW2ldKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBhcnJheS4gSWYgdGhlIGFycmF5IGNvbnRhaW5zIG9iamVjdHMgd2l0aCBhbiBpZCBwcm9wZXJ0eSwgdGhlIGlkIHByb3BlcnR5IGlzIHByaW50ZWQgZm9yIGVhY2ggb2YgdGhlIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGFyciBBbiBhcnJheS5cclxuICAgICAqIEBwYXJhbSB7Kn0gYXJyW10uaWQgSWYgdGhlIGFycmF5IGNvbnRhaW5zIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0eSAnaWQnLCB0aGUgcHJvcGVydGllcyB2YWx1ZSBpcyBwcmludGVkLiBFbHNlLCB0aGUgYXJyYXkgZWxlbWVudHMgdmFsdWUgaXMgcHJpbnRlbmQuXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwcmludChhcnIpIHtcclxuICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzID0gJygnO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzICs9IGFycltpXS5pZCA/IGFycltpXS5pZCArICcsICcgOiBhcnJbaV0gKyAnLCAnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIHMubGVuZ3RoIC0gMik7XHJcblxyXG4gICAgICAgIHJldHVybiBzICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUnVuIGEgZnVuY3Rpb24gZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkuIFRoZSBlbGVtZW50IGlzIHN1cHBsaWVkIGFzIGFuIGFyZ3VtZW50IGZvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIgQW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGVhY2goYXJyLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGFycltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBhcnJheSBlbGVtZW50IGZyb20gYW4gYXJyYXkgY29udGFpbmluZyBvYmplY3RzLCB3aGVyZSBhIHByb3BlcnR5IG9mIHRoZSBvYmplY3QgaXMgc2V0IHRvIGEgZ2l2ZW4gdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyIEFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfE51bWJlcil9IHByb3BlcnR5IEEgcHJvcGVydHkgY29udGFpbmVkIHdpdGhpbiBhbiBvYmplY3QgaW4gdGhlIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfE51bWJlcil9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGFycmF5IGVsZW1lbnQgbWF0Y2hpbmcgdGhlIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0KGFyciwgcHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycltpXVtwcm9wZXJ0eV0gPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgYW4gYXJyYXkgY29udGFpbnMgYSBnaXZlbiB2YWx1ZS4gdGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCBhcyBhIHNlY29uZCBhcmd1bWVudCBjYW4gY29udGFpbiB0aHJlZSBwcm9wZXJ0aWVzLiB2YWx1ZTogVGhlIHZhbHVlIHRvIGJlIHNlYXJjaGVkIGZvci4gcHJvcGVydHk6IFRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRvIGJlIHNlYXJjaGVkIGZvciBhIGdpdmVuIHZhbHVlLiBmdW5jOiBBIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCBhcyBhIGNhbGxiYWNrIHRvIHJldHVybiBlaXRoZXIgdHJ1ZSBvciBmYWxzZSBpbiBvcmRlciB0byBkbyBhIGN1c3RvbSBjb21wYXJpc29uLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyciBBbiBhcnJheS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFNlZSBtZXRob2QgZGVzY3JpcHRpb24uXHJcbiAgICAgKiBAcGFyYW0geyp9IG9wdGlvbnMudmFsdWUgVGhlIHZhbHVlIGZvciB3aGljaCB0byBjaGVjay5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wcm9wZXJ0eT11bmRlZmluZWRdIFRoZSBwcm9wZXJ0eSBvbiB3aGljaCB0byBjaGVjay5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmZ1bmM9dW5kZWZpbmVkXSBBIGN1c3RvbSBwcm9wZXJ0eSBmdW5jdGlvbi5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gd2hldGhlciBvciBub3QgdGhlIGFycmF5IGNvbnRhaW5zIGEgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjb250YWlucyhhcnIsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnMucHJvcGVydHkgJiYgIW9wdGlvbnMuZnVuYykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltpXSA9PSBvcHRpb25zLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZnVuYykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZnVuYyhhcnJbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFycltpXVtvcHRpb25zLnByb3BlcnR5XSA9PSBvcHRpb25zLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIGFycmF5cy4gVGhhdCBpcywgdmFsdWVzIHRoYXQgYXJlIGNvbW1vbiB0byBib3RoIGFycmF5cy5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJBIEFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyQiBBbiBhcnJheS5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGludGVyc2VjdGluZyB2bGF1ZXMuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpbnRlcnNlY3Rpb24oYXJyQSwgYXJyQikge1xyXG4gICAgICAgIGxldCBpbnRlcnNlY3Rpb24gPSBuZXcgQXJyYXkoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJBLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyQi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyckFbaV0gPT09IGFyckJbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb24ucHVzaChhcnJBW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdW5pcXVlIGVsZW1lbnRzIGNvbnRhaW5lZCBpbiBhbiBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIgQW4gYXJyYXkuXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IG9mIHVuaXF1ZSBlbGVtZW50cyBjb250YWluZWQgd2l0aGluIHRoZSBhcnJheSBzdXBwbGllZCBhcyBhbiBhcmd1bWVudC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHVuaXF1ZShhcnIpIHtcclxuICAgICAgICBsZXQgY29udGFpbnMgPSB7fTtcclxuICAgICAgICByZXR1cm4gYXJyLmZpbHRlcihmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAvLyB1c2luZyAhPT0gaW5zdGVhZCBvZiBoYXNPd25Qcm9wZXJ0eSAoaHR0cDovL2FuZHJldy5oZWRnZXMubmFtZS9leHBlcmltZW50cy9pbi8pXHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluc1tpXSAhPT0gdW5kZWZpbmVkID8gZmFsc2UgOiAoY29udGFpbnNbaV0gPSB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvdW50IHRoZSBudW1iZXIgb2Ygb2NjdXJlbmNlcyBvZiBhIHZhbHVlIGluIGFuIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyciBBbiBhcnJheS5cclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQSB2YWx1ZSB0byBiZSBjb3VudGVkLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBvY2N1cmVuY2VzIG9mIGEgdmFsdWUgaW4gdGhlIGFycmF5LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY291bnQoYXJyLCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBjb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJbaV0gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGVzIHRoZSB2YWx1ZSBvZiBhbiBhcnJheS4gSWYgYSB2YWx1ZSBpcyBub3QgY29udGFpbmVkIGluIGFuIGFycmF5LCB0aGUgYXJyYXkgcmV0dXJuZWQgd2lsbCBjb250YWluIGFsbCB0aGUgdmFsdWVzIG9mIHRoZSBvcmlnaW5hbCBhcnJheSBpbmNsdWRpbmcgdGhlIHZhbHVlLiBJZiBhIHZhbHVlIGlzIGNvbnRhaW5lZCBpbiBhbiBhcnJheSwgdGhlIGFycmF5IHJldHVybmVkIHdpbGwgY29udGFpbiBhbGwgdGhlIHZhbHVlcyBvZiB0aGUgb3JpZ2luYWwgYXJyYXkgZXhjbHVkaW5nIHRoZSB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIgQW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEEgdmFsdWUgdG8gYmUgdG9nZ2xlZC5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHRvZ2dsZWQgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB0b2dnbGUoYXJyLCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBuZXdBcnIgPSBBcnJheSgpO1xyXG5cclxuICAgICAgICBsZXQgcmVtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIERvIG5vdCBjb3B5IHZhbHVlIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICBpZiAoYXJyW2ldICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbmV3QXJyLnB1c2goYXJyW2ldKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IHdhcyBub3QgY29waWVkIHRvIHRoZSBuZXcgYXJyYXksIHdoaWNoXHJcbiAgICAgICAgICAgICAgICAvLyBtZWFucyBpdCB3YXMgcmVtb3ZlZFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBlbGVtZW50IHdhcyBub3QgcmVtb3ZlZCwgdGhlbiBpdCB3YXMgbm90IGluIHRoZSBhcnJheVxyXG4gICAgICAgIC8vIHNvIGFkZCBpdFxyXG4gICAgICAgIGlmICghcmVtb3ZlZCkge1xyXG4gICAgICAgICAgICBuZXdBcnIucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3QXJyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgdmFsdWUgZnJvbSBhbiBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIgQW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEEgdmFsdWUgdG8gYmUgcmVtb3ZlZC5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgd2l0aCB0aGUgZWxlbWVudCB3aXRoIGEgZ2l2ZW4gdmFsdWUgcmVtb3ZlZC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlbW92ZShhcnIsIHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IHRtcCA9IEFycmF5KCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJbaV0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0bXAucHVzaChhcnJbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdG1wO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgdmFsdWUgZnJvbSBhbiBhcnJheSB3aXRoIHVuaXF1ZSB2YWx1ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyIEFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBIHZhbHVlIHRvIGJlIHJlbW92ZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFuIGFycmF5IHdpdGggdGhlIGVsZW1lbnQgd2l0aCBhIGdpdmVuIHZhbHVlIHJlbW92ZWQuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZW1vdmVVbmlxdWUoYXJyLCB2YWx1ZSkge1xyXG4gICAgICAgIGxldCBpbmRleCA9IGFyci5pbmRleE9mKHZhbHVlKTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGFsbCBlbGVtZW50cyBjb250YWluZWQgaW4gb25lIGFycmF5IGZyb20gYW5vdGhlciBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJBIFRoZSBhcnJheSB0byBiZSBmaWx0ZXJlZC5cclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyckIgVGhlIGFycmF5IGNvbnRhaW5pbmcgZWxlbWVudHMgdGhhdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgb3RoZXIgYXJyYXkuXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBmaWx0ZXJlZCBhcnJheS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlbW92ZUFsbChhcnJBLCBhcnJCKSB7XHJcbiAgICAgICAgcmV0dXJuIGFyckEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJCLmluZGV4T2YoaXRlbSkgPT09IC0xO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2VzIHR3byBhcnJheXMgYW5kIHJldHVybnMgdGhlIHJlc3VsdC4gVGhlIGZpcnN0IGFycmF5IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIHNlY29uZCBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJBIEFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyQiBBbiBhcnJheS5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG1lcmdlZCBhcnJheS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIG1lcmdlKGFyckEsIGFyckIpIHtcclxuICAgICAgICBsZXQgYXJyID0gbmV3IEFycmF5KGFyckEubGVuZ3RoICsgYXJyQi5sZW5ndGgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyckEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXJyW2ldID0gYXJyQVtpXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyQi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhcnJbYXJyQS5sZW5ndGggKyBpXSA9IGFyckJbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGFuIGFycmF5IGNvbnRhaW5zIGFsbCB0aGUgZWxlbWVudHMgb2YgYW5vdGhlciBhcnJheSwgd2l0aG91dCByZWdhcmQgdG8gdGhlIG9yZGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyckEgQW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJCIEFuIGFycmF5LlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IGJvdGggYXJyYXkgY29udGFpbiB0aGUgc2FtZSBlbGVtZW50cy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNvbnRhaW5zQWxsKGFyckEsIGFyckIpIHtcclxuICAgICAgICBsZXQgY29udGFpbmluZyA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJBLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyQi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyckFbaV0gPT09IGFyckJbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluaW5nKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb250YWluaW5nID09PSBhcnJCLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNvcnQgYW4gYXJyYXkgb2YgYXRvbWljIG51bWJlciBpbmZvcm1hdGlvbi4gV2hlcmUgdGhlIG51bWJlciBpcyBpbmRpY2F0ZWQgYXMgeCwgeC55LCB4LnkueiwgLi4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gYXJyIEFuIGFycmF5IG9mIHZlcnRleCBpZHMgd2l0aCB0aGVpciBhc3NvY2lhdGVkIGF0b21pYyBudW1iZXJzLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFycltdLnZlcnRleElkIEEgdmVydGV4IGlkLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFycltdLmF0b21pY051bWJlciBUaGUgYXRvbWljIG51bWJlciBhc3NvY2lhdGVkIHdpdGggdGhlIHZlcnRleCBpZC5cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3RbXX0gVGhlIGFycmF5IHNvcnRlZCBieSBhdG9taWMgbnVtYmVyLiBFeGFtcGxlIG9mIGFuIGFycmF5IGVudHJ5OiB7IGF0b21pY051bWJlcjogMiwgdmVydGV4SWQ6IDUgfS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNvcnRCeUF0b21pY051bWJlckRlc2MoYXJyKSB7XHJcbiAgICAgICAgbGV0IG1hcCA9IGFyci5tYXAoZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaW5kZXg6IGksIHZhbHVlOiBlLmF0b21pY051bWJlci5zcGxpdCgnLicpLm1hcChOdW1iZXIpIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1hcC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIGxldCBtaW4gPSBNYXRoLm1pbihiLnZhbHVlLmxlbmd0aCwgYS52YWx1ZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAoaSA8IG1pbiAmJiBiLnZhbHVlW2ldID09PSBhLnZhbHVlW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpID09PSBtaW4gPyBiLnZhbHVlLmxlbmd0aCAtIGEudmFsdWUubGVuZ3RoIDogYi52YWx1ZVtpXSAtIGEudmFsdWVbaV07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBtYXAubWFwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJbZS5pbmRleF07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3BpZXMgYSBhbiBuLWRpbWVuc2lvbmFsIGFycmF5LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIgVGhlIGFycmF5IHRvIGJlIGNvcGllZC5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGNvcHkuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBkZWVwQ29weShhcnIpIHtcclxuICAgICAgICBsZXQgbmV3QXJyID0gQXJyYXkoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBhcnJbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBuZXdBcnJbaV0gPSBBcnJheUhlbHBlci5kZWVwQ29weShpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld0FycltpXSA9IGl0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXdBcnI7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5SGVscGVyOyIsIi8vQHRzLWNoZWNrXHJcbmNvbnN0IEFycmF5SGVscGVyID0gcmVxdWlyZSgnLi9BcnJheUhlbHBlcicpXHJcbmNvbnN0IFZlcnRleCA9IHJlcXVpcmUoJy4vVmVydGV4JylcclxuY29uc3QgUmluZyA9IHJlcXVpcmUoJy4vUmluZycpXHJcblxyXG4vKiogXHJcbiAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGFuIGF0b20uXHJcbiAqIFxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBzeW1ib2wgb2YgdGhpcyBhdG9tLiBTaW5nbGUtbGV0dGVyIHN5bWJvbHMgYXJlIGFsd2F5cyB1cHBlcmNhc2UuIEV4YW1wbGVzOiBILCBDLCBGLCBCciwgU2ksIC4uLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGRyYXdFeHBsaWNpdCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIGF0b20gaXMgZHJhd24gZXhwbGljaXRseSAoZm9yIGV4YW1wbGUsIGEgY2FyYm9uIGF0b20pLiBUaGlzIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIuXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0W119IHJpbmdib25kcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSByaW5nYm9uZCBpZHMgYW5kIGJvbmQgdHlwZXMgYXMgc3BlY2lmaWVkIGluIHRoZSBvcmlnaW5hbCBTTUlMRS5cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGJyYW5jaEJvbmQgVGhlIGJyYW5jaCBib25kIGFzIGRlZmluZWQgaW4gdGhlIFNNSUxFUy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHJpbmdib25kc1tdLmlkIFRoZSByaW5nYm9uZCBpZCBhcyBkZWZpbmVkIGluIHRoZSBTTUlMRVMuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSByaW5nYm9uZHNbXS5ib25kVHlwZSBUaGUgYm9uZCB0eXBlIG9mIHRoZSByaW5nYm9uZCBhcyBkZWZpbmVkIGluIHRoZSBTTUlMRVMuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IHJpbmdzIFRoZSBpZHMgb2YgcmluZ3Mgd2hpY2ggY29udGFpbiB0aGlzIGF0b20uXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBib25kVHlwZSBUaGUgYm9uZCB0eXBlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGFycmF5LiBFeGFtcGxlczogLSwgPSwgIywgLi4uXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNCcmlkZ2UgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyBhdG9tIGlzIHBhcnQgb2YgYSBicmlkZ2UgaW4gYSBicmlkZ2VkIHJpbmcgKGNvbnRhaW5lZCBieSB0aGUgbGFyZ2VzdCByaW5nKS5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBpc0JyaWRnZU5vZGUgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyBhdG9tIGlzIGEgYnJpZGdlIG5vZGUgKGEgbWVtYmVyIG9mIHRoZSBsYXJnZXN0IHJpbmcgaW4gYSBicmlkZ2VkIHJpbmcgd2hpY2ggaXMgY29ubmVjdGVkIHRvIGEgYnJpZGdlLWF0b20pLlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBvcmlnaW5hbFJpbmdzIFVzZWQgdG8gYmFjayB1cCByaW5ncyB3aGVuIHRoZXkgYXJlIHJlcGxhY2VkIGJ5IGEgYnJpZGdlZCByaW5nLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gYnJpZGdlZFJpbmcgVGhlIGlkIG9mIHRoZSBicmlkZ2VkIHJpbmcgaWYgdGhlIGF0b20gaXMgcGFydCBvZiBhIGJyaWRnZWQgcmluZy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gYW5jaG9yZWRSaW5ncyBUaGUgaWRzIG9mIHRoZSByaW5ncyB0aGF0IGFyZSBhbmNob3JlZCB0byB0aGlzIGF0b20uIFRoZSBjZW50ZXJzIG9mIGFuY2hvcmVkIHJpbmdzIGFyZSB0cmFuc2xhdGVkIHdoZW4gdGhpcyBhdG9tIGlzIHRyYW5zbGF0ZWQuXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBicmFja2V0IElmIHRoaXMgYXRvbSBpcyBkZWZpbmVkIGFzIGEgYnJhY2tldCBhdG9tIGluIHRoZSBvcmlnaW5hbCBTTUlMRVMsIHRoaXMgb2JqZWN0IGNvbnRhaW5zIGFsbCB0aGUgYnJhY2tldCBpbmZvcm1hdGlvbi4gRXhhbXBsZTogeyBoY291bnQ6IHtOdW1iZXJ9LCBjaGFyZ2U6IFsnLS0nLCAnLScsICcrJywgJysrJ10sIGlzb3RvcGU6IHtOdW1iZXJ9IH0uXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBwbGFuZSBTcGVjaWZpZXMgb24gd2hpY2ggXCJwbGFuZVwiIHRoZSBhdG9tcyBpcyBpbiBzdGVyZW9jaGVtaWNhbCBkZXB0aWN0aW9ucyAoLTEgYmFjaywgMCBtaWRkbGUsIDEgZnJvbnQpLlxyXG4gKiBAcHJvcGVydHkge09iamVjdFtdfSBhdHRhY2hlZFBzZXVkb0VsZW1lbnRzIEEgbWFwIHdpdGggY29udGFpbmluZyBpbmZvcm1hdGlvbiBmb3IgcHNldWRvIGVsZW1lbnRzIG9yIGNvbmNhdGluYXRlZCBlbGVtZW50cy4gVGhlIGtleSBpcyBjb21wcmlzZWQgb2YgdGhlIGVsZW1lbnQgc3ltYm9sIGFuZCB0aGUgaHlkcm9nZW4gY291bnQuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBhdHRhY2hlZFBzZXVkb0VsZW1lbnRbXS5lbGVtZW50IFRoZSBlbGVtZW50IHN5bWJvbC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGF0dGFjaGVkUHNldWRvRWxlbWVudFtdLmNvdW50IFRoZSBudW1iZXIgb2Ygb2NjdXJlbmNlcyB0aGF0IG1hdGNoIHRoZSBrZXkuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBhdHRhY2hlZFBzZXVkb0VsZW1lbnRbXS5oeXJvZ2VuQ291bnQgVGhlIG51bWJlciBvZiBoeWRyb2dlbnMgYXR0YWNoZWQgdG8gZWFjaCBhdG9tIG1hdGNoaW5nIHRoZSBrZXkuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIGF0dG9tIHdpbGwgYmUgZHJhd24gd2l0aCBhbiBhdHRhY2hlZCBwc2V1ZG8gZWxlbWVudCBvciBjb25jYXRpbmF0ZWQgZWxlbWVudHMuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNEcmF3biBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIGF0b20gaXMgZHJhd24uIEluIGNvbnRyYXN0IHRvIGRyYXdFeHBsaWNpdCwgdGhlIGJvbmQgaXMgZHJhd24gbmVpdGhlci5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBpc0Nvbm5lY3RlZFRvUmluZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIGF0b20gaXMgZGlyZWN0bHkgY29ubmVjdGVkIChidXQgbm90IGEgbWVtYmVyIG9mKSBhIHJpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nW119IG5laWdoYm91cmluZ0VsZW1lbnRzIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGVsZW1lbnQgc3ltYm9scyBvZiBuZWlnaGJvdXJpbmcgYXRvbXMuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNQYXJ0T2ZBcm9tYXRpY1JpbmcgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyBhdG9tIGlzIHBhcnQgb2YgYW4gZXhwbGljaXRseSBkZWZpbmVkIGFyb21hdGljIHJpbmcuIEV4YW1wbGU6IGMxY2NjY2MxLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gYm9uZENvdW50IFRoZSBudW1iZXIgb2YgYm9uZHMgaW4gd2hpY2ggdGhpcyBhdG9tIGlzIHBhcnRpY2lwYXRpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBjaGlyYWxpdHkgVGhlIGNoaXJhbGl0eSBvZiB0aGlzIGF0b20gaWYgaXQgaXMgYSBzdGVyZW9jZW50ZXIgKFIgb3IgUykuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBwcmlvcml0eSBUaGUgcHJpb3JpdHkgb2YgdGhpcyBhdG9tIGFjb3JkaW5nIHRvIHRoZSBDSVAgcnVsZXMsIHdoZXJlIDAgaXMgdGhlIGhpZ2hlc3QgcHJpb3JpdHkuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbWFpbkNoYWluIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgYXRvbSBpcyBwYXJ0IG9mIHRoZSBtYWluIGNoYWluICh1c2VkIGZvciBjaGlyYWxpdHkpLlxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gaHlkcm9nZW5EaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiBvZiB0aGUgaHlkcm9nZW4sIGVpdGhlciB1cCBvciBkb3duLiBPbmx5IGZvciBzdGVyZW9jZW50ZXJzIHdpdGggYW5kIGV4cGxpY2l0IGh5ZHJvZ2VuLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gc3VidHJlZURlcHRoIFRoZSBkZXB0aCBvZiB0aGUgc3VidHJlZSBjb21pbmcgZnJvbSBhIHN0ZXJlb2NlbnRlci5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGNsYXNzXHJcbiAqL1xyXG5jbGFzcyBBdG9tIHtcclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGNsYXNzIEF0b20uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudCBUaGUgb25lLWxldHRlciBjb2RlIG9mIHRoZSBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbYm9uZFR5cGU9Jy0nXSBUaGUgdHlwZSBvZiB0aGUgYm9uZCBhc3NvY2lhdGVkIHdpdGggdGhpcyBhdG9tLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGJvbmRUeXBlID0gJy0nKSB7XHJcbiAgICB0aGlzLmlkeCA9IG51bGw7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50Lmxlbmd0aCA9PT0gMSA/IGVsZW1lbnQudG9VcHBlckNhc2UoKSA6IGVsZW1lbnQ7XHJcbiAgICB0aGlzLmRyYXdFeHBsaWNpdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5yaW5nYm9uZHMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy5yaW5ncyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLmJvbmRUeXBlID0gYm9uZFR5cGU7XHJcbiAgICB0aGlzLmJyYW5jaEJvbmQgPSBudWxsO1xyXG4gICAgdGhpcy5pc0JyaWRnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc0JyaWRnZU5vZGUgPSBmYWxzZTtcclxuICAgIHRoaXMub3JpZ2luYWxSaW5ncyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLmJyaWRnZWRSaW5nID0gbnVsbDtcclxuICAgIHRoaXMuYW5jaG9yZWRSaW5ncyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLmJyYWNrZXQgPSBudWxsO1xyXG4gICAgdGhpcy5wbGFuZSA9IDA7XHJcbiAgICB0aGlzLmF0dGFjaGVkUHNldWRvRWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc0RyYXduID0gdHJ1ZTtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWRUb1JpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMubmVpZ2hib3VyaW5nRWxlbWVudHMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy5pc1BhcnRPZkFyb21hdGljUmluZyA9IGVsZW1lbnQgIT09IHRoaXMuZWxlbWVudDtcclxuICAgIHRoaXMuYm9uZENvdW50ID0gMDtcclxuICAgIHRoaXMuY2hpcmFsaXR5ID0gJyc7XHJcbiAgICB0aGlzLmlzU3RlcmVvQ2VudGVyID0gZmFsc2U7XHJcbiAgICB0aGlzLnByaW9yaXR5ID0gMDtcclxuICAgIHRoaXMubWFpbkNoYWluID0gZmFsc2U7XHJcbiAgICB0aGlzLmh5ZHJvZ2VuRGlyZWN0aW9uID0gJ2Rvd24nO1xyXG4gICAgdGhpcy5zdWJ0cmVlRGVwdGggPSAxO1xyXG4gICAgdGhpcy5oYXNIeWRyb2dlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5jbGFzcyA9IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZHMgYSBuZWlnaGJvdXJpbmcgZWxlbWVudCB0byB0aGlzIGF0b20uXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnQgQSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgYWRkTmVpZ2hib3VyaW5nRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICB0aGlzLm5laWdoYm91cmluZ0VsZW1lbnRzLnB1c2goZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBdHRhY2hlcyBhIHBzZXVkbyBlbGVtZW50IChlLmcuIEFjKSB0byB0aGUgYXRvbS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudCBUaGUgZWxlbWVudCBpZGVudGlmaWVyIChlLmcuIEJyLCBDLCAuLi4pLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcmV2aW91c0VsZW1lbnQgVGhlIGVsZW1lbnQgdGhhdCBpcyBwYXJ0IG9mIHRoZSBtYWluIGNoYWluIChub3QgdGhlIHRlcm1pbmFscyB0aGF0IGFyZSBjb252ZXJ0ZWQgdG8gdGhlIHBzZXVkbyBlbGVtZW50IG9yIGNvbmNhdGluYXRlZCkuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtoeWRyb2dlbkNvdW50PTBdIFRoZSBudW1iZXIgb2YgaHlkcm9nZW5zIGZvciB0aGUgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NoYXJnZT0wXSBUaGUgY2hhcmdlIGZvciB0aGUgZWxlbWVudC5cclxuICAgKi9cclxuICBhdHRhY2hQc2V1ZG9FbGVtZW50KGVsZW1lbnQsIHByZXZpb3VzRWxlbWVudCwgaHlkcm9nZW5Db3VudCA9IDAsIGNoYXJnZSA9IDApIHtcclxuICAgIGlmIChoeWRyb2dlbkNvdW50ID09PSBudWxsKSB7XHJcbiAgICAgIGh5ZHJvZ2VuQ291bnQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFyZ2UgPT09IG51bGwpIHtcclxuICAgICAgY2hhcmdlID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQga2V5ID0gaHlkcm9nZW5Db3VudCArIGVsZW1lbnQgKyBjaGFyZ2U7XHJcblxyXG4gICAgaWYgKHRoaXMuYXR0YWNoZWRQc2V1ZG9FbGVtZW50c1trZXldKSB7XHJcbiAgICAgIHRoaXMuYXR0YWNoZWRQc2V1ZG9FbGVtZW50c1trZXldLmNvdW50ICs9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmF0dGFjaGVkUHNldWRvRWxlbWVudHNba2V5XSA9IHtcclxuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxyXG4gICAgICAgIGNvdW50OiAxLFxyXG4gICAgICAgIGh5ZHJvZ2VuQ291bnQ6IGh5ZHJvZ2VuQ291bnQsXHJcbiAgICAgICAgcHJldmlvdXNFbGVtZW50OiBwcmV2aW91c0VsZW1lbnQsXHJcbiAgICAgICAgY2hhcmdlOiBjaGFyZ2VcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmhhc0F0dGFjaGVkUHNldWRvRWxlbWVudHMgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgYXR0YWNoZWQgcHNldWRvIGVsZW1lbnRzIHNvcnRlZCBieSBoeWRyb2dlbiBjb3VudCAoYXNjZW5kaW5nKS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBzb3J0ZWQgYXR0YWNoZWQgcHNldWRvIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIGdldEF0dGFjaGVkUHNldWRvRWxlbWVudHMoKSB7XHJcbiAgICBsZXQgb3JkZXJlZCA9IHt9O1xyXG4gICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgIE9iamVjdC5rZXlzKHRoaXMuYXR0YWNoZWRQc2V1ZG9FbGVtZW50cykuc29ydCgpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICBvcmRlcmVkW2tleV0gPSB0aGF0LmF0dGFjaGVkUHNldWRvRWxlbWVudHNba2V5XTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBvcmRlcmVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGF0dGFjaGVkIHBzZXVkbyBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgYXR0YWNoZWQgcHNldWRvIGVsZW1lbnRzLlxyXG4gICAqL1xyXG4gIGdldEF0dGFjaGVkUHNldWRvRWxlbWVudHNDb3VudCgpIHtcclxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmF0dGFjaGVkUHNldWRvRWxlbWVudHMpLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgd2hldGhlciB0aGlzIGF0b20gaXMgYSBoZXRlcm9hdG9tIChub3QgQyBhbmQgbm90IEgpLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBhdG9tIGlzIGEgaGV0ZXJvYXRvbS5cclxuICAgKi9cclxuICBpc0hldGVyb0F0b20oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50ICE9PSAnQycgJiYgdGhpcy5lbGVtZW50ICE9PSAnSCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZWZpbmVzIHRoaXMgYXRvbSBhcyB0aGUgYW5jaG9yIGZvciBhIHJpbmcuIFdoZW4gZG9pbmcgcmVwb3NpdGlvbmluZ3Mgb2YgdGhlIHZlcnRpY2VzIGFuZCB0aGUgdmVydGV4IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGF0b20gaXMgbW92ZWQsIHRoZSBjZW50ZXIgb2YgdGhpcyByaW5nIGlzIG1vdmVkIGFzIHdlbGwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cclxuICAgKi9cclxuICBhZGRBbmNob3JlZFJpbmcocmluZ0lkKSB7XHJcbiAgICBpZiAoIUFycmF5SGVscGVyLmNvbnRhaW5zKHRoaXMuYW5jaG9yZWRSaW5ncywge1xyXG4gICAgICB2YWx1ZTogcmluZ0lkXHJcbiAgICB9KSkge1xyXG4gICAgICB0aGlzLmFuY2hvcmVkUmluZ3MucHVzaChyaW5nSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJpbmdib25kcyAoYnJlYWtzIGluIHJpbmdzIHRvIGdlbmVyYXRlIHRoZSBNU1Qgb2YgdGhlIHNtaWxlcykgd2l0aGluIHRoaXMgYXRvbSBpcyBjb25uZWN0ZWQgdG8uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIHJpbmdib25kcyB0aGlzIGF0b20gaXMgY29ubmVjdGVkIHRvLlxyXG4gICAqL1xyXG4gIGdldFJpbmdib25kQ291bnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yaW5nYm9uZHMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQmFja3MgdXAgdGhlIGN1cnJlbnQgcmluZ3MuXHJcbiAgICovXHJcbiAgYmFja3VwUmluZ3MoKSB7XHJcbiAgICB0aGlzLm9yaWdpbmFsUmluZ3MgPSBBcnJheSh0aGlzLnJpbmdzLmxlbmd0aCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRoaXMub3JpZ2luYWxSaW5nc1tpXSA9IHRoaXMucmluZ3NbaV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXN0b3JlcyB0aGUgbW9zdCByZWNlbnQgYmFja2VkIHVwIHJpbmdzLlxyXG4gICAqL1xyXG4gIHJlc3RvcmVSaW5ncygpIHtcclxuICAgIHRoaXMucmluZ3MgPSBBcnJheSh0aGlzLm9yaWdpbmFsUmluZ3MubGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3JpZ2luYWxSaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLnJpbmdzW2ldID0gdGhpcy5vcmlnaW5hbFJpbmdzW2ldO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHR3byBhdG9tcyBzaGFyZSBhIGNvbW1vbiByaW5nYm9uZCBpZC4gQSByaW5nYm9uZCBpcyBhIGJyZWFrIGluIGEgcmluZyBjcmVhdGVkIHdoZW4gZ2VuZXJhdGluZyB0aGUgc3Bhbm5pbmcgdHJlZSBvZiBhIHN0cnVjdHVyZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXRvbX0gYXRvbUEgQW4gYXRvbS5cclxuICAgKiBAcGFyYW0ge0F0b219IGF0b21CIEFuIGF0b20uXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHR3byBhdG9tcyBzaGFyZSBhIGNvbW1vbiByaW5nYm9uZC5cclxuICAgKi9cclxuICBoYXZlQ29tbW9uUmluZ2JvbmQoYXRvbUEsIGF0b21CKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0b21BLnJpbmdib25kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF0b21CLnJpbmdib25kcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChhdG9tQS5yaW5nYm9uZHNbaV0uaWQgPT0gYXRvbUIucmluZ2JvbmRzW2pdLmlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCB0aGUgbmVpZ2hib3VyaW5nIGVsZW1lbnRzIG9mIHRoaXMgYXRvbSBlcXVhbCB0aGUgc3VwcGxpZWQgYXJyYXkuXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtTdHJpbmdbXX0gYXJyIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBuZWlnaGJvdXJpbmcgdGhpcyBhdG9tLiBFLmcuIFsnQycsICdPJywgJ08nLCAnTiddXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBuZWlnaGJvdXJzIG1hdGNoIHRoZSBzdXBwbGllZCBhcnJheSBvZiBlbGVtZW50cy5cclxuICAgKi9cclxuICBuZWlnaGJvdXJpbmdFbGVtZW50c0VxdWFsKGFycikge1xyXG4gICAgaWYgKGFyci5sZW5ndGggIT09IHRoaXMubmVpZ2hib3VyaW5nRWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhcnIuc29ydCgpO1xyXG4gICAgdGhpcy5uZWlnaGJvdXJpbmdFbGVtZW50cy5zb3J0KCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5laWdoYm91cmluZ0VsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChhcnJbaV0gIT09IHRoaXMubmVpZ2hib3VyaW5nRWxlbWVudHNbaV0pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYXRvbWljIG51bWJlciBvZiB0aGlzIGF0b20uXHJcbiAgICogXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIGF0b21pYyBudW1iZXIgb2YgdGhpcyBhdG9tLlxyXG4gICAqL1xyXG4gIGdldEF0b21pY051bWJlcigpIHtcclxuICAgIHJldHVybiBBdG9tLmF0b21pY051bWJlcnNbdGhpcy5lbGVtZW50XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbWF4aW11bSBudW1iZXIgb2YgYm9uZHMgZm9yIHRoaXMgYXRvbS5cclxuICAgKiBcclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbWF4aW11bSBudW1iZXIgb2YgYm9uZHMgb2YgdGhpcyBhdG9tLlxyXG4gICAqL1xyXG4gIGdldE1heEJvbmRzKCkge1xyXG4gICAgcmV0dXJuIEF0b20ubWF4Qm9uZHNbdGhpcy5lbGVtZW50XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEEgbWFwIG1hcHBpbmcgZWxlbWVudCBzeW1ib2xzIHRvIHRoZWlyIG1heGltdW0gYm9uZHMuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBtYXhCb25kcygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICdIJzogMSxcclxuICAgICAgJ0MnOiA0LFxyXG4gICAgICAnTic6IDMsXHJcbiAgICAgICdPJzogMixcclxuICAgICAgJ1AnOiAzLFxyXG4gICAgICAnUyc6IDIsXHJcbiAgICAgICdCJzogMyxcclxuICAgICAgJ0YnOiAxLFxyXG4gICAgICAnSSc6IDEsXHJcbiAgICAgICdDbCc6IDEsXHJcbiAgICAgICdCcic6IDFcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIG1hcCBtYXBwaW5nIGVsZW1lbnQgc3ltYm9scyB0byB0aGUgYXRvbWljIG51bWJlci5cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0IGF0b21pY051bWJlcnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAnSCc6IDEsXHJcbiAgICAgICdIZSc6IDIsXHJcbiAgICAgICdMaSc6IDMsXHJcbiAgICAgICdCZSc6IDQsXHJcbiAgICAgICdCJzogNSxcclxuICAgICAgJ2InOiA1LFxyXG4gICAgICAnQyc6IDYsXHJcbiAgICAgICdjJzogNixcclxuICAgICAgJ04nOiA3LFxyXG4gICAgICAnbic6IDcsXHJcbiAgICAgICdPJzogOCxcclxuICAgICAgJ28nOiA4LFxyXG4gICAgICAnRic6IDksXHJcbiAgICAgICdOZSc6IDEwLFxyXG4gICAgICAnTmEnOiAxMSxcclxuICAgICAgJ01nJzogMTIsXHJcbiAgICAgICdBbCc6IDEzLFxyXG4gICAgICAnU2knOiAxNCxcclxuICAgICAgJ1AnOiAxNSxcclxuICAgICAgJ3AnOiAxNSxcclxuICAgICAgJ1MnOiAxNixcclxuICAgICAgJ3MnOiAxNixcclxuICAgICAgJ0NsJzogMTcsXHJcbiAgICAgICdBcic6IDE4LFxyXG4gICAgICAnSyc6IDE5LFxyXG4gICAgICAnQ2EnOiAyMCxcclxuICAgICAgJ1NjJzogMjEsXHJcbiAgICAgICdUaSc6IDIyLFxyXG4gICAgICAnVic6IDIzLFxyXG4gICAgICAnQ3InOiAyNCxcclxuICAgICAgJ01uJzogMjUsXHJcbiAgICAgICdGZSc6IDI2LFxyXG4gICAgICAnQ28nOiAyNyxcclxuICAgICAgJ05pJzogMjgsXHJcbiAgICAgICdDdSc6IDI5LFxyXG4gICAgICAnWm4nOiAzMCxcclxuICAgICAgJ0dhJzogMzEsXHJcbiAgICAgICdHZSc6IDMyLFxyXG4gICAgICAnQXMnOiAzMyxcclxuICAgICAgJ1NlJzogMzQsXHJcbiAgICAgICdCcic6IDM1LFxyXG4gICAgICAnS3InOiAzNixcclxuICAgICAgJ1JiJzogMzcsXHJcbiAgICAgICdTcic6IDM4LFxyXG4gICAgICAnWSc6IDM5LFxyXG4gICAgICAnWnInOiA0MCxcclxuICAgICAgJ05iJzogNDEsXHJcbiAgICAgICdNbyc6IDQyLFxyXG4gICAgICAnVGMnOiA0MyxcclxuICAgICAgJ1J1JzogNDQsXHJcbiAgICAgICdSaCc6IDQ1LFxyXG4gICAgICAnUGQnOiA0NixcclxuICAgICAgJ0FnJzogNDcsXHJcbiAgICAgICdDZCc6IDQ4LFxyXG4gICAgICAnSW4nOiA0OSxcclxuICAgICAgJ1NuJzogNTAsXHJcbiAgICAgICdTYic6IDUxLFxyXG4gICAgICAnVGUnOiA1MixcclxuICAgICAgJ0knOiA1MyxcclxuICAgICAgJ1hlJzogNTQsXHJcbiAgICAgICdDcyc6IDU1LFxyXG4gICAgICAnQmEnOiA1NixcclxuICAgICAgJ0xhJzogNTcsXHJcbiAgICAgICdDZSc6IDU4LFxyXG4gICAgICAnUHInOiA1OSxcclxuICAgICAgJ05kJzogNjAsXHJcbiAgICAgICdQbSc6IDYxLFxyXG4gICAgICAnU20nOiA2MixcclxuICAgICAgJ0V1JzogNjMsXHJcbiAgICAgICdHZCc6IDY0LFxyXG4gICAgICAnVGInOiA2NSxcclxuICAgICAgJ0R5JzogNjYsXHJcbiAgICAgICdIbyc6IDY3LFxyXG4gICAgICAnRXInOiA2OCxcclxuICAgICAgJ1RtJzogNjksXHJcbiAgICAgICdZYic6IDcwLFxyXG4gICAgICAnTHUnOiA3MSxcclxuICAgICAgJ0hmJzogNzIsXHJcbiAgICAgICdUYSc6IDczLFxyXG4gICAgICAnVyc6IDc0LFxyXG4gICAgICAnUmUnOiA3NSxcclxuICAgICAgJ09zJzogNzYsXHJcbiAgICAgICdJcic6IDc3LFxyXG4gICAgICAnUHQnOiA3OCxcclxuICAgICAgJ0F1JzogNzksXHJcbiAgICAgICdIZyc6IDgwLFxyXG4gICAgICAnVGwnOiA4MSxcclxuICAgICAgJ1BiJzogODIsXHJcbiAgICAgICdCaSc6IDgzLFxyXG4gICAgICAnUG8nOiA4NCxcclxuICAgICAgJ0F0JzogODUsXHJcbiAgICAgICdSbic6IDg2LFxyXG4gICAgICAnRnInOiA4NyxcclxuICAgICAgJ1JhJzogODgsXHJcbiAgICAgICdBYyc6IDg5LFxyXG4gICAgICAnVGgnOiA5MCxcclxuICAgICAgJ1BhJzogOTEsXHJcbiAgICAgICdVJzogOTIsXHJcbiAgICAgICdOcCc6IDkzLFxyXG4gICAgICAnUHUnOiA5NCxcclxuICAgICAgJ0FtJzogOTUsXHJcbiAgICAgICdDbSc6IDk2LFxyXG4gICAgICAnQmsnOiA5NyxcclxuICAgICAgJ0NmJzogOTgsXHJcbiAgICAgICdFcyc6IDk5LFxyXG4gICAgICAnRm0nOiAxMDAsXHJcbiAgICAgICdNZCc6IDEwMSxcclxuICAgICAgJ05vJzogMTAyLFxyXG4gICAgICAnTHInOiAxMDMsXHJcbiAgICAgICdSZic6IDEwNCxcclxuICAgICAgJ0RiJzogMTA1LFxyXG4gICAgICAnU2cnOiAxMDYsXHJcbiAgICAgICdCaCc6IDEwNyxcclxuICAgICAgJ0hzJzogMTA4LFxyXG4gICAgICAnTXQnOiAxMDksXHJcbiAgICAgICdEcyc6IDExMCxcclxuICAgICAgJ1JnJzogMTExLFxyXG4gICAgICAnQ24nOiAxMTIsXHJcbiAgICAgICdVdXQnOiAxMTMsXHJcbiAgICAgICdVdXEnOiAxMTQsXHJcbiAgICAgICdVdXAnOiAxMTUsXHJcbiAgICAgICdVdWgnOiAxMTYsXHJcbiAgICAgICdVdXMnOiAxMTcsXHJcbiAgICAgICdVdW8nOiAxMThcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIG1hcCBtYXBwaW5nIGVsZW1lbnQgc3ltYm9scyB0byB0aGUgYXRvbWljIG1hc3MuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBtYXNzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgJ0gnOiAxLFxyXG4gICAgICAnSGUnOiAyLFxyXG4gICAgICAnTGknOiAzLFxyXG4gICAgICAnQmUnOiA0LFxyXG4gICAgICAnQic6IDUsXHJcbiAgICAgICdiJzogNSxcclxuICAgICAgJ0MnOiA2LFxyXG4gICAgICAnYyc6IDYsXHJcbiAgICAgICdOJzogNyxcclxuICAgICAgJ24nOiA3LFxyXG4gICAgICAnTyc6IDgsXHJcbiAgICAgICdvJzogOCxcclxuICAgICAgJ0YnOiA5LFxyXG4gICAgICAnTmUnOiAxMCxcclxuICAgICAgJ05hJzogMTEsXHJcbiAgICAgICdNZyc6IDEyLFxyXG4gICAgICAnQWwnOiAxMyxcclxuICAgICAgJ1NpJzogMTQsXHJcbiAgICAgICdQJzogMTUsXHJcbiAgICAgICdwJzogMTUsXHJcbiAgICAgICdTJzogMTYsXHJcbiAgICAgICdzJzogMTYsXHJcbiAgICAgICdDbCc6IDE3LFxyXG4gICAgICAnQXInOiAxOCxcclxuICAgICAgJ0snOiAxOSxcclxuICAgICAgJ0NhJzogMjAsXHJcbiAgICAgICdTYyc6IDIxLFxyXG4gICAgICAnVGknOiAyMixcclxuICAgICAgJ1YnOiAyMyxcclxuICAgICAgJ0NyJzogMjQsXHJcbiAgICAgICdNbic6IDI1LFxyXG4gICAgICAnRmUnOiAyNixcclxuICAgICAgJ0NvJzogMjcsXHJcbiAgICAgICdOaSc6IDI4LFxyXG4gICAgICAnQ3UnOiAyOSxcclxuICAgICAgJ1puJzogMzAsXHJcbiAgICAgICdHYSc6IDMxLFxyXG4gICAgICAnR2UnOiAzMixcclxuICAgICAgJ0FzJzogMzMsXHJcbiAgICAgICdTZSc6IDM0LFxyXG4gICAgICAnQnInOiAzNSxcclxuICAgICAgJ0tyJzogMzYsXHJcbiAgICAgICdSYic6IDM3LFxyXG4gICAgICAnU3InOiAzOCxcclxuICAgICAgJ1knOiAzOSxcclxuICAgICAgJ1pyJzogNDAsXHJcbiAgICAgICdOYic6IDQxLFxyXG4gICAgICAnTW8nOiA0MixcclxuICAgICAgJ1RjJzogNDMsXHJcbiAgICAgICdSdSc6IDQ0LFxyXG4gICAgICAnUmgnOiA0NSxcclxuICAgICAgJ1BkJzogNDYsXHJcbiAgICAgICdBZyc6IDQ3LFxyXG4gICAgICAnQ2QnOiA0OCxcclxuICAgICAgJ0luJzogNDksXHJcbiAgICAgICdTbic6IDUwLFxyXG4gICAgICAnU2InOiA1MSxcclxuICAgICAgJ1RlJzogNTIsXHJcbiAgICAgICdJJzogNTMsXHJcbiAgICAgICdYZSc6IDU0LFxyXG4gICAgICAnQ3MnOiA1NSxcclxuICAgICAgJ0JhJzogNTYsXHJcbiAgICAgICdMYSc6IDU3LFxyXG4gICAgICAnQ2UnOiA1OCxcclxuICAgICAgJ1ByJzogNTksXHJcbiAgICAgICdOZCc6IDYwLFxyXG4gICAgICAnUG0nOiA2MSxcclxuICAgICAgJ1NtJzogNjIsXHJcbiAgICAgICdFdSc6IDYzLFxyXG4gICAgICAnR2QnOiA2NCxcclxuICAgICAgJ1RiJzogNjUsXHJcbiAgICAgICdEeSc6IDY2LFxyXG4gICAgICAnSG8nOiA2NyxcclxuICAgICAgJ0VyJzogNjgsXHJcbiAgICAgICdUbSc6IDY5LFxyXG4gICAgICAnWWInOiA3MCxcclxuICAgICAgJ0x1JzogNzEsXHJcbiAgICAgICdIZic6IDcyLFxyXG4gICAgICAnVGEnOiA3MyxcclxuICAgICAgJ1cnOiA3NCxcclxuICAgICAgJ1JlJzogNzUsXHJcbiAgICAgICdPcyc6IDc2LFxyXG4gICAgICAnSXInOiA3NyxcclxuICAgICAgJ1B0JzogNzgsXHJcbiAgICAgICdBdSc6IDc5LFxyXG4gICAgICAnSGcnOiA4MCxcclxuICAgICAgJ1RsJzogODEsXHJcbiAgICAgICdQYic6IDgyLFxyXG4gICAgICAnQmknOiA4MyxcclxuICAgICAgJ1BvJzogODQsXHJcbiAgICAgICdBdCc6IDg1LFxyXG4gICAgICAnUm4nOiA4NixcclxuICAgICAgJ0ZyJzogODcsXHJcbiAgICAgICdSYSc6IDg4LFxyXG4gICAgICAnQWMnOiA4OSxcclxuICAgICAgJ1RoJzogOTAsXHJcbiAgICAgICdQYSc6IDkxLFxyXG4gICAgICAnVSc6IDkyLFxyXG4gICAgICAnTnAnOiA5MyxcclxuICAgICAgJ1B1JzogOTQsXHJcbiAgICAgICdBbSc6IDk1LFxyXG4gICAgICAnQ20nOiA5NixcclxuICAgICAgJ0JrJzogOTcsXHJcbiAgICAgICdDZic6IDk4LFxyXG4gICAgICAnRXMnOiA5OSxcclxuICAgICAgJ0ZtJzogMTAwLFxyXG4gICAgICAnTWQnOiAxMDEsXHJcbiAgICAgICdObyc6IDEwMixcclxuICAgICAgJ0xyJzogMTAzLFxyXG4gICAgICAnUmYnOiAxMDQsXHJcbiAgICAgICdEYic6IDEwNSxcclxuICAgICAgJ1NnJzogMTA2LFxyXG4gICAgICAnQmgnOiAxMDcsXHJcbiAgICAgICdIcyc6IDEwOCxcclxuICAgICAgJ010JzogMTA5LFxyXG4gICAgICAnRHMnOiAxMTAsXHJcbiAgICAgICdSZyc6IDExMSxcclxuICAgICAgJ0NuJzogMTEyLFxyXG4gICAgICAnVXV0JzogMTEzLFxyXG4gICAgICAnVXVxJzogMTE0LFxyXG4gICAgICAnVXVwJzogMTE1LFxyXG4gICAgICAnVXVoJzogMTE2LFxyXG4gICAgICAnVXVzJzogMTE3LFxyXG4gICAgICAnVXVvJzogMTE4XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBdG9tOyIsIi8vQHRzLWNoZWNrXHJcbmNvbnN0IE1hdGhIZWxwZXIgPSByZXF1aXJlKCcuL01hdGhIZWxwZXInKVxyXG5jb25zdCBWZWN0b3IyID0gcmVxdWlyZSgnLi9WZWN0b3IyJylcclxuY29uc3QgTGluZSA9IHJlcXVpcmUoJy4vTGluZScpXHJcbmNvbnN0IFZlcnRleCA9IHJlcXVpcmUoJy4vVmVydGV4JylcclxuY29uc3QgUmluZyA9IHJlcXVpcmUoJy4vUmluZycpXHJcbmNvbnN0IHsgZ2V0Q2hhcmdlVGV4dCB9ID0gcmVxdWlyZSgnLi9VdGlsaXR5RnVuY3Rpb25zJylcclxuXHJcbi8qKiBcclxuICogQSBjbGFzcyB3cmFwcGluZyBhIGNhbnZhcyBlbGVtZW50LlxyXG4gKiBcclxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gY2FudmFzIFRoZSBIVE1MIGVsZW1lbnQgZm9yIHRoZSBjYW52YXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgQ2FudmFzV3JhcHBlciBpbnN0YW5jZS5cclxuICogQHByb3BlcnR5IHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBUaGUgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9mIHRoZSBjYW52YXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgQ2FudmFzV3JhcHBlciBpbnN0YW5jZS5cclxuICogQHByb3BlcnR5IHtPYmplY3R9IGNvbG9ycyBUaGUgY29sb3JzIG9iamVjdCBhcyBkZWZpbmVkIGluIHRoZSBTbWlsZXNEcmF3ZXIgb3B0aW9ucy5cclxuICogQHByb3BlcnR5IHtPYmplY3R9IG9wdHMgVGhlIFNtaWxlc0RyYXdlciBvcHRpb25zLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gZHJhd2luZ1dpZHRoIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gZHJhd2luZ0hlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSBjYW52YXMuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBvZmZzZXRYIFRoZSBob3Jpem9udGFsIG9mZnNldCByZXF1aXJlZCBmb3IgY2VudGVyaW5nIHRoZSBkcmF3aW5nLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gb2Zmc2V0WSBUaGUgdmVydGljYWwgb2Zmc2V0IHJlcXVpcmVkIGZvciBjZW50ZXJpbmcgdGhlIGRyYXdpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBmb250TGFyZ2UgVGhlIGxhcmdlIGZvbnQgc2l6ZSBpbiBwdC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGZvbnRTbWFsbCBUaGUgc21hbGwgZm9udCBzaXplIGluIHB0LlxyXG4gKi9cclxuY2xhc3MgQ2FudmFzV3JhcHBlciB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGNsYXNzIENhbnZhc1dyYXBwZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfEhUTUxFbGVtZW50KX0gdGFyZ2V0IFRoZSBjYW52YXMgaWQgb3IgdGhlIGNhbnZhcyBIVE1MRWxlbWVudC5cclxuICAgICAqIEBwYXJhbSB7VGhlbWVNYW5hZ2VyfSB0aGVtZU1hbmFnZXIgVGhlbWUgbWFuYWdlciBmb3Igc2V0dGluZyBwcm9wZXIgY29sb3JzLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgVGhlIHNtaWxlcyBkcmF3ZXIgb3B0aW9ucyBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgdGhlbWVNYW5hZ2VyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnIHx8IHRhcmdldCBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSB0YXJnZXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIgPSB0aGVtZU1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0aW9ucztcclxuICAgICAgICB0aGlzLmRyYXdpbmdXaWR0aCA9IDAuMDtcclxuICAgICAgICB0aGlzLmRyYXdpbmdIZWlnaHQgPSAwLjA7XHJcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gMC4wO1xyXG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IDAuMDtcclxuXHJcbiAgICAgICAgdGhpcy5mb250TGFyZ2UgPSB0aGlzLm9wdHMuZm9udFNpemVMYXJnZSArICdwdCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJztcclxuICAgICAgICB0aGlzLmZvbnRTbWFsbCA9IHRoaXMub3B0cy5mb250U2l6ZVNtYWxsICsgJ3B0IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYnO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVNpemUodGhpcy5vcHRzLndpZHRoLCB0aGlzLm9wdHMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdHguZm9udCA9IHRoaXMuZm9udExhcmdlO1xyXG4gICAgICAgIHRoaXMuaHlkcm9nZW5XaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KCdIJykud2lkdGg7XHJcbiAgICAgICAgdGhpcy5oYWxmSHlkcm9nZW5XaWR0aCA9IHRoaXMuaHlkcm9nZW5XaWR0aCAvIDIuMDtcclxuICAgICAgICB0aGlzLmhhbGZCb25kVGhpY2tuZXNzID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3MgLyAyLjA7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IEZpbmQgb3V0IHdoeSBjbGVhciB3YXMgaGVyZS5cclxuICAgICAgICAvLyB0aGlzLmNsZWFyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGNhbnZhc1xyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IFxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTaXplKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLmRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xyXG4gICAgICAgIHRoaXMuYmFja2luZ1N0b3JlUmF0aW8gPSB0aGlzLmN0eC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IHRoaXMuY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcclxuICAgICAgICAgICAgdGhpcy5jdHgubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IHRoaXMuY3R4Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcclxuICAgICAgICB0aGlzLnJhdGlvID0gdGhpcy5kZXZpY2VQaXhlbFJhdGlvIC8gdGhpcy5iYWNraW5nU3RvcmVSYXRpbztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmF0aW8gIT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmF0aW87XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmF0aW87XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zZXRUcmFuc2Zvcm0odGhpcy5yYXRpbywgMCwgMCwgdGhpcy5yYXRpbywgMCwgMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmF0aW87XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmF0aW87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHByb3ZpZGVkIHRoZW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0aGVtZSBBIHRoZW1lIGZyb20gdGhlIHNtaWxlcyBkcmF3ZXIgb3B0aW9ucy5cclxuICAgICAqL1xyXG4gICAgc2V0VGhlbWUodGhlbWUpIHtcclxuICAgICAgICB0aGlzLmNvbG9ycyA9IHRoZW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2NhbGUgdGhlIGNhbnZhcyBiYXNlZCBvbiB2ZXJ0ZXggcG9zaXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIEFuIGFycmF5IG9mIHZlcnRpY2VzIGNvbnRhaW5pbmcgdGhlIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgICAqL1xyXG4gICAgc2NhbGUodmVydGljZXMpIHtcclxuICAgICAgICAvLyBGaWd1cmUgb3V0IHRoZSBmaW5hbCBzaXplIG9mIHRoZSBpbWFnZVxyXG4gICAgICAgIGxldCBtYXhYID0gLU51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgbGV0IG1heFkgPSAtTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgICAgICBsZXQgbWluWCA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgICAgICAgbGV0IG1pblkgPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghdmVydGljZXNbaV0udmFsdWUuaXNEcmF3bikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwID0gdmVydGljZXNbaV0ucG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICBpZiAobWF4WCA8IHAueCkgbWF4WCA9IHAueDtcclxuICAgICAgICAgICAgaWYgKG1heFkgPCBwLnkpIG1heFkgPSBwLnk7XHJcbiAgICAgICAgICAgIGlmIChtaW5YID4gcC54KSBtaW5YID0gcC54O1xyXG4gICAgICAgICAgICBpZiAobWluWSA+IHAueSkgbWluWSA9IHAueTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBwYWRkaW5nXHJcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLm9wdHMucGFkZGluZztcclxuICAgICAgICBtYXhYICs9IHBhZGRpbmc7XHJcbiAgICAgICAgbWF4WSArPSBwYWRkaW5nO1xyXG4gICAgICAgIG1pblggLT0gcGFkZGluZztcclxuICAgICAgICBtaW5ZIC09IHBhZGRpbmc7XHJcblxyXG4gICAgICAgIHRoaXMuZHJhd2luZ1dpZHRoID0gbWF4WCAtIG1pblg7XHJcbiAgICAgICAgdGhpcy5kcmF3aW5nSGVpZ2h0ID0gbWF4WSAtIG1pblk7XHJcblxyXG4gICAgICAgIHZhciBzY2FsZVggPSB0aGlzLmNhbnZhcy5vZmZzZXRXaWR0aCAvIHRoaXMuZHJhd2luZ1dpZHRoO1xyXG4gICAgICAgIHZhciBzY2FsZVkgPSB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQgLyB0aGlzLmRyYXdpbmdIZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciBzY2FsZSA9IChzY2FsZVggPCBzY2FsZVkpID8gc2NhbGVYIDogc2NhbGVZO1xyXG5cclxuICAgICAgICB0aGlzLmN0eC5zY2FsZShzY2FsZSwgc2NhbGUpO1xyXG5cclxuICAgICAgICB0aGlzLm9mZnNldFggPSAtbWluWDtcclxuICAgICAgICB0aGlzLm9mZnNldFkgPSAtbWluWTtcclxuXHJcbiAgICAgICAgLy8gQ2VudGVyXHJcbiAgICAgICAgaWYgKHNjYWxlWCA8IHNjYWxlWSkge1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFkgKz0gdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0IC8gKDIuMCAqIHNjYWxlKSAtIHRoaXMuZHJhd2luZ0hlaWdodCAvIDIuMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFggKz0gdGhpcy5jYW52YXMub2Zmc2V0V2lkdGggLyAoMi4wICogc2NhbGUpIC0gdGhpcy5kcmF3aW5nV2lkdGggLyAyLjA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhbnZhcy5cclxuICAgICAqL1xyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5jdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgaGV4IGNvZGUgb2YgYSBjb2xvciBhc3NvY2lhdGVkIHdpdGggYSBrZXkgZnJvbSB0aGUgY3VycmVudCB0aGVtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBjb2xvciBrZXkgaW4gdGhlIHRoZW1lIChlLmcuIEMsIE4sIEJBQ0tHUk9VTkQsIC4uLikuXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIGNvbG9yIGhleCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZ2V0Q29sb3Ioa2V5KSB7XHJcbiAgICAgICAga2V5ID0ga2V5LnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5jb2xvcnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JzW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcnNbJ0MnXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIGEgY2lyY2xlIHRvIGEgY2FudmFzIGNvbnRleHQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBjaXJjbGVzIGNlbnRlci5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNpcmNsZXMgY2VudGVyLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGl1cyBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBBIGhleCBlbmNvZGVkIGNvbG9yLlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZmlsbD10cnVlXSBXaGV0aGVyIHRvIGZpbGwgb3Igc3Ryb2tlIHRoZSBjaXJjbGUuXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtkZWJ1Zz1mYWxzZV0gRHJhdyBpbiBkZWJ1ZyBtb2RlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtkZWJ1Z1RleHQ9JyddIEEgZGVidWcgbWVzc2FnZS5cclxuICAgICAqL1xyXG4gICAgZHJhd0NpcmNsZSh4LCB5LCByYWRpdXMsIGNvbG9yLCBmaWxsID0gdHJ1ZSwgZGVidWcgPSBmYWxzZSwgZGVidWdUZXh0ID0gJycpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgbGV0IG9mZnNldFggPSB0aGlzLm9mZnNldFg7XHJcbiAgICAgICAgbGV0IG9mZnNldFkgPSB0aGlzLm9mZnNldFk7XHJcblxyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDEuNTtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh4ICsgb2Zmc2V0WCwgeSArIG9mZnNldFksIHJhZGl1cywgMCwgTWF0aEhlbHBlci50d29QSSwgdHJ1ZSk7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG5cclxuICAgICAgICBpZiAoZGVidWcpIHtcclxuICAgICAgICAgICAgaWYgKGZpbGwpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2YwMCc7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyNmMDAnO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRyYXdEZWJ1Z1RleHQoeCwgeSwgZGVidWdUZXh0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmlsbCkge1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhdyBhIGxpbmUgdG8gYSBjYW52YXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtMaW5lfSBsaW5lIEEgbGluZS5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Rhc2hlZD1mYWxzZV0gV2hldGhlciBvciBub3QgdGhlIGxpbmUgaXMgZGFzaGVkLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFthbHBoYT0xLjBdIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgY29sb3IuXHJcbiAgICAgKi9cclxuICAgIGRyYXdMaW5lKGxpbmUsIGRhc2hlZCA9IGZhbHNlLCBhbHBoYSA9IDEuMCkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgICAgICBsZXQgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGEgc2hhZG93IGJlaGluZCB0aGUgbGluZVxyXG4gICAgICAgIGxldCBzaG9ydExpbmUgPSBsaW5lLmNsb25lKCkuc2hvcnRlbig0LjApO1xyXG5cclxuICAgICAgICBsZXQgbCA9IHNob3J0TGluZS5nZXRMZWZ0VmVjdG9yKCkuY2xvbmUoKTtcclxuICAgICAgICBsZXQgciA9IHNob3J0TGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcblxyXG4gICAgICAgIGwueCArPSBvZmZzZXRYO1xyXG4gICAgICAgIGwueSArPSBvZmZzZXRZO1xyXG5cclxuICAgICAgICByLnggKz0gb2Zmc2V0WDtcclxuICAgICAgICByLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgLy8gRHJhdyB0aGUgXCJzaGFkb3dcIlxyXG4gICAgICAgIGlmICghZGFzaGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKGwueCwgbC55KTtcclxuICAgICAgICAgICAgY3R4LmxpbmVUbyhyLngsIHIueSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJztcclxuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMub3B0cy5ib25kVGhpY2tuZXNzICsgMS4yO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcignQkFDS0dST1VORCcpO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbCA9IGxpbmUuZ2V0TGVmdFZlY3RvcigpLmNsb25lKCk7XHJcbiAgICAgICAgciA9IGxpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG5cclxuICAgICAgICBsLnggKz0gb2Zmc2V0WDtcclxuICAgICAgICBsLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgci54ICs9IG9mZnNldFg7XHJcbiAgICAgICAgci55ICs9IG9mZnNldFk7XHJcblxyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8obC54LCBsLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oci54LCByLnkpO1xyXG4gICAgICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJztcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3M7XHJcblxyXG4gICAgICAgIGxldCBncmFkaWVudCA9IHRoaXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGwueCwgbC55LCByLngsIHIueSk7XHJcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAuNCwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IobGluZS5nZXRMZWZ0RWxlbWVudCgpKSB8fFxyXG4gICAgICAgICAgICB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcignQycpKTtcclxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC42LCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihsaW5lLmdldFJpZ2h0RWxlbWVudCgpKSB8fFxyXG4gICAgICAgICAgICB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcignQycpKTtcclxuXHJcbiAgICAgICAgaWYgKGRhc2hlZCkge1xyXG4gICAgICAgICAgICBjdHguc2V0TGluZURhc2goWzEsIDEuNV0pO1xyXG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3MgLyAxLjU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWxwaGEgPCAxLjApIHtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBncmFkaWVudDtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3IGEgd2VkZ2Ugb24gdGhlIGNhbnZhcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0xpbmV9IGxpbmUgQSBsaW5lLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3ZWRnZSB3aWR0aC5cclxuICAgICAqL1xyXG4gICAgZHJhd1dlZGdlKGxpbmUsIHdpZHRoID0gMS4wKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKGxpbmUuZnJvbS54KSB8fCBpc05hTihsaW5lLmZyb20ueSkgfHxcclxuICAgICAgICAgICAgaXNOYU4obGluZS50by54KSB8fCBpc05hTihsaW5lLnRvLnkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgICAgICBsZXQgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGEgc2hhZG93IGJlaGluZCB0aGUgbGluZVxyXG4gICAgICAgIGxldCBzaG9ydExpbmUgPSBsaW5lLmNsb25lKCkuc2hvcnRlbig1LjApO1xyXG5cclxuICAgICAgICBsZXQgbCA9IHNob3J0TGluZS5nZXRMZWZ0VmVjdG9yKCkuY2xvbmUoKTtcclxuICAgICAgICBsZXQgciA9IHNob3J0TGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcblxyXG4gICAgICAgIGwueCArPSBvZmZzZXRYO1xyXG4gICAgICAgIGwueSArPSBvZmZzZXRZO1xyXG5cclxuICAgICAgICByLnggKz0gb2Zmc2V0WDtcclxuICAgICAgICByLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgbCA9IGxpbmUuZ2V0TGVmdFZlY3RvcigpLmNsb25lKCk7XHJcbiAgICAgICAgciA9IGxpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG5cclxuICAgICAgICBsLnggKz0gb2Zmc2V0WDtcclxuICAgICAgICBsLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgci54ICs9IG9mZnNldFg7XHJcbiAgICAgICAgci55ICs9IG9mZnNldFk7XHJcblxyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcblxyXG4gICAgICAgIGxldCBub3JtYWxzID0gVmVjdG9yMi5ub3JtYWxzKGwsIHIpO1xyXG5cclxuICAgICAgICBub3JtYWxzWzBdLm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgIG5vcm1hbHNbMV0ubm9ybWFsaXplKCk7XHJcblxyXG4gICAgICAgIGxldCBpc1JpZ2h0Q2hpcmFsQ2VudGVyID0gbGluZS5nZXRSaWdodENoaXJhbCgpO1xyXG5cclxuICAgICAgICBsZXQgc3RhcnQgPSBsO1xyXG4gICAgICAgIGxldCBlbmQgPSByO1xyXG5cclxuICAgICAgICBpZiAoaXNSaWdodENoaXJhbENlbnRlcikge1xyXG4gICAgICAgICAgICBzdGFydCA9IHI7XHJcbiAgICAgICAgICAgIGVuZCA9IGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdCA9IFZlY3RvcjIuYWRkKHN0YXJ0LCBWZWN0b3IyLm11bHRpcGx5U2NhbGFyKG5vcm1hbHNbMF0sIHRoaXMuaGFsZkJvbmRUaGlja25lc3MpKTtcclxuICAgICAgICBsZXQgdSA9IFZlY3RvcjIuYWRkKGVuZCwgVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzBdLCAxLjUgKyB0aGlzLmhhbGZCb25kVGhpY2tuZXNzKSk7XHJcbiAgICAgICAgbGV0IHYgPSBWZWN0b3IyLmFkZChlbmQsIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1sxXSwgMS41ICsgdGhpcy5oYWxmQm9uZFRoaWNrbmVzcykpO1xyXG4gICAgICAgIGxldCB3ID0gVmVjdG9yMi5hZGQoc3RhcnQsIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1sxXSwgdGhpcy5oYWxmQm9uZFRoaWNrbmVzcykpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh0LngsIHQueSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh1LngsIHUueSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh2LngsIHYueSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh3LngsIHcueSk7XHJcblxyXG4gICAgICAgIGxldCBncmFkaWVudCA9IHRoaXMuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHIueCwgci55LCB0aGlzLm9wdHMuYm9uZExlbmd0aCwgci54LCByLnksIDApO1xyXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLjQsIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGxpbmUuZ2V0TGVmdEVsZW1lbnQoKSkgfHxcclxuICAgICAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoJ0MnKSk7XHJcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAuNiwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IobGluZS5nZXRSaWdodEVsZW1lbnQoKSkgfHxcclxuICAgICAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoJ0MnKSk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcclxuXHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhdyBhIGRhc2hlZCB3ZWRnZSBvbiB0aGUgY2FudmFzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TGluZX0gbGluZSBBIGxpbmUuXHJcbiAgICAgKi9cclxuICAgIGRyYXdEYXNoZWRXZWRnZShsaW5lKSB7XHJcbiAgICAgICAgaWYgKGlzTmFOKGxpbmUuZnJvbS54KSB8fCBpc05hTihsaW5lLmZyb20ueSkgfHxcclxuICAgICAgICAgICAgaXNOYU4obGluZS50by54KSB8fCBpc05hTihsaW5lLnRvLnkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgICAgICBsZXQgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuXHJcbiAgICAgICAgbGV0IGwgPSBsaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgICAgIGxldCByID0gbGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcblxyXG4gICAgICAgIGwueCArPSBvZmZzZXRYO1xyXG4gICAgICAgIGwueSArPSBvZmZzZXRZO1xyXG5cclxuICAgICAgICByLnggKz0gb2Zmc2V0WDtcclxuICAgICAgICByLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICAgICAgbGV0IG5vcm1hbHMgPSBWZWN0b3IyLm5vcm1hbHMobCwgcik7XHJcblxyXG4gICAgICAgIG5vcm1hbHNbMF0ubm9ybWFsaXplKCk7XHJcbiAgICAgICAgbm9ybWFsc1sxXS5ub3JtYWxpemUoKTtcclxuXHJcblxyXG4gICAgICAgIGxldCBpc1JpZ2h0Q2hpcmFsQ2VudGVyID0gbGluZS5nZXRSaWdodENoaXJhbCgpO1xyXG5cclxuICAgICAgICBsZXQgc3RhcnQ7XHJcbiAgICAgICAgbGV0IGVuZDtcclxuICAgICAgICBsZXQgc1N0YXJ0O1xyXG4gICAgICAgIGxldCBzRW5kO1xyXG5cclxuICAgICAgICBsZXQgc2hvcnRMaW5lID0gbGluZS5jbG9uZSgpO1xyXG5cclxuICAgICAgICBpZiAoaXNSaWdodENoaXJhbENlbnRlcikge1xyXG4gICAgICAgICAgICBzdGFydCA9IHI7XHJcbiAgICAgICAgICAgIGVuZCA9IGw7XHJcblxyXG4gICAgICAgICAgICBzaG9ydExpbmUuc2hvcnRlblJpZ2h0KDEuMCk7XHJcblxyXG4gICAgICAgICAgICBzU3RhcnQgPSBzaG9ydExpbmUuZ2V0UmlnaHRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgICAgICAgICBzRW5kID0gc2hvcnRMaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YXJ0ID0gbDtcclxuICAgICAgICAgICAgZW5kID0gcjtcclxuXHJcbiAgICAgICAgICAgIHNob3J0TGluZS5zaG9ydGVuTGVmdCgxLjApO1xyXG5cclxuICAgICAgICAgICAgc1N0YXJ0ID0gc2hvcnRMaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpO1xyXG4gICAgICAgICAgICBzRW5kID0gc2hvcnRMaW5lLmdldFJpZ2h0VmVjdG9yKCkuY2xvbmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNTdGFydC54ICs9IG9mZnNldFg7XHJcbiAgICAgICAgc1N0YXJ0LnkgKz0gb2Zmc2V0WTtcclxuICAgICAgICBzRW5kLnggKz0gb2Zmc2V0WDtcclxuICAgICAgICBzRW5kLnkgKz0gb2Zmc2V0WTtcclxuXHJcbiAgICAgICAgbGV0IGRpciA9IFZlY3RvcjIuc3VidHJhY3QoZW5kLCBzdGFydCkubm9ybWFsaXplKCk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoJ0MnKTtcclxuICAgICAgICBjdHgubGluZUNhcCA9ICdyb3VuZCc7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMub3B0cy5ib25kVGhpY2tuZXNzO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gbGluZS5nZXRMZW5ndGgoKTtcclxuICAgICAgICBsZXQgc3RlcCA9IDEuMjUgLyAobGVuZ3RoIC8gKHRoaXMub3B0cy5ib25kVGhpY2tuZXNzICogMy4wKSk7XHJcblxyXG4gICAgICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgdCA9IDAuMDsgdCA8IDEuMDsgdCArPSBzdGVwKSB7XHJcbiAgICAgICAgICAgIGxldCB0byA9IFZlY3RvcjIubXVsdGlwbHlTY2FsYXIoZGlyLCB0ICogbGVuZ3RoKTtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0RGFzaCA9IFZlY3RvcjIuYWRkKHN0YXJ0LCB0byk7XHJcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IDEuNSAqIHQ7XHJcbiAgICAgICAgICAgIGxldCBkYXNoT2Zmc2V0ID0gVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzBdLCB3aWR0aCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWNoYW5nZWQgJiYgdCA+IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IobGluZS5nZXRSaWdodEVsZW1lbnQoKSkgfHwgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoJ0MnKTtcclxuICAgICAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdGFydERhc2guc3VidHJhY3QoZGFzaE9mZnNldCk7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oc3RhcnREYXNoLngsIHN0YXJ0RGFzaC55KTtcclxuICAgICAgICAgICAgc3RhcnREYXNoLmFkZChWZWN0b3IyLm11bHRpcGx5U2NhbGFyKGRhc2hPZmZzZXQsIDIuMCkpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHN0YXJ0RGFzaC54LCBzdGFydERhc2gueSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIGEgZGVidWcgdGV4dCBtZXNzYWdlIGF0IGEgZ2l2ZW4gcG9zaXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IFRoZSBkZWJ1ZyB0ZXh0LlxyXG4gICAgICovXHJcbiAgICBkcmF3RGVidWdUZXh0KHgsIHksIHRleHQpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcblxyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgY3R4LmZvbnQgPSAnNXB4IERyb2lkIFNhbnMsIHNhbnMtc2VyaWYnO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnc3RhcnQnO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmZjAwMDAnO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCB4ICsgdGhpcy5vZmZzZXRYLCB5ICsgdGhpcy5vZmZzZXRZKTtcclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhdyBhIGJhbGwgdG8gdGhlIGNhbnZhcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgdGV4dC5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGVsZW1lbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IChzaW5nbGUtbGV0dGVyKS5cclxuICAgICAqL1xyXG4gICAgZHJhd0JhbGwoeCwgeSwgZWxlbWVudE5hbWUpIHtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcblxyXG4gICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCArIHRoaXMub2Zmc2V0WCwgeSArIHRoaXMub2Zmc2V0WSwgdGhpcy5vcHRzLmJvbmRMZW5ndGggLyA0LjUsIDAsIE1hdGhIZWxwZXIudHdvUEksIGZhbHNlKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoZWxlbWVudE5hbWUpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXcgYSBwb2ludCB0byB0aGUgY2FudmFzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBwb2ludC5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBwb2ludC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZWxlbWVudCAoc2luZ2xlLWxldHRlcikuXHJcbiAgICAgKi9cclxuICAgIGRyYXdQb2ludCh4LCB5LCBlbGVtZW50TmFtZSkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgICAgICBsZXQgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuXHJcbiAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW91dCc7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCArIG9mZnNldFgsIHkgKyBvZmZzZXRZLCAxLjUsIDAsIE1hdGhIZWxwZXIudHdvUEksIHRydWUpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLW92ZXInO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh4ICsgdGhpcy5vZmZzZXRYLCB5ICsgdGhpcy5vZmZzZXRZLCAwLjc1LCAwLCBNYXRoSGVscGVyLnR3b1BJLCBmYWxzZSk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGVsZW1lbnROYW1lKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3IGEgdGV4dCB0byB0aGUgY2FudmFzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgcG9zaXRpb24gb2YgdGhlIHRleHQuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgKHNpbmdsZS1sZXR0ZXIpLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGh5ZHJvZ2VucyBUaGUgbnVtYmVyIG9mIGh5ZHJvZ2VuIGF0b21zLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSB0ZXh0IGluIHJlbGF0aW9uIHRvIHRoZSBhc3NvY2lhdGVkIHZlcnRleC5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNUZXJtaW5hbCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVydGV4IGlzIHRlcm1pbmFsLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJnZSBUaGUgY2hhcmdlIG9mIHRoZSBhdG9tLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGlzb3RvcGUgVGhlIGlzb3RvcGUgbnVtYmVyLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleENvdW50IFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIG1vbGVjdWxhciBncmFwaC5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRhY2hlZFBzZXVkb0VsZW1lbnQgQSBtYXAgd2l0aCBjb250YWluaW5nIGluZm9ybWF0aW9uIGZvciBwc2V1ZG8gZWxlbWVudHMgb3IgY29uY2F0aW5hdGVkIGVsZW1lbnRzLiBUaGUga2V5IGlzIGNvbXByaXNlZCBvZiB0aGUgZWxlbWVudCBzeW1ib2wgYW5kIHRoZSBoeWRyb2dlbiBjb3VudC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRhY2hlZFBzZXVkb0VsZW1lbnQuZWxlbWVudCBUaGUgZWxlbWVudCBzeW1ib2wuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50LmNvdW50IFRoZSBudW1iZXIgb2Ygb2NjdXJlbmNlcyB0aGF0IG1hdGNoIHRoZSBrZXkuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmh5cm9nZW5Db3VudCBUaGUgbnVtYmVyIG9mIGh5ZHJvZ2VucyBhdHRhY2hlZCB0byBlYWNoIGF0b20gbWF0Y2hpbmcgdGhlIGtleS5cclxuICAgICAqL1xyXG4gICAgZHJhd1RleHQoeCwgeSwgZWxlbWVudE5hbWUsIGh5ZHJvZ2VucywgZGlyZWN0aW9uLCBpc1Rlcm1pbmFsLCBjaGFyZ2UsIGlzb3RvcGUsIHZlcnRleENvdW50LCBhdHRhY2hlZFBzZXVkb0VsZW1lbnQgPSB7fSkge1xyXG4gICAgICAgIGxldCBjdHggPSB0aGlzLmN0eDtcclxuICAgICAgICBsZXQgb2Zmc2V0WCA9IHRoaXMub2Zmc2V0WDtcclxuICAgICAgICBsZXQgb2Zmc2V0WSA9IHRoaXMub2Zmc2V0WTtcclxuXHJcbiAgICAgICAgY3R4LnNhdmUoKTtcclxuXHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdzdGFydCc7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcclxuXHJcbiAgICAgICAgbGV0IHBzZXVkb0VsZW1lbnRIYW5kbGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIENoYXJnZVxyXG4gICAgICAgIGxldCBjaGFyZ2VUZXh0ID0gJydcclxuICAgICAgICBsZXQgY2hhcmdlV2lkdGggPSAwO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmdlKSB7XHJcbiAgICAgICAgICAgIGNoYXJnZVRleHQgPSBnZXRDaGFyZ2VUZXh0KGNoYXJnZSk7XHJcblxyXG4gICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICAgICAgICBjaGFyZ2VXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChjaGFyZ2VUZXh0KS53aWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpc290b3BlVGV4dCA9ICcwJztcclxuICAgICAgICBsZXQgaXNvdG9wZVdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgaWYgKGlzb3RvcGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGlzb3RvcGVUZXh0ID0gaXNvdG9wZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICAgICAgICBpc290b3BlV2lkdGggPSBjdHgubWVhc3VyZVRleHQoaXNvdG9wZVRleHQpLndpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIFRPRE86IEJldHRlciBoYW5kbGUgZXhjZXB0aW9uc1xyXG4gICAgICAgIC8vIEV4Y2VwdGlvbiBmb3Igbml0cm8gKGRyYXcgbml0cm8gYXMgTk8yIGluc3RlYWQgb2YgTitPLU8pXHJcbiAgICAgICAgaWYgKGNoYXJnZSA9PT0gMSAmJiBlbGVtZW50TmFtZSA9PT0gJ04nICYmIGF0dGFjaGVkUHNldWRvRWxlbWVudC5oYXNPd25Qcm9wZXJ0eSgnME8nKSAmJlxyXG4gICAgICAgICAgICBhdHRhY2hlZFBzZXVkb0VsZW1lbnQuaGFzT3duUHJvcGVydHkoJzBPLTEnKSkge1xyXG4gICAgICAgICAgICBhdHRhY2hlZFBzZXVkb0VsZW1lbnQgPSB7ICcwTyc6IHsgZWxlbWVudDogJ08nLCBjb3VudDogMiwgaHlkcm9nZW5Db3VudDogMCwgcHJldmlvdXNFbGVtZW50OiAnQycsIGNoYXJnZTogJycgfSB9XHJcbiAgICAgICAgICAgIGNoYXJnZSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoJ0JBQ0tHUk9VTkQnKTtcclxuXHJcbiAgICAgICAgbGV0IGRpbSA9IGN0eC5tZWFzdXJlVGV4dChlbGVtZW50TmFtZSk7XHJcblxyXG4gICAgICAgIGRpbS50b3RhbFdpZHRoID0gZGltLndpZHRoICsgY2hhcmdlV2lkdGg7XHJcbiAgICAgICAgZGltLmhlaWdodCA9IHBhcnNlSW50KHRoaXMuZm9udExhcmdlLCAxMCk7XHJcblxyXG4gICAgICAgIGxldCByID0gKGRpbS53aWR0aCA+IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlKSA/IGRpbS53aWR0aCA6IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlO1xyXG4gICAgICAgIHIgLz0gMS41O1xyXG5cclxuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW91dCc7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCArIG9mZnNldFgsIHkgKyBvZmZzZXRZLCByLCAwLCBNYXRoSGVscGVyLnR3b1BJLCB0cnVlKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcclxuXHJcbiAgICAgICAgbGV0IGN1cnNvclBvcyA9IC1kaW0ud2lkdGggLyAyLjA7XHJcbiAgICAgICAgbGV0IGN1cnNvclBvc0xlZnQgPSAtZGltLndpZHRoIC8gMi4wO1xyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoZWxlbWVudE5hbWUpO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChlbGVtZW50TmFtZSwgeCArIG9mZnNldFggKyBjdXJzb3JQb3MsIHkgKyB0aGlzLm9wdHMuaGFsZkZvbnRTaXplTGFyZ2UgKyBvZmZzZXRZKTtcclxuICAgICAgICBjdXJzb3JQb3MgKz0gZGltLndpZHRoO1xyXG5cclxuICAgICAgICBpZiAoY2hhcmdlKSB7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250U21hbGw7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChjaGFyZ2VUZXh0LCB4ICsgb2Zmc2V0WCArIGN1cnNvclBvcywgeSAtIHRoaXMub3B0cy5maWZ0aEZvbnRTaXplU21hbGwgKyBvZmZzZXRZKTtcclxuICAgICAgICAgICAgY3Vyc29yUG9zICs9IGNoYXJnZVdpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzb3RvcGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250U21hbGw7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChpc290b3BlVGV4dCwgeCArIG9mZnNldFggKyBjdXJzb3JQb3NMZWZ0IC0gaXNvdG9wZVdpZHRoLCB5IC0gdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCArIG9mZnNldFkpO1xyXG4gICAgICAgICAgICBjdXJzb3JQb3NMZWZ0IC09IGlzb3RvcGVXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250TGFyZ2U7XHJcblxyXG4gICAgICAgIGxldCBoeWRyb2dlbldpZHRoID0gMDtcclxuICAgICAgICBsZXQgaHlkcm9nZW5Db3VudFdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgaWYgKGh5ZHJvZ2VucyA9PT0gMSkge1xyXG4gICAgICAgICAgICBsZXQgaHggPSB4ICsgb2Zmc2V0WDtcclxuICAgICAgICAgICAgbGV0IGh5ID0geSArIG9mZnNldFkgKyB0aGlzLm9wdHMuaGFsZkZvbnRTaXplTGFyZ2U7XHJcblxyXG4gICAgICAgICAgICBoeWRyb2dlbldpZHRoID0gdGhpcy5oeWRyb2dlbldpZHRoO1xyXG4gICAgICAgICAgICBjdXJzb3JQb3NMZWZ0IC09IGh5ZHJvZ2VuV2lkdGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIGh4ICs9IGN1cnNvclBvc0xlZnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICBoeCArPSBjdXJzb3JQb3M7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAndXAnICYmIGlzVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgIGh4ICs9IGN1cnNvclBvcztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJyAmJiBpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICBoeCArPSBjdXJzb3JQb3M7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAndXAnICYmICFpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICBoeSAtPSB0aGlzLm9wdHMuZm9udFNpemVMYXJnZSArIHRoaXMub3B0cy5xdWFydGVyRm9udFNpemVMYXJnZTtcclxuICAgICAgICAgICAgICAgIGh4IC09IHRoaXMuaGFsZkh5ZHJvZ2VuV2lkdGg7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZG93bicgJiYgIWlzVGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgIGh5ICs9IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlICsgdGhpcy5vcHRzLnF1YXJ0ZXJGb250U2l6ZUxhcmdlO1xyXG4gICAgICAgICAgICAgICAgaHggLT0gdGhpcy5oYWxmSHlkcm9nZW5XaWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdIJywgaHgsIGh5KTtcclxuXHJcbiAgICAgICAgICAgIGN1cnNvclBvcyArPSBoeWRyb2dlbldpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaHlkcm9nZW5zID4gMSkge1xyXG4gICAgICAgICAgICBsZXQgaHggPSB4ICsgb2Zmc2V0WDtcclxuICAgICAgICAgICAgbGV0IGh5ID0geSArIG9mZnNldFkgKyB0aGlzLm9wdHMuaGFsZkZvbnRTaXplTGFyZ2U7XHJcblxyXG4gICAgICAgICAgICBoeWRyb2dlbldpZHRoID0gdGhpcy5oeWRyb2dlbldpZHRoO1xyXG4gICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICAgICAgICBoeWRyb2dlbkNvdW50V2lkdGggPSBjdHgubWVhc3VyZVRleHQoaHlkcm9nZW5zKS53aWR0aDtcclxuICAgICAgICAgICAgY3Vyc29yUG9zTGVmdCAtPSBoeWRyb2dlbldpZHRoICsgaHlkcm9nZW5Db3VudFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBoeCArPSBjdXJzb3JQb3NMZWZ0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgaHggKz0gY3Vyc29yUG9zO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJyAmJiBpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICBoeCArPSBjdXJzb3JQb3M7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnZG93bicgJiYgaXNUZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgaHggKz0gY3Vyc29yUG9zO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJyAmJiAhaXNUZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgaHkgLT0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKyB0aGlzLm9wdHMucXVhcnRlckZvbnRTaXplTGFyZ2U7XHJcbiAgICAgICAgICAgICAgICBoeCAtPSB0aGlzLmhhbGZIeWRyb2dlbldpZHRoO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nICYmICFpc1Rlcm1pbmFsKSB7XHJcbiAgICAgICAgICAgICAgICBoeSArPSB0aGlzLm9wdHMuZm9udFNpemVMYXJnZSArIHRoaXMub3B0cy5xdWFydGVyRm9udFNpemVMYXJnZTtcclxuICAgICAgICAgICAgICAgIGh4IC09IHRoaXMuaGFsZkh5ZHJvZ2VuV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250TGFyZ2U7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnSCcsIGh4LCBoeSlcclxuXHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5mb250U21hbGw7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChoeWRyb2dlbnMsIGh4ICsgdGhpcy5oYWxmSHlkcm9nZW5XaWR0aCArIGh5ZHJvZ2VuQ291bnRXaWR0aCwgaHkgKyB0aGlzLm9wdHMuZmlmdGhGb250U2l6ZVNtYWxsKTtcclxuXHJcbiAgICAgICAgICAgIGN1cnNvclBvcyArPSBoeWRyb2dlbldpZHRoICsgdGhpcy5oYWxmSHlkcm9nZW5XaWR0aCArIGh5ZHJvZ2VuQ291bnRXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChwc2V1ZG9FbGVtZW50SGFuZGxlZCkge1xyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gYXR0YWNoZWRQc2V1ZG9FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmICghYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgb3BlblBhcmVudGhlc2lzV2lkdGggPSAwO1xyXG4gICAgICAgICAgICBsZXQgY2xvc2VQYXJlbnRoZXNpc1dpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50W2tleV0uZWxlbWVudDtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRDb3VudCA9IGF0dGFjaGVkUHNldWRvRWxlbWVudFtrZXldLmNvdW50O1xyXG4gICAgICAgICAgICBsZXQgaHlkcm9nZW5Db3VudCA9IGF0dGFjaGVkUHNldWRvRWxlbWVudFtrZXldLmh5ZHJvZ2VuQ291bnQ7XHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50Q2hhcmdlID0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50W2tleV0uY2hhcmdlO1xyXG5cclxuICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRMYXJnZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxICYmIGh5ZHJvZ2VuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBvcGVuUGFyZW50aGVzaXNXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dCgnKCcpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY2xvc2VQYXJlbnRoZXNpc1dpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KCcpJykud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50V2lkdGggPSBjdHgubWVhc3VyZVRleHQoZWxlbWVudCkud2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50Q291bnRXaWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICBsZXQgZWxlbWVudENoYXJnZVRleHQgPSAnJztcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRDaGFyZ2VXaWR0aCA9IDA7XHJcblxyXG4gICAgICAgICAgICBoeWRyb2dlbldpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChoeWRyb2dlbkNvdW50ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaHlkcm9nZW5XaWR0aCA9IHRoaXMuaHlkcm9nZW5XaWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Q291bnRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChlbGVtZW50Q291bnQpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudENoYXJnZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudENoYXJnZVRleHQgPSBnZXRDaGFyZ2VUZXh0KGVsZW1lbnRDaGFyZ2UpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudENoYXJnZVdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGVsZW1lbnRDaGFyZ2VUZXh0KS53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaHlkcm9nZW5Db3VudFdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChoeWRyb2dlbkNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgaHlkcm9nZW5Db3VudFdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGh5ZHJvZ2VuQ291bnQpLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udExhcmdlO1xyXG5cclxuICAgICAgICAgICAgbGV0IGh4ID0geCArIG9mZnNldFg7XHJcbiAgICAgICAgICAgIGxldCBoeSA9IHkgKyBvZmZzZXRZICsgdGhpcy5vcHRzLmhhbGZGb250U2l6ZUxhcmdlO1xyXG5cclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGN1cnNvclBvc0xlZnQgLT0gZWxlbWVudENvdW50V2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxICYmIGh5ZHJvZ2VuQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3JQb3NMZWZ0IC09IGNsb3NlUGFyZW50aGVzaXNXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJyknLCBoeCArIGN1cnNvclBvc0xlZnQsIGh5KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCcoJywgaHggKyBjdXJzb3JQb3MsIGh5KTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3JQb3MgKz0gb3BlblBhcmVudGhlc2lzV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgY3Vyc29yUG9zTGVmdCAtPSBlbGVtZW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoZWxlbWVudCwgaHggKyBjdXJzb3JQb3NMZWZ0LCBoeSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChlbGVtZW50LCBoeCArIGN1cnNvclBvcywgaHkpXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JQb3MgKz0gZWxlbWVudFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaHlkcm9nZW5Db3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvclBvc0xlZnQgLT0gaHlkcm9nZW5XaWR0aCArIGh5ZHJvZ2VuQ291bnRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ0gnLCBoeCArIGN1cnNvclBvc0xlZnQsIGh5KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaHlkcm9nZW5Db3VudCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGh5ZHJvZ2VuQ291bnQsIGh4ICsgY3Vyc29yUG9zTGVmdCArIGh5ZHJvZ2VuV2lkdGgsIGh5ICsgdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ0gnLCBoeCArIGN1cnNvclBvcywgaHkpXHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yUG9zICs9IGh5ZHJvZ2VuV2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoeWRyb2dlbkNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNtYWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoaHlkcm9nZW5Db3VudCwgaHggKyBjdXJzb3JQb3MsIGh5ICsgdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvclBvcyArPSBoeWRyb2dlbkNvdW50V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udExhcmdlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRDb3VudCA+IDEgJiYgaHlkcm9nZW5Db3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvclBvc0xlZnQgLT0gb3BlblBhcmVudGhlc2lzV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCcoJywgaHggKyBjdXJzb3JQb3NMZWZ0LCBoeSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnKScsIGh4ICsgY3Vyc29yUG9zLCBoeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yUG9zICs9IGNsb3NlUGFyZW50aGVzaXNXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRTbWFsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoZWxlbWVudENvdW50LCBoeCArIGN1cnNvclBvc0xlZnQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuUGFyZW50aGVzaXNXaWR0aCArIGNsb3NlUGFyZW50aGVzaXNXaWR0aCArIGh5ZHJvZ2VuV2lkdGggK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoeWRyb2dlbkNvdW50V2lkdGggKyBlbGVtZW50V2lkdGgsIGh5ICsgdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChlbGVtZW50Q291bnQsIGh4ICsgY3Vyc29yUG9zLCBoeSArIHRoaXMub3B0cy5maWZ0aEZvbnRTaXplU21hbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvclBvcyArPSBlbGVtZW50Q291bnRXaWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRDaGFyZ2UgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChlbGVtZW50Q2hhcmdlVGV4dCwgaHggKyBjdXJzb3JQb3NMZWZ0ICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlblBhcmVudGhlc2lzV2lkdGggKyBjbG9zZVBhcmVudGhlc2lzV2lkdGggKyBoeWRyb2dlbldpZHRoICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHlkcm9nZW5Db3VudFdpZHRoICsgZWxlbWVudFdpZHRoLCB5IC0gdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCArIG9mZnNldFkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoZWxlbWVudENoYXJnZVRleHQsIGh4ICsgY3Vyc29yUG9zLCB5IC0gdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCArIG9mZnNldFkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvclBvcyArPSBlbGVtZW50Q2hhcmdlV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGUgdGhlIGludGVnZXIgaW5kaWNhdGluZyB0aGUgY2hhcmdlIHRvIHRoZSBhcHByb3ByaWF0ZSB0ZXh0LlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJnZSBUaGUgaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBjaGFyZ2UuXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRpbmcgYSBjaGFyZ2UuXHJcbiAgICAgKi9cclxuICAgIGdldENoYXJnZVRleHQoY2hhcmdlKSB7XHJcbiAgICAgICAgaWYgKGNoYXJnZSA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJysnXHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyZ2UgPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcyKyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyZ2UgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnLSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyZ2UgPT09IC0yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnMi0nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3cyBhIGR1YnVnIGRvdCBhdCBhIGdpdmVuIGNvb3JkaW5hdGUgYW5kIGFkZHMgdGV4dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmRhdGUuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2RlYnVnVGV4dD0nJ10gQSBzdHJpbmcuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbG9yPScjZjAwJ10gQSBjb2xvciBpbiBoZXggZm9ybS5cclxuICAgICAqL1xyXG4gICAgZHJhd0RlYnVnUG9pbnQoeCwgeSwgZGVidWdUZXh0ID0gJycsIGNvbG9yID0gJyNmMDAnKSB7XHJcbiAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKHgsIHksIDIsIGNvbG9yLCB0cnVlLCB0cnVlLCBkZWJ1Z1RleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd3MgYSByaW5nIGluc2lkZSBhIHByb3ZpZGVkIHJpbmcsIGluZGljYXRpbmcgYXJvbWF0aWNpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSaW5nfSByaW5nIEEgcmluZy5cclxuICAgICAqL1xyXG4gICAgZHJhd0Fyb21hdGljaXR5UmluZyhyaW5nKSB7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGxldCByYWRpdXMgPSBNYXRoSGVscGVyLmFwb3RoZW1Gcm9tU2lkZUxlbmd0aCh0aGlzLm9wdHMuYm9uZExlbmd0aCwgcmluZy5nZXRTaXplKCkpO1xyXG5cclxuICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKCdDJyk7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMub3B0cy5ib25kVGhpY2tuZXNzO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHJpbmcuY2VudGVyLnggKyB0aGlzLm9mZnNldFgsIHJpbmcuY2VudGVyLnkgKyB0aGlzLm9mZnNldFksXHJcbiAgICAgICAgICAgIHJhZGl1cyAtIHRoaXMub3B0cy5ib25kU3BhY2luZywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENsZWFyIHRoZSBjYW52YXMuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMub2Zmc2V0V2lkdGgsIHRoaXMuY2FudmFzLm9mZnNldEhlaWdodCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IENhbnZhc1dyYXBwZXI7XHJcbiIsIi8vQHRzLWNoZWNrXG5jb25zdCBTdmdEcmF3ZXIgPSByZXF1aXJlKCcuL1N2Z0RyYXdlcicpXG5cbi8qKiBcbiAqIFRoZSBtYWluIGNsYXNzIG9mIHRoZSBhcHBsaWNhdGlvbiByZXByZXNlbnRpbmcgdGhlIHNtaWxlcyBkcmF3ZXIgXG4gKiBcbiAqIEBwcm9wZXJ0eSB7R3JhcGh9IGdyYXBoIFRoZSBncmFwaCBhc3NvY2lhdGVkIHdpdGggdGhpcyBTbWlsZXNEcmF3ZXIuRHJhd2VyIGluc3RhbmNlLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHJpbmdJZENvdW50ZXIgQW4gaW50ZXJuYWwgY291bnRlciB0byBrZWVwIHRyYWNrIG9mIHJpbmcgaWRzLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHJpbmdDb25uZWN0aW9uSWRDb3VudGVyIEFuIGludGVybmFsIGNvdW50ZXIgdG8ga2VlcCB0cmFjayBvZiByaW5nIGNvbm5lY3Rpb24gaWRzLlxuICogQHByb3BlcnR5IHtDYW52YXNXcmFwcGVyfSBjYW52YXNXcmFwcGVyIFRoZSBDYW52YXNXcmFwcGVyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIFNtaWxlc0RyYXdlci5EcmF3ZXIgaW5zdGFuY2UuXG4gKiBAcHJvcGVydHkge051bWJlcn0gdG90YWxPdmVybGFwU2NvcmUgVGhlIGN1cnJlbnQgaW50ZXJuYWwgdG90YWwgb3ZlcmxhcCBzY29yZS5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkZWZhdWx0T3B0aW9ucyBUaGUgZGVmYXVsdCBvcHRpb25zLlxuICogQHByb3BlcnR5IHtPYmplY3R9IG9wdHMgVGhlIG1lcmdlZCBvcHRpb25zLlxuICogQHByb3BlcnR5IHtPYmplY3R9IHRoZW1lIFRoZSBjdXJyZW50IHRoZW1lLlxuICovXG5jbGFzcyBEcmF3ZXIge1xuICAvKipcbiAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgY2xhc3MgU21pbGVzRHJhd2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyBjdXN0b20gdmFsdWVzIGZvciBkaWZmZXJlbnQgb3B0aW9ucy4gSXQgaXMgbWVyZ2VkIHdpdGggdGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLnN2Z0RyYXdlciA9IG5ldyBTdmdEcmF3ZXIob3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHBhcnNlZCBzbWlsZXMgZGF0YSB0byBhIGNhbnZhcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgdHJlZSByZXR1cm5lZCBieSB0aGUgc21pbGVzIHBhcnNlci5cbiAgICogQHBhcmFtIHsoU3RyaW5nfEhUTUxDYW52YXNFbGVtZW50KX0gdGFyZ2V0IFRoZSBpZCBvZiB0aGUgSFRNTCBjYW52YXMgZWxlbWVudCB0aGUgc3RydWN0dXJlIGlzIGRyYXduIHRvIC0gb3IgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGhlbWVOYW1lPSdkYXJrJyBUaGUgbmFtZSBvZiB0aGUgdGhlbWUgdG8gdXNlLiBCdWlsdC1pbiB0aGVtZXMgYXJlICdsaWdodCcgYW5kICdkYXJrJy5cbiAgICogQHBhcmFtIHtCb29sZWFufSBpbmZvT25seT1mYWxzZSBPbmx5IG91dHB1dCBpbmZvIG9uIHRoZSBtb2xlY3VsZSB3aXRob3V0IGRyYXdpbmcgYW55dGhpbmcgdG8gdGhlIGNhbnZhcy5cbiAgICovXG4gIGRyYXcoZGF0YSwgdGFyZ2V0LCB0aGVtZU5hbWUgPSAnbGlnaHQnLCBpbmZvT25seSA9IGZhbHNlLCBoaWdobGlnaHRfYXRvbXMgPSBbXSkge1xuICAgIGxldCBjYW52YXMgPSBudWxsO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJyB8fCB0YXJnZXQgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbnZhcyA9IHRhcmdldDtcbiAgICB9XG5cbiAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlKCd4bWxucycsICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycpXG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgJzAgMCAnICsgdGhpcy5zdmdEcmF3ZXIub3B0cy53aWR0aCArICcgJyArIHRoaXMuc3ZnRHJhd2VyLm9wdHMuaGVpZ2h0KTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgdGhpcy5zdmdEcmF3ZXIub3B0cy53aWR0aCArICcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIHRoaXMuc3ZnRHJhd2VyLm9wdHMuaGVpZ2h0ICsgJycpO1xuICAgIHRoaXMuc3ZnRHJhd2VyLmRyYXcoZGF0YSwgc3ZnLCB0aGVtZU5hbWUsIGluZm9Pbmx5LCBoaWdobGlnaHRfYXRvbXMpO1xuICAgIHRoaXMuc3ZnRHJhd2VyLnN2Z1dyYXBwZXIudG9DYW52YXMoY2FudmFzLCB0aGlzLnN2Z0RyYXdlci5vcHRzLndpZHRoLCB0aGlzLnN2Z0RyYXdlci5vcHRzLmhlaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdG90YWwgb3ZlcmxhcCBzY29yZSBvZiB0aGUgY3VycmVudCBtb2xlY3VsZS5cbiAgICpcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG92ZXJsYXAgc2NvcmUuXG4gICAqL1xuICBnZXRUb3RhbE92ZXJsYXBTY29yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdmdEcmF3ZXIuZ2V0VG90YWxPdmVybGFwU2NvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtb2xlY3VsYXIgZm9ybXVsYSBvZiB0aGUgbG9hZGVkIG1vbGVjdWxlIGFzIGEgc3RyaW5nLlxuICAgKiBcbiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIG1vbGVjdWxhciBmb3JtdWxhLlxuICAgKi9cbiAgZ2V0TW9sZWN1bGFyRm9ybXVsYSgpIHtcbiAgICB0aGlzLnN2Z0RyYXdlci5nZXRNb2xlY3VsYXJGb3JtdWxhKCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEcmF3ZXI7XG4iLCIvL0B0cy1jaGVja1xuY29uc3QgTWF0aEhlbHBlciA9IHJlcXVpcmUoJy4vTWF0aEhlbHBlcicpXG5jb25zdCBBcnJheUhlbHBlciA9IHJlcXVpcmUoJy4vQXJyYXlIZWxwZXInKVxuY29uc3QgVmVjdG9yMiA9IHJlcXVpcmUoJy4vVmVjdG9yMicpXG5jb25zdCBMaW5lID0gcmVxdWlyZSgnLi9MaW5lJylcbmNvbnN0IFZlcnRleCA9IHJlcXVpcmUoJy4vVmVydGV4JylcbmNvbnN0IEVkZ2UgPSByZXF1aXJlKCcuL0VkZ2UnKVxuY29uc3QgQXRvbSA9IHJlcXVpcmUoJy4vQXRvbScpXG5jb25zdCBSaW5nID0gcmVxdWlyZSgnLi9SaW5nJylcbmNvbnN0IFJpbmdDb25uZWN0aW9uID0gcmVxdWlyZSgnLi9SaW5nQ29ubmVjdGlvbicpXG5jb25zdCBDYW52YXNXcmFwcGVyID0gcmVxdWlyZSgnLi9DYW52YXNXcmFwcGVyJylcbmNvbnN0IEdyYXBoID0gcmVxdWlyZSgnLi9HcmFwaCcpXG5jb25zdCBTU1NSID0gcmVxdWlyZSgnLi9TU1NSJylcbmNvbnN0IFRoZW1lTWFuYWdlciA9IHJlcXVpcmUoJy4vVGhlbWVNYW5hZ2VyJylcbmNvbnN0IE9wdGlvbnMgPSByZXF1aXJlKCcuL09wdGlvbnMnKVxuXG4vKiogXG4gKiBUaGUgbWFpbiBjbGFzcyBvZiB0aGUgYXBwbGljYXRpb24gcmVwcmVzZW50aW5nIHRoZSBzbWlsZXMgZHJhd2VyIFxuICogXG4gKiBAcHJvcGVydHkge0dyYXBofSBncmFwaCBUaGUgZ3JhcGggYXNzb2NpYXRlZCB3aXRoIHRoaXMgU21pbGVzRHJhd2VyLkRyYXdlciBpbnN0YW5jZS5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByaW5nSWRDb3VudGVyIEFuIGludGVybmFsIGNvdW50ZXIgdG8ga2VlcCB0cmFjayBvZiByaW5nIGlkcy5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSByaW5nQ29ubmVjdGlvbklkQ291bnRlciBBbiBpbnRlcm5hbCBjb3VudGVyIHRvIGtlZXAgdHJhY2sgb2YgcmluZyBjb25uZWN0aW9uIGlkcy5cbiAqIEBwcm9wZXJ0eSB7Q2FudmFzV3JhcHBlcn0gY2FudmFzV3JhcHBlciBUaGUgQ2FudmFzV3JhcHBlciBhc3NvY2lhdGVkIHdpdGggdGhpcyBTbWlsZXNEcmF3ZXIuRHJhd2VyIGluc3RhbmNlLlxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRvdGFsT3ZlcmxhcFNjb3JlIFRoZSBjdXJyZW50IGludGVybmFsIHRvdGFsIG92ZXJsYXAgc2NvcmUuXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGVmYXVsdE9wdGlvbnMgVGhlIGRlZmF1bHQgb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcHRzIFRoZSBtZXJnZWQgb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB0aGVtZSBUaGUgY3VycmVudCB0aGVtZS5cbiAqL1xuY2xhc3MgRHJhd2VyQmFzZSB7XG4gIC8qKlxuICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBTbWlsZXNEcmF3ZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBjb250YWluaW5nIGN1c3RvbSB2YWx1ZXMgZm9yIGRpZmZlcmVudCBvcHRpb25zLiBJdCBpcyBtZXJnZWQgd2l0aCB0aGUgZGVmYXVsdCBvcHRpb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuZ3JhcGggPSBudWxsO1xuICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZ0NvdW50ID0gMDtcbiAgICB0aGlzLmRvdWJsZUJvbmRDb25maWcgPSBudWxsO1xuICAgIHRoaXMucmluZ0lkQ291bnRlciA9IDA7XG4gICAgdGhpcy5yaW5nQ29ubmVjdGlvbklkQ291bnRlciA9IDA7XG4gICAgdGhpcy5jYW52YXNXcmFwcGVyID0gbnVsbDtcbiAgICB0aGlzLnRvdGFsT3ZlcmxhcFNjb3JlID0gMDtcblxuICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICB3aWR0aDogNTAwLFxuICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICBzY2FsZTogMC4wLFxuICAgICAgYm9uZFRoaWNrbmVzczogMS4wLFxuICAgICAgYm9uZExlbmd0aDogMzAsXG4gICAgICBzaG9ydEJvbmRMZW5ndGg6IDAuOCxcbiAgICAgIGJvbmRTcGFjaW5nOiAwLjE3ICogMzAsXG4gICAgICBhdG9tVmlzdWFsaXphdGlvbjogJ2RlZmF1bHQnLFxuICAgICAgaXNvbWVyaWM6IHRydWUsXG4gICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICB0ZXJtaW5hbENhcmJvbnM6IGZhbHNlLFxuICAgICAgZXhwbGljaXRIeWRyb2dlbnM6IHRydWUsXG4gICAgICBvdmVybGFwU2Vuc2l0aXZpdHk6IDAuNDIsXG4gICAgICBvdmVybGFwUmVzb2x1dGlvbkl0ZXJhdGlvbnM6IDEsXG4gICAgICBjb21wYWN0RHJhd2luZzogdHJ1ZSxcbiAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJyxcbiAgICAgIGZvbnRTaXplTGFyZ2U6IDExLFxuICAgICAgZm9udFNpemVTbWFsbDogMyxcbiAgICAgIHBhZGRpbmc6IDEwLjAsXG4gICAgICBleHBlcmltZW50YWxTU1NSOiBmYWxzZSxcbiAgICAgIGtrVGhyZXNob2xkOiAwLjEsXG4gICAgICBra0lubmVyVGhyZXNob2xkOiAwLjEsXG4gICAgICBra01heEl0ZXJhdGlvbjogMjAwMDAsXG4gICAgICBra01heElubmVySXRlcmF0aW9uOiA1MCxcbiAgICAgIGtrTWF4RW5lcmd5OiAxZTksXG4gICAgICB3ZWlnaHRzOiB7XG4gICAgICAgIGNvbG9ybWFwOiBudWxsLFxuICAgICAgICBhZGRpdGlvbmFsUGFkZGluZzogMjAuMCxcbiAgICAgICAgc2lnbWE6IDEwLFxuICAgICAgICBpbnRlcnZhbDogMC4wLFxuICAgICAgICBvcGFjaXR5OiAxLjAsXG4gICAgICB9LFxuICAgICAgdGhlbWVzOiB7XG4gICAgICAgIGRhcms6IHtcbiAgICAgICAgICBDOiAnI2ZmZicsXG4gICAgICAgICAgTzogJyNlNzRjM2MnLFxuICAgICAgICAgIE46ICcjMzQ5OGRiJyxcbiAgICAgICAgICBGOiAnIzI3YWU2MCcsXG4gICAgICAgICAgQ0w6ICcjMTZhMDg1JyxcbiAgICAgICAgICBCUjogJyNkMzU0MDAnLFxuICAgICAgICAgIEk6ICcjOGU0NGFkJyxcbiAgICAgICAgICBQOiAnI2QzNTQwMCcsXG4gICAgICAgICAgUzogJyNmMWM0MGYnLFxuICAgICAgICAgIEI6ICcjZTY3ZTIyJyxcbiAgICAgICAgICBTSTogJyNlNjdlMjInLFxuICAgICAgICAgIEg6ICcjYWFhJyxcbiAgICAgICAgICBCQUNLR1JPVU5EOiAnIzE0MTQxNCdcbiAgICAgICAgfSxcbiAgICAgICAgbGlnaHQ6IHtcbiAgICAgICAgICBDOiAnIzIyMicsXG4gICAgICAgICAgTzogJyNlNzRjM2MnLFxuICAgICAgICAgIE46ICcjMzQ5OGRiJyxcbiAgICAgICAgICBGOiAnIzI3YWU2MCcsXG4gICAgICAgICAgQ0w6ICcjMTZhMDg1JyxcbiAgICAgICAgICBCUjogJyNkMzU0MDAnLFxuICAgICAgICAgIEk6ICcjOGU0NGFkJyxcbiAgICAgICAgICBQOiAnI2QzNTQwMCcsXG4gICAgICAgICAgUzogJyNmMWM0MGYnLFxuICAgICAgICAgIEI6ICcjZTY3ZTIyJyxcbiAgICAgICAgICBTSTogJyNlNjdlMjInLFxuICAgICAgICAgIEg6ICcjNjY2JyxcbiAgICAgICAgICBCQUNLR1JPVU5EOiAnI2ZmZidcbiAgICAgICAgfSxcbiAgICAgICAgb2xkc2Nob29sOiB7XG4gICAgICAgICAgQzogJyMwMDAnLFxuICAgICAgICAgIE86ICcjMDAwJyxcbiAgICAgICAgICBOOiAnIzAwMCcsXG4gICAgICAgICAgRjogJyMwMDAnLFxuICAgICAgICAgIENMOiAnIzAwMCcsXG4gICAgICAgICAgQlI6ICcjMDAwJyxcbiAgICAgICAgICBJOiAnIzAwMCcsXG4gICAgICAgICAgUDogJyMwMDAnLFxuICAgICAgICAgIFM6ICcjMDAwJyxcbiAgICAgICAgICBCOiAnIzAwMCcsXG4gICAgICAgICAgU0k6ICcjMDAwJyxcbiAgICAgICAgICBIOiAnIzAwMCcsXG4gICAgICAgICAgQkFDS0dST1VORDogJyNmZmYnXG4gICAgICAgIH0sXG4gICAgICAgIFwic29sYXJpemVkXCI6IHtcbiAgICAgICAgICBDOiBcIiM1ODZlNzVcIixcbiAgICAgICAgICBPOiBcIiNkYzMyMmZcIixcbiAgICAgICAgICBOOiBcIiMyNjhiZDJcIixcbiAgICAgICAgICBGOiBcIiM4NTk5MDBcIixcbiAgICAgICAgICBDTDogXCIjMTZhMDg1XCIsXG4gICAgICAgICAgQlI6IFwiI2NiNGIxNlwiLFxuICAgICAgICAgIEk6IFwiIzZjNzFjNFwiLFxuICAgICAgICAgIFA6IFwiI2QzMzY4MlwiLFxuICAgICAgICAgIFM6IFwiI2I1ODkwMFwiLFxuICAgICAgICAgIEI6IFwiIzJhYTE5OFwiLFxuICAgICAgICAgIFNJOiBcIiMyYWExOThcIixcbiAgICAgICAgICBIOiBcIiM2NTdiODNcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiNmZmZcIlxuICAgICAgICB9LFxuICAgICAgICBcInNvbGFyaXplZC1kYXJrXCI6IHtcbiAgICAgICAgICBDOiBcIiM5M2ExYTFcIixcbiAgICAgICAgICBPOiBcIiNkYzMyMmZcIixcbiAgICAgICAgICBOOiBcIiMyNjhiZDJcIixcbiAgICAgICAgICBGOiBcIiM4NTk5MDBcIixcbiAgICAgICAgICBDTDogXCIjMTZhMDg1XCIsXG4gICAgICAgICAgQlI6IFwiI2NiNGIxNlwiLFxuICAgICAgICAgIEk6IFwiIzZjNzFjNFwiLFxuICAgICAgICAgIFA6IFwiI2QzMzY4MlwiLFxuICAgICAgICAgIFM6IFwiI2I1ODkwMFwiLFxuICAgICAgICAgIEI6IFwiIzJhYTE5OFwiLFxuICAgICAgICAgIFNJOiBcIiMyYWExOThcIixcbiAgICAgICAgICBIOiBcIiM4Mzk0OTZcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiNmZmZcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1hdHJpeFwiOiB7XG4gICAgICAgICAgQzogXCIjNjc4YzYxXCIsXG4gICAgICAgICAgTzogXCIjMmZjMDc5XCIsXG4gICAgICAgICAgTjogXCIjNGY3ZTdlXCIsXG4gICAgICAgICAgRjogXCIjOTBkNzYyXCIsXG4gICAgICAgICAgQ0w6IFwiIzgyZDk2N1wiLFxuICAgICAgICAgIEJSOiBcIiMyMzc1NWFcIixcbiAgICAgICAgICBJOiBcIiM0MDk5MzFcIixcbiAgICAgICAgICBQOiBcIiNjMWZmOGFcIixcbiAgICAgICAgICBTOiBcIiNmYWZmMDBcIixcbiAgICAgICAgICBCOiBcIiM1MGI0NWFcIixcbiAgICAgICAgICBTSTogXCIjNDA5OTMxXCIsXG4gICAgICAgICAgSDogXCIjNDI2NjQ0XCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmZmXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJnaXRodWJcIjoge1xuICAgICAgICAgIEM6IFwiIzI0MjkyZlwiLFxuICAgICAgICAgIE86IFwiI2NmMjIyZVwiLFxuICAgICAgICAgIE46IFwiIzA5NjlkYVwiLFxuICAgICAgICAgIEY6IFwiIzJkYTQ0ZVwiLFxuICAgICAgICAgIENMOiBcIiM2ZmRkOGJcIixcbiAgICAgICAgICBCUjogXCIjYmM0YzAwXCIsXG4gICAgICAgICAgSTogXCIjODI1MGRmXCIsXG4gICAgICAgICAgUDogXCIjYmYzOTg5XCIsXG4gICAgICAgICAgUzogXCIjZDRhNzJjXCIsXG4gICAgICAgICAgQjogXCIjZmI4ZjQ0XCIsXG4gICAgICAgICAgU0k6IFwiI2JjNGMwMFwiLFxuICAgICAgICAgIEg6IFwiIzU3NjA2YVwiLFxuICAgICAgICAgIEJBQ0tHUk9VTkQ6IFwiI2ZmZlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiY2FyYm9uXCI6IHtcbiAgICAgICAgICBDOiBcIiMxNjE2MTZcIixcbiAgICAgICAgICBPOiBcIiNkYTFlMjhcIixcbiAgICAgICAgICBOOiBcIiMwZjYyZmVcIixcbiAgICAgICAgICBGOiBcIiMxOTgwMzhcIixcbiAgICAgICAgICBDTDogXCIjMDA3ZDc5XCIsXG4gICAgICAgICAgQlI6IFwiI2ZhNGQ1NlwiLFxuICAgICAgICAgIEk6IFwiIzhhM2ZmY1wiLFxuICAgICAgICAgIFA6IFwiI2ZmODMyYlwiLFxuICAgICAgICAgIFM6IFwiI2YxYzIxYlwiLFxuICAgICAgICAgIEI6IFwiIzhhMzgwMFwiLFxuICAgICAgICAgIFNJOiBcIiNlNjdlMjJcIixcbiAgICAgICAgICBIOiBcIiM1MjUyNTJcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiNmZmZcIlxuICAgICAgICB9LFxuICAgICAgICBcImN5YmVycHVua1wiOiB7XG4gICAgICAgICAgQzogXCIjZWEwMGQ5XCIsXG4gICAgICAgICAgTzogXCIjZmYzMTMxXCIsXG4gICAgICAgICAgTjogXCIjMGFiZGM2XCIsXG4gICAgICAgICAgRjogXCIjMDBmZjlmXCIsXG4gICAgICAgICAgQ0w6IFwiIzAwZmUwMFwiLFxuICAgICAgICAgIEJSOiBcIiNmZTlmMjBcIixcbiAgICAgICAgICBJOiBcIiNmZjAwZmZcIixcbiAgICAgICAgICBQOiBcIiNmZTdmMDBcIixcbiAgICAgICAgICBTOiBcIiNmY2VlMGNcIixcbiAgICAgICAgICBCOiBcIiNmZjAwZmZcIixcbiAgICAgICAgICBTSTogXCIjZmZmZmZmXCIsXG4gICAgICAgICAgSDogXCIjOTEzY2IxXCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjZmZmXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJncnV2Ym94XCI6IHtcbiAgICAgICAgICBDOiBcIiM2NjVjNTRcIixcbiAgICAgICAgICBPOiBcIiNjYzI0MWRcIixcbiAgICAgICAgICBOOiBcIiM0NTg1ODhcIixcbiAgICAgICAgICBGOiBcIiM5ODk3MWFcIixcbiAgICAgICAgICBDTDogXCIjNzk3NDBlXCIsXG4gICAgICAgICAgQlI6IFwiI2Q2NWQwZVwiLFxuICAgICAgICAgIEk6IFwiI2IxNjI4NlwiLFxuICAgICAgICAgIFA6IFwiI2FmM2EwM1wiLFxuICAgICAgICAgIFM6IFwiI2Q3OTkyMVwiLFxuICAgICAgICAgIEI6IFwiIzY4OWQ2YVwiLFxuICAgICAgICAgIFNJOiBcIiM0MjdiNThcIixcbiAgICAgICAgICBIOiBcIiM3YzZmNjRcIixcbiAgICAgICAgICBCQUNLR1JPVU5EOiBcIiNmYmYxYzdcIlxuICAgICAgICB9LFxuICAgICAgICBcImdydXZib3gtZGFya1wiOiB7XG4gICAgICAgICAgQzogXCIjZWJkYmIyXCIsXG4gICAgICAgICAgTzogXCIjY2MyNDFkXCIsXG4gICAgICAgICAgTjogXCIjNDU4NTg4XCIsXG4gICAgICAgICAgRjogXCIjOTg5NzFhXCIsXG4gICAgICAgICAgQ0w6IFwiI2I4YmIyNlwiLFxuICAgICAgICAgIEJSOiBcIiNkNjVkMGVcIixcbiAgICAgICAgICBJOiBcIiNiMTYyODZcIixcbiAgICAgICAgICBQOiBcIiNmZTgwMTlcIixcbiAgICAgICAgICBTOiBcIiNkNzk5MjFcIixcbiAgICAgICAgICBCOiBcIiM4ZWMwN2NcIixcbiAgICAgICAgICBTSTogXCIjODNhNTk4XCIsXG4gICAgICAgICAgSDogXCIjYmRhZTkzXCIsXG4gICAgICAgICAgQkFDS0dST1VORDogXCIjMjgyODI4XCJcbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9tOiB7XG4gICAgICAgICAgQzogJyMyMjInLFxuICAgICAgICAgIE86ICcjZTc0YzNjJyxcbiAgICAgICAgICBOOiAnIzM0OThkYicsXG4gICAgICAgICAgRjogJyMyN2FlNjAnLFxuICAgICAgICAgIENMOiAnIzE2YTA4NScsXG4gICAgICAgICAgQlI6ICcjZDM1NDAwJyxcbiAgICAgICAgICBJOiAnIzhlNDRhZCcsXG4gICAgICAgICAgUDogJyNkMzU0MDAnLFxuICAgICAgICAgIFM6ICcjZjFjNDBmJyxcbiAgICAgICAgICBCOiAnI2U2N2UyMicsXG4gICAgICAgICAgU0k6ICcjZTY3ZTIyJyxcbiAgICAgICAgICBIOiAnIzY2NicsXG4gICAgICAgICAgQkFDS0dST1VORDogJyNmZmYnXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub3B0cyA9IE9wdGlvbnMuZXh0ZW5kKHRydWUsIHRoaXMuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIHRoaXMub3B0cy5oYWxmQm9uZFNwYWNpbmcgPSB0aGlzLm9wdHMuYm9uZFNwYWNpbmcgLyAyLjA7XG4gICAgdGhpcy5vcHRzLmJvbmRMZW5ndGhTcSA9IHRoaXMub3B0cy5ib25kTGVuZ3RoICogdGhpcy5vcHRzLmJvbmRMZW5ndGg7XG4gICAgdGhpcy5vcHRzLmhhbGZGb250U2l6ZUxhcmdlID0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgLyAyLjA7XG4gICAgdGhpcy5vcHRzLnF1YXJ0ZXJGb250U2l6ZUxhcmdlID0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgLyA0LjA7XG4gICAgdGhpcy5vcHRzLmZpZnRoRm9udFNpemVTbWFsbCA9IHRoaXMub3B0cy5mb250U2l6ZVNtYWxsIC8gNS4wO1xuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0IHRoZW1lLlxuICAgIHRoaXMudGhlbWUgPSB0aGlzLm9wdHMudGhlbWVzLmRhcms7XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHBhcnNlZCBzbWlsZXMgZGF0YSB0byBhIGNhbnZhcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgdHJlZSByZXR1cm5lZCBieSB0aGUgc21pbGVzIHBhcnNlci5cbiAgICogQHBhcmFtIHsoU3RyaW5nfEhUTUxDYW52YXNFbGVtZW50KX0gdGFyZ2V0IFRoZSBpZCBvZiB0aGUgSFRNTCBjYW52YXMgZWxlbWVudCB0aGUgc3RydWN0dXJlIGlzIGRyYXduIHRvIC0gb3IgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGhlbWVOYW1lPSdkYXJrJyBUaGUgbmFtZSBvZiB0aGUgdGhlbWUgdG8gdXNlLiBCdWlsdC1pbiB0aGVtZXMgYXJlICdsaWdodCcgYW5kICdkYXJrJy5cbiAgICogQHBhcmFtIHtCb29sZWFufSBpbmZvT25seT1mYWxzZSBPbmx5IG91dHB1dCBpbmZvIG9uIHRoZSBtb2xlY3VsZSB3aXRob3V0IGRyYXdpbmcgYW55dGhpbmcgdG8gdGhlIGNhbnZhcy5cbiAgICovXG4gIGRyYXcoZGF0YSwgdGFyZ2V0LCB0aGVtZU5hbWUgPSAnbGlnaHQnLCBpbmZvT25seSA9IGZhbHNlKSB7XG4gICAgdGhpcy5pbml0RHJhdyhkYXRhLCB0aGVtZU5hbWUsIGluZm9Pbmx5KTtcblxuICAgIGlmICghdGhpcy5pbmZvT25seSkge1xuICAgICAgdGhpcy50aGVtZU1hbmFnZXIgPSBuZXcgVGhlbWVNYW5hZ2VyKHRoaXMub3B0cy50aGVtZXMsIHRoZW1lTmFtZSk7XG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIgPSBuZXcgQ2FudmFzV3JhcHBlcih0YXJnZXQsIHRoaXMudGhlbWVNYW5hZ2VyLCB0aGlzLm9wdHMpO1xuICAgIH1cblxuICAgIGlmICghaW5mb09ubHkpIHtcbiAgICAgIHRoaXMucHJvY2Vzc0dyYXBoKCk7XG5cbiAgICAgIC8vIFNldCB0aGUgY2FudmFzIHRvIHRoZSBhcHByb3ByaWF0ZSBzaXplXG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuc2NhbGUodGhpcy5ncmFwaC52ZXJ0aWNlcyk7XG5cbiAgICAgIC8vIERvIHRoZSBhY3R1YWwgZHJhd2luZ1xuICAgICAgdGhpcy5kcmF3RWRnZXModGhpcy5vcHRzLmRlYnVnKTtcbiAgICAgIHRoaXMuZHJhd1ZlcnRpY2VzKHRoaXMub3B0cy5kZWJ1Zyk7XG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIucmVzZXQoKTtcblxuICAgICAgaWYgKHRoaXMub3B0cy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdyYXBoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5yaW5ncyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmluZ0Nvbm5lY3Rpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHJpbmdzIHRoaXMgZWRnZSBpcyBhIHBhcnQgb2YuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlZGdlSWQgVGhlIGlkIG9mIGFuIGVkZ2UuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgcmluZ3MgdGhlIHByb3ZpZGVkIGVkZ2UgaXMgcGFydCBvZi5cbiAgICovXG4gIGVkZ2VSaW5nQ291bnQoZWRnZUlkKSB7XG4gICAgbGV0IGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzW2VkZ2VJZF07XG4gICAgbGV0IGEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2Uuc291cmNlSWRdO1xuICAgIGxldCBiID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXTtcblxuICAgIHJldHVybiBNYXRoLm1pbihhLnZhbHVlLnJpbmdzLmxlbmd0aCwgYi52YWx1ZS5yaW5ncy5sZW5ndGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgYnJpZGdlZCByaW5ncyBhc3NvY2lhdGVkIHdpdGggdGhpcyAgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtSaW5nW119IEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGJyaWRnZWQgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9sZWN1bGUuXG4gICAqL1xuICBnZXRCcmlkZ2VkUmluZ3MoKSB7XG4gICAgbGV0IGJyaWRnZWRSaW5ncyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzQnJpZGdlZCkge1xuICAgICAgICBicmlkZ2VkUmluZ3MucHVzaCh0aGlzLnJpbmdzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnJpZGdlZFJpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgZnVzZWQgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtSaW5nW119IEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGZ1c2VkIHJpbmdzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vbGVjdWxlLlxuICAgKi9cbiAgZ2V0RnVzZWRSaW5ncygpIHtcbiAgICBsZXQgZnVzZWRSaW5ncyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzRnVzZWQpIHtcbiAgICAgICAgZnVzZWRSaW5ncy5wdXNoKHRoaXMucmluZ3NbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdXNlZFJpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgc3Bpcm9zIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vbGVjdWxlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UmluZ1tdfSBBbiBhcnJheSBjb250YWluaW5nIGFsbCBzcGlyb3MgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9sZWN1bGUuXG4gICAqL1xuICBnZXRTcGlyb3MoKSB7XG4gICAgbGV0IHNwaXJvcyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzU3Bpcm8pIHtcbiAgICAgICAgc3Bpcm9zLnB1c2godGhpcy5yaW5nc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwaXJvcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBzZW1pY29sb24gYW5kIG5ldy1saW5lIHNlcGFyYXRlZCBsaXN0IG9mIHJpbmcgcHJvcGVydGllczogSWQ7IE1lbWJlcnMgQ291bnQ7IE5laWdoYm91cnMgQ291bnQ7IElzU3Bpcm87IElzRnVzZWQ7IElzQnJpZGdlZDsgUmluZyBDb3VudCAoc3VicmluZ3Mgb2YgYnJpZGdlZCByaW5ncylcbiAgICpcbiAgICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgYXMgZGVzY3JpYmVkIGluIHRoZSBtZXRob2QgZGVzY3JpcHRpb24uXG4gICAqL1xuICBwcmludFJpbmdJbmZvKCkge1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuXG4gICAgICByZXN1bHQgKz0gcmluZy5pZCArICc7JztcbiAgICAgIHJlc3VsdCArPSByaW5nLm1lbWJlcnMubGVuZ3RoICsgJzsnO1xuICAgICAgcmVzdWx0ICs9IHJpbmcubmVpZ2hib3Vycy5sZW5ndGggKyAnOyc7XG4gICAgICByZXN1bHQgKz0gcmluZy5pc1NwaXJvID8gJ3RydWU7JyA6ICdmYWxzZTsnXG4gICAgICByZXN1bHQgKz0gcmluZy5pc0Z1c2VkID8gJ3RydWU7JyA6ICdmYWxzZTsnXG4gICAgICByZXN1bHQgKz0gcmluZy5pc0JyaWRnZWQgPyAndHJ1ZTsnIDogJ2ZhbHNlOydcbiAgICAgIHJlc3VsdCArPSByaW5nLnJpbmdzLmxlbmd0aCArICc7JztcbiAgICAgIHJlc3VsdCArPSAnXFxuJztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZXMgdGhlIGRyYXdpbmcgdG8gbWFrZSB0aGUgd2lkZXN0IGRpbWVuc2lvbiBob3Jpem9udGFsLlxuICAgKi9cbiAgcm90YXRlRHJhd2luZygpIHtcbiAgICAvLyBSb3RhdGUgdGhlIHZlcnRpY2VzIHRvIG1ha2UgdGhlIG1vbGVjdWxlIGFsaWduIGhvcml6b250YWxseVxuICAgIC8vIEZpbmQgdGhlIGxvbmdlc3QgZGlzdGFuY2VcbiAgICBsZXQgYSA9IDA7XG4gICAgbGV0IGIgPSAwO1xuICAgIGxldCBtYXhEaXN0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXhBID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKCF2ZXJ0ZXhBLnZhbHVlLmlzRHJhd24pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2pdO1xuXG4gICAgICAgIGlmICghdmVydGV4Qi52YWx1ZS5pc0RyYXduKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGlzdCA9IHZlcnRleEEucG9zaXRpb24uZGlzdGFuY2VTcSh2ZXJ0ZXhCLnBvc2l0aW9uKTtcblxuICAgICAgICBpZiAoZGlzdCA+IG1heERpc3QpIHtcbiAgICAgICAgICBtYXhEaXN0ID0gZGlzdDtcbiAgICAgICAgICBhID0gaTtcbiAgICAgICAgICBiID0gajtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBhbmdsZSA9IC1WZWN0b3IyLnN1YnRyYWN0KHRoaXMuZ3JhcGgudmVydGljZXNbYV0ucG9zaXRpb24sIHRoaXMuZ3JhcGgudmVydGljZXNbYl0ucG9zaXRpb24pLmFuZ2xlKCk7XG5cbiAgICBpZiAoIWlzTmFOKGFuZ2xlKSkge1xuICAgICAgLy8gUm91bmQgdG8gMzAgZGVncmVlc1xuICAgICAgbGV0IHJlbWFpbmRlciA9IGFuZ2xlICUgMC41MjM1OTk7XG5cbiAgICAgIC8vIFJvdW5kIGVpdGhlciB1cCBvciBkb3duIGluIDMwIGRlZ3JlZSBzdGVwc1xuICAgICAgaWYgKHJlbWFpbmRlciA8IDAuMjYxNzk5NSkge1xuICAgICAgICBhbmdsZSA9IGFuZ2xlIC0gcmVtYWluZGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5nbGUgKz0gMC41MjM1OTkgLSByZW1haW5kZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmFsbHksIHJvdGF0ZSBldmVyeXRoaW5nXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPT09IGIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGgudmVydGljZXNbaV0ucG9zaXRpb24ucm90YXRlQXJvdW5kKGFuZ2xlLCB0aGlzLmdyYXBoLnZlcnRpY2VzW2JdLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucmluZ3NbaV0uY2VudGVyLnJvdGF0ZUFyb3VuZChhbmdsZSwgdGhpcy5ncmFwaC52ZXJ0aWNlc1tiXS5wb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRvdGFsIG92ZXJsYXAgc2NvcmUgb2YgdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBvdmVybGFwIHNjb3JlLlxuICAgKi9cbiAgZ2V0VG90YWxPdmVybGFwU2NvcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG90YWxPdmVybGFwU2NvcmU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmluZyBjb3VudCBvZiB0aGUgY3VycmVudCBtb2xlY3VsZS5cbiAgICpcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIHJpbmcgY291bnQuXG4gICAqL1xuICBnZXRSaW5nQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmluZ3MubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGUgY3VycmVudCBtb2xlY3VsZSAgYSBicmlkZ2VkIHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgY3VycmVudCBtb2xlY3VsZSAgYSBicmlkZ2VkIHJpbmcuXG4gICAqL1xuICBoYXNCcmlkZ2VkUmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5icmlkZ2VkUmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgaGVhdnkgYXRvbXMgKG5vbi1oeWRyb2dlbikgaW4gdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBoZWF2eSBhdG9tIGNvdW50LlxuICAgKi9cbiAgZ2V0SGVhdnlBdG9tQ291bnQoKSB7XG4gICAgbGV0IGhhYyA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmdyYXBoLnZlcnRpY2VzW2ldLnZhbHVlLmVsZW1lbnQgIT09ICdIJykge1xuICAgICAgICBoYWMrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaGFjO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1vbGVjdWxhciBmb3JtdWxhIG9mIHRoZSBsb2FkZWQgbW9sZWN1bGUgYXMgYSBzdHJpbmcuXG4gICAqIFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbW9sZWN1bGFyIGZvcm11bGEuXG4gICAqL1xuICBnZXRNb2xlY3VsYXJGb3JtdWxhKGRhdGEgPSBudWxsKSB7XG4gICAgbGV0IG1vbGVjdWxhckZvcm11bGEgPSAnJztcbiAgICBsZXQgY291bnRzID0gbmV3IE1hcCgpO1xuXG4gICAgbGV0IGdyYXBoID0gZGF0YSA9PT0gbnVsbCA/IHRoaXMuZ3JhcGggOiBuZXcgR3JhcGgoZGF0YSwgdGhpcy5vcHRzLmlzb21lcmljKTtcblxuICAgIC8vIEluaXRpYWxpemUgZWxlbWVudCBjb3VudFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBhdG9tID0gZ3JhcGgudmVydGljZXNbaV0udmFsdWU7XG5cbiAgICAgIGlmIChjb3VudHMuaGFzKGF0b20uZWxlbWVudCkpIHtcbiAgICAgICAgY291bnRzLnNldChhdG9tLmVsZW1lbnQsIGNvdW50cy5nZXQoYXRvbS5lbGVtZW50KSArIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY291bnRzLnNldChhdG9tLmVsZW1lbnQsIDEpO1xuICAgICAgfVxuXG4gICAgICAvLyBIeWRyb2dlbnMgYXR0YWNoZWQgdG8gYSBjaGlyYWwgY2VudGVyIHdlcmUgYWRkZWQgYXMgdmVydGljZXMsXG4gICAgICAvLyB0aG9zZSBpbiBub24gY2hpcmFsIGJyYWNrZXRzIGFyZSBhZGRlZCBoZXJlXG4gICAgICBpZiAoYXRvbS5icmFja2V0ICYmICFhdG9tLmJyYWNrZXQuY2hpcmFsaXR5KSB7XG4gICAgICAgIGlmIChjb3VudHMuaGFzKCdIJykpIHtcbiAgICAgICAgICBjb3VudHMuc2V0KCdIJywgY291bnRzLmdldCgnSCcpICsgYXRvbS5icmFja2V0Lmhjb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnRzLnNldCgnSCcsIGF0b20uYnJhY2tldC5oY291bnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCB0aGUgaW1wbGljaXQgaHlkcm9nZW5zIGFjY29yZGluZyB0byB2YWxlbmN5LCBleGNsdWRlXG4gICAgICAvLyBicmFja2V0IGF0b21zIGFzIHRoZXkgd2VyZSBoYW5kbGVkIGFuZCBhbHdheXMgaGF2ZSB0aGUgbnVtYmVyXG4gICAgICAvLyBvZiBoeWRyb2dlbnMgc3BlY2lmaWVkIGV4cGxpY2l0bHlcbiAgICAgIGlmICghYXRvbS5icmFja2V0KSB7XG4gICAgICAgIGxldCBuSHlkcm9nZW5zID0gQXRvbS5tYXhCb25kc1thdG9tLmVsZW1lbnRdIC0gYXRvbS5ib25kQ291bnQ7XG5cbiAgICAgICAgaWYgKGF0b20uaXNQYXJ0T2ZBcm9tYXRpY1JpbmcpIHtcbiAgICAgICAgICBuSHlkcm9nZW5zLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY291bnRzLmhhcygnSCcpKSB7XG4gICAgICAgICAgY291bnRzLnNldCgnSCcsIGNvdW50cy5nZXQoJ0gnKSArIG5IeWRyb2dlbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50cy5zZXQoJ0gnLCBuSHlkcm9nZW5zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb3VudHMuaGFzKCdDJykpIHtcbiAgICAgIGxldCBjb3VudCA9IGNvdW50cy5nZXQoJ0MnKTtcbiAgICAgIG1vbGVjdWxhckZvcm11bGEgKz0gJ0MnICsgKGNvdW50ID4gMSA/IGNvdW50IDogJycpO1xuICAgICAgY291bnRzLmRlbGV0ZSgnQycpO1xuICAgIH1cblxuICAgIGlmIChjb3VudHMuaGFzKCdIJykpIHtcbiAgICAgIGxldCBjb3VudCA9IGNvdW50cy5nZXQoJ0gnKTtcbiAgICAgIG1vbGVjdWxhckZvcm11bGEgKz0gJ0gnICsgKGNvdW50ID4gMSA/IGNvdW50IDogJycpO1xuICAgICAgY291bnRzLmRlbGV0ZSgnSCcpO1xuICAgIH1cblxuICAgIGxldCBlbGVtZW50cyA9IE9iamVjdC5rZXlzKEF0b20uYXRvbWljTnVtYmVycykuc29ydCgpO1xuXG4gICAgZWxlbWVudHMubWFwKGUgPT4ge1xuICAgICAgaWYgKGNvdW50cy5oYXMoZSkpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gY291bnRzLmdldChlKTtcbiAgICAgICAgbW9sZWN1bGFyRm9ybXVsYSArPSBlICsgKGNvdW50ID4gMSA/IGNvdW50IDogJycpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vbGVjdWxhckZvcm11bGE7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdHlwZSBvZiB0aGUgcmluZ2JvbmQgKGUuZy4gJz0nIGZvciBhIGRvdWJsZSBib25kKS4gVGhlIHJpbmdib25kIHJlcHJlc2VudHMgdGhlIGJyZWFrIGluIGEgcmluZyBpbnRyb2R1Y2VkIHdoZW4gY3JlYXRpbmcgdGhlIE1TVC4gSWYgdGhlIHR3byB2ZXJ0aWNlcyBzdXBwbGllZCBhcyBhcmd1bWVudHMgYXJlIG5vdCBwYXJ0IG9mIGEgY29tbW9uIHJpbmdib25kLCB0aGUgbWV0aG9kIHJldHVybnMgbnVsbC5cbiAgICpcbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleEEgQSB2ZXJ0ZXguXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhCIEEgdmVydGV4LlxuICAgKiBAcmV0dXJucyB7KFN0cmluZ3xudWxsKX0gUmV0dXJucyB0aGUgcmluZ2JvbmQgdHlwZSBvciBudWxsLCBpZiB0aGUgdHdvIHN1cHBsaWVkIHZlcnRpY2VzIGFyZSBub3QgY29ubmVjdGVkIGJ5IGEgcmluZ2JvbmQuXG4gICAqL1xuICBnZXRSaW5nYm9uZFR5cGUodmVydGV4QSwgdmVydGV4Qikge1xuICAgIC8vIENoZWNrcyB3aGV0aGVyIHRoZSB0d28gdmVydGljZXMgYXJlIHRoZSBvbmVzIGNvbm5lY3RpbmcgdGhlIHJpbmdcbiAgICAvLyBhbmQgd2hhdCB0aGUgYm9uZCB0eXBlIHNob3VsZCBiZS5cbiAgICBpZiAodmVydGV4QS52YWx1ZS5nZXRSaW5nYm9uZENvdW50KCkgPCAxIHx8IHZlcnRleEIudmFsdWUuZ2V0UmluZ2JvbmRDb3VudCgpIDwgMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhBLnZhbHVlLnJpbmdib25kcy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2ZXJ0ZXhCLnZhbHVlLnJpbmdib25kcy5sZW5ndGg7IGorKykge1xuICAgICAgICAvLyBpZihpICE9IGopIGNvbnRpbnVlO1xuICAgICAgICBpZiAodmVydGV4QS52YWx1ZS5yaW5nYm9uZHNbaV0uaWQgPT09IHZlcnRleEIudmFsdWUucmluZ2JvbmRzW2pdLmlkKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGJvbmRzIGFyZSBlcXVhbCwgaXQgZG9lc24ndCBtYXR0ZXIgd2hpY2ggYm9uZCBpcyByZXR1cm5lZC5cbiAgICAgICAgICAvLyBpZiB0aGV5IGFyZSBub3QgZXF1YWwsIHJldHVybiB0aGUgb25lIHRoYXQgaXMgbm90IHRoZSBkZWZhdWx0IChcIi1cIilcbiAgICAgICAgICBpZiAodmVydGV4QS52YWx1ZS5yaW5nYm9uZHNbaV0uYm9uZFR5cGUgPT09ICctJykge1xuICAgICAgICAgICAgcmV0dXJuIHZlcnRleEIudmFsdWUucmluZ2JvbmRzW2pdLmJvbmQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0ZXhBLnZhbHVlLnJpbmdib25kc1tpXS5ib25kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaW5pdERyYXcoZGF0YSwgdGhlbWVOYW1lLCBpbmZvT25seSwgaGlnaGxpZ2h0X2F0b21zKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmluZm9Pbmx5ID0gaW5mb09ubHk7XG5cbiAgICB0aGlzLnJpbmdJZENvdW50ZXIgPSAwO1xuICAgIHRoaXMucmluZ0Nvbm5lY3Rpb25JZENvdW50ZXIgPSAwO1xuXG4gICAgdGhpcy5ncmFwaCA9IG5ldyBHcmFwaChkYXRhLCB0aGlzLm9wdHMuaXNvbWVyaWMpO1xuICAgIHRoaXMucmluZ3MgPSBBcnJheSgpO1xuICAgIHRoaXMucmluZ0Nvbm5lY3Rpb25zID0gQXJyYXkoKTtcblxuICAgIHRoaXMub3JpZ2luYWxSaW5ncyA9IEFycmF5KCk7XG4gICAgdGhpcy5vcmlnaW5hbFJpbmdDb25uZWN0aW9ucyA9IEFycmF5KCk7XG5cbiAgICB0aGlzLmJyaWRnZWRSaW5nID0gZmFsc2U7XG5cbiAgICAvLyBSZXNldCB0aG9zZSwgaW4gY2FzZSB0aGUgcHJldmlvdXMgZHJhd24gU01JTEVTIGhhZCBhIGRhbmdsaW5nIFxcIG9yIC9cbiAgICB0aGlzLmRvdWJsZUJvbmRDb25maWdDb3VudCA9IG51bGw7XG4gICAgdGhpcy5kb3VibGVCb25kQ29uZmlnID0gbnVsbDtcblxuICAgIHRoaXMuaGlnaGxpZ2h0X2F0b21zID0gaGlnaGxpZ2h0X2F0b21zXG5cbiAgICB0aGlzLmluaXRSaW5ncygpO1xuICAgIHRoaXMuaW5pdEh5ZHJvZ2VucygpO1xuICB9XG5cbiAgcHJvY2Vzc0dyYXBoKCkge1xuICAgIHRoaXMucG9zaXRpb24oKTtcblxuICAgIC8vIFJlc3RvcmUgdGhlIHJpbmcgaW5mb3JtYXRpb24gKHJlbW92ZXMgYnJpZGdlZCByaW5ncyBhbmQgcmVwbGFjZXMgdGhlbSB3aXRoIHRoZSBvcmlnaW5hbCwgbXVsdGlwbGUsIHJpbmdzKVxuICAgIHRoaXMucmVzdG9yZVJpbmdJbmZvcm1hdGlvbigpO1xuXG4gICAgLy8gQXRvbXMgYm9uZGVkIHRvIHRoZSBzYW1lIHJpbmcgYXRvbVxuICAgIHRoaXMucmVzb2x2ZVByaW1hcnlPdmVybGFwcygpO1xuXG4gICAgbGV0IG92ZXJsYXBTY29yZSA9IHRoaXMuZ2V0T3ZlcmxhcFNjb3JlKCk7XG5cbiAgICB0aGlzLnRvdGFsT3ZlcmxhcFNjb3JlID0gdGhpcy5nZXRPdmVybGFwU2NvcmUoKS50b3RhbDtcblxuICAgIGZvciAodmFyIG8gPSAwOyBvIDwgdGhpcy5vcHRzLm92ZXJsYXBSZXNvbHV0aW9uSXRlcmF0aW9uczsgbysrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGguZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzW2ldO1xuICAgICAgICBpZiAodGhpcy5pc0VkZ2VSb3RhdGFibGUoZWRnZSkpIHtcbiAgICAgICAgICBsZXQgc3ViVHJlZURlcHRoQSA9IHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKGVkZ2Uuc291cmNlSWQsIGVkZ2UudGFyZ2V0SWQpO1xuICAgICAgICAgIGxldCBzdWJUcmVlRGVwdGhCID0gdGhpcy5ncmFwaC5nZXRUcmVlRGVwdGgoZWRnZS50YXJnZXRJZCwgZWRnZS5zb3VyY2VJZCk7XG5cbiAgICAgICAgICAvLyBPbmx5IHJvdGF0ZSB0aGUgc2hvcnRlciBzdWJ0cmVlXG4gICAgICAgICAgbGV0IGEgPSBlZGdlLnRhcmdldElkO1xuICAgICAgICAgIGxldCBiID0gZWRnZS5zb3VyY2VJZDtcblxuICAgICAgICAgIGlmIChzdWJUcmVlRGVwdGhBID4gc3ViVHJlZURlcHRoQikge1xuICAgICAgICAgICAgYSA9IGVkZ2Uuc291cmNlSWQ7XG4gICAgICAgICAgICBiID0gZWRnZS50YXJnZXRJZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgc3ViVHJlZU92ZXJsYXAgPSB0aGlzLmdldFN1YnRyZWVPdmVybGFwU2NvcmUoYiwgYSwgb3ZlcmxhcFNjb3JlLnZlcnRleFNjb3Jlcyk7XG4gICAgICAgICAgaWYgKHN1YlRyZWVPdmVybGFwLnZhbHVlID4gdGhpcy5vcHRzLm92ZXJsYXBTZW5zaXRpdml0eSkge1xuICAgICAgICAgICAgbGV0IHZlcnRleEEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2FdO1xuICAgICAgICAgICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2JdO1xuICAgICAgICAgICAgbGV0IG5laWdoYm91cnNCID0gdmVydGV4Qi5nZXROZWlnaGJvdXJzKGEpO1xuXG4gICAgICAgICAgICBpZiAobmVpZ2hib3Vyc0IubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIGxldCBuZWlnaGJvdXIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNCWzBdXTtcbiAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gbmVpZ2hib3VyLnBvc2l0aW9uLmdldFJvdGF0ZUF3YXlGcm9tQW5nbGUodmVydGV4QS5wb3NpdGlvbiwgdmVydGV4Qi5wb3NpdGlvbiwgTWF0aEhlbHBlci50b1JhZCgxMjApKTtcblxuICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUobmVpZ2hib3VyLmlkLCB2ZXJ0ZXhCLmlkLCBhbmdsZSwgdmVydGV4Qi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBuZXcgb3ZlcmxhcCBpcyBiaWdnZXIsIHVuZG8gY2hhbmdlXG4gICAgICAgICAgICAgIGxldCBuZXdUb3RhbE92ZXJsYXBTY29yZSA9IHRoaXMuZ2V0T3ZlcmxhcFNjb3JlKCkudG90YWw7XG5cbiAgICAgICAgICAgICAgaWYgKG5ld1RvdGFsT3ZlcmxhcFNjb3JlID4gdGhpcy50b3RhbE92ZXJsYXBTY29yZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShuZWlnaGJvdXIuaWQsIHZlcnRleEIuaWQsIC1hbmdsZSwgdmVydGV4Qi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbE92ZXJsYXBTY29yZSA9IG5ld1RvdGFsT3ZlcmxhcFNjb3JlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5laWdoYm91cnNCLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAvLyBTd2l0Y2ggcGxhY2VzIC8gc2lkZXNcbiAgICAgICAgICAgICAgLy8gSWYgdmVydGV4IGEgaXMgaW4gYSByaW5nLCBkbyBub3RoaW5nXG4gICAgICAgICAgICAgIGlmICh2ZXJ0ZXhCLnZhbHVlLnJpbmdzLmxlbmd0aCAhPT0gMCAmJiB2ZXJ0ZXhBLnZhbHVlLnJpbmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbGV0IG5laWdoYm91ckEgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNCWzBdXTtcbiAgICAgICAgICAgICAgbGV0IG5laWdoYm91ckIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNCWzFdXTtcblxuICAgICAgICAgICAgICBpZiAobmVpZ2hib3VyQS52YWx1ZS5yaW5ncy5sZW5ndGggPT09IDEgJiYgbmVpZ2hib3VyQi52YWx1ZS5yaW5ncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBCb3RoIG5laWdoYm91cnMgaW4gc2FtZSByaW5nLiBUT0RPOiBkb2VzIHRoaXMgY3JlYXRlIHByb2JsZW1zIHdpdGggd2VkZ2VzPyAodXAgPSBkb3duIGFuZCB2aWNlIHZlcnNhPylcbiAgICAgICAgICAgICAgICBpZiAobmVpZ2hib3VyQS52YWx1ZS5yaW5nc1swXSAhPT0gbmVpZ2hib3VyQi52YWx1ZS5yaW5nc1swXSkge1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJvdGF0ZSBjaXJjbGVcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZWlnaGJvdXJBLnZhbHVlLnJpbmdzLmxlbmd0aCAhPT0gMCB8fCBuZWlnaGJvdXJCLnZhbHVlLnJpbmdzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBhbmdsZUEgPSBuZWlnaGJvdXJBLnBvc2l0aW9uLmdldFJvdGF0ZUF3YXlGcm9tQW5nbGUodmVydGV4QS5wb3NpdGlvbiwgdmVydGV4Qi5wb3NpdGlvbiwgTWF0aEhlbHBlci50b1JhZCgxMjApKTtcbiAgICAgICAgICAgICAgICBsZXQgYW5nbGVCID0gbmVpZ2hib3VyQi5wb3NpdGlvbi5nZXRSb3RhdGVBd2F5RnJvbUFuZ2xlKHZlcnRleEEucG9zaXRpb24sIHZlcnRleEIucG9zaXRpb24sIE1hdGhIZWxwZXIudG9SYWQoMTIwKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUobmVpZ2hib3VyQS5pZCwgdmVydGV4Qi5pZCwgYW5nbGVBLCB2ZXJ0ZXhCLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUobmVpZ2hib3VyQi5pZCwgdmVydGV4Qi5pZCwgYW5nbGVCLCB2ZXJ0ZXhCLnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIGxldCBuZXdUb3RhbE92ZXJsYXBTY29yZSA9IHRoaXMuZ2V0T3ZlcmxhcFNjb3JlKCkudG90YWw7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3VG90YWxPdmVybGFwU2NvcmUgPiB0aGlzLnRvdGFsT3ZlcmxhcFNjb3JlKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUobmVpZ2hib3VyQS5pZCwgdmVydGV4Qi5pZCwgLWFuZ2xlQSwgdmVydGV4Qi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUobmVpZ2hib3VyQi5pZCwgdmVydGV4Qi5pZCwgLWFuZ2xlQiwgdmVydGV4Qi5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxPdmVybGFwU2NvcmUgPSBuZXdUb3RhbE92ZXJsYXBTY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3ZlcmxhcFNjb3JlID0gdGhpcy5nZXRPdmVybGFwU2NvcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlc29sdmVTZWNvbmRhcnlPdmVybGFwcyhvdmVybGFwU2NvcmUuc2NvcmVzKTtcblxuICAgIGlmICh0aGlzLm9wdHMuaXNvbWVyaWMpIHtcbiAgICAgIHRoaXMuYW5ub3RhdGVTdGVyZW9jaGVtaXN0cnkoKTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHBzZXVkbyBlbGVtZW50cyBvciBzaG9ydGN1dHNcbiAgICBpZiAodGhpcy5vcHRzLmNvbXBhY3REcmF3aW5nICYmIHRoaXMub3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICB0aGlzLmluaXRQc2V1ZG9FbGVtZW50cygpO1xuICAgIH1cblxuICAgIHRoaXMucm90YXRlRHJhd2luZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHJpbmdzIGFuZCByaW5nYm9uZHMgZm9yIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxuICAgKi9cbiAgaW5pdFJpbmdzKCkge1xuICAgIGxldCBvcGVuQm9uZHMgPSBuZXcgTWFwKCk7XG5cbiAgICAvLyBDbG9zZSB0aGUgb3BlbiByaW5nIGJvbmRzIChzcGFubmluZyB0cmVlIC0+IGdyYXBoKVxuICAgIGZvciAodmFyIGkgPSB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHZlcnRleC52YWx1ZS5yaW5nYm9uZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZlcnRleC52YWx1ZS5yaW5nYm9uZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHJpbmdib25kSWQgPSB2ZXJ0ZXgudmFsdWUucmluZ2JvbmRzW2pdLmlkO1xuICAgICAgICBsZXQgcmluZ2JvbmRCb25kID0gdmVydGV4LnZhbHVlLnJpbmdib25kc1tqXS5ib25kO1xuXG4gICAgICAgIC8vIElmIHRoZSBvdGhlciByaW5nYm9uZCBpZCBoYXMgbm90IGJlZW4gZGlzY292ZXJlZCxcbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBvcGVuIGJvbmRzIG1hcCBhbmQgY29udGludWUuXG4gICAgICAgIC8vIGlmIHRoZSBvdGhlciByaW5nYm9uZCBpZCBoYXMgYWxyZWFkeSBiZWVuIGRpc2NvdmVyZWQsXG4gICAgICAgIC8vIGNyZWF0ZSBhIGJvbmQgYmV0d2VlbiB0aGUgdHdvIGF0b21zLlxuICAgICAgICBpZiAoIW9wZW5Cb25kcy5oYXMocmluZ2JvbmRJZCkpIHtcbiAgICAgICAgICBvcGVuQm9uZHMuc2V0KHJpbmdib25kSWQsIFt2ZXJ0ZXguaWQsIHJpbmdib25kQm9uZF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBzb3VyY2VWZXJ0ZXhJZCA9IHZlcnRleC5pZDtcbiAgICAgICAgICBsZXQgdGFyZ2V0VmVydGV4SWQgPSBvcGVuQm9uZHMuZ2V0KHJpbmdib25kSWQpWzBdO1xuICAgICAgICAgIGxldCB0YXJnZXRSaW5nYm9uZEJvbmQgPSBvcGVuQm9uZHMuZ2V0KHJpbmdib25kSWQpWzFdO1xuICAgICAgICAgIGxldCBlZGdlID0gbmV3IEVkZ2Uoc291cmNlVmVydGV4SWQsIHRhcmdldFZlcnRleElkLCAxKTtcbiAgICAgICAgICBlZGdlLnNldEJvbmRUeXBlKHRhcmdldFJpbmdib25kQm9uZCB8fCByaW5nYm9uZEJvbmQgfHwgJy0nKTtcbiAgICAgICAgICBsZXQgZWRnZUlkID0gdGhpcy5ncmFwaC5hZGRFZGdlKGVkZ2UpO1xuICAgICAgICAgIGxldCB0YXJnZXRWZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3RhcmdldFZlcnRleElkXTtcblxuICAgICAgICAgIHZlcnRleC5hZGRSaW5nYm9uZENoaWxkKHRhcmdldFZlcnRleElkLCBqKTtcbiAgICAgICAgICB2ZXJ0ZXgudmFsdWUuYWRkTmVpZ2hib3VyaW5nRWxlbWVudCh0YXJnZXRWZXJ0ZXgudmFsdWUuZWxlbWVudCk7XG4gICAgICAgICAgdGFyZ2V0VmVydGV4LmFkZFJpbmdib25kQ2hpbGQoc291cmNlVmVydGV4SWQsIGopO1xuICAgICAgICAgIHRhcmdldFZlcnRleC52YWx1ZS5hZGROZWlnaGJvdXJpbmdFbGVtZW50KHZlcnRleC52YWx1ZS5lbGVtZW50KTtcbiAgICAgICAgICB2ZXJ0ZXguZWRnZXMucHVzaChlZGdlSWQpO1xuICAgICAgICAgIHRhcmdldFZlcnRleC5lZGdlcy5wdXNoKGVkZ2VJZCk7XG5cbiAgICAgICAgICBvcGVuQm9uZHMuZGVsZXRlKHJpbmdib25kSWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSByaW5ncyBpbiB0aGUgZ3JhcGggKHRoZSBTU1NSKVxuICAgIGxldCByaW5ncyA9IFNTU1IuZ2V0UmluZ3ModGhpcy5ncmFwaCwgdGhpcy5vcHRzLmV4cGVyaW1lbnRhbFNTU1IpO1xuXG4gICAgaWYgKHJpbmdzID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmdWZXJ0aWNlcyA9IFsuLi5yaW5nc1tpXV07XG4gICAgICBsZXQgcmluZ0lkID0gdGhpcy5hZGRSaW5nKG5ldyBSaW5nKHJpbmdWZXJ0aWNlcykpO1xuXG4gICAgICAvLyBBZGQgdGhlIHJpbmcgdG8gdGhlIGF0b21zXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmdWZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICB0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmdWZXJ0aWNlc1tqXV0udmFsdWUucmluZ3MucHVzaChyaW5nSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmQgY29ubmVjdGlvbiBiZXR3ZWVuIHJpbmdzXG4gICAgLy8gQ2hlY2sgZm9yIGNvbW1vbiB2ZXJ0aWNlcyBhbmQgY3JlYXRlIHJpbmcgY29ubmVjdGlvbnMuIFRoaXMgaXMgYSBiaXRcbiAgICAvLyB1Z2x5LCBidXQgdGhlIHJpbmdjb3VudCBpcyBhbHdheXMgZmFpcmx5IGxvdyAoPCAxMDApXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgYSA9IHRoaXMucmluZ3NbaV07XG4gICAgICAgIGxldCBiID0gdGhpcy5yaW5nc1tqXTtcbiAgICAgICAgbGV0IHJpbmdDb25uZWN0aW9uID0gbmV3IFJpbmdDb25uZWN0aW9uKGEsIGIpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyB2ZXJ0aWNlcyBpbiB0aGUgcmluZyBjb25uZWN0aW9uLCB0aGVuIHRoZXJlXG4gICAgICAgIC8vIGlzIG5vIHJpbmcgY29ubmVjdGlvblxuICAgICAgICBpZiAocmluZ0Nvbm5lY3Rpb24udmVydGljZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICB0aGlzLmFkZFJpbmdDb25uZWN0aW9uKHJpbmdDb25uZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBuZWlnaGJvdXJzIHRvIHRoZSByaW5nc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgcmluZy5uZWlnaGJvdXJzID0gUmluZ0Nvbm5lY3Rpb24uZ2V0TmVpZ2hib3Vycyh0aGlzLnJpbmdDb25uZWN0aW9ucywgcmluZy5pZCk7XG4gICAgfVxuXG4gICAgLy8gQW5jaG9yIHRoZSByaW5nIHRvIG9uZSBvZiBpdCdzIG1lbWJlcnMsIHNvIHRoYXQgdGhlIHJpbmcgY2VudGVyIHdpbGwgYWx3YXlzXG4gICAgLy8gYmUgdGllZCB0byBhIHNpbmdsZSB2ZXJ0ZXggd2hlbiBkb2luZyByZXBvc2l0aW9uaW5nc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuICAgICAgdGhpcy5ncmFwaC52ZXJ0aWNlc1tyaW5nLm1lbWJlcnNbMF1dLnZhbHVlLmFkZEFuY2hvcmVkUmluZyhyaW5nLmlkKTtcbiAgICB9XG5cbiAgICAvLyBCYWNrdXAgdGhlIHJpbmcgaW5mb3JtYXRpb24gdG8gcmVzdG9yZSBhZnRlciBwbGFjaW5nIHRoZSBicmlkZ2VkIHJpbmcuXG4gICAgLy8gVGhpcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gaWRlbnRpZnkgYXJvbWF0aWMgcmluZ3MgYW5kIHN0dWZmIGxpa2UgdGhpcyBpblxuICAgIC8vIHJpbmdzIHRoYXQgYXJlIG1lbWJlciBvZiB0aGUgc3VwZXJyaW5nLlxuICAgIHRoaXMuYmFja3VwUmluZ0luZm9ybWF0aW9uKCk7XG5cblxuICAgIC8vIFJlcGxhY2UgcmluZ3MgY29udGFpbmVkIGJ5IGEgbGFyZ2VyIGJyaWRnZWQgcmluZyB3aXRoIGEgYnJpZGdlZCByaW5nXG4gICAgd2hpbGUgKHRoaXMucmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgbGV0IGlkID0gLTE7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuXG4gICAgICAgIGlmICh0aGlzLmlzUGFydE9mQnJpZGdlZFJpbmcocmluZy5pZCkgJiYgIXJpbmcuaXNCcmlkZ2VkKSB7XG4gICAgICAgICAgaWQgPSByaW5nLmlkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpZCA9PT0gLTEpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxldCByaW5nID0gdGhpcy5nZXRSaW5nKGlkKTtcblxuICAgICAgbGV0IGludm9sdmVkUmluZ3MgPSB0aGlzLmdldEJyaWRnZWRSaW5nUmluZ3MocmluZy5pZCk7XG5cbiAgICAgIHRoaXMuYnJpZGdlZFJpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jcmVhdGVCcmlkZ2VkUmluZyhpbnZvbHZlZFJpbmdzLCByaW5nLm1lbWJlcnNbMF0pO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHJpbmdzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludm9sdmVkUmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yZW1vdmVSaW5nKGludm9sdmVkUmluZ3NbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGluaXRIeWRyb2dlbnMoKSB7XG4gICAgLy8gRG8gbm90IGRyYXcgaHlkcm9nZW5zIGV4Y2VwdCB3aGVuIHRoZXkgYXJlIGNvbm5lY3RlZCB0byBhIHN0ZXJlb2NlbnRlciBjb25uZWN0ZWQgdG8gdHdvIG9yIG1vcmUgcmluZ3MuXG4gICAgaWYgKCF0aGlzLm9wdHMuZXhwbGljaXRIeWRyb2dlbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgICBpZiAodmVydGV4LnZhbHVlLmVsZW1lbnQgIT09ICdIJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSHlkcm9nZW5zIHNob3VsZCBoYXZlIG9ubHkgb25lIG5laWdoYm91ciwgc28ganVzdCB0YWtlIHRoZSBmaXJzdFxuICAgICAgICAvLyBBbHNvIHNldCBoYXNIeWRyb2dlbiB0cnVlIG9uIGNvbm5lY3RlZCBhdG9tXG4gICAgICAgIGxldCBuZWlnaGJvdXIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRleC5uZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgbmVpZ2hib3VyLnZhbHVlLmhhc0h5ZHJvZ2VuID0gdHJ1ZTtcblxuICAgICAgICBpZiAoIW5laWdoYm91ci52YWx1ZS5pc1N0ZXJlb0NlbnRlciB8fCBuZWlnaGJvdXIudmFsdWUucmluZ3MubGVuZ3RoIDwgMiAmJiAhbmVpZ2hib3VyLnZhbHVlLmJyaWRnZWRSaW5nIHx8XG4gICAgICAgICAgbmVpZ2hib3VyLnZhbHVlLmJyaWRnZWRSaW5nICYmIG5laWdoYm91ci52YWx1ZS5vcmlnaW5hbFJpbmdzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICB2ZXJ0ZXgudmFsdWUuaXNEcmF3biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHJpbmdzIGNvbm5lY3RlZCBieSBicmlkZ2VkIGJvbmRzIHN0YXJ0aW5nIGZyb20gdGhlIHJpbmcgd2l0aCB0aGUgc3VwcGxpZWQgcmluZyBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJpbmdJZCBBIHJpbmcgaWQuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhbGwgcmluZyBpZHMgb2YgcmluZ3MgcGFydCBvZiBhIGJyaWRnZWQgcmluZyBzeXN0ZW0uXG4gICAqL1xuICBnZXRCcmlkZ2VkUmluZ1JpbmdzKHJpbmdJZCkge1xuICAgIGxldCBpbnZvbHZlZFJpbmdzID0gQXJyYXkoKTtcbiAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICBsZXQgcmVjdXJzZSA9IGZ1bmN0aW9uIChyKSB7XG4gICAgICBsZXQgcmluZyA9IHRoYXQuZ2V0UmluZyhyKTtcblxuICAgICAgaW52b2x2ZWRSaW5ncy5wdXNoKHIpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmcubmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbiA9IHJpbmcubmVpZ2hib3Vyc1tpXTtcblxuICAgICAgICBpZiAoaW52b2x2ZWRSaW5ncy5pbmRleE9mKG4pID09PSAtMSAmJlxuICAgICAgICAgIG4gIT09IHIgJiZcbiAgICAgICAgICBSaW5nQ29ubmVjdGlvbi5pc0JyaWRnZSh0aGF0LnJpbmdDb25uZWN0aW9ucywgdGhhdC5ncmFwaC52ZXJ0aWNlcywgciwgbikpIHtcbiAgICAgICAgICByZWN1cnNlKG4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlY3Vyc2UocmluZ0lkKTtcblxuICAgIHJldHVybiBBcnJheUhlbHBlci51bmlxdWUoaW52b2x2ZWRSaW5ncyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgcmluZyBpcyBwYXJ0IG9mIGEgYnJpZGdlZCByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBzdXBwbGllZCByaW5nIChieSBpZCkgaXMgcGFydCBvZiBhIGJyaWRnZWQgcmluZyBzeXN0ZW0uXG4gICAqL1xuICBpc1BhcnRPZkJyaWRnZWRSaW5nKHJpbmdJZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdDb25uZWN0aW9uc1tpXS5jb250YWluc1JpbmcocmluZ0lkKSAmJlxuICAgICAgICB0aGlzLnJpbmdDb25uZWN0aW9uc1tpXS5pc0JyaWRnZSh0aGlzLmdyYXBoLnZlcnRpY2VzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGJyaWRnZWQgcmluZy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJbXX0gcmluZ0lkcyBBbiBhcnJheSBvZiBpZHMgb2YgcmluZ3MgaW52b2x2ZWQgaW4gdGhlIGJyaWRnZWQgcmluZy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNvdXJjZVZlcnRleElkIFRoZSB2ZXJ0ZXggaWQgdG8gc3RhcnQgdGhlIGJyaWRnZWQgcmluZyBkaXNjb3ZlcnkgZnJvbS5cbiAgICogQHJldHVybnMge1Jpbmd9IFRoZSBicmlkZ2VkIHJpbmcuXG4gICAqL1xuICBjcmVhdGVCcmlkZ2VkUmluZyhyaW5nSWRzLCBzb3VyY2VWZXJ0ZXhJZCkge1xuICAgIGxldCByaW5nTWVtYmVycyA9IG5ldyBTZXQoKTtcbiAgICBsZXQgdmVydGljZXMgPSBuZXcgU2V0KCk7XG4gICAgbGV0IG5laWdoYm91cnMgPSBuZXcgU2V0KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmdJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByaW5nID0gdGhpcy5nZXRSaW5nKHJpbmdJZHNbaV0pO1xuICAgICAgcmluZy5pc1BhcnRPZkJyaWRnZWQgPSB0cnVlO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmcubWVtYmVycy5sZW5ndGg7IGorKykge1xuICAgICAgICB2ZXJ0aWNlcy5hZGQocmluZy5tZW1iZXJzW2pdKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nLm5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGlkID0gcmluZy5uZWlnaGJvdXJzW2pdO1xuXG4gICAgICAgIGlmIChyaW5nSWRzLmluZGV4T2YoaWQpID09PSAtMSkge1xuICAgICAgICAgIG5laWdoYm91cnMuYWRkKHJpbmcubmVpZ2hib3Vyc1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBIHZlcnRleCBpcyBwYXJ0IG9mIHRoZSBicmlkZ2VkIHJpbmcgaWYgaXQgb25seSBiZWxvbmdzIHRvXG4gICAgLy8gb25lIG9mIHRoZSByaW5ncyAob3IgdG8gYW5vdGhlciByaW5nXG4gICAgLy8gd2hpY2ggaXMgbm90IHBhcnQgb2YgdGhlIGJyaWRnZWQgcmluZykuXG4gICAgbGV0IGxlZnRvdmVycyA9IG5ldyBTZXQoKTtcblxuICAgIGZvciAobGV0IGlkIG9mIHZlcnRpY2VzKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpZF07XG4gICAgICBsZXQgaW50ZXJzZWN0aW9uID0gQXJyYXlIZWxwZXIuaW50ZXJzZWN0aW9uKHJpbmdJZHMsIHZlcnRleC52YWx1ZS5yaW5ncyk7XG5cbiAgICAgIGlmICh2ZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID09PSAxIHx8IGludGVyc2VjdGlvbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmluZ01lbWJlcnMuYWRkKHZlcnRleC5pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZWZ0b3ZlcnMuYWRkKHZlcnRleC5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVmVydGljZXMgY2FuIGFsc28gYmUgcGFydCBvZiBtdWx0aXBsZSByaW5ncyBhbmQgbGF5IG9uIHRoZSBicmlkZ2VkIHJpbmcsXG4gICAgLy8gaG93ZXZlciwgdGhleSBoYXZlIHRvIGhhdmUgYXQgbGVhc3QgdHdvIG5laWdoYm91cnMgdGhhdCBhcmUgbm90IHBhcnQgb2ZcbiAgICAvLyB0d28gcmluZ3NcbiAgICBsZXQgdG1wID0gQXJyYXkoKTtcbiAgICBsZXQgaW5zaWRlUmluZyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKGxldCBpZCBvZiBsZWZ0b3ZlcnMpIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2lkXTtcbiAgICAgIGxldCBvblJpbmcgPSBmYWxzZTtcblxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2ZXJ0ZXguZWRnZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHRoaXMuZWRnZVJpbmdDb3VudCh2ZXJ0ZXguZWRnZXNbal0pID09PSAxKSB7XG4gICAgICAgICAgb25SaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob25SaW5nKSB7XG4gICAgICAgIHZlcnRleC52YWx1ZS5pc0JyaWRnZU5vZGUgPSB0cnVlO1xuICAgICAgICByaW5nTWVtYmVycy5hZGQodmVydGV4LmlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlcnRleC52YWx1ZS5pc0JyaWRnZSA9IHRydWU7XG4gICAgICAgIHJpbmdNZW1iZXJzLmFkZCh2ZXJ0ZXguaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgcmluZ1xuICAgIGxldCByaW5nID0gbmV3IFJpbmcoWy4uLnJpbmdNZW1iZXJzXSk7XG4gICAgdGhpcy5hZGRSaW5nKHJpbmcpO1xuXG4gICAgcmluZy5pc0JyaWRnZWQgPSB0cnVlO1xuICAgIHJpbmcubmVpZ2hib3VycyA9IFsuLi5uZWlnaGJvdXJzXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ0lkcy5sZW5ndGg7IGkrKykge1xuICAgICAgcmluZy5yaW5ncy5wdXNoKHRoaXMuZ2V0UmluZyhyaW5nSWRzW2ldKS5jbG9uZSgpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmcubWVtYmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5ncmFwaC52ZXJ0aWNlc1tyaW5nLm1lbWJlcnNbaV1dLnZhbHVlLmJyaWRnZWRSaW5nID0gcmluZy5pZDtcbiAgICB9XG5cbiAgICAvLyBBdG9tcyBpbnNpZGUgdGhlIHJpbmcgYXJlIG5vIGxvbmdlciBwYXJ0IG9mIGEgcmluZyBidXQgYXJlIG5vd1xuICAgIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGUgYnJpZGdlZCByaW5nXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnNpZGVSaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpbnNpZGVSaW5nW2ldXTtcbiAgICAgIHZlcnRleC52YWx1ZS5yaW5ncyA9IEFycmF5KCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGZvcm1lciByaW5ncyBmcm9tIG1lbWJlcnMgb2YgdGhlIGJyaWRnZWQgcmluZyBhbmQgYWRkIHRoZSBicmlkZ2VkIHJpbmdcbiAgICBmb3IgKGxldCBpZCBvZiByaW5nTWVtYmVycykge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaWRdO1xuICAgICAgdmVydGV4LnZhbHVlLnJpbmdzID0gQXJyYXlIZWxwZXIucmVtb3ZlQWxsKHZlcnRleC52YWx1ZS5yaW5ncywgcmluZ0lkcyk7XG4gICAgICB2ZXJ0ZXgudmFsdWUucmluZ3MucHVzaChyaW5nLmlkKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIHRoZSByaW5nIGNvbm5lY3Rpb25zIG5vIGxvbmdlciB1c2VkXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5nSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gaSArIDE7IGogPCByaW5nSWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUmluZ0Nvbm5lY3Rpb25zQmV0d2VlbihyaW5nSWRzW2ldLCByaW5nSWRzW2pdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHJpbmcgY29ubmVjdGlvbnMgYW5kIGFkZCB0aGlzIHJpbmcgdG8gdGhlIG5laWdoYm91cnMgbmVpZ2hib3Vyc1xuICAgIGZvciAobGV0IGlkIG9mIG5laWdoYm91cnMpIHtcbiAgICAgIGxldCBjb25uZWN0aW9ucyA9IHRoaXMuZ2V0UmluZ0Nvbm5lY3Rpb25zKGlkLCByaW5nSWRzKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb25uZWN0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICB0aGlzLmdldFJpbmdDb25uZWN0aW9uKGNvbm5lY3Rpb25zW2pdKS51cGRhdGVPdGhlcihyaW5nLmlkLCBpZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ2V0UmluZyhpZCkubmVpZ2hib3Vycy5wdXNoKHJpbmcuaWQpO1xuICAgIH1cblxuICAgIHJldHVybiByaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0d28gdmVydGljZXMgYXJlIGluIHRoZSBzYW1lIHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhBIEEgdmVydGV4LlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QiBBIHZlcnRleC5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB0d28gdmVydGljZXMgYXJlIGluIHRoZSBzYW1lIHJpbmcuXG4gICAqL1xuICBhcmVWZXJ0aWNlc0luU2FtZVJpbmcodmVydGV4QSwgdmVydGV4Qikge1xuICAgIC8vIFRoaXMgaXMgYSBsaXR0bGUgYml0IGxpZ2h0ZXIgKHdpdGhvdXQgdGhlIGFycmF5IGFuZCBwdXNoKSB0aGFuXG4gICAgLy8gZ2V0Q29tbW9uUmluZ3MoKS5sZW5ndGggPiAwXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhBLnZhbHVlLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZlcnRleEIudmFsdWUucmluZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHZlcnRleEEudmFsdWUucmluZ3NbaV0gPT09IHZlcnRleEIudmFsdWUucmluZ3Nbal0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHJpbmcgaWRzIHNoYXJlZCBieSBib3RoIHZlcnRpY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QSBBIHZlcnRleC5cbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleEIgQSB2ZXJ0ZXguXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgb2YgaWRzIG9mIHJpbmdzIHNoYXJlZCBieSB0aGUgdHdvIHZlcnRpY2VzLlxuICAgKi9cbiAgZ2V0Q29tbW9uUmluZ3ModmVydGV4QSwgdmVydGV4Qikge1xuICAgIGxldCBjb21tb25SaW5ncyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleEEudmFsdWUucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmVydGV4Qi52YWx1ZS5yaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodmVydGV4QS52YWx1ZS5yaW5nc1tpXSA9PSB2ZXJ0ZXhCLnZhbHVlLnJpbmdzW2pdKSB7XG4gICAgICAgICAgY29tbW9uUmluZ3MucHVzaCh2ZXJ0ZXhBLnZhbHVlLnJpbmdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb21tb25SaW5ncztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhcm9tYXRpYyBvciBsYXJnZXN0IHJpbmcgc2hhcmVkIGJ5IHRoZSB0d28gdmVydGljZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhBIEEgdmVydGV4LlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QiBBIHZlcnRleC5cbiAgICogQHJldHVybnMgeyhSaW5nfG51bGwpfSBJZiBhbiBhcm9tYXRpYyBjb21tb24gcmluZyBleGlzdHMsIHRoYXQgcmluZywgZWxzZSB0aGUgbGFyZ2VzdCAobm9uLWFyb21hdGljKSByaW5nLCBlbHNlIG51bGwuXG4gICAqL1xuICBnZXRMYXJnZXN0T3JBcm9tYXRpY0NvbW1vblJpbmcodmVydGV4QSwgdmVydGV4Qikge1xuICAgIGxldCBjb21tb25SaW5ncyA9IHRoaXMuZ2V0Q29tbW9uUmluZ3ModmVydGV4QSwgdmVydGV4Qik7XG4gICAgbGV0IG1heFNpemUgPSAwO1xuICAgIGxldCBsYXJnZXN0Q29tbW9uUmluZyA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbW1vblJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmluZyA9IHRoaXMuZ2V0UmluZyhjb21tb25SaW5nc1tpXSk7XG4gICAgICBsZXQgc2l6ZSA9IHJpbmcuZ2V0U2l6ZSgpO1xuXG4gICAgICBpZiAocmluZy5pc0JlbnplbmVMaWtlKHRoaXMuZ3JhcGgudmVydGljZXMpKSB7XG4gICAgICAgIHJldHVybiByaW5nO1xuICAgICAgfSBlbHNlIGlmIChzaXplID4gbWF4U2l6ZSkge1xuICAgICAgICBtYXhTaXplID0gc2l6ZTtcbiAgICAgICAgbGFyZ2VzdENvbW1vblJpbmcgPSByaW5nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYXJnZXN0Q29tbW9uUmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHZlcnRpY2VzIHBvc2l0aW9uZWQgYXQgYSBzcGVjaWZpZWQgbG9jYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gcG9zaXRpb24gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCBmb3IgdmVydGljZXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpdXMgVGhlIHJhZGl1cyB3aXRoaW4gdG8gc2VhcmNoLlxuICAgKiBAcGFyYW0ge051bWJlcn0gZXhjbHVkZVZlcnRleElkIEEgdmVydGV4IGlkIHRvIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyW119IEFuIGFycmF5IGNvbnRhaW5pbmcgdmVydGV4IGlkcyBpbiBhIGdpdmVuIGxvY2F0aW9uLlxuICAgKi9cbiAgZ2V0VmVydGljZXNBdChwb3NpdGlvbiwgcmFkaXVzLCBleGNsdWRlVmVydGV4SWQpIHtcbiAgICBsZXQgbG9jYWxzID0gQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG5cbiAgICAgIGlmICh2ZXJ0ZXguaWQgPT09IGV4Y2x1ZGVWZXJ0ZXhJZCB8fCAhdmVydGV4LnBvc2l0aW9uZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBkaXN0YW5jZSA9IHBvc2l0aW9uLmRpc3RhbmNlU3EodmVydGV4LnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGRpc3RhbmNlIDw9IHJhZGl1cyAqIHJhZGl1cykge1xuICAgICAgICBsb2NhbHMucHVzaCh2ZXJ0ZXguaWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsb2NhbHM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2xvc2VzdCB2ZXJ0ZXggKGNvbm5lY3RlZCBhcyB3ZWxsIGFzIHVuY29ubmVjdGVkKS5cbiAgICpcbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleCBUaGUgdmVydGV4IG9mIHdoaWNoIHRvIGZpbmQgdGhlIGNsb3Nlc3Qgb3RoZXIgdmVydGV4LlxuICAgKiBAcmV0dXJucyB7VmVydGV4fSBUaGUgY2xvc2VzdCB2ZXJ0ZXguXG4gICAqL1xuICBnZXRDbG9zZXN0VmVydGV4KHZlcnRleCkge1xuICAgIGxldCBtaW5EaXN0ID0gOTk5OTk7XG4gICAgbGV0IG1pblZlcnRleCA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHYuaWQgPT09IHZlcnRleC5pZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IGRpc3RTcSA9IHZlcnRleC5wb3NpdGlvbi5kaXN0YW5jZVNxKHYucG9zaXRpb24pO1xuXG4gICAgICBpZiAoZGlzdFNxIDwgbWluRGlzdCkge1xuICAgICAgICBtaW5EaXN0ID0gZGlzdFNxO1xuICAgICAgICBtaW5WZXJ0ZXggPSB2O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtaW5WZXJ0ZXg7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgcmluZyB0byB0aGlzIHJlcHJlc2VudGF0aW9uIG9mIGEgbW9sZWN1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBBIG5ldyByaW5nLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgcmluZyBpZCBvZiB0aGUgbmV3IHJpbmcuXG4gICAqL1xuICBhZGRSaW5nKHJpbmcpIHtcbiAgICByaW5nLmlkID0gdGhpcy5yaW5nSWRDb3VudGVyKys7XG4gICAgdGhpcy5yaW5ncy5wdXNoKHJpbmcpO1xuXG4gICAgcmV0dXJuIHJpbmcuaWQ7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHJpbmcgZnJvbSB0aGUgYXJyYXkgb2YgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cbiAgICovXG4gIHJlbW92ZVJpbmcocmluZ0lkKSB7XG4gICAgdGhpcy5yaW5ncyA9IHRoaXMucmluZ3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5pZCAhPT0gcmluZ0lkO1xuICAgIH0pO1xuXG4gICAgLy8gQWxzbyByZW1vdmUgcmluZyBjb25uZWN0aW9ucyBpbnZvbHZpbmcgdGhpcyByaW5nXG4gICAgdGhpcy5yaW5nQ29ubmVjdGlvbnMgPSB0aGlzLnJpbmdDb25uZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLmZpcnN0UmluZ0lkICE9PSByaW5nSWQgJiYgaXRlbS5zZWNvbmRSaW5nSWQgIT09IHJpbmdJZDtcbiAgICB9KTtcblxuICAgIC8vIFJlbW92ZSB0aGUgcmluZyBhcyBuZWlnaGJvdXIgb2Ygb3RoZXIgcmluZ3NcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByID0gdGhpcy5yaW5nc1tpXTtcbiAgICAgIHIubmVpZ2hib3VycyA9IHIubmVpZ2hib3Vycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IHJpbmdJZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgcmluZyBvYmplY3QgZnJvbSB0aGUgYXJyYXkgb2YgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlIGJ5IGl0cyBpZC4gVGhlIHJpbmcgaWQgaXMgbm90IGVxdWFsIHRvIHRoZSBpbmRleCwgc2luY2UgcmluZ3MgY2FuIGJlIGFkZGVkIGFuZCByZW1vdmVkIHdoZW4gcHJvY2Vzc2luZyBicmlkZ2VkIHJpbmdzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gcmluZ0lkIEEgcmluZyBpZC5cbiAgICogQHJldHVybnMge1Jpbmd9IEEgcmluZyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqL1xuICBnZXRSaW5nKHJpbmdJZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucmluZ3NbaV0uaWQgPT0gcmluZ0lkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpbmdzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSByaW5nIGNvbm5lY3Rpb24gdG8gdGhpcyByZXByZXNlbnRhdGlvbiBvZiBhIG1vbGVjdWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge1JpbmdDb25uZWN0aW9ufSByaW5nQ29ubmVjdGlvbiBBIG5ldyByaW5nQ29ubmVjdGlvbi5cbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIHJpbmcgY29ubmVjdGlvbiBpZCBvZiB0aGUgbmV3IHJpbmcgY29ubmVjdGlvbi5cbiAgICovXG4gIGFkZFJpbmdDb25uZWN0aW9uKHJpbmdDb25uZWN0aW9uKSB7XG4gICAgcmluZ0Nvbm5lY3Rpb24uaWQgPSB0aGlzLnJpbmdDb25uZWN0aW9uSWRDb3VudGVyKys7XG4gICAgdGhpcy5yaW5nQ29ubmVjdGlvbnMucHVzaChyaW5nQ29ubmVjdGlvbik7XG5cbiAgICByZXR1cm4gcmluZ0Nvbm5lY3Rpb24uaWQ7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIHJpbmcgY29ubmVjdGlvbiBmcm9tIHRoZSBhcnJheSBvZiByaW5ncyBjb25uZWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nQ29ubmVjdGlvbklkIEEgcmluZyBjb25uZWN0aW9uIGlkLlxuICAgKi9cbiAgcmVtb3ZlUmluZ0Nvbm5lY3Rpb24ocmluZ0Nvbm5lY3Rpb25JZCkge1xuICAgIHRoaXMucmluZ0Nvbm5lY3Rpb25zID0gdGhpcy5yaW5nQ29ubmVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5pZCAhPT0gcmluZ0Nvbm5lY3Rpb25JZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCByaW5nIGNvbm5lY3Rpb25zIGJldHdlZW4gdHdvIHZlcnRpY2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWRBIEEgdmVydGV4IGlkLlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWRCIEEgdmVydGV4IGlkLlxuICAgKi9cbiAgcmVtb3ZlUmluZ0Nvbm5lY3Rpb25zQmV0d2Vlbih2ZXJ0ZXhJZEEsIHZlcnRleElkQikge1xuICAgIGxldCB0b1JlbW92ZSA9IEFycmF5KCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHJpbmdDb25uZWN0aW9uID0gdGhpcy5yaW5nQ29ubmVjdGlvbnNbaV07XG5cbiAgICAgIGlmIChyaW5nQ29ubmVjdGlvbi5maXJzdFJpbmdJZCA9PT0gdmVydGV4SWRBICYmIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gdmVydGV4SWRCIHx8XG4gICAgICAgIHJpbmdDb25uZWN0aW9uLmZpcnN0UmluZ0lkID09PSB2ZXJ0ZXhJZEIgJiYgcmluZ0Nvbm5lY3Rpb24uc2Vjb25kUmluZ0lkID09PSB2ZXJ0ZXhJZEEpIHtcbiAgICAgICAgdG9SZW1vdmUucHVzaChyaW5nQ29ubmVjdGlvbi5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b1JlbW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZW1vdmVSaW5nQ29ubmVjdGlvbih0b1JlbW92ZVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHJpbmcgY29ubmVjdGlvbiB3aXRoIGEgZ2l2ZW4gaWQuXG4gICAqIFxuICAgKiBAcGFyYW0ge051bWJlcn0gaWQgXG4gICAqIEByZXR1cm5zIHtSaW5nQ29ubmVjdGlvbn0gVGhlIHJpbmcgY29ubmVjdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuXG4gICAqL1xuICBnZXRSaW5nQ29ubmVjdGlvbihpZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdDb25uZWN0aW9uc1tpXS5pZCA9PSBpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yaW5nQ29ubmVjdGlvbnNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmluZyBjb25uZWN0aW9ucyBiZXR3ZWVuIGEgcmluZyBhbmQgYSBzZXQgb2YgcmluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLlxuICAgKiBAcGFyYW0ge051bWJlcltdfSByaW5nSWRzIEFuIGFycmF5IG9mIHJpbmcgaWRzLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyW119IEFuIGFycmF5IG9mIHJpbmcgY29ubmVjdGlvbiBpZHMuXG4gICAqL1xuICBnZXRSaW5nQ29ubmVjdGlvbnMocmluZ0lkLCByaW5nSWRzKSB7XG4gICAgbGV0IHJpbmdDb25uZWN0aW9ucyA9IEFycmF5KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ0Nvbm5lY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmMgPSB0aGlzLnJpbmdDb25uZWN0aW9uc1tpXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByaW5nSWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBpZCA9IHJpbmdJZHNbal07XG5cbiAgICAgICAgaWYgKHJjLmZpcnN0UmluZ0lkID09PSByaW5nSWQgJiYgcmMuc2Vjb25kUmluZ0lkID09PSBpZCB8fFxuICAgICAgICAgIHJjLmZpcnN0UmluZ0lkID09PSBpZCAmJiByYy5zZWNvbmRSaW5nSWQgPT09IHJpbmdJZCkge1xuICAgICAgICAgIHJpbmdDb25uZWN0aW9ucy5wdXNoKHJjLmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByaW5nQ29ubmVjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgb3ZlcmxhcCBzY29yZSBvZiB0aGUgY3VycmVudCBtb2xlY3VsZSBiYXNlZCBvbiBpdHMgcG9zaXRpb25lZCB2ZXJ0aWNlcy4gVGhlIGhpZ2hlciB0aGUgc2NvcmUsIHRoZSBtb3JlIG92ZXJsYXBzIG9jY3VyIGluIHRoZSBzdHJ1Y3R1cmUgZHJhd2luZy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgdG90YWwgb3ZlcmxhcCBzY29yZSBhbmQgdGhlIG92ZXJsYXAgc2NvcmUgb2YgZWFjaCB2ZXJ0ZXggc29ydGVkIGJ5IHNjb3JlIChoaWdoZXIgdG8gbG93ZXIpLiBFeGFtcGxlOiB7IHRvdGFsOiA5OSwgc2NvcmVzOiBbIHsgaWQ6IDAsIHNjb3JlOiAyMiB9LCAuLi4gXSAgfVxuICAgKi9cbiAgZ2V0T3ZlcmxhcFNjb3JlKCkge1xuICAgIGxldCB0b3RhbCA9IDAuMDtcbiAgICBsZXQgb3ZlcmxhcFNjb3JlcyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvdmVybGFwU2NvcmVzW2ldID0gMDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBqID0gdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICB3aGlsZSAoLS1qID4gaSkge1xuICAgICAgICBsZXQgYSA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG4gICAgICAgIGxldCBiID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tqXTtcblxuICAgICAgICBpZiAoIWEudmFsdWUuaXNEcmF3biB8fCAhYi52YWx1ZS5pc0RyYXduKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGlzdCA9IFZlY3RvcjIuc3VidHJhY3QoYS5wb3NpdGlvbiwgYi5wb3NpdGlvbikubGVuZ3RoU3EoKTtcblxuICAgICAgICBpZiAoZGlzdCA8IHRoaXMub3B0cy5ib25kTGVuZ3RoU3EpIHtcbiAgICAgICAgICBsZXQgd2VpZ2h0ZWQgPSAodGhpcy5vcHRzLmJvbmRMZW5ndGggLSBNYXRoLnNxcnQoZGlzdCkpIC8gdGhpcy5vcHRzLmJvbmRMZW5ndGg7XG4gICAgICAgICAgdG90YWwgKz0gd2VpZ2h0ZWQ7XG4gICAgICAgICAgb3ZlcmxhcFNjb3Jlc1tpXSArPSB3ZWlnaHRlZDtcbiAgICAgICAgICBvdmVybGFwU2NvcmVzW2pdICs9IHdlaWdodGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHNvcnRhYmxlID0gQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgc29ydGFibGUucHVzaCh7XG4gICAgICAgIGlkOiBpLFxuICAgICAgICBzY29yZTogb3ZlcmxhcFNjb3Jlc1tpXVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc29ydGFibGUuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgIHNjb3Jlczogc29ydGFibGUsXG4gICAgICB2ZXJ0ZXhTY29yZXM6IG92ZXJsYXBTY29yZXNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gZHJhd2luZyBhIGRvdWJsZSBib25kLCBjaG9vc2UgdGhlIHNpZGUgdG8gcGxhY2UgdGhlIGRvdWJsZSBib25kLiBFLmcuIGEgZG91YmxlIGJvbmQgc2hvdWxkIGFsd2F5cyBiZWVuIGRyYXduIGluc2lkZSBhIHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXhBIEEgdmVydGV4LlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4QiBBIHZlcnRleC5cbiAgICogQHBhcmFtIHtWZWN0b3IyW119IHNpZGVzIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHR3byBub3JtYWxzIG9mIHRoZSBsaW5lIHNwYW5uZWQgYnkgdGhlIHR3byBwcm92aWRlZCB2ZXJ0aWNlcy5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOiB7XG4gICAgICAgICAgdG90YWxTaWRlQ291bnQ6IENvdW50cyB0aGUgc2lkZXMgb2YgZWFjaCB2ZXJ0ZXggaW4gdGhlIG1vbGVjdWxlLCBpcyBhbiBhcnJheSBbIGEsIGIgXSxcbiAgICAgICAgICB0b3RhbFBvc2l0aW9uOiBTYW1lIGFzIHBvc2l0aW9uLCBidXQgYmFzZWQgb24gZW50aXJlIG1vbGVjdWxlLFxuICAgICAgICAgIHNpZGVDb3VudDogQ291bnRzIHRoZSBzaWRlcyBvZiBlYWNoIG5laWdoYm91ciwgaXMgYW4gYXJyYXkgWyBhLCBiIF0sXG4gICAgICAgICAgcG9zaXRpb246IHdoaWNoIHNpZGUgdG8gcG9zaXRpb24gdGhlIHNlY29uZCBib25kLCBpcyAwIG9yIDEsIHJlcHJlc2VudHMgdGhlIGluZGV4IGluIHRoZSBub3JtYWwgYXJyYXkuIFRoaXMgaXMgYmFzZWQgb24gb25seSB0aGUgbmVpZ2hib3Vyc1xuICAgICAgICAgIGFuQ291bnQ6IHRoZSBudW1iZXIgb2YgbmVpZ2hib3VycyBvZiB2ZXJ0ZXhBLFxuICAgICAgICAgIGJuQ291bnQ6IHRoZSBudW1iZXIgb2YgbmVpZ2hib3VycyBvZiB2ZXJ0ZXhCXG4gICAgICB9XG4gICAqL1xuICBjaG9vc2VTaWRlKHZlcnRleEEsIHZlcnRleEIsIHNpZGVzKSB7XG4gICAgLy8gQ2hlY2sgd2hpY2ggc2lkZSBoYXMgbW9yZSB2ZXJ0aWNlc1xuICAgIC8vIEdldCBhbGwgdGhlIHZlcnRpY2VzIGNvbm5lY3RlZCB0byB0aGUgYm90aCBlbmRzXG4gICAgbGV0IGFuID0gdmVydGV4QS5nZXROZWlnaGJvdXJzKHZlcnRleEIuaWQpO1xuICAgIGxldCBibiA9IHZlcnRleEIuZ2V0TmVpZ2hib3Vycyh2ZXJ0ZXhBLmlkKTtcbiAgICBsZXQgYW5Db3VudCA9IGFuLmxlbmd0aDtcbiAgICBsZXQgYm5Db3VudCA9IGJuLmxlbmd0aDtcblxuICAgIC8vIEFsbCB2ZXJ0aWNlcyBjb25uZWN0ZWQgdG8gdGhlIGVkZ2UgdmVydGV4QSB0byB2ZXJ0ZXhCXG4gICAgbGV0IHRuID0gQXJyYXlIZWxwZXIubWVyZ2UoYW4sIGJuKTtcblxuICAgIC8vIE9ubHkgY29uc2lkZXJpbmcgdGhlIGNvbm5lY3RlZCB2ZXJ0aWNlc1xuICAgIGxldCBzaWRlQ291bnQgPSBbMCwgMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdiA9IHRoaXMuZ3JhcGgudmVydGljZXNbdG5baV1dLnBvc2l0aW9uO1xuXG4gICAgICBpZiAodi5zYW1lU2lkZUFzKHZlcnRleEEucG9zaXRpb24sIHZlcnRleEIucG9zaXRpb24sIHNpZGVzWzBdKSkge1xuICAgICAgICBzaWRlQ291bnRbMF0rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpZGVDb3VudFsxXSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnNpZGVyaW5nIGFsbCB2ZXJ0aWNlcyBpbiB0aGUgZ3JhcGgsIHRoaXMgaXMgdG8gcmVzb2x2ZSB0aWVzXG4gICAgLy8gZnJvbSB0aGUgYWJvdmUgc2lkZSBjb3VudHNcbiAgICBsZXQgdG90YWxTaWRlQ291bnQgPSBbMCwgMF07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXS5wb3NpdGlvbjtcblxuICAgICAgaWYgKHYuc2FtZVNpZGVBcyh2ZXJ0ZXhBLnBvc2l0aW9uLCB2ZXJ0ZXhCLnBvc2l0aW9uLCBzaWRlc1swXSkpIHtcbiAgICAgICAgdG90YWxTaWRlQ291bnRbMF0rKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvdGFsU2lkZUNvdW50WzFdKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsU2lkZUNvdW50OiB0b3RhbFNpZGVDb3VudCxcbiAgICAgIHRvdGFsUG9zaXRpb246IHRvdGFsU2lkZUNvdW50WzBdID4gdG90YWxTaWRlQ291bnRbMV0gPyAwIDogMSxcbiAgICAgIHNpZGVDb3VudDogc2lkZUNvdW50LFxuICAgICAgcG9zaXRpb246IHNpZGVDb3VudFswXSA+IHNpZGVDb3VudFsxXSA/IDAgOiAxLFxuICAgICAgYW5Db3VudDogYW5Db3VudCxcbiAgICAgIGJuQ291bnQ6IGJuQ291bnRcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNlbnRlciBmb3IgYSByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge1Jpbmd9IHJpbmcgQSByaW5nLlxuICAgKi9cbiAgc2V0UmluZ0NlbnRlcihyaW5nKSB7XG4gICAgbGV0IHJpbmdTaXplID0gcmluZy5nZXRTaXplKCk7XG4gICAgbGV0IHRvdGFsID0gbmV3IFZlY3RvcjIoMCwgMCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmdTaXplOyBpKyspIHtcbiAgICAgIHRvdGFsLmFkZCh0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmcubWVtYmVyc1tpXV0ucG9zaXRpb24pO1xuICAgIH1cblxuICAgIHJpbmcuY2VudGVyID0gdG90YWwuZGl2aWRlKHJpbmdTaXplKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjZW50ZXIgb2YgYSByaW5nIGNvbnRhaW5lZCB3aXRoaW4gYSBicmlkZ2VkIHJpbmcgYW5kIGNvbnRhaW5pbmcgYSBnaXZlbiB2ZXJ0ZXguXG4gICAqXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBBIGJyaWRnZWQgcmluZy5cbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleCBBIHZlcnRleC5cbiAgICogQHJldHVybnMge1ZlY3RvcjJ9IFRoZSBjZW50ZXIgb2YgdGhlIHN1YnJpbmcgdGhhdCBjb250YWluaW5nIHRoZSB2ZXJ0ZXguXG4gICAqL1xuICBnZXRTdWJyaW5nQ2VudGVyKHJpbmcsIHZlcnRleCkge1xuICAgIGxldCByaW5ncyA9IHZlcnRleC52YWx1ZS5vcmlnaW5hbFJpbmdzO1xuICAgIGxldCBjZW50ZXIgPSByaW5nLmNlbnRlcjtcbiAgICBsZXQgc21hbGxlc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgLy8gQWx3YXlzIGdldCB0aGUgc21hbGxlc3QgcmluZy5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJpbmcucmluZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJpbmdzW2ldID09PSByaW5nLnJpbmdzW2pdLmlkKSB7XG4gICAgICAgICAgaWYgKHJpbmcucmluZ3Nbal0uZ2V0U2l6ZSgpIDwgc21hbGxlc3QpIHtcbiAgICAgICAgICAgIGNlbnRlciA9IHJpbmcucmluZ3Nbal0uY2VudGVyO1xuICAgICAgICAgICAgc21hbGxlc3QgPSByaW5nLnJpbmdzW2pdLmdldFNpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2VudGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIGFjdHVhbCBlZGdlcyBhcyBib25kcyB0byB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgZGVidWcgaGVscGVycy5cbiAgICovXG4gIGRyYXdFZGdlcyhkZWJ1Zykge1xuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICBsZXQgZHJhd24gPSBBcnJheSh0aGlzLmdyYXBoLmVkZ2VzLmxlbmd0aCk7XG4gICAgZHJhd24uZmlsbChmYWxzZSk7XG5cbiAgICB0aGlzLmdyYXBoLnRyYXZlcnNlQkYoMCwgZnVuY3Rpb24gKHZlcnRleCkge1xuICAgICAgbGV0IGVkZ2VzID0gdGhhdC5ncmFwaC5nZXRFZGdlcyh2ZXJ0ZXguaWQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlZGdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZWRnZUlkID0gZWRnZXNbaV07XG4gICAgICAgIGlmICghZHJhd25bZWRnZUlkXSkge1xuICAgICAgICAgIGRyYXduW2VkZ2VJZF0gPSB0cnVlO1xuICAgICAgICAgIHRoYXQuZHJhd0VkZ2UoZWRnZUlkLCBkZWJ1Zyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIERyYXcgcmluZyBmb3IgaW1wbGljaXRseSBkZWZpbmVkIGFyb21hdGljIHJpbmdzXG4gICAgaWYgKCF0aGlzLmJyaWRnZWRSaW5nKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHJpbmcgPSB0aGlzLnJpbmdzW2ldO1xuXG4gICAgICAgIGlmICh0aGlzLmlzUmluZ0Fyb21hdGljKHJpbmcpKSB7XG4gICAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdBcm9tYXRpY2l0eVJpbmcocmluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgYW4gZWRnZSBhcyBhIGJvbmRzIHRvIHRoZSBjYW52YXMuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlZGdlSWQgQW4gZWRnZSBpZC5cbiAgICogQHBhcmFtIHtCb29sZWFufSBkZWJ1ZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0byBkcmF3IGRlYnVnIGhlbHBlcnMuXG4gICAqL1xuICBkcmF3RWRnZShlZGdlSWQsIGRlYnVnKSB7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIGxldCBlZGdlID0gdGhpcy5ncmFwaC5lZGdlc1tlZGdlSWRdO1xuICAgIGxldCB2ZXJ0ZXhBID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnNvdXJjZUlkXTtcbiAgICBsZXQgdmVydGV4QiA9IHRoaXMuZ3JhcGgudmVydGljZXNbZWRnZS50YXJnZXRJZF07XG4gICAgbGV0IGVsZW1lbnRBID0gdmVydGV4QS52YWx1ZS5lbGVtZW50O1xuICAgIGxldCBlbGVtZW50QiA9IHZlcnRleEIudmFsdWUuZWxlbWVudDtcblxuICAgIGlmICgoIXZlcnRleEEudmFsdWUuaXNEcmF3biB8fCAhdmVydGV4Qi52YWx1ZS5pc0RyYXduKSAmJiB0aGlzLm9wdHMuYXRvbVZpc3VhbGl6YXRpb24gPT09ICdkZWZhdWx0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBhID0gdmVydGV4QS5wb3NpdGlvbjtcbiAgICBsZXQgYiA9IHZlcnRleEIucG9zaXRpb247XG4gICAgbGV0IG5vcm1hbHMgPSB0aGlzLmdldEVkZ2VOb3JtYWxzKGVkZ2UpO1xuXG4gICAgLy8gQ3JlYXRlIGEgcG9pbnQgb24gZWFjaCBzaWRlIG9mIHRoZSBsaW5lXG4gICAgbGV0IHNpZGVzID0gQXJyYXlIZWxwZXIuY2xvbmUobm9ybWFscyk7XG5cbiAgICBzaWRlc1swXS5tdWx0aXBseVNjYWxhcigxMCkuYWRkKGEpO1xuICAgIHNpZGVzWzFdLm11bHRpcGx5U2NhbGFyKDEwKS5hZGQoYSk7XG5cbiAgICBpZiAoZWRnZS5ib25kVHlwZSA9PT0gJz0nIHx8IHRoaXMuZ2V0UmluZ2JvbmRUeXBlKHZlcnRleEEsIHZlcnRleEIpID09PSAnPScgfHxcbiAgICAgIChlZGdlLmlzUGFydE9mQXJvbWF0aWNSaW5nICYmIHRoaXMuYnJpZGdlZFJpbmcpKSB7XG4gICAgICAvLyBBbHdheXMgZHJhdyBkb3VibGUgYm9uZHMgaW5zaWRlIHRoZSByaW5nXG4gICAgICBsZXQgaW5SaW5nID0gdGhpcy5hcmVWZXJ0aWNlc0luU2FtZVJpbmcodmVydGV4QSwgdmVydGV4Qik7XG4gICAgICBsZXQgcyA9IHRoaXMuY2hvb3NlU2lkZSh2ZXJ0ZXhBLCB2ZXJ0ZXhCLCBzaWRlcyk7XG5cbiAgICAgIGlmIChpblJpbmcpIHtcbiAgICAgICAgLy8gQWx3YXlzIGRyYXcgZG91YmxlIGJvbmRzIGluc2lkZSBhIHJpbmdcbiAgICAgICAgLy8gaWYgdGhlIGJvbmQgaXMgc2hhcmVkIGJ5IHR3byByaW5ncywgaXQgaXMgZHJhd24gaW4gdGhlIGxhcmdlclxuICAgICAgICAvLyBwcm9ibGVtOiBzbWFsbGVyIHJpbmcgaXMgYXJvbWF0aWMsIGJvbmQgaXMgc3RpbGwgZHJhd24gaW4gbGFyZ2VyIC0+IGZpeCB0aGlzXG4gICAgICAgIGxldCBsY3IgPSB0aGlzLmdldExhcmdlc3RPckFyb21hdGljQ29tbW9uUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKTtcbiAgICAgICAgbGV0IGNlbnRlciA9IGxjci5jZW50ZXI7XG5cbiAgICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcpO1xuICAgICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG5cbiAgICAgICAgLy8gQ2hvb3NlIHRoZSBub3JtYWwgdGhhdCBpcyBvbiB0aGUgc2FtZSBzaWRlIGFzIHRoZSBjZW50ZXJcbiAgICAgICAgbGV0IGxpbmUgPSBudWxsO1xuXG4gICAgICAgIGlmIChjZW50ZXIuc2FtZVNpZGVBcyh2ZXJ0ZXhBLnBvc2l0aW9uLCB2ZXJ0ZXhCLnBvc2l0aW9uLCBWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKSkpIHtcbiAgICAgICAgICBsaW5lID0gbmV3IExpbmUoVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1swXSksIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMF0pLCBlbGVtZW50QSwgZWxlbWVudEIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmUgPSBuZXcgTGluZShWZWN0b3IyLmFkZChhLCBub3JtYWxzWzFdKSwgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksIGVsZW1lbnRBLCBlbGVtZW50Qik7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lLnNob3J0ZW4odGhpcy5vcHRzLmJvbmRMZW5ndGggLSB0aGlzLm9wdHMuc2hvcnRCb25kTGVuZ3RoICogdGhpcy5vcHRzLmJvbmRMZW5ndGgpO1xuXG4gICAgICAgIC8vIFRoZSBzaG9ydGVuZWQgZWRnZVxuICAgICAgICBpZiAoZWRnZS5pc1BhcnRPZkFyb21hdGljUmluZykge1xuICAgICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgbm9ybWFsIGVkZ2VcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xuICAgICAgfSBlbHNlIGlmIChlZGdlLmNlbnRlciB8fCB2ZXJ0ZXhBLmlzVGVybWluYWwoKSAmJiB2ZXJ0ZXhCLmlzVGVybWluYWwoKSkge1xuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5oYWxmQm9uZFNwYWNpbmcpO1xuICAgICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5oYWxmQm9uZFNwYWNpbmcpO1xuXG4gICAgICAgIGxldCBsaW5lQSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcbiAgICAgICAgbGV0IGxpbmVCID0gbmV3IExpbmUoVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMV0pLCBlbGVtZW50QSwgZWxlbWVudEIpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lQSk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lQik7XG4gICAgICB9IGVsc2UgaWYgKHMuYW5Db3VudCA9PSAwICYmIHMuYm5Db3VudCA+IDEgfHwgcy5ibkNvdW50ID09IDAgJiYgcy5hbkNvdW50ID4gMSkge1xuICAgICAgICAvLyBCb3RoIGxpbmVzIGFyZSB0aGUgc2FtZSBsZW5ndGggaGVyZVxuICAgICAgICAvLyBBZGQgdGhlIHNwYWNpbmcgdG8gdGhlIGVkZ2VzICh3aGljaCBhcmUgb2YgdW5pdCBsZW5ndGgpXG4gICAgICAgIG5vcm1hbHNbMF0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmhhbGZCb25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmhhbGZCb25kU3BhY2luZyk7XG5cbiAgICAgICAgbGV0IGxpbmVBID0gbmV3IExpbmUoVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1swXSksIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMF0pLCBlbGVtZW50QSwgZWxlbWVudEIpO1xuICAgICAgICBsZXQgbGluZUIgPSBuZXcgTGluZShWZWN0b3IyLmFkZChhLCBub3JtYWxzWzFdKSwgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksIGVsZW1lbnRBLCBlbGVtZW50Qik7XG5cbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmVBKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmVCKTtcbiAgICAgIH0gZWxzZSBpZiAocy5zaWRlQ291bnRbMF0gPiBzLnNpZGVDb3VudFsxXSkge1xuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcblxuICAgICAgICBsaW5lLnNob3J0ZW4odGhpcy5vcHRzLmJvbmRMZW5ndGggLSB0aGlzLm9wdHMuc2hvcnRCb25kTGVuZ3RoICogdGhpcy5vcHRzLmJvbmRMZW5ndGgpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH0gZWxzZSBpZiAocy5zaWRlQ291bnRbMF0gPCBzLnNpZGVDb3VudFsxXSkge1xuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzFdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcblxuICAgICAgICBsaW5lLnNob3J0ZW4odGhpcy5vcHRzLmJvbmRMZW5ndGggLSB0aGlzLm9wdHMuc2hvcnRCb25kTGVuZ3RoICogdGhpcy5vcHRzLmJvbmRMZW5ndGgpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH0gZWxzZSBpZiAocy50b3RhbFNpZGVDb3VudFswXSA+IHMudG90YWxTaWRlQ291bnRbMV0pIHtcbiAgICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcpO1xuICAgICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG5cbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgTGluZShWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKSwgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksIGVsZW1lbnRBLCBlbGVtZW50Qik7XG5cbiAgICAgICAgbGluZS5zaG9ydGVuKHRoaXMub3B0cy5ib25kTGVuZ3RoIC0gdGhpcy5vcHRzLnNob3J0Qm9uZExlbmd0aCAqIHRoaXMub3B0cy5ib25kTGVuZ3RoKTtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmUpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCKSk7XG4gICAgICB9IGVsc2UgaWYgKHMudG90YWxTaWRlQ291bnRbMF0gPD0gcy50b3RhbFNpZGVDb3VudFsxXSkge1xuICAgICAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHRoYXQub3B0cy5ib25kU3BhY2luZyk7XG4gICAgICAgIG5vcm1hbHNbMV0ubXVsdGlwbHlTY2FsYXIodGhhdC5vcHRzLmJvbmRTcGFjaW5nKTtcblxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzFdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcblxuICAgICAgICBsaW5lLnNob3J0ZW4odGhpcy5vcHRzLmJvbmRMZW5ndGggLSB0aGlzLm9wdHMuc2hvcnRCb25kTGVuZ3RoICogdGhpcy5vcHRzLmJvbmRMZW5ndGgpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZSk7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVkZ2UuYm9uZFR5cGUgPT09ICcjJykge1xuICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcgLyAxLjUpO1xuICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcih0aGF0Lm9wdHMuYm9uZFNwYWNpbmcgLyAxLjUpO1xuXG4gICAgICBsZXQgbGluZUEgPSBuZXcgTGluZShWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKSwgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksIGVsZW1lbnRBLCBlbGVtZW50Qik7XG4gICAgICBsZXQgbGluZUIgPSBuZXcgTGluZShWZWN0b3IyLmFkZChhLCBub3JtYWxzWzFdKSwgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1sxXSksIGVsZW1lbnRBLCBlbGVtZW50Qik7XG5cbiAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lQSk7XG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobGluZUIpO1xuXG4gICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCKSk7XG4gICAgfSBlbHNlIGlmIChlZGdlLmJvbmRUeXBlID09PSAnLicpIHtcbiAgICAgIC8vIFRPRE86IFNvbWV0aGluZy4uLiBtYXliZS4uLiB2ZXJzaW9uIDI/XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpc0NoaXJhbENlbnRlckEgPSB2ZXJ0ZXhBLnZhbHVlLmlzU3RlcmVvQ2VudGVyO1xuICAgICAgbGV0IGlzQ2hpcmFsQ2VudGVyQiA9IHZlcnRleEIudmFsdWUuaXNTdGVyZW9DZW50ZXI7XG5cbiAgICAgIGlmIChlZGdlLndlZGdlID09PSAndXAnKSB7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3V2VkZ2UobmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCLCBpc0NoaXJhbENlbnRlckEsIGlzQ2hpcmFsQ2VudGVyQikpO1xuICAgICAgfSBlbHNlIGlmIChlZGdlLndlZGdlID09PSAnZG93bicpIHtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdEYXNoZWRXZWRnZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIsIGlzQ2hpcmFsQ2VudGVyQSwgaXNDaGlyYWxDZW50ZXJCKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0xpbmUobmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCLCBpc0NoaXJhbENlbnRlckEsIGlzQ2hpcmFsQ2VudGVyQikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkZWJ1Zykge1xuICAgICAgbGV0IG1pZHBvaW50ID0gVmVjdG9yMi5taWRwb2ludChhLCBiKTtcbiAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3RGVidWdUZXh0KG1pZHBvaW50LngsIG1pZHBvaW50LnksICdlOiAnICsgZWRnZUlkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHZlcnRpY2VzIHJlcHJlc2VudGluZyBhdG9tcyB0byB0aGUgY2FudmFzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgZGVidWcgbWVzc2FnZXMgdG8gdGhlIGNhbnZhcy5cbiAgICovXG4gIGRyYXdWZXJ0aWNlcyhkZWJ1Zykge1xuICAgIHZhciBpID0gdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcbiAgICAgIGxldCBhdG9tID0gdmVydGV4LnZhbHVlO1xuICAgICAgbGV0IGNoYXJnZSA9IDA7XG4gICAgICBsZXQgaXNvdG9wZSA9IDA7XG4gICAgICBsZXQgYm9uZENvdW50ID0gdmVydGV4LnZhbHVlLmJvbmRDb3VudDtcbiAgICAgIGxldCBlbGVtZW50ID0gYXRvbS5lbGVtZW50O1xuICAgICAgbGV0IGh5ZHJvZ2VucyA9IEF0b20ubWF4Qm9uZHNbZWxlbWVudF0gLSBib25kQ291bnQ7XG4gICAgICBsZXQgZGlyID0gdmVydGV4LmdldFRleHREaXJlY3Rpb24odGhpcy5ncmFwaC52ZXJ0aWNlcyk7XG4gICAgICBsZXQgaXNUZXJtaW5hbCA9IHRoaXMub3B0cy50ZXJtaW5hbENhcmJvbnMgfHwgZWxlbWVudCAhPT0gJ0MnIHx8IGF0b20uaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyA/IHZlcnRleC5pc1Rlcm1pbmFsKCkgOiBmYWxzZTtcbiAgICAgIGxldCBpc0NhcmJvbiA9IGF0b20uZWxlbWVudCA9PT0gJ0MnO1xuICAgICAgLy8gVGhpcyBpcyBhIEhBQ0sgdG8gcmVtb3ZlIGFsbCBoeWRyb2dlbnMgZnJvbSBuaXRyb2dlbnMgaW4gYXJvbWF0aWMgcmluZ3MsIGFzIHRoaXNcbiAgICAgIC8vIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc3RhdGUuIFRoaXMgaGFzIHRvIGJlIGZpeGVkIGJ5IGtla3VsaXphdGlvblxuICAgICAgaWYgKGF0b20uZWxlbWVudCA9PT0gJ04nICYmIGF0b20uaXNQYXJ0T2ZBcm9tYXRpY1JpbmcpIHtcbiAgICAgICAgaHlkcm9nZW5zID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0b20uYnJhY2tldCkge1xuICAgICAgICBoeWRyb2dlbnMgPSBhdG9tLmJyYWNrZXQuaGNvdW50O1xuICAgICAgICBjaGFyZ2UgPSBhdG9tLmJyYWNrZXQuY2hhcmdlO1xuICAgICAgICBpc290b3BlID0gYXRvbS5icmFja2V0Lmlzb3RvcGU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdHMuYXRvbVZpc3VhbGl6YXRpb24gPT09ICdhbGxiYWxscycpIHtcbiAgICAgICAgdGhpcy5jYW52YXNXcmFwcGVyLmRyYXdCYWxsKHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKChhdG9tLmlzRHJhd24gJiYgKCFpc0NhcmJvbiB8fCBhdG9tLmRyYXdFeHBsaWNpdCB8fCBpc1Rlcm1pbmFsIHx8IGF0b20uaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cykpIHx8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuYXRvbVZpc3VhbGl6YXRpb24gPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3VGV4dCh2ZXJ0ZXgucG9zaXRpb24ueCwgdmVydGV4LnBvc2l0aW9uLnksXG4gICAgICAgICAgICBlbGVtZW50LCBoeWRyb2dlbnMsIGRpciwgaXNUZXJtaW5hbCwgY2hhcmdlLCBpc290b3BlLCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aCwgYXRvbS5nZXRBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gJ2JhbGxzJykge1xuICAgICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3QmFsbCh2ZXJ0ZXgucG9zaXRpb24ueCwgdmVydGV4LnBvc2l0aW9uLnksIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZlcnRleC5nZXROZWlnaGJvdXJDb3VudCgpID09PSAyICYmIHZlcnRleC5mb3JjZVBvc2l0aW9uZWQgPT0gdHJ1ZSkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGNhcmJvbiB3aGljaCBib25kcyBhcmUgaW4gYSBzdHJhaWdodCBsaW5lLCBkcmF3IGEgZG90XG4gICAgICAgIGxldCBhID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1t2ZXJ0ZXgubmVpZ2hib3Vyc1swXV0ucG9zaXRpb247XG4gICAgICAgIGxldCBiID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1t2ZXJ0ZXgubmVpZ2hib3Vyc1sxXV0ucG9zaXRpb247XG4gICAgICAgIGxldCBhbmdsZSA9IFZlY3RvcjIudGhyZWVQb2ludGFuZ2xlKHZlcnRleC5wb3NpdGlvbiwgYSwgYik7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKE1hdGguUEkgLSBhbmdsZSkgPCAwLjEpIHtcbiAgICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd1BvaW50KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICd2OiAnICsgdmVydGV4LmlkICsgJyAnICsgQXJyYXlIZWxwZXIucHJpbnQoYXRvbS5yaW5nYm9uZHMpO1xuICAgICAgICB0aGlzLmNhbnZhc1dyYXBwZXIuZHJhd0RlYnVnVGV4dCh2ZXJ0ZXgucG9zaXRpb24ueCwgdmVydGV4LnBvc2l0aW9uLnksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3RGVidWdUZXh0KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgdmVydGV4LnZhbHVlLmNoaXJhbGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRHJhdyB0aGUgcmluZyBjZW50ZXJzIGZvciBkZWJ1ZyBwdXJwb3Nlc1xuICAgIGlmICh0aGlzLm9wdHMuZGVidWcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5yaW5nc1tpXS5jZW50ZXI7XG4gICAgICAgIHRoaXMuY2FudmFzV3JhcHBlci5kcmF3RGVidWdQb2ludChjZW50ZXIueCwgY2VudGVyLnksICdyOiAnICsgdGhpcy5yaW5nc1tpXS5pZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uIHRoZSB2ZXJ0aWNlcyBhY2NvcmRpbmcgdG8gdGhlaXIgYm9uZHMgYW5kIHByb3BlcnRpZXMuXG4gICAqL1xuICBwb3NpdGlvbigpIHtcbiAgICBsZXQgc3RhcnRWZXJ0ZXggPSBudWxsO1xuXG4gICAgLy8gQWx3YXlzIHN0YXJ0IGRyYXdpbmcgYXQgYSBicmlkZ2VkIHJpbmcgaWYgdGhlcmUgaXMgb25lXG4gICAgLy8gSWYgbm90LCBzdGFydCB3aXRoIGEgcmluZ1xuICAgIC8vIGVsc2UsIHN0YXJ0IHdpdGggMFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuZ3JhcGgudmVydGljZXNbaV0udmFsdWUuYnJpZGdlZFJpbmcgIT09IG51bGwpIHtcbiAgICAgICAgc3RhcnRWZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnJpbmdzW2ldLmlzQnJpZGdlZCkge1xuICAgICAgICBzdGFydFZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbdGhpcy5yaW5nc1tpXS5tZW1iZXJzWzBdXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5yaW5ncy5sZW5ndGggPiAwICYmIHN0YXJ0VmVydGV4ID09PSBudWxsKSB7XG4gICAgICBzdGFydFZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbdGhpcy5yaW5nc1swXS5tZW1iZXJzWzBdXTtcbiAgICB9XG5cbiAgICBpZiAoc3RhcnRWZXJ0ZXggPT09IG51bGwpIHtcbiAgICAgIHN0YXJ0VmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1swXTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZU5leHRCb25kKHN0YXJ0VmVydGV4LCBudWxsLCAwLjApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3JlcyB0aGUgY3VycmVudCBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggcmluZ3MuXG4gICAqL1xuICBiYWNrdXBSaW5nSW5mb3JtYXRpb24oKSB7XG4gICAgdGhpcy5vcmlnaW5hbFJpbmdzID0gQXJyYXkoKTtcbiAgICB0aGlzLm9yaWdpbmFsUmluZ0Nvbm5lY3Rpb25zID0gQXJyYXkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5vcmlnaW5hbFJpbmdzLnB1c2godGhpcy5yaW5nc1tpXSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5vcmlnaW5hbFJpbmdDb25uZWN0aW9ucy5wdXNoKHRoaXMucmluZ0Nvbm5lY3Rpb25zW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZ3JhcGgudmVydGljZXNbaV0udmFsdWUuYmFja3VwUmluZ3MoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZXMgdGhlIG1vc3QgcmVjZW50bHkgYmFja2VkIHVwIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCByaW5ncy5cbiAgICovXG4gIHJlc3RvcmVSaW5nSW5mb3JtYXRpb24oKSB7XG4gICAgLy8gR2V0IHRoZSBzdWJyaW5nIGNlbnRlcnMgZnJvbSB0aGUgYnJpZGdlZCByaW5nc1xuICAgIGxldCBicmlkZ2VkUmluZ3MgPSB0aGlzLmdldEJyaWRnZWRSaW5ncygpO1xuXG4gICAgdGhpcy5yaW5ncyA9IEFycmF5KCk7XG4gICAgdGhpcy5yaW5nQ29ubmVjdGlvbnMgPSBBcnJheSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBicmlkZ2VkUmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBicmlkZ2VkUmluZyA9IGJyaWRnZWRSaW5nc1tpXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBicmlkZ2VkUmluZy5yaW5ncy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgcmluZyA9IGJyaWRnZWRSaW5nLnJpbmdzW2pdO1xuICAgICAgICB0aGlzLm9yaWdpbmFsUmluZ3NbcmluZy5pZF0uY2VudGVyID0gcmluZy5jZW50ZXI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9yaWdpbmFsUmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucmluZ3MucHVzaCh0aGlzLm9yaWdpbmFsUmluZ3NbaV0pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vcmlnaW5hbFJpbmdDb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yaW5nQ29ubmVjdGlvbnMucHVzaCh0aGlzLm9yaWdpbmFsUmluZ0Nvbm5lY3Rpb25zW2ldKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZ3JhcGgudmVydGljZXNbaV0udmFsdWUucmVzdG9yZVJpbmdzKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogVGhpcyBuZWVkcyBzb21lIGNsZWFuaW5nIHVwXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgcmluZywgdGhhdCBpcywgcG9zaXRpb25lcyBhbGwgdGhlIHZlcnRpY2VzIGluc2lkZSBhIHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBUaGUgcmluZyB0byBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHsoVmVjdG9yMnxudWxsKX0gW2NlbnRlcj1udWxsXSBUaGUgY2VudGVyIG9mIHRoZSByaW5nIHRvIGJlIGNyZWF0ZWQuXG4gICAqIEBwYXJhbSB7KFZlcnRleHxudWxsKX0gW3N0YXJ0VmVydGV4PW51bGxdIFRoZSBmaXJzdCB2ZXJ0ZXggdG8gYmUgcG9zaXRpb25lZCBpbnNpZGUgdGhlIHJpbmcuXG4gICAqIEBwYXJhbSB7KFZlcnRleHxudWxsKX0gW3ByZXZpb3VzVmVydGV4PW51bGxdIFRoZSBsYXN0IHZlcnRleCB0aGF0IHdhcyBwb3NpdGlvbmVkLlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcmV2aW91c1ZlcnRleD1mYWxzZV0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyByaW5nIHdhcyBmb3JjZSBwb3NpdGlvbmVkIGFscmVhZHkgLSB0aGlzIGlzIG5lZWRlZCBhZnRlciBmb3JjZSBsYXlvdXRpbmcgYSByaW5nLCBpbiBvcmRlciB0byBkcmF3IHJpbmdzIGNvbm5lY3RlZCB0byBpdC5cbiAgICovXG4gIGNyZWF0ZVJpbmcocmluZywgY2VudGVyID0gbnVsbCwgc3RhcnRWZXJ0ZXggPSBudWxsLCBwcmV2aW91c1ZlcnRleCA9IG51bGwpIHtcbiAgICBpZiAocmluZy5wb3NpdGlvbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2VudGVyID0gY2VudGVyID8gY2VudGVyIDogbmV3IFZlY3RvcjIoMCwgMCk7XG5cbiAgICBsZXQgb3JkZXJlZE5laWdoYm91cnMgPSByaW5nLmdldE9yZGVyZWROZWlnaGJvdXJzKHRoaXMucmluZ0Nvbm5lY3Rpb25zKTtcbiAgICBsZXQgc3RhcnRpbmdBbmdsZSA9IHN0YXJ0VmVydGV4ID8gVmVjdG9yMi5zdWJ0cmFjdChzdGFydFZlcnRleC5wb3NpdGlvbiwgY2VudGVyKS5hbmdsZSgpIDogMDtcblxuICAgIGxldCByYWRpdXMgPSBNYXRoSGVscGVyLnBvbHlDaXJjdW1yYWRpdXModGhpcy5vcHRzLmJvbmRMZW5ndGgsIHJpbmcuZ2V0U2l6ZSgpKTtcbiAgICBsZXQgYW5nbGUgPSBNYXRoSGVscGVyLmNlbnRyYWxBbmdsZShyaW5nLmdldFNpemUoKSk7XG5cbiAgICByaW5nLmNlbnRyYWxBbmdsZSA9IGFuZ2xlO1xuXG4gICAgbGV0IGEgPSBzdGFydGluZ0FuZ2xlO1xuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICBsZXQgc3RhcnRWZXJ0ZXhJZCA9IChzdGFydFZlcnRleCkgPyBzdGFydFZlcnRleC5pZCA6IG51bGw7XG5cbiAgICBpZiAocmluZy5tZW1iZXJzLmluZGV4T2Yoc3RhcnRWZXJ0ZXhJZCkgPT09IC0xKSB7XG4gICAgICBpZiAoc3RhcnRWZXJ0ZXgpIHtcbiAgICAgICAgc3RhcnRWZXJ0ZXgucG9zaXRpb25lZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBzdGFydFZlcnRleElkID0gcmluZy5tZW1iZXJzWzBdO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSByaW5nIGlzIGJyaWRnZWQsIHRoZW4gZHJhdyB0aGUgdmVydGljZXMgaW5zaWRlIHRoZSByaW5nXG4gICAgLy8gdXNpbmcgYSBmb3JjZSBiYXNlZCBhcHByb2FjaFxuICAgIGlmIChyaW5nLmlzQnJpZGdlZCkge1xuICAgICAgdGhpcy5ncmFwaC5ra0xheW91dChyaW5nLm1lbWJlcnMuc2xpY2UoKSwgY2VudGVyLCBzdGFydFZlcnRleC5pZCwgcmluZywgdGhpcy5vcHRzLmJvbmRMZW5ndGgsXG4gICAgICAgIHRoaXMub3B0cy5ra1RocmVzaG9sZCwgdGhpcy5vcHRzLmtrSW5uZXJUaHJlc2hvbGQsIHRoaXMub3B0cy5ra01heEl0ZXJhdGlvbixcbiAgICAgICAgdGhpcy5vcHRzLmtrTWF4SW5uZXJJdGVyYXRpb24sIHRoaXMub3B0cy5ra01heEVuZXJneSk7XG4gICAgICByaW5nLnBvc2l0aW9uZWQgPSB0cnVlO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGNlbnRlciBvZiB0aGUgYnJpZGdlZCByaW5nXG4gICAgICB0aGlzLnNldFJpbmdDZW50ZXIocmluZyk7XG4gICAgICBjZW50ZXIgPSByaW5nLmNlbnRlcjtcblxuICAgICAgLy8gU2V0dGluZyB0aGUgY2VudGVycyBmb3IgdGhlIHN1YnJpbmdzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmcucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5zZXRSaW5nQ2VudGVyKHJpbmcucmluZ3NbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByaW5nLmVhY2hNZW1iZXIodGhpcy5ncmFwaC52ZXJ0aWNlcywgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgbGV0IHZlcnRleCA9IHRoYXQuZ3JhcGgudmVydGljZXNbdl07XG5cbiAgICAgICAgaWYgKCF2ZXJ0ZXgucG9zaXRpb25lZCkge1xuICAgICAgICAgIHZlcnRleC5zZXRQb3NpdGlvbihjZW50ZXIueCArIE1hdGguY29zKGEpICogcmFkaXVzLCBjZW50ZXIueSArIE1hdGguc2luKGEpICogcmFkaXVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGEgKz0gYW5nbGU7XG5cbiAgICAgICAgaWYgKCFyaW5nLmlzQnJpZGdlZCB8fCByaW5nLnJpbmdzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICB2ZXJ0ZXguYW5nbGUgPSBhO1xuICAgICAgICAgIHZlcnRleC5wb3NpdGlvbmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSwgc3RhcnRWZXJ0ZXhJZCwgKHByZXZpb3VzVmVydGV4KSA/IHByZXZpb3VzVmVydGV4LmlkIDogbnVsbCk7XG4gICAgfVxuXG4gICAgcmluZy5wb3NpdGlvbmVkID0gdHJ1ZTtcbiAgICByaW5nLmNlbnRlciA9IGNlbnRlcjtcblxuICAgIC8vIERyYXcgbmVpZ2hib3VycyBpbiBkZWNyZWFzaW5nIG9yZGVyIG9mIGNvbm5lY3Rpdml0eVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJlZE5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBuZWlnaGJvdXIgPSB0aGlzLmdldFJpbmcob3JkZXJlZE5laWdoYm91cnNbaV0ubmVpZ2hib3VyKTtcblxuICAgICAgaWYgKG5laWdoYm91ci5wb3NpdGlvbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgdmVydGljZXMgPSBSaW5nQ29ubmVjdGlvbi5nZXRWZXJ0aWNlcyh0aGlzLnJpbmdDb25uZWN0aW9ucywgcmluZy5pZCwgbmVpZ2hib3VyLmlkKTtcblxuICAgICAgaWYgKHZlcnRpY2VzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAvLyBUaGlzIHJpbmcgaXMgYSBmdXNlZCByaW5nXG4gICAgICAgIHJpbmcuaXNGdXNlZCA9IHRydWU7XG4gICAgICAgIG5laWdoYm91ci5pc0Z1c2VkID0gdHJ1ZTtcblxuICAgICAgICBsZXQgdmVydGV4QSA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGljZXNbMF1dO1xuICAgICAgICBsZXQgdmVydGV4QiA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGljZXNbMV1dO1xuXG4gICAgICAgIC8vIEdldCBtaWRkbGUgYmV0d2VlbiB2ZXJ0ZXggQSBhbmQgQlxuICAgICAgICBsZXQgbWlkcG9pbnQgPSBWZWN0b3IyLm1pZHBvaW50KHZlcnRleEEucG9zaXRpb24sIHZlcnRleEIucG9zaXRpb24pO1xuXG4gICAgICAgIC8vIEdldCB0aGUgbm9ybWFscyB0byB0aGUgbGluZSBiZXR3ZWVuIEEgYW5kIEJcbiAgICAgICAgbGV0IG5vcm1hbHMgPSBWZWN0b3IyLm5vcm1hbHModmVydGV4QS5wb3NpdGlvbiwgdmVydGV4Qi5wb3NpdGlvbik7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBub3JtYWxzXG4gICAgICAgIG5vcm1hbHNbMF0ubm9ybWFsaXplKCk7XG4gICAgICAgIG5vcm1hbHNbMV0ubm9ybWFsaXplKCk7XG5cbiAgICAgICAgLy8gU2V0IGxlbmd0aCBmcm9tIG1pZGRsZSBvZiBzaWRlIHRvIGNlbnRlciAodGhlIGFwb3RoZW0pXG4gICAgICAgIGxldCByID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKHRoaXMub3B0cy5ib25kTGVuZ3RoLCBuZWlnaGJvdXIuZ2V0U2l6ZSgpKTtcbiAgICAgICAgbGV0IGFwb3RoZW0gPSBNYXRoSGVscGVyLmFwb3RoZW0ociwgbmVpZ2hib3VyLmdldFNpemUoKSk7XG5cbiAgICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcihhcG90aGVtKS5hZGQobWlkcG9pbnQpO1xuICAgICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKGFwb3RoZW0pLmFkZChtaWRwb2ludCk7XG5cbiAgICAgICAgLy8gUGljayB0aGUgbm9ybWFsIHdoaWNoIHJlc3VsdHMgaW4gYSBsYXJnZXIgZGlzdGFuY2UgdG8gdGhlIHByZXZpb3VzIGNlbnRlclxuICAgICAgICAvLyBBbHNvIGNoZWNrIHdoZXRoZXIgaXQncyBpbnNpZGUgYW5vdGhlciByaW5nXG4gICAgICAgIGxldCBuZXh0Q2VudGVyID0gbm9ybWFsc1swXTtcbiAgICAgICAgaWYgKFZlY3RvcjIuc3VidHJhY3QoY2VudGVyLCBub3JtYWxzWzFdKS5sZW5ndGhTcSgpID4gVmVjdG9yMi5zdWJ0cmFjdChjZW50ZXIsIG5vcm1hbHNbMF0pLmxlbmd0aFNxKCkpIHtcbiAgICAgICAgICBuZXh0Q2VudGVyID0gbm9ybWFsc1sxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB0aGUgdmVydGV4IChBIG9yIEIpIHdoaWNoIGlzIGluIGNsb2NrLXdpc2UgZGlyZWN0aW9uIG9mIHRoZSBvdGhlclxuICAgICAgICBsZXQgcG9zQSA9IFZlY3RvcjIuc3VidHJhY3QodmVydGV4QS5wb3NpdGlvbiwgbmV4dENlbnRlcik7XG4gICAgICAgIGxldCBwb3NCID0gVmVjdG9yMi5zdWJ0cmFjdCh2ZXJ0ZXhCLnBvc2l0aW9uLCBuZXh0Q2VudGVyKTtcblxuICAgICAgICBpZiAocG9zQS5jbG9ja3dpc2UocG9zQikgPT09IC0xKSB7XG4gICAgICAgICAgaWYgKCFuZWlnaGJvdXIucG9zaXRpb25lZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVSaW5nKG5laWdoYm91ciwgbmV4dENlbnRlciwgdmVydGV4QSwgdmVydGV4Qik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghbmVpZ2hib3VyLnBvc2l0aW9uZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmluZyhuZWlnaGJvdXIsIG5leHRDZW50ZXIsIHZlcnRleEIsIHZlcnRleEEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2ZXJ0aWNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgLy8gVGhpcyByaW5nIGlzIGEgc3Bpcm9cbiAgICAgICAgcmluZy5pc1NwaXJvID0gdHJ1ZTtcbiAgICAgICAgbmVpZ2hib3VyLmlzU3Bpcm8gPSB0cnVlO1xuXG4gICAgICAgIGxldCB2ZXJ0ZXhBID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1t2ZXJ0aWNlc1swXV07XG5cbiAgICAgICAgLy8gR2V0IHRoZSB2ZWN0b3IgcG9pbnRpbmcgZnJvbSB0aGUgc2hhcmVkIHZlcnRleCB0byB0aGUgbmV3IGNlbnRwb3NpdGlvbmVyXG4gICAgICAgIGxldCBuZXh0Q2VudGVyID0gVmVjdG9yMi5zdWJ0cmFjdChjZW50ZXIsIHZlcnRleEEucG9zaXRpb24pO1xuXG4gICAgICAgIG5leHRDZW50ZXIuaW52ZXJ0KCk7XG4gICAgICAgIG5leHRDZW50ZXIubm9ybWFsaXplKCk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSB2ZXJ0ZXggdG8gdGhlIGNlbnRlclxuICAgICAgICBsZXQgciA9IE1hdGhIZWxwZXIucG9seUNpcmN1bXJhZGl1cyh0aGlzLm9wdHMuYm9uZExlbmd0aCwgbmVpZ2hib3VyLmdldFNpemUoKSk7XG5cbiAgICAgICAgbmV4dENlbnRlci5tdWx0aXBseVNjYWxhcihyKTtcbiAgICAgICAgbmV4dENlbnRlci5hZGQodmVydGV4QS5wb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKCFuZWlnaGJvdXIucG9zaXRpb25lZCkge1xuICAgICAgICAgIHRoaXMuY3JlYXRlUmluZyhuZWlnaGJvdXIsIG5leHRDZW50ZXIsIHZlcnRleEEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTmV4dCwgZHJhdyBhdG9tcyB0aGF0IGFyZSBub3QgcGFydCBvZiBhIHJpbmcgdGhhdCBhcmUgZGlyZWN0bHkgYXR0YWNoZWQgdG8gdGhpcyByaW5nXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByaW5nLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByaW5nTWVtYmVyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tyaW5nLm1lbWJlcnNbaV1dO1xuICAgICAgbGV0IHJpbmdNZW1iZXJOZWlnaGJvdXJzID0gcmluZ01lbWJlci5uZWlnaGJvdXJzO1xuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUsIHRoZSBvdmxlcmFwIHdpbGwgYmUgcmVzb2x2ZWQgaW4gdGhlIGFwcHJvcHJpYXRlIHN0ZXBcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmluZ01lbWJlck5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHYgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmdNZW1iZXJOZWlnaGJvdXJzW2pdXTtcblxuICAgICAgICBpZiAodi5wb3NpdGlvbmVkKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2LnZhbHVlLmlzQ29ubmVjdGVkVG9SaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh2LCByaW5nTWVtYmVyLCAwLjApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSb3RhdGUgYW4gZW50aXJlIHN1YnRyZWUgYnkgYW4gYW5nbGUgYXJvdW5kIGEgY2VudGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQgKHRoZSByb290IG9mIHRoZSBzdWItdHJlZSkuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBwYXJlbnRWZXJ0ZXhJZCBBIHZlcnRleCBpZCBpbiB0aGUgcHJldmlvdXMgZGlyZWN0aW9uIG9mIHRoZSBzdWJ0cmVlIHRoYXQgaXMgdG8gcm90YXRlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgQW4gYW5nbGUgaW4gcmFuZGlhbnMuXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gY2VudGVyIFRoZSByb3RhdGlvbmFsIGNlbnRlci5cbiAgICovXG4gIHJvdGF0ZVN1YnRyZWUodmVydGV4SWQsIHBhcmVudFZlcnRleElkLCBhbmdsZSwgY2VudGVyKSB7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgdGhpcy5ncmFwaC50cmF2ZXJzZVRyZWUodmVydGV4SWQsIHBhcmVudFZlcnRleElkLCBmdW5jdGlvbiAodmVydGV4KSB7XG4gICAgICB2ZXJ0ZXgucG9zaXRpb24ucm90YXRlQXJvdW5kKGFuZ2xlLCBjZW50ZXIpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleC52YWx1ZS5hbmNob3JlZFJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCByaW5nID0gdGhhdC5yaW5nc1t2ZXJ0ZXgudmFsdWUuYW5jaG9yZWRSaW5nc1tpXV07XG5cbiAgICAgICAgaWYgKHJpbmcpIHtcbiAgICAgICAgICByaW5nLmNlbnRlci5yb3RhdGVBcm91bmQoYW5nbGUsIGNlbnRlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBvdmVybGFwIHNjb3JlIG9mIGEgc3VidHJlZS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkIEEgdmVydGV4IGlkICh0aGUgcm9vdCBvZiB0aGUgc3ViLXRyZWUpLlxuICAgKiBAcGFyYW0ge051bWJlcn0gcGFyZW50VmVydGV4SWQgQSB2ZXJ0ZXggaWQgaW4gdGhlIHByZXZpb3VzIGRpcmVjdGlvbiBvZiB0aGUgc3VidHJlZS5cbiAgICogQHBhcmFtIHtOdW1iZXJbXX0gdmVydGV4T3ZlcmxhcFNjb3JlcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0ZXggb3ZlcmxhcCBzY29yZXMgaW5kZXhlZCBieSB2ZXJ0ZXggaWQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSB0b3RhbCBvdmVybGFwIHNjb3JlIGFuZCB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgdGhlIHN1YnRyZWUgd2VpZ2h0ZWQgYnkgb3ZlcmxhcCBzY29yZSB7IHZhbHVlOiAwLjIsIGNlbnRlcjogbmV3IFZlY3RvcjIoKSB9LlxuICAgKi9cbiAgZ2V0U3VidHJlZU92ZXJsYXBTY29yZSh2ZXJ0ZXhJZCwgcGFyZW50VmVydGV4SWQsIHZlcnRleE92ZXJsYXBTY29yZXMpIHtcbiAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgbGV0IHNjb3JlID0gMDtcbiAgICBsZXQgY2VudGVyID0gbmV3IFZlY3RvcjIoMCwgMCk7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIHRoaXMuZ3JhcGgudHJhdmVyc2VUcmVlKHZlcnRleElkLCBwYXJlbnRWZXJ0ZXhJZCwgZnVuY3Rpb24gKHZlcnRleCkge1xuICAgICAgaWYgKCF2ZXJ0ZXgudmFsdWUuaXNEcmF3bikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBzID0gdmVydGV4T3ZlcmxhcFNjb3Jlc1t2ZXJ0ZXguaWRdO1xuICAgICAgaWYgKHMgPiB0aGF0Lm9wdHMub3ZlcmxhcFNlbnNpdGl2aXR5KSB7XG4gICAgICAgIHNjb3JlICs9IHM7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9XG5cbiAgICAgIGxldCBwb3NpdGlvbiA9IHRoYXQuZ3JhcGgudmVydGljZXNbdmVydGV4LmlkXS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgcG9zaXRpb24ubXVsdGlwbHlTY2FsYXIocylcbiAgICAgIGNlbnRlci5hZGQocG9zaXRpb24pO1xuICAgIH0pO1xuXG4gICAgY2VudGVyLmRpdmlkZShzY29yZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHNjb3JlIC8gY291bnQsXG4gICAgICBjZW50ZXI6IGNlbnRlclxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCAocG9zaXRpb25lZCB2ZXJ0aWNlcyBzbyBmYXIpIGNlbnRlciBvZiBtYXNzLlxuICAgKiBcbiAgICogQHJldHVybnMge1ZlY3RvcjJ9IFRoZSBjdXJyZW50IGNlbnRlciBvZiBtYXNzLlxuICAgKi9cbiAgZ2V0Q3VycmVudENlbnRlck9mTWFzcygpIHtcbiAgICBsZXQgdG90YWwgPSBuZXcgVmVjdG9yMigwLCAwKTtcbiAgICBsZXQgY291bnQgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcblxuICAgICAgaWYgKHZlcnRleC5wb3NpdGlvbmVkKSB7XG4gICAgICAgIHRvdGFsLmFkZCh2ZXJ0ZXgucG9zaXRpb24pO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0b3RhbC5kaXZpZGUoY291bnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgKHBvc2l0aW9uZWQgdmVydGljZXMgc28gZmFyKSBjZW50ZXIgb2YgbWFzcyBpbiB0aGUgbmVpZ2hib3VyaG9vZCBvZiBhIGdpdmVuIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlYyBUaGUgcG9pbnQgYXQgd2hpY2ggdG8gbG9vayBmb3IgbmVpZ2hib3Vycy5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtyPWN1cnJlbnRCb25kTGVuZ3RoKjIuMF0gVGhlIHJhZGl1cyBvZiB2ZXJ0aWNlcyB0byBpbmNsdWRlLlxuICAgKiBAcmV0dXJucyB7VmVjdG9yMn0gVGhlIGN1cnJlbnQgY2VudGVyIG9mIG1hc3MuXG4gICAqL1xuICBnZXRDdXJyZW50Q2VudGVyT2ZNYXNzSW5OZWlnYm91cmhvb2QodmVjLCByID0gdGhpcy5vcHRzLmJvbmRMZW5ndGggKiAyLjApIHtcbiAgICBsZXQgdG90YWwgPSBuZXcgVmVjdG9yMigwLCAwKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGxldCByU3EgPSByICogcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG5cbiAgICAgIGlmICh2ZXJ0ZXgucG9zaXRpb25lZCAmJiB2ZWMuZGlzdGFuY2VTcSh2ZXJ0ZXgucG9zaXRpb24pIDwgclNxKSB7XG4gICAgICAgIHRvdGFsLmFkZCh2ZXJ0ZXgucG9zaXRpb24pO1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0b3RhbC5kaXZpZGUoY291bnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmUgcHJpbWFyeSAoZXhhY3QpIG92ZXJsYXBzLCBzdWNoIGFzIHR3byB2ZXJ0aWNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhlIHNhbWUgcmluZyB2ZXJ0ZXguXG4gICAqL1xuICByZXNvbHZlUHJpbWFyeU92ZXJsYXBzKCkge1xuICAgIGxldCBvdmVybGFwcyA9IEFycmF5KCk7XG4gICAgbGV0IGRvbmUgPSBBcnJheSh0aGlzLmdyYXBoLnZlcnRpY2VzLmxlbmd0aCk7XG5cbiAgICAvLyBMb29raW5nIGZvciBvdmVybGFwcyBjcmVhdGVkIGJ5IHR3byBib25kcyBjb21pbmcgb3V0IG9mIGEgcmluZyBhdG9tLCB3aGljaCBib3RoIHBvaW50IHN0cmFpZ2h0XG4gICAgLy8gYXdheSBmcm9tIHRoZSByaW5nIGFuZCBhcmUgdGh1cyBwZXJmZWN0bHkgb3ZlcmxhcHBpbmcuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmluZyA9IHRoaXMucmluZ3NbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmluZy5tZW1iZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3JpbmcubWVtYmVyc1tqXV07XG5cbiAgICAgICAgaWYgKGRvbmVbdmVydGV4LmlkXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9uZVt2ZXJ0ZXguaWRdID0gdHJ1ZTtcblxuICAgICAgICBsZXQgbm9uUmluZ05laWdoYm91cnMgPSB0aGlzLmdldE5vblJpbmdOZWlnaGJvdXJzKHZlcnRleC5pZCk7XG5cbiAgICAgICAgaWYgKG5vblJpbmdOZWlnaGJvdXJzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAvLyBMb29rIGZvciByaW5ncyB3aGVyZSB0aGVyZSBhcmUgYXRvbXMgd2l0aCB0d28gYm9uZHMgb3V0c2lkZSB0aGUgcmluZyAob3ZlcmxhcHMpXG4gICAgICAgICAgbGV0IHJpbmdzID0gQXJyYXkoKTtcblxuICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdmVydGV4LnZhbHVlLnJpbmdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICByaW5ncy5wdXNoKHZlcnRleC52YWx1ZS5yaW5nc1trXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb3ZlcmxhcHMucHVzaCh7XG4gICAgICAgICAgICBjb21tb246IHZlcnRleCxcbiAgICAgICAgICAgIHJpbmdzOiByaW5ncyxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBub25SaW5nTmVpZ2hib3Vyc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG5vblJpbmdOZWlnaGJvdXJzLmxlbmd0aCA9PT0gMSAmJiB2ZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgLy8gTG9vayBmb3IgYm9uZHMgY29taW5nIG91dCBvZiBqb2luZWQgcmluZ3MgdG8gYWRqdXN0IHRoZSBhbmdsZSwgYW4gZXhhbXBsZSBpczogQzE9Q0MoPUNDPUMxKVtDQF0xMlNDQ04xQ0MxPUNDPUNDPUMyMVxuICAgICAgICAgIC8vIHdoZXJlIHRoZSBhbmdsZSBoYXMgdG8gYmUgYWRqdXN0ZWQgdG8gYWNjb3VudCBmb3IgZnVzZWQgcmluZ1xuICAgICAgICAgIGxldCByaW5ncyA9IEFycmF5KCk7XG5cbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgcmluZ3MucHVzaCh2ZXJ0ZXgudmFsdWUucmluZ3Nba10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG92ZXJsYXBzLnB1c2goe1xuICAgICAgICAgICAgY29tbW9uOiB2ZXJ0ZXgsXG4gICAgICAgICAgICByaW5nczogcmluZ3MsXG4gICAgICAgICAgICB2ZXJ0aWNlczogbm9uUmluZ05laWdoYm91cnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3ZlcmxhcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBvdmVybGFwID0gb3ZlcmxhcHNbaV07XG5cbiAgICAgIGlmIChvdmVybGFwLnZlcnRpY2VzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBsZXQgYSA9IG92ZXJsYXAudmVydGljZXNbMF07XG4gICAgICAgIGxldCBiID0gb3ZlcmxhcC52ZXJ0aWNlc1sxXTtcblxuICAgICAgICBpZiAoIWEudmFsdWUuaXNEcmF3biB8fCAhYi52YWx1ZS5pc0RyYXduKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYW5nbGUgPSAoMiAqIE1hdGguUEkgLSB0aGlzLmdldFJpbmcob3ZlcmxhcC5yaW5nc1swXSkuZ2V0QW5nbGUoKSkgLyA2LjA7XG5cbiAgICAgICAgdGhpcy5yb3RhdGVTdWJ0cmVlKGEuaWQsIG92ZXJsYXAuY29tbW9uLmlkLCBhbmdsZSwgb3ZlcmxhcC5jb21tb24ucG9zaXRpb24pO1xuICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUoYi5pZCwgb3ZlcmxhcC5jb21tb24uaWQsIC1hbmdsZSwgb3ZlcmxhcC5jb21tb24ucG9zaXRpb24pO1xuXG4gICAgICAgIC8vIERlY2lkZSB3aGljaCB3YXkgdG8gcm90YXRlIHRoZSB2ZXJ0aWNlcyBkZXBlbmRpbmcgb24gdGhlIGVmZmVjdCBpdCBoYXMgb24gdGhlIG92ZXJsYXAgc2NvcmVcbiAgICAgICAgbGV0IG92ZXJsYXBTY29yZSA9IHRoaXMuZ2V0T3ZlcmxhcFNjb3JlKCk7XG4gICAgICAgIGxldCBzdWJUcmVlT3ZlcmxhcEEgPSB0aGlzLmdldFN1YnRyZWVPdmVybGFwU2NvcmUoYS5pZCwgb3ZlcmxhcC5jb21tb24uaWQsIG92ZXJsYXBTY29yZS52ZXJ0ZXhTY29yZXMpO1xuICAgICAgICBsZXQgc3ViVHJlZU92ZXJsYXBCID0gdGhpcy5nZXRTdWJ0cmVlT3ZlcmxhcFNjb3JlKGIuaWQsIG92ZXJsYXAuY29tbW9uLmlkLCBvdmVybGFwU2NvcmUudmVydGV4U2NvcmVzKTtcbiAgICAgICAgbGV0IHRvdGFsID0gc3ViVHJlZU92ZXJsYXBBLnZhbHVlICsgc3ViVHJlZU92ZXJsYXBCLnZhbHVlO1xuXG4gICAgICAgIHRoaXMucm90YXRlU3VidHJlZShhLmlkLCBvdmVybGFwLmNvbW1vbi5pZCwgLTIuMCAqIGFuZ2xlLCBvdmVybGFwLmNvbW1vbi5wb3NpdGlvbik7XG4gICAgICAgIHRoaXMucm90YXRlU3VidHJlZShiLmlkLCBvdmVybGFwLmNvbW1vbi5pZCwgMi4wICogYW5nbGUsIG92ZXJsYXAuY29tbW9uLnBvc2l0aW9uKTtcblxuICAgICAgICBvdmVybGFwU2NvcmUgPSB0aGlzLmdldE92ZXJsYXBTY29yZSgpO1xuICAgICAgICBzdWJUcmVlT3ZlcmxhcEEgPSB0aGlzLmdldFN1YnRyZWVPdmVybGFwU2NvcmUoYS5pZCwgb3ZlcmxhcC5jb21tb24uaWQsIG92ZXJsYXBTY29yZS52ZXJ0ZXhTY29yZXMpO1xuICAgICAgICBzdWJUcmVlT3ZlcmxhcEIgPSB0aGlzLmdldFN1YnRyZWVPdmVybGFwU2NvcmUoYi5pZCwgb3ZlcmxhcC5jb21tb24uaWQsIG92ZXJsYXBTY29yZS52ZXJ0ZXhTY29yZXMpO1xuXG4gICAgICAgIGlmIChzdWJUcmVlT3ZlcmxhcEEudmFsdWUgKyBzdWJUcmVlT3ZlcmxhcEIudmFsdWUgPiB0b3RhbCkge1xuICAgICAgICAgIHRoaXMucm90YXRlU3VidHJlZShhLmlkLCBvdmVybGFwLmNvbW1vbi5pZCwgMi4wICogYW5nbGUsIG92ZXJsYXAuY29tbW9uLnBvc2l0aW9uKTtcbiAgICAgICAgICB0aGlzLnJvdGF0ZVN1YnRyZWUoYi5pZCwgb3ZlcmxhcC5jb21tb24uaWQsIC0yLjAgKiBhbmdsZSwgb3ZlcmxhcC5jb21tb24ucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG92ZXJsYXAudmVydGljZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChvdmVybGFwLnJpbmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBmb3IgbW9yZSBvdmVybGFwIHJlc29sdXRpb25cbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhvdmVybGFwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHNlY29uZGFyeSBvdmVybGFwcy4gVGhvc2Ugb3ZlcmxhcHMgYXJlIGR1ZSB0byB0aGUgc3RydWN0dXJlIHR1cm5pbmcgYmFjayBvbiBpdHNlbGYuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0W119IHNjb3JlcyBBbiBhcnJheSBvZiBvYmplY3RzIHNvcnRlZCBkZXNjZW5kaW5nIGJ5IHNjb3JlLlxuICAgKiBAcGFyYW0ge051bWJlcn0gc2NvcmVzW10uaWQgQSB2ZXJ0ZXggaWQuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY29yZXNbXS5zY29yZSBUaGUgb3ZlcmxhcCBzY29yZSBhc3NvY2lhdGVkIHdpdGggdGhlIHZlcnRleCBpZC5cbiAgICovXG4gIHJlc29sdmVTZWNvbmRhcnlPdmVybGFwcyhzY29yZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjb3Jlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNjb3Jlc1tpXS5zY29yZSA+IHRoaXMub3B0cy5vdmVybGFwU2Vuc2l0aXZpdHkpIHtcbiAgICAgICAgbGV0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbc2NvcmVzW2ldLmlkXTtcblxuICAgICAgICBpZiAodmVydGV4LmlzVGVybWluYWwoKSkge1xuICAgICAgICAgIGxldCBjbG9zZXN0ID0gdGhpcy5nZXRDbG9zZXN0VmVydGV4KHZlcnRleCk7XG5cbiAgICAgICAgICBpZiAoY2xvc2VzdCkge1xuICAgICAgICAgICAgLy8gSWYgb25lIG9mIHRoZSB2ZXJ0aWNlcyBpcyB0aGUgZmlyc3Qgb25lLCB0aGUgcHJldmlvdXMgdmVydGV4IGlzIG5vdCB0aGUgY2VudHJhbCB2ZXJ0ZXggYnV0IHRoZSBkdW1teVxuICAgICAgICAgICAgLy8gc28gdGFrZSB0aGUgbmV4dCByYXRoZXIgdGhhbiB0aGUgcHJldmlvdXMsIHdoaWNoIGlzIHZlcnRleCAxXG4gICAgICAgICAgICBsZXQgY2xvc2VzdFBvc2l0aW9uID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKGNsb3Nlc3QuaXNUZXJtaW5hbCgpKSB7XG4gICAgICAgICAgICAgIGNsb3Nlc3RQb3NpdGlvbiA9IGNsb3Nlc3QuaWQgPT09IDAgPyB0aGlzLmdyYXBoLnZlcnRpY2VzWzFdLnBvc2l0aW9uIDogY2xvc2VzdC5wcmV2aW91c1Bvc2l0aW9uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbG9zZXN0UG9zaXRpb24gPSBjbG9zZXN0LmlkID09PSAwID8gdGhpcy5ncmFwaC52ZXJ0aWNlc1sxXS5wb3NpdGlvbiA6IGNsb3Nlc3QucG9zaXRpb25cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZlcnRleFByZXZpb3VzUG9zaXRpb24gPSB2ZXJ0ZXguaWQgPT09IDAgPyB0aGlzLmdyYXBoLnZlcnRpY2VzWzFdLnBvc2l0aW9uIDogdmVydGV4LnByZXZpb3VzUG9zaXRpb247XG5cbiAgICAgICAgICAgIHZlcnRleC5wb3NpdGlvbi5yb3RhdGVBd2F5RnJvbShjbG9zZXN0UG9zaXRpb24sIHZlcnRleFByZXZpb3VzUG9zaXRpb24sIE1hdGhIZWxwZXIudG9SYWQoMjApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsYXN0IG5vbi1udWxsIG9yIDAgYW5nbGUgdmVydGV4LlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXG4gICAqIEByZXR1cm5zIHtWZXJ0ZXh9IFRoZSBsYXN0IHZlcnRleCB3aXRoIGFuIGFuZ2xlIHRoYXQgd2FzIG5vdCAwIG9yIG51bGwuXG4gICAqL1xuICBnZXRMYXN0VmVydGV4V2l0aEFuZ2xlKHZlcnRleElkKSB7XG4gICAgbGV0IGFuZ2xlID0gMDtcbiAgICBsZXQgdmVydGV4ID0gbnVsbDtcblxuICAgIHdoaWxlICghYW5nbGUgJiYgdmVydGV4SWQpIHtcbiAgICAgIHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGV4SWRdO1xuICAgICAgYW5nbGUgPSB2ZXJ0ZXguYW5nbGU7XG4gICAgICB2ZXJ0ZXhJZCA9IHZlcnRleC5wYXJlbnRWZXJ0ZXhJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmVydGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc2l0aW9uZXMgdGhlIG5leHQgdmVydGV4IHRodXMgY3JlYXRpbmcgYSBib25kLlxuICAgKlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4IEEgdmVydGV4LlxuICAgKiBAcGFyYW0ge1ZlcnRleH0gW3ByZXZpb3VzVmVydGV4PW51bGxdIFRoZSBwcmV2aW91cyB2ZXJ0ZXggd2hpY2ggaGFzIGJlZW4gcG9zaXRpb25lZC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFthbmdsZT0wLjBdIFRoZSAoZ2xvYmFsKSBhbmdsZSBvZiB0aGUgdmVydGV4LlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcmlnaW5TaG9ydGVzdD1mYWxzZV0gV2hldGhlciB0aGUgb3JpZ2luIGlzIHRoZSBzaG9ydGVzdCBzdWJ0cmVlIGluIHRoZSBicmFuY2guXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBQb3NpdGlvbmluZz1mYWxzZV0gV2hldGhlciBvciBub3QgdG8gc2tpcCBwb3NpdGlvbmluZyBhbmQganVzdCBjaGVjayB0aGUgbmVpZ2hib3Vycy5cbiAgICovXG4gIGNyZWF0ZU5leHRCb25kKHZlcnRleCwgcHJldmlvdXNWZXJ0ZXggPSBudWxsLCBhbmdsZSA9IDAuMCwgb3JpZ2luU2hvcnRlc3QgPSBmYWxzZSwgc2tpcFBvc2l0aW9uaW5nID0gZmFsc2UpIHtcbiAgICBpZiAodmVydGV4LnBvc2l0aW9uZWQgJiYgIXNraXBQb3NpdGlvbmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBkb3VibGUgYm9uZCBjb25maWcgd2FzIHNldCBvbiB0aGlzIHZlcnRleCwgZG8gbm90IGNoZWNrIGxhdGVyXG4gICAgbGV0IGRvdWJsZUJvbmRDb25maWdTZXQgPSBmYWxzZTtcblxuICAgIC8vIEtlZXBpbmcgdHJhY2sgb2YgY29uZmlndXJhdGlvbnMgYXJvdW5kIGRvdWJsZSBib25kc1xuICAgIGlmIChwcmV2aW91c1ZlcnRleCkge1xuICAgICAgbGV0IGVkZ2UgPSB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBwcmV2aW91c1ZlcnRleC5pZCk7XG5cbiAgICAgIGlmICgoZWRnZS5ib25kVHlwZSA9PT0gJy8nIHx8IGVkZ2UuYm9uZFR5cGUgPT09ICdcXFxcJykgJiYgKyt0aGlzLmRvdWJsZUJvbmRDb25maWdDb3VudCAlIDIgPT09IDEpIHtcbiAgICAgICAgaWYgKHRoaXMuZG91YmxlQm9uZENvbmZpZyA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZyA9IGVkZ2UuYm9uZFR5cGU7XG4gICAgICAgICAgZG91YmxlQm9uZENvbmZpZ1NldCA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTd2l0Y2ggaWYgdGhlIGJvbmQgaXMgYSBicmFuY2ggYm9uZCBhbmQgcHJldmlvdXMgdmVydGV4IGlzIHRoZSBmaXJzdFxuICAgICAgICAgIC8vIFRPRE86IFdoeSBpcyBpdCBkaWZmZXJlbnQgd2l0aCB0aGUgZmlyc3QgdmVydGV4P1xuICAgICAgICAgIGlmIChwcmV2aW91c1ZlcnRleC5wYXJlbnRWZXJ0ZXhJZCA9PT0gbnVsbCAmJiB2ZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG91YmxlQm9uZENvbmZpZyA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgIHRoaXMuZG91YmxlQm9uZENvbmZpZyA9ICdcXFxcJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgdGhpcy5kb3VibGVCb25kQ29uZmlnID0gJy8nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBjdXJyZW50IG5vZGUgaXMgdGhlIG1lbWJlciBvZiBvbmUgcmluZywgdGhlbiBwb2ludCBzdHJhaWdodCBhd2F5XG4gICAgLy8gZnJvbSB0aGUgY2VudGVyIG9mIHRoZSByaW5nLiBIb3dldmVyLCBpZiB0aGUgY3VycmVudCBub2RlIGlzIGEgbWVtYmVyIG9mXG4gICAgLy8gdHdvIHJpbmdzLCBwb2ludCBhd2F5IGZyb20gdGhlIG1pZGRsZSBvZiB0aGUgY2VudGVycyBvZiB0aGUgdHdvIHJpbmdzXG4gICAgaWYgKCFza2lwUG9zaXRpb25pbmcpIHtcbiAgICAgIGlmICghcHJldmlvdXNWZXJ0ZXgpIHtcbiAgICAgICAgLy8gQWRkIGEgKGR1bW15KSBwcmV2aW91cyBwb3NpdGlvbiBpZiB0aGVyZSBpcyBubyBwcmV2aW91cyB2ZXJ0ZXggZGVmaW5lZFxuICAgICAgICAvLyBTaW5jZSB0aGUgZmlyc3QgdmVydGV4IGlzIGF0ICgwLCAwKSwgY3JlYXRlIGEgdmVjdG9yIGF0IChib25kTGVuZ3RoLCAwKVxuICAgICAgICAvLyBhbmQgcm90YXRlIGl0IGJ5IDkwwrBcblxuICAgICAgICBsZXQgZHVtbXkgPSBuZXcgVmVjdG9yMih0aGlzLm9wdHMuYm9uZExlbmd0aCwgMCk7XG4gICAgICAgIGR1bW15LnJvdGF0ZShNYXRoSGVscGVyLnRvUmFkKC02MCkpO1xuXG4gICAgICAgIHZlcnRleC5wcmV2aW91c1Bvc2l0aW9uID0gZHVtbXk7XG4gICAgICAgIHZlcnRleC5zZXRQb3NpdGlvbih0aGlzLm9wdHMuYm9uZExlbmd0aCwgMCk7XG4gICAgICAgIHZlcnRleC5hbmdsZSA9IE1hdGhIZWxwZXIudG9SYWQoLTYwKTtcblxuICAgICAgICAvLyBEbyBub3QgcG9zaXRpb24gdGhlIHZlcnRleCBpZiBpdCBiZWxvbmdzIHRvIGEgYnJpZGdlZCByaW5nIHRoYXQgaXMgcG9zaXRpb25lZCB1c2luZyBhIGxheW91dCBhbGdvcml0aG0uXG4gICAgICAgIGlmICh2ZXJ0ZXgudmFsdWUuYnJpZGdlZFJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICB2ZXJ0ZXgucG9zaXRpb25lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNWZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbmVpZ2hib3VycyA9IHByZXZpb3VzVmVydGV4Lm5laWdoYm91cnM7XG4gICAgICAgIGxldCBqb2luZWRWZXJ0ZXggPSBudWxsO1xuICAgICAgICBsZXQgcG9zID0gbmV3IFZlY3RvcjIoMC4wLCAwLjApO1xuXG4gICAgICAgIGlmIChwcmV2aW91c1ZlcnRleC52YWx1ZS5icmlkZ2VkUmluZyA9PT0gbnVsbCAmJiBwcmV2aW91c1ZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcbiAgICAgICAgICAgIGlmIChBcnJheUhlbHBlci5jb250YWluc0FsbChuZWlnaGJvdXIudmFsdWUucmluZ3MsIHByZXZpb3VzVmVydGV4LnZhbHVlLnJpbmdzKSkge1xuICAgICAgICAgICAgICBqb2luZWRWZXJ0ZXggPSBuZWlnaGJvdXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqb2luZWRWZXJ0ZXggPT09IG51bGwpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcblxuICAgICAgICAgICAgaWYgKHYucG9zaXRpb25lZCAmJiB0aGlzLmFyZVZlcnRpY2VzSW5TYW1lUmluZyh2LCBwcmV2aW91c1ZlcnRleCkpIHtcbiAgICAgICAgICAgICAgcG9zLmFkZChWZWN0b3IyLnN1YnRyYWN0KHYucG9zaXRpb24sIHByZXZpb3VzVmVydGV4LnBvc2l0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9zLmludmVydCgpLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHRoaXMub3B0cy5ib25kTGVuZ3RoKS5hZGQocHJldmlvdXNWZXJ0ZXgucG9zaXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvcyA9IGpvaW5lZFZlcnRleC5wb3NpdGlvbi5jbG9uZSgpLnJvdGF0ZUFyb3VuZChNYXRoLlBJLCBwcmV2aW91c1ZlcnRleC5wb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2ZXJ0ZXgucHJldmlvdXNQb3NpdGlvbiA9IHByZXZpb3VzVmVydGV4LnBvc2l0aW9uO1xuICAgICAgICB2ZXJ0ZXguc2V0UG9zaXRpb25Gcm9tVmVjdG9yKHBvcyk7XG4gICAgICAgIHZlcnRleC5wb3NpdGlvbmVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyB2ZXJ0ZXggd2FzIG5vdCBwYXJ0IG9mIGEgcmluZywgZHJhdyBhIGJvbmQgYmFzZWRcbiAgICAgICAgLy8gb24gdGhlIGdsb2JhbCBhbmdsZSBvZiB0aGUgcHJldmlvdXMgYm9uZFxuICAgICAgICBsZXQgdiA9IG5ldyBWZWN0b3IyKHRoaXMub3B0cy5ib25kTGVuZ3RoLCAwKTtcblxuICAgICAgICB2LnJvdGF0ZShhbmdsZSk7XG4gICAgICAgIHYuYWRkKHByZXZpb3VzVmVydGV4LnBvc2l0aW9uKTtcblxuICAgICAgICB2ZXJ0ZXguc2V0UG9zaXRpb25Gcm9tVmVjdG9yKHYpO1xuICAgICAgICB2ZXJ0ZXgucHJldmlvdXNQb3NpdGlvbiA9IHByZXZpb3VzVmVydGV4LnBvc2l0aW9uO1xuICAgICAgICB2ZXJ0ZXgucG9zaXRpb25lZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR28gdG8gbmV4dCB2ZXJ0ZXhcbiAgICAvLyBJZiB0d28gcmluZ3MgYXJlIGNvbm5lY3RlZCBieSBhIGJvbmQgLi4uXG4gICAgaWYgKHZlcnRleC52YWx1ZS5icmlkZ2VkUmluZyAhPT0gbnVsbCkge1xuICAgICAgbGV0IG5leHRSaW5nID0gdGhpcy5nZXRSaW5nKHZlcnRleC52YWx1ZS5icmlkZ2VkUmluZyk7XG5cbiAgICAgIGlmICghbmV4dFJpbmcucG9zaXRpb25lZCkge1xuICAgICAgICBsZXQgbmV4dENlbnRlciA9IFZlY3RvcjIuc3VidHJhY3QodmVydGV4LnByZXZpb3VzUG9zaXRpb24sIHZlcnRleC5wb3NpdGlvbik7XG5cbiAgICAgICAgbmV4dENlbnRlci5pbnZlcnQoKTtcbiAgICAgICAgbmV4dENlbnRlci5ub3JtYWxpemUoKTtcblxuICAgICAgICBsZXQgciA9IE1hdGhIZWxwZXIucG9seUNpcmN1bXJhZGl1cyh0aGlzLm9wdHMuYm9uZExlbmd0aCwgbmV4dFJpbmcubWVtYmVycy5sZW5ndGgpO1xuICAgICAgICBuZXh0Q2VudGVyLm11bHRpcGx5U2NhbGFyKHIpO1xuICAgICAgICBuZXh0Q2VudGVyLmFkZCh2ZXJ0ZXgucG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmluZyhuZXh0UmluZywgbmV4dENlbnRlciwgdmVydGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgbmV4dFJpbmcgPSB0aGlzLmdldFJpbmcodmVydGV4LnZhbHVlLnJpbmdzWzBdKTtcblxuICAgICAgaWYgKCFuZXh0UmluZy5wb3NpdGlvbmVkKSB7XG4gICAgICAgIGxldCBuZXh0Q2VudGVyID0gVmVjdG9yMi5zdWJ0cmFjdCh2ZXJ0ZXgucHJldmlvdXNQb3NpdGlvbiwgdmVydGV4LnBvc2l0aW9uKTtcblxuICAgICAgICBuZXh0Q2VudGVyLmludmVydCgpO1xuICAgICAgICBuZXh0Q2VudGVyLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgIGxldCByID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKHRoaXMub3B0cy5ib25kTGVuZ3RoLCBuZXh0UmluZy5nZXRTaXplKCkpO1xuXG4gICAgICAgIG5leHRDZW50ZXIubXVsdGlwbHlTY2FsYXIocik7XG4gICAgICAgIG5leHRDZW50ZXIuYWRkKHZlcnRleC5wb3NpdGlvbik7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVSaW5nKG5leHRSaW5nLCBuZXh0Q2VudGVyLCB2ZXJ0ZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEcmF3IHRoZSBub24tcmluZyB2ZXJ0aWNlcyBjb25uZWN0ZWQgdG8gdGhpcyBvbmUgIFxuICAgICAgbGV0IGlzU3RlcmVvQ2VudGVyID0gdmVydGV4LnZhbHVlLmlzU3RlcmVvQ2VudGVyO1xuICAgICAgbGV0IHRtcE5laWdoYm91cnMgPSB2ZXJ0ZXguZ2V0TmVpZ2hib3VycygpO1xuICAgICAgbGV0IG5laWdoYm91cnMgPSBBcnJheSgpO1xuXG4gICAgICAvLyBSZW1vdmUgbmVpZ2hib3VycyB0aGF0IGFyZSBub3QgZHJhd25cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG1wTmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5ncmFwaC52ZXJ0aWNlc1t0bXBOZWlnaGJvdXJzW2ldXS52YWx1ZS5pc0RyYXduKSB7XG4gICAgICAgICAgbmVpZ2hib3Vycy5wdXNoKHRtcE5laWdoYm91cnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgcHJldmlvdXMgdmVydGV4ICh3aGljaCBoYXMgYWxyZWFkeSBiZWVuIGRyYXduKVxuICAgICAgaWYgKHByZXZpb3VzVmVydGV4KSB7XG4gICAgICAgIG5laWdoYm91cnMgPSBBcnJheUhlbHBlci5yZW1vdmUobmVpZ2hib3VycywgcHJldmlvdXNWZXJ0ZXguaWQpO1xuICAgICAgfVxuXG4gICAgICBsZXQgcHJldmlvdXNBbmdsZSA9IHZlcnRleC5nZXRBbmdsZSgpO1xuXG4gICAgICBpZiAobmVpZ2hib3Vycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbGV0IG5leHRWZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMF1dO1xuXG4gICAgICAgIC8vIE1ha2UgYSBzaW5nbGUgY2hhaW4gYWx3YXlzIGNpcyBleGNlcHQgd2hlbiB0aGVyZSdzIGEgdHJpYmJsZSAoeWVzLCB0aGlzIGlzIGEgU3RhciBUcmVrIHJlZmVyZW5jZSkgYm9uZFxuICAgICAgICAvLyBvciBpZiB0aGVyZSBhcmUgc3VjY2Vzc2l2ZSBkb3VibGUgYm9uZHMuIEFkZGVkIGEgcmluZyBjaGVjayBiZWNhdXNlIGlmIHRoZXJlIGlzIGFuIGFyb21hdGljIHJpbmcgdGhlIHJpbmcgYm9uZCBpbnNpZGUgdGhlIHJpbmcgY291bnRzIGFzIGEgZG91YmxlIGJvbmQgYW5kIGxlYWRzIHRvID0tPSBiZWluZyBzdHJhaWdodC5cbiAgICAgICAgaWYgKCh2ZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09ICcjJyB8fCAocHJldmlvdXNWZXJ0ZXggJiYgcHJldmlvdXNWZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09ICcjJykpIHx8XG4gICAgICAgICAgdmVydGV4LnZhbHVlLmJvbmRUeXBlID09PSAnPScgJiYgcHJldmlvdXNWZXJ0ZXggJiYgcHJldmlvdXNWZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgcHJldmlvdXNWZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09ICc9JyAmJiB2ZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCAhPT0gJy0nKSB7XG4gICAgICAgICAgdmVydGV4LnZhbHVlLmRyYXdFeHBsaWNpdCA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKHByZXZpb3VzVmVydGV4KSB7XG4gICAgICAgICAgICBsZXQgc3RyYWlnaHRFZGdlMSA9IHRoaXMuZ3JhcGguZ2V0RWRnZSh2ZXJ0ZXguaWQsIHByZXZpb3VzVmVydGV4LmlkKTtcbiAgICAgICAgICAgIHN0cmFpZ2h0RWRnZTEuY2VudGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgc3RyYWlnaHRFZGdlMiA9IHRoaXMuZ3JhcGguZ2V0RWRnZSh2ZXJ0ZXguaWQsIG5leHRWZXJ0ZXguaWQpO1xuICAgICAgICAgIHN0cmFpZ2h0RWRnZTIuY2VudGVyID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICh2ZXJ0ZXgudmFsdWUuYm9uZFR5cGUgPT09ICcjJyB8fCBwcmV2aW91c1ZlcnRleCAmJiBwcmV2aW91c1ZlcnRleC52YWx1ZS5ib25kVHlwZSA9PT0gJyMnKSB7XG4gICAgICAgICAgICBuZXh0VmVydGV4LmFuZ2xlID0gMC4wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHRWZXJ0ZXguZHJhd0V4cGxpY2l0ID0gdHJ1ZTtcblxuICAgICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQobmV4dFZlcnRleCwgdmVydGV4LCBwcmV2aW91c0FuZ2xlICsgbmV4dFZlcnRleC5hbmdsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNWZXJ0ZXggJiYgcHJldmlvdXNWZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIElmIGNvbWluZyBvdXQgb2YgYSByaW5nLCBhbHdheXMgZHJhdyBhd2F5IGZyb20gdGhlIGNlbnRlciBvZiBtYXNzXG4gICAgICAgICAgbGV0IHByb3Bvc2VkQW5nbGVBID0gTWF0aEhlbHBlci50b1JhZCg2MCk7XG4gICAgICAgICAgbGV0IHByb3Bvc2VkQW5nbGVCID0gLXByb3Bvc2VkQW5nbGVBO1xuXG4gICAgICAgICAgbGV0IHByb3Bvc2VkVmVjdG9yQSA9IG5ldyBWZWN0b3IyKHRoaXMub3B0cy5ib25kTGVuZ3RoLCAwKTtcbiAgICAgICAgICBsZXQgcHJvcG9zZWRWZWN0b3JCID0gbmV3IFZlY3RvcjIodGhpcy5vcHRzLmJvbmRMZW5ndGgsIDApO1xuXG4gICAgICAgICAgcHJvcG9zZWRWZWN0b3JBLnJvdGF0ZShwcm9wb3NlZEFuZ2xlQSkuYWRkKHZlcnRleC5wb3NpdGlvbik7XG4gICAgICAgICAgcHJvcG9zZWRWZWN0b3JCLnJvdGF0ZShwcm9wb3NlZEFuZ2xlQikuYWRkKHZlcnRleC5wb3NpdGlvbik7XG5cbiAgICAgICAgICAvLyBsZXQgY2VudGVyT2ZNYXNzID0gdGhpcy5nZXRDdXJyZW50Q2VudGVyT2ZNYXNzSW5OZWlnYm91cmhvb2QodmVydGV4LnBvc2l0aW9uLCAxMDApO1xuICAgICAgICAgIGxldCBjZW50ZXJPZk1hc3MgPSB0aGlzLmdldEN1cnJlbnRDZW50ZXJPZk1hc3MoKTtcbiAgICAgICAgICBsZXQgZGlzdGFuY2VBID0gcHJvcG9zZWRWZWN0b3JBLmRpc3RhbmNlU3EoY2VudGVyT2ZNYXNzKTtcbiAgICAgICAgICBsZXQgZGlzdGFuY2VCID0gcHJvcG9zZWRWZWN0b3JCLmRpc3RhbmNlU3EoY2VudGVyT2ZNYXNzKTtcblxuICAgICAgICAgIG5leHRWZXJ0ZXguYW5nbGUgPSBkaXN0YW5jZUEgPCBkaXN0YW5jZUIgPyBwcm9wb3NlZEFuZ2xlQiA6IHByb3Bvc2VkQW5nbGVBO1xuXG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChuZXh0VmVydGV4LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyBuZXh0VmVydGV4LmFuZ2xlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgYSA9IHZlcnRleC5hbmdsZTtcbiAgICAgICAgICAvLyBUYWtlIHRoZSBtaW4gYW5kIG1heCBpZiB0aGUgcHJldmlvdXMgYW5nbGUgd2FzIGluIGEgNC1uZWlnaGJvdXJob29kICg5MMKwIGFuZ2xlcylcbiAgICAgICAgICAvLyBUT0RPOiBJZiBhIGlzIG51bGwgb3IgemVybywgaXQgc2hvdWxkIGJlIGNoZWNrZWQgd2hldGhlciBvciBub3QgdGhpcyBvbmUgc2hvdWxkIGdvIGNpcyBvciB0cmFucywgdGhhdCBpcyxcbiAgICAgICAgICAvLyAgICAgICBpdCBzaG91bGQgZ28gaW50byB0aGUgb3Bvc2l0ZSBkaXJlY3Rpb24gb2YgdGhlIGxhc3Qgbm9uLW51bGwgb3IgMCBwcmV2aW91cyB2ZXJ0ZXggLyBhbmdsZS5cbiAgICAgICAgICBpZiAocHJldmlvdXNWZXJ0ZXggJiYgcHJldmlvdXNWZXJ0ZXgubmVpZ2hib3Vycy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICBpZiAoYSA+IDApIHtcbiAgICAgICAgICAgICAgYSA9IE1hdGgubWluKDEuMDQ3MiwgYSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGEgPCAwKSB7XG4gICAgICAgICAgICAgIGEgPSBNYXRoLm1heCgtMS4wNDcyLCBhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGEgPSAxLjA0NzI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICghYSkge1xuICAgICAgICAgICAgbGV0IHYgPSB0aGlzLmdldExhc3RWZXJ0ZXhXaXRoQW5nbGUodmVydGV4LmlkKTtcbiAgICAgICAgICAgIGEgPSB2LmFuZ2xlO1xuXG4gICAgICAgICAgICBpZiAoIWEpIHtcbiAgICAgICAgICAgICAgYSA9IDEuMDQ3MjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIYW5kbGUgY29uZmlndXJhdGlvbiBhcm91bmQgZG91YmxlIGJvbmRzXG4gICAgICAgICAgaWYgKHByZXZpb3VzVmVydGV4ICYmICFkb3VibGVCb25kQ29uZmlnU2V0KSB7XG4gICAgICAgICAgICBsZXQgYm9uZFR5cGUgPSB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBuZXh0VmVydGV4LmlkKS5ib25kVHlwZTtcblxuICAgICAgICAgICAgaWYgKGJvbmRUeXBlID09PSAnLycpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuZG91YmxlQm9uZENvbmZpZyA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkbyBzaW5jZSBpdCB3aWxsIGJlIHRyYW5zIHBlciBkZWZhdWx0XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICBhID0gLWE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5kb3VibGVCb25kQ29uZmlnID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm9uZFR5cGUgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICBhID0gLWE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIHNpbmNlIGl0IHdpbGwgYmUgdHJhbnMgcGVyIGRlZmF1bHRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLmRvdWJsZUJvbmRDb25maWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcmlnaW5TaG9ydGVzdCkge1xuICAgICAgICAgICAgbmV4dFZlcnRleC5hbmdsZSA9IGE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHRWZXJ0ZXguYW5nbGUgPSAtYTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKG5leHRWZXJ0ZXgsIHZlcnRleCwgcHJldmlvdXNBbmdsZSArIG5leHRWZXJ0ZXguYW5nbGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5laWdoYm91cnMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyB2ZXJ0ZXggY29tZXMgb3V0IG9mIGEgcmluZywgaXQgZG9lc24ndCBoYXZlIGFuIGFuZ2xlIHNldFxuICAgICAgICBsZXQgYSA9IHZlcnRleC5hbmdsZTtcblxuICAgICAgICBpZiAoIWEpIHtcbiAgICAgICAgICBhID0gMS4wNDcyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBsb25nZXIgc3VidHJlZSAtIGFsd2F5cyBnbyB3aXRoIGNpcyBmb3IgdGhlIGxvbmdlciBzdWJ0cmVlXG4gICAgICAgIGxldCBzdWJUcmVlRGVwdGhBID0gdGhpcy5ncmFwaC5nZXRUcmVlRGVwdGgobmVpZ2hib3Vyc1swXSwgdmVydGV4LmlkKTtcbiAgICAgICAgbGV0IHN1YlRyZWVEZXB0aEIgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzFdLCB2ZXJ0ZXguaWQpO1xuXG4gICAgICAgIGxldCBsID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgbGV0IHIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMV1dO1xuXG4gICAgICAgIGwudmFsdWUuc3VidHJlZURlcHRoID0gc3ViVHJlZURlcHRoQTtcbiAgICAgICAgci52YWx1ZS5zdWJ0cmVlRGVwdGggPSBzdWJUcmVlRGVwdGhCO1xuXG4gICAgICAgIC8vIEFsc28gZ2V0IHRoZSBzdWJ0cmVlIGZvciB0aGUgcHJldmlvdXMgZGlyZWN0aW9uICh0aGlzIGlzIGltcG9ydGFudCB3aGVuXG4gICAgICAgIC8vIHRoZSBwcmV2aW91cyB2ZXJ0ZXggaXMgdGhlIHNob3J0ZXN0IHBhdGgpXG4gICAgICAgIGxldCBzdWJUcmVlRGVwdGhDID0gdGhpcy5ncmFwaC5nZXRUcmVlRGVwdGgocHJldmlvdXNWZXJ0ZXggPyBwcmV2aW91c1ZlcnRleC5pZCA6IG51bGwsIHZlcnRleC5pZCk7XG4gICAgICAgIGlmIChwcmV2aW91c1ZlcnRleCkge1xuICAgICAgICAgIHByZXZpb3VzVmVydGV4LnZhbHVlLnN1YnRyZWVEZXB0aCA9IHN1YlRyZWVEZXB0aEM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2lzID0gMDtcbiAgICAgICAgbGV0IHRyYW5zID0gMTtcblxuICAgICAgICAvLyBDYXJib25zIGdvIGFsd2F5cyBjaXNcbiAgICAgICAgaWYgKHIudmFsdWUuZWxlbWVudCA9PT0gJ0MnICYmIGwudmFsdWUuZWxlbWVudCAhPT0gJ0MnICYmIHN1YlRyZWVEZXB0aEIgPiAxICYmIHN1YlRyZWVEZXB0aEEgPCA1KSB7XG4gICAgICAgICAgY2lzID0gMTtcbiAgICAgICAgICB0cmFucyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoci52YWx1ZS5lbGVtZW50ICE9PSAnQycgJiYgbC52YWx1ZS5lbGVtZW50ID09PSAnQycgJiYgc3ViVHJlZURlcHRoQSA+IDEgJiYgc3ViVHJlZURlcHRoQiA8IDUpIHtcbiAgICAgICAgICBjaXMgPSAwO1xuICAgICAgICAgIHRyYW5zID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdWJUcmVlRGVwdGhCID4gc3ViVHJlZURlcHRoQSkge1xuICAgICAgICAgIGNpcyA9IDE7XG4gICAgICAgICAgdHJhbnMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNpc1ZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1tjaXNdXTtcbiAgICAgICAgbGV0IHRyYW5zVmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW3RyYW5zXV07XG5cbiAgICAgICAgbGV0IGVkZ2VDaXMgPSB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBjaXNWZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZWRnZVRyYW5zID0gdGhpcy5ncmFwaC5nZXRFZGdlKHZlcnRleC5pZCwgdHJhbnNWZXJ0ZXguaWQpO1xuXG4gICAgICAgIC8vIElmIHRoZSBvcmlnaW4gdHJlZSBpcyB0aGUgc2hvcnRlc3QsIG1ha2UgdGhlbSB0aGUgbWFpbiBjaGFpblxuICAgICAgICBsZXQgb3JpZ2luU2hvcnRlc3QgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YlRyZWVEZXB0aEMgPCBzdWJUcmVlRGVwdGhBICYmIHN1YlRyZWVEZXB0aEMgPCBzdWJUcmVlRGVwdGhCKSB7XG4gICAgICAgICAgb3JpZ2luU2hvcnRlc3QgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJhbnNWZXJ0ZXguYW5nbGUgPSBhO1xuICAgICAgICBjaXNWZXJ0ZXguYW5nbGUgPSAtYTtcblxuICAgICAgICBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSAnXFxcXCcpIHtcbiAgICAgICAgICBpZiAodHJhbnNWZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICB0cmFuc1ZlcnRleC5hbmdsZSA9IC1hO1xuICAgICAgICAgICAgY2lzVmVydGV4LmFuZ2xlID0gYTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kb3VibGVCb25kQ29uZmlnID09PSAnLycpIHtcbiAgICAgICAgICBpZiAodHJhbnNWZXJ0ZXgudmFsdWUuYnJhbmNoQm9uZCA9PT0gJy8nKSB7XG4gICAgICAgICAgICB0cmFuc1ZlcnRleC5hbmdsZSA9IC1hO1xuICAgICAgICAgICAgY2lzVmVydGV4LmFuZ2xlID0gYTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKHRyYW5zVmVydGV4LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB0cmFuc1ZlcnRleC5hbmdsZSwgb3JpZ2luU2hvcnRlc3QpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKGNpc1ZlcnRleCwgdmVydGV4LCBwcmV2aW91c0FuZ2xlICsgY2lzVmVydGV4LmFuZ2xlLCBvcmlnaW5TaG9ydGVzdCk7XG4gICAgICB9IGVsc2UgaWYgKG5laWdoYm91cnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIC8vIFRoZSB2ZXJ0ZXggd2l0aCB0aGUgbG9uZ2VzdCBzdWItdHJlZSBzaG91bGQgYWx3YXlzIGdvIHN0cmFpZ2h0XG4gICAgICAgIGxldCBkMSA9IHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKG5laWdoYm91cnNbMF0sIHZlcnRleC5pZCk7XG4gICAgICAgIGxldCBkMiA9IHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKG5laWdoYm91cnNbMV0sIHZlcnRleC5pZCk7XG4gICAgICAgIGxldCBkMyA9IHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKG5laWdoYm91cnNbMl0sIHZlcnRleC5pZCk7XG5cbiAgICAgICAgbGV0IHMgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMF1dO1xuICAgICAgICBsZXQgbCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1sxXV07XG4gICAgICAgIGxldCByID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzJdXTtcblxuICAgICAgICBzLnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQxO1xuICAgICAgICBsLnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQyO1xuICAgICAgICByLnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQzO1xuXG4gICAgICAgIGlmIChkMiA+IGQxICYmIGQyID4gZDMpIHtcbiAgICAgICAgICBzID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzFdXTtcbiAgICAgICAgICBsID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgICByID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzJdXTtcbiAgICAgICAgfSBlbHNlIGlmIChkMyA+IGQxICYmIGQzID4gZDIpIHtcbiAgICAgICAgICBzID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzJdXTtcbiAgICAgICAgICBsID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgICByID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzFdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBhIGNyb3NzIGlmIG1vcmUgdGhhbiBvbmUgc3VidHJlZSBpcyBvZiBsZW5ndGggPiAxXG4gICAgICAgIC8vIG9yIHRoZSB2ZXJ0ZXggaXMgY29ubmVjdGVkIHRvIGEgcmluZ1xuICAgICAgICBpZiAocHJldmlvdXNWZXJ0ZXggJiZcbiAgICAgICAgICBwcmV2aW91c1ZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPCAxICYmXG4gICAgICAgICAgcy52YWx1ZS5yaW5ncy5sZW5ndGggPCAxICYmXG4gICAgICAgICAgbC52YWx1ZS5yaW5ncy5sZW5ndGggPCAxICYmXG4gICAgICAgICAgci52YWx1ZS5yaW5ncy5sZW5ndGggPCAxICYmXG4gICAgICAgICAgdGhpcy5ncmFwaC5nZXRUcmVlRGVwdGgobC5pZCwgdmVydGV4LmlkKSA9PT0gMSAmJlxuICAgICAgICAgIHRoaXMuZ3JhcGguZ2V0VHJlZURlcHRoKHIuaWQsIHZlcnRleC5pZCkgPT09IDEgJiZcbiAgICAgICAgICB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChzLmlkLCB2ZXJ0ZXguaWQpID4gMSkge1xuXG4gICAgICAgICAgcy5hbmdsZSA9IC12ZXJ0ZXguYW5nbGU7XG4gICAgICAgICAgaWYgKHZlcnRleC5hbmdsZSA+PSAwKSB7XG4gICAgICAgICAgICBsLmFuZ2xlID0gTWF0aEhlbHBlci50b1JhZCgzMCk7XG4gICAgICAgICAgICByLmFuZ2xlID0gTWF0aEhlbHBlci50b1JhZCg5MCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGwuYW5nbGUgPSAtTWF0aEhlbHBlci50b1JhZCgzMCk7XG4gICAgICAgICAgICByLmFuZ2xlID0gLU1hdGhIZWxwZXIudG9SYWQoOTApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQocywgdmVydGV4LCBwcmV2aW91c0FuZ2xlICsgcy5hbmdsZSk7XG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChsLCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyBsLmFuZ2xlKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKHIsIHZlcnRleCwgcHJldmlvdXNBbmdsZSArIHIuYW5nbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMuYW5nbGUgPSAwLjA7XG4gICAgICAgICAgbC5hbmdsZSA9IE1hdGhIZWxwZXIudG9SYWQoOTApO1xuICAgICAgICAgIHIuYW5nbGUgPSAtTWF0aEhlbHBlci50b1JhZCg5MCk7XG5cbiAgICAgICAgICB0aGlzLmNyZWF0ZU5leHRCb25kKHMsIHZlcnRleCwgcHJldmlvdXNBbmdsZSArIHMuYW5nbGUpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlTmV4dEJvbmQobCwgdmVydGV4LCBwcmV2aW91c0FuZ2xlICsgbC5hbmdsZSk7XG4gICAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZChyLCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyByLmFuZ2xlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuZWlnaGJvdXJzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAvLyBUaGUgdmVydGV4IHdpdGggdGhlIGxvbmdlc3Qgc3ViLXRyZWUgc2hvdWxkIGFsd2F5cyBnbyB0byB0aGUgcmVmbGVjdGVkIG9wcG9zaWRlIGRpcmVjdGlvblxuICAgICAgICBsZXQgZDEgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzBdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDIgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzFdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDMgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzJdLCB2ZXJ0ZXguaWQpO1xuICAgICAgICBsZXQgZDQgPSB0aGlzLmdyYXBoLmdldFRyZWVEZXB0aChuZWlnaGJvdXJzWzNdLCB2ZXJ0ZXguaWQpO1xuXG4gICAgICAgIGxldCB3ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgbGV0IHggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMV1dO1xuICAgICAgICBsZXQgeSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG4gICAgICAgIGxldCB6ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzNdXTtcblxuICAgICAgICB3LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQxO1xuICAgICAgICB4LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQyO1xuICAgICAgICB5LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQzO1xuICAgICAgICB6LnZhbHVlLnN1YnRyZWVEZXB0aCA9IGQ0O1xuXG4gICAgICAgIGlmIChkMiA+IGQxICYmIGQyID4gZDMgJiYgZDIgPiBkNCkge1xuICAgICAgICAgIHcgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMV1dO1xuICAgICAgICAgIHggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMF1dO1xuICAgICAgICAgIHkgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbMl1dO1xuICAgICAgICAgIHogPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbM11dO1xuICAgICAgICB9IGVsc2UgaWYgKGQzID4gZDEgJiYgZDMgPiBkMiAmJiBkMyA+IGQ0KSB7XG4gICAgICAgICAgdyA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1syXV07XG4gICAgICAgICAgeCA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1swXV07XG4gICAgICAgICAgeSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1sxXV07XG4gICAgICAgICAgeiA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1szXV07XG4gICAgICAgIH0gZWxzZSBpZiAoZDQgPiBkMSAmJiBkNCA+IGQyICYmIGQ0ID4gZDMpIHtcbiAgICAgICAgICB3ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzNdXTtcbiAgICAgICAgICB4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzBdXTtcbiAgICAgICAgICB5ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzFdXTtcbiAgICAgICAgICB6ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzWzJdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHcuYW5nbGUgPSAtTWF0aEhlbHBlci50b1JhZCgzNik7XG4gICAgICAgIHguYW5nbGUgPSBNYXRoSGVscGVyLnRvUmFkKDM2KTtcbiAgICAgICAgeS5hbmdsZSA9IC1NYXRoSGVscGVyLnRvUmFkKDEwOCk7XG4gICAgICAgIHouYW5nbGUgPSBNYXRoSGVscGVyLnRvUmFkKDEwOCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh3LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB3LmFuZ2xlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh4LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB4LmFuZ2xlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh5LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB5LmFuZ2xlKTtcbiAgICAgICAgdGhpcy5jcmVhdGVOZXh0Qm9uZCh6LCB2ZXJ0ZXgsIHByZXZpb3VzQW5nbGUgKyB6LmFuZ2xlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmV0ZXggc2hhcmluZyB0aGUgZWRnZSB0aGF0IGlzIHRoZSBjb21tb24gYm9uZCBvZiB0d28gcmluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSB7VmVydGV4fSB2ZXJ0ZXggQSB2ZXJ0ZXguXG4gICAqIEByZXR1cm5zIHsoTnVtYmVyfG51bGwpfSBUaGUgaWQgb2YgYSB2ZXJ0ZXggc2hhcmluZyB0aGUgZWRnZSB0aGF0IGlzIHRoZSBjb21tb24gYm9uZCBvZiB0d28gcmluZ3Mgd2l0aCB0aGUgdmVydGV4IHByb3ZpZGVkIG9yIG51bGwsIGlmIG5vbmUuXG4gICAqL1xuICBnZXRDb21tb25SaW5nYm9uZE5laWdoYm91cih2ZXJ0ZXgpIHtcbiAgICBsZXQgbmVpZ2hib3VycyA9IHZlcnRleC5uZWlnaGJvdXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcblxuICAgICAgaWYgKEFycmF5SGVscGVyLmNvbnRhaW5zQWxsKG5laWdoYm91ci52YWx1ZS5yaW5ncywgdmVydGV4LnZhbHVlLnJpbmdzKSkge1xuICAgICAgICByZXR1cm4gbmVpZ2hib3VyO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGluc2lkZSBhbnkgcmluZy5cbiAgICpcbiAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgQSB2ZWN0b3IuXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnQgKHZlY3RvcikgaXMgaW5zaWRlIGFueSBvZiB0aGUgcmluZ3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxuICAgKi9cbiAgaXNQb2ludEluUmluZyh2ZWMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCByaW5nID0gdGhpcy5yaW5nc1tpXTtcblxuICAgICAgaWYgKCFyaW5nLnBvc2l0aW9uZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCByYWRpdXMgPSBNYXRoSGVscGVyLnBvbHlDaXJjdW1yYWRpdXModGhpcy5vcHRzLmJvbmRMZW5ndGgsIHJpbmcuZ2V0U2l6ZSgpKTtcbiAgICAgIGxldCByYWRpdXNTcSA9IHJhZGl1cyAqIHJhZGl1cztcblxuICAgICAgaWYgKHZlYy5kaXN0YW5jZVNxKHJpbmcuY2VudGVyKSA8IHJhZGl1c1NxKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCBhbiBlZGdlIGlzIHBhcnQgb2YgYSByaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge0VkZ2V9IGVkZ2UgQW4gZWRnZS5cbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBlZGdlIGlzIHBhcnQgb2YgYSByaW5nLlxuICAgKi9cbiAgaXNFZGdlSW5SaW5nKGVkZ2UpIHtcbiAgICBsZXQgc291cmNlID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnNvdXJjZUlkXTtcbiAgICBsZXQgdGFyZ2V0ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXTtcblxuICAgIHJldHVybiB0aGlzLmFyZVZlcnRpY2VzSW5TYW1lUmluZyhzb3VyY2UsIHRhcmdldCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBvciBub3QgYW4gZWRnZSBpcyByb3RhdGFibGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RWRnZX0gZWRnZSBBbiBlZGdlLlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIGVkZ2UgaXMgcm90YXRhYmxlLlxuICAgKi9cbiAgaXNFZGdlUm90YXRhYmxlKGVkZ2UpIHtcbiAgICBsZXQgdmVydGV4QSA9IHRoaXMuZ3JhcGgudmVydGljZXNbZWRnZS5zb3VyY2VJZF07XG4gICAgbGV0IHZlcnRleEIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2UudGFyZ2V0SWRdO1xuXG4gICAgLy8gT25seSBzaW5nbGUgYm9uZHMgYXJlIHJvdGF0YWJsZVxuICAgIGlmIChlZGdlLmJvbmRUeXBlICE9PSAnLScpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3Qgcm90YXRlIGVkZ2VzIHRoYXQgaGF2ZSBhIGZ1cnRoZXIgc2luZ2xlIGJvbmQgdG8gZWFjaCBzaWRlIC0gZG8gdGhhdCFcbiAgICAvLyBJZiB0aGUgYm9uZCBpcyB0ZXJtaW5hbCwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIHJvdGF0ZSBpdFxuICAgIC8vIGlmICh2ZXJ0ZXhBLmdldE5laWdoYm91ckNvdW50KCkgKyB2ZXJ0ZXhCLmdldE5laWdoYm91ckNvdW50KCkgPCA1KSB7XG4gICAgLy8gICByZXR1cm4gZmFsc2U7XG4gICAgLy8gfVxuXG4gICAgaWYgKHZlcnRleEEuaXNUZXJtaW5hbCgpIHx8IHZlcnRleEIuaXNUZXJtaW5hbCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gUmluZ2JvbmRzIGFyZSBub3Qgcm90YXRhYmxlXG4gICAgaWYgKHZlcnRleEEudmFsdWUucmluZ3MubGVuZ3RoID4gMCAmJiB2ZXJ0ZXhCLnZhbHVlLnJpbmdzLmxlbmd0aCA+IDAgJiZcbiAgICAgIHRoaXMuYXJlVmVydGljZXNJblNhbWVSaW5nKHZlcnRleEEsIHZlcnRleEIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBvciBub3QgYSByaW5nIGlzIGFuIGltcGxpY2l0bHkgZGVmaW5lZCBhcm9tYXRpYyByaW5nIChsb3dlciBjYXNlIHNtaWxlcykuXG4gICAqXG4gICAqIEBwYXJhbSB7UmluZ30gcmluZyBBIHJpbmcuXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCBhIHJpbmcgaXMgaW1wbGljaXRseSBkZWZpbmVkIGFzIGFyb21hdGljLlxuICAgKi9cbiAgaXNSaW5nQXJvbWF0aWMocmluZykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tyaW5nLm1lbWJlcnNbaV1dO1xuXG4gICAgICBpZiAoIXZlcnRleC52YWx1ZS5pc1BhcnRPZkFyb21hdGljUmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBub3JtYWxzIG9mIGFuIGVkZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7RWRnZX0gZWRnZSBBbiBlZGdlLlxuICAgKiBAcmV0dXJucyB7VmVjdG9yMltdfSBBbiBhcnJheSBjb250YWluaW5nIHR3byB2ZWN0b3JzLCByZXByZXNlbnRpbmcgdGhlIG5vcm1hbHMuXG4gICAqL1xuICBnZXRFZGdlTm9ybWFscyhlZGdlKSB7XG4gICAgbGV0IHYxID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tlZGdlLnNvdXJjZUlkXS5wb3NpdGlvbjtcbiAgICBsZXQgdjIgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2VkZ2UudGFyZ2V0SWRdLnBvc2l0aW9uO1xuXG4gICAgLy8gR2V0IHRoZSBub3JtYWxpemVkIG5vcm1hbHMgZm9yIHRoZSBlZGdlXG4gICAgbGV0IG5vcm1hbHMgPSBWZWN0b3IyLnVuaXRzKHYxLCB2Mik7XG5cbiAgICByZXR1cm4gbm9ybWFscztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHZlcnRpY2VzIHRoYXQgYXJlIG5laWdoYm91cmluZyBhIHZlcnRpeCBidXQgYXJlIG5vdCBtZW1iZXJzIG9mIGEgcmluZyAoaW5jbHVkaW5nIGJyaWRnZXMpLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXG4gICAqIEByZXR1cm5zIHtWZXJ0ZXhbXX0gQW4gYXJyYXkgb2YgdmVydGljZXMuXG4gICAqL1xuICBnZXROb25SaW5nTmVpZ2hib3Vycyh2ZXJ0ZXhJZCkge1xuICAgIGxldCBucm5laWdoYm91cnMgPSBBcnJheSgpO1xuICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW3ZlcnRleElkXTtcbiAgICBsZXQgbmVpZ2hib3VycyA9IHZlcnRleC5uZWlnaGJvdXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbmVpZ2hib3VyID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXTtcbiAgICAgIGxldCBuSW50ZXJzZWN0aW9ucyA9IEFycmF5SGVscGVyLmludGVyc2VjdGlvbih2ZXJ0ZXgudmFsdWUucmluZ3MsIG5laWdoYm91ci52YWx1ZS5yaW5ncykubGVuZ3RoO1xuXG4gICAgICBpZiAobkludGVyc2VjdGlvbnMgPT09IDAgJiYgbmVpZ2hib3VyLnZhbHVlLmlzQnJpZGdlID09IGZhbHNlKSB7XG4gICAgICAgIG5ybmVpZ2hib3Vycy5wdXNoKG5laWdoYm91cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ybmVpZ2hib3VycztcbiAgfVxuXG4gIC8qKlxuICAgKiBBbm5vdGFlZCBzdGVyZW9jaGVtaXN0cnkgaW5mb3JtYXRpb24gZm9yIHZpc3VhbGl6YXRpb24uXG4gICAqL1xuICBhbm5vdGF0ZVN0ZXJlb2NoZW1pc3RyeSgpIHtcbiAgICBsZXQgbWF4RGVwdGggPSAxMDtcblxuICAgIC8vIEZvciBlYWNoIHN0ZXJlby1jZW50ZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLmdyYXBoLnZlcnRpY2VzW2ldO1xuXG4gICAgICBpZiAoIXZlcnRleC52YWx1ZS5pc1N0ZXJlb0NlbnRlcikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgbGV0IG5laWdoYm91cnMgPSB2ZXJ0ZXguZ2V0TmVpZ2hib3VycygpO1xuICAgICAgbGV0IG5OZWlnaGJvdXJzID0gbmVpZ2hib3Vycy5sZW5ndGg7XG4gICAgICBsZXQgcHJpb3JpdGllcyA9IEFycmF5KG5OZWlnaGJvdXJzKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuTmVpZ2hib3VyczsgaisrKSB7XG4gICAgICAgIGxldCB2aXNpdGVkID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSBBcnJheShBcnJheSgpKTtcbiAgICAgICAgdmlzaXRlZFt2ZXJ0ZXguaWRdID0gMTtcblxuICAgICAgICB0aGlzLnZpc2l0U3RlcmVvY2hlbWlzdHJ5KG5laWdoYm91cnNbal0sIHZlcnRleC5pZCwgdmlzaXRlZCwgcHJpb3JpdHksIG1heERlcHRoLCAwKTtcblxuICAgICAgICAvLyBTb3J0IGVhY2ggbGV2ZWwgYWNjb3JkaW5nIHRvIGF0b21pYyBudW1iZXJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwcmlvcml0eS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIHByaW9yaXR5W2tdLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiIC0gYVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpb3JpdGllc1tqXSA9IFtqLCBwcmlvcml0eV07XG4gICAgICB9XG5cbiAgICAgIGxldCBtYXhMZXZlbHMgPSAwO1xuICAgICAgbGV0IG1heEVudHJpZXMgPSAwO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcmlvcml0aWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChwcmlvcml0aWVzW2pdWzFdLmxlbmd0aCA+IG1heExldmVscykge1xuICAgICAgICAgIG1heExldmVscyA9IHByaW9yaXRpZXNbal1bMV0ubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwcmlvcml0aWVzW2pdWzFdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgaWYgKHByaW9yaXRpZXNbal1bMV1ba10ubGVuZ3RoID4gbWF4RW50cmllcykge1xuICAgICAgICAgICAgbWF4RW50cmllcyA9IHByaW9yaXRpZXNbal1bMV1ba10ubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHByaW9yaXRpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IGRpZmYgPSBtYXhMZXZlbHMgLSBwcmlvcml0aWVzW2pdWzFdLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBkaWZmOyBrKyspIHtcbiAgICAgICAgICBwcmlvcml0aWVzW2pdWzFdLnB1c2goW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnJlYWsgdGllcyBieSB0aGUgcG9zaXRpb24gaW4gdGhlIFNNSUxFUyBzdHJpbmcgYXMgcGVyIHNwZWNpZmljYXRpb25cbiAgICAgICAgcHJpb3JpdGllc1tqXVsxXS5wdXNoKFtuZWlnaGJvdXJzW2pdXSk7XG5cbiAgICAgICAgLy8gTWFrZSBhbGwgc2FtZSBsZW5ndGguIEZpbGwgd2l0aCB6ZXJvZXMuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcHJpb3JpdGllc1tqXVsxXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIGxldCBkaWZmID0gbWF4RW50cmllcyAtIHByaW9yaXRpZXNbal1bMV1ba10ubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBkaWZmOyBsKyspIHtcbiAgICAgICAgICAgIHByaW9yaXRpZXNbal1bMV1ba10ucHVzaCgwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcHJpb3JpdGllcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYVsxXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYVsxXVtqXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgaWYgKGFbMV1bal1ba10gPiBiWzFdW2pdW2tdKSB7XG4gICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYVsxXVtqXVtrXSA8IGJbMV1bal1ba10pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcblxuICAgICAgbGV0IG9yZGVyID0gbmV3IFVpbnQ4QXJyYXkobk5laWdoYm91cnMpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuTmVpZ2hib3VyczsgaisrKSB7XG4gICAgICAgIG9yZGVyW2pdID0gcHJpb3JpdGllc1tqXVswXTtcbiAgICAgICAgdmVydGV4LnZhbHVlLnByaW9yaXR5ID0gajtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgdGhlIGFuZ2xlcyBiZXR3ZWVuIGVsZW1lbnRzIDAgYW5kIDEsIGFuZCAwIGFuZCAyIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXkgYXJlXG4gICAgICAvLyBkcmF3biBjdyBvciBjY3dcbiAgICAgIC8vIFRPRE86IE9DKENsKT1bQ0BdPUMoQylGIGN1cnJlbnRseSBmYWlscyBoZXJlLCBob3dldmVyIHRoaXMgaXMsIElNSE8sIG5vdCBhIHZhbGlkIFNNSUxFUy5cbiAgICAgIGxldCBwb3NBID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJzW29yZGVyWzBdXV0ucG9zaXRpb247XG4gICAgICBsZXQgcG9zQiA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1tvcmRlclsxXV1dLnBvc2l0aW9uO1xuICAgICAgbGV0IHBvc0MgPSB0aGlzLmdyYXBoLnZlcnRpY2VzW25laWdoYm91cnNbb3JkZXJbMl1dXS5wb3NpdGlvbjtcblxuICAgICAgbGV0IGN3QSA9IHBvc0EucmVsYXRpdmVDbG9ja3dpc2UocG9zQiwgdmVydGV4LnBvc2l0aW9uKTtcbiAgICAgIGxldCBjd0IgPSBwb3NBLnJlbGF0aXZlQ2xvY2t3aXNlKHBvc0MsIHZlcnRleC5wb3NpdGlvbik7XG5cbiAgICAgIC8vIElmIHRoZSBzZWNvbmQgcHJpb3JpdHkgaXMgY2xvY2t3aXNlIGZyb20gdGhlIGZpcnN0LCB0aGUgbGlnYW5kcyBhcmUgZHJhd24gY2xvY2t3aXNlLCBzaW5jZVxuICAgICAgLy8gVGhlIGh5ZHJvZ2VuIGNhbiBiZSBkcmF3biBvbiBlaXRoZXIgc2lkZVxuICAgICAgbGV0IGlzQ3cgPSBjd0EgPT09IC0xO1xuXG4gICAgICBsZXQgcm90YXRpb24gPSB2ZXJ0ZXgudmFsdWUuYnJhY2tldC5jaGlyYWxpdHkgPT09ICdAJyA/IC0xIDogMTtcbiAgICAgIGxldCBycyA9IE1hdGhIZWxwZXIucGFyaXR5T2ZQZXJtdXRhdGlvbihvcmRlcikgKiByb3RhdGlvbiA9PT0gMSA/ICdSJyA6ICdTJztcblxuICAgICAgLy8gRmxpcCB0aGUgaHlkcm9nZW4gZGlyZWN0aW9uIHdoZW4gdGhlIGRyYXdpbmcgZG9lc24ndCBtYXRjaCB0aGUgY2hpcmFsaXR5LlxuICAgICAgbGV0IHdlZGdlQSA9ICdkb3duJztcbiAgICAgIGxldCB3ZWRnZUIgPSAndXAnO1xuICAgICAgaWYgKGlzQ3cgJiYgcnMgIT09ICdSJyB8fCAhaXNDdyAmJiBycyAhPT0gJ1MnKSB7XG4gICAgICAgIHZlcnRleC52YWx1ZS5oeWRyb2dlbkRpcmVjdGlvbiA9ICd1cCc7XG4gICAgICAgIHdlZGdlQSA9ICd1cCc7XG4gICAgICAgIHdlZGdlQiA9ICdkb3duJztcbiAgICAgIH1cblxuICAgICAgaWYgKHZlcnRleC52YWx1ZS5oYXNIeWRyb2dlbikge1xuICAgICAgICB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCBuZWlnaGJvdXJzW29yZGVyW29yZGVyLmxlbmd0aCAtIDFdXSkud2VkZ2UgPSB3ZWRnZUE7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgc2hvcnRlc3Qgc3VidHJlZSB0byBmbGlwIHVwIC8gZG93bi4gSWdub3JlIGxvd2VzdCBwcmlvcml0eVxuICAgICAgLy8gVGhlIHJ1bGVzIGFyZSBmb2xsb3dpbmc6XG4gICAgICAvLyAxLiBEbyBub3QgZHJhdyB3ZWRnZSBiZXR3ZWVuIHR3byBzdGVyZW9jZW50ZXJzXG4gICAgICAvLyAyLiBIZXRlcm9hdG9tc1xuICAgICAgLy8gMy4gRHJhdyBvdXRzaWRlIHJpbmdcbiAgICAgIC8vIDQuIFNob3J0ZXN0IHN1YnRyZWVcblxuICAgICAgbGV0IHdlZGdlT3JkZXIgPSBuZXcgQXJyYXkobmVpZ2hib3Vycy5sZW5ndGggLSAxKTtcbiAgICAgIGxldCBzaG93SHlkcm9nZW4gPSB2ZXJ0ZXgudmFsdWUucmluZ3MubGVuZ3RoID4gMSAmJiB2ZXJ0ZXgudmFsdWUuaGFzSHlkcm9nZW47XG4gICAgICBsZXQgb2Zmc2V0ID0gdmVydGV4LnZhbHVlLmhhc0h5ZHJvZ2VuID8gMSA6IDA7XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb3JkZXIubGVuZ3RoIC0gb2Zmc2V0OyBqKyspIHtcbiAgICAgICAgd2VkZ2VPcmRlcltqXSA9IG5ldyBVaW50MzJBcnJheSgyKTtcbiAgICAgICAgbGV0IG5laWdoYm91ciA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3Vyc1tvcmRlcltqXV1dO1xuICAgICAgICB3ZWRnZU9yZGVyW2pdWzBdICs9IG5laWdoYm91ci52YWx1ZS5pc1N0ZXJlb0NlbnRlciA/IDAgOiAxMDAwMDA7XG4gICAgICAgIC8vIHdlZGdlT3JkZXJbal1bMF0gKz0gbmVpZ2hib3VyLnZhbHVlLnJpbmdzLmxlbmd0aCA+IDAgPyAwIDogMTAwMDA7XG4gICAgICAgIC8vIE9ubHkgYWRkIGlmIGluIHNhbWUgcmluZywgdW5saWtlIGFib3ZlXG4gICAgICAgIHdlZGdlT3JkZXJbal1bMF0gKz0gdGhpcy5hcmVWZXJ0aWNlc0luU2FtZVJpbmcobmVpZ2hib3VyLCB2ZXJ0ZXgpID8gMCA6IDEwMDAwO1xuICAgICAgICB3ZWRnZU9yZGVyW2pdWzBdICs9IG5laWdoYm91ci52YWx1ZS5pc0hldGVyb0F0b20oKSA/IDEwMDAgOiAwO1xuICAgICAgICB3ZWRnZU9yZGVyW2pdWzBdIC09IG5laWdoYm91ci52YWx1ZS5zdWJ0cmVlRGVwdGggPT09IDAgPyAxMDAwIDogMDtcbiAgICAgICAgd2VkZ2VPcmRlcltqXVswXSArPSAxMDAwIC0gbmVpZ2hib3VyLnZhbHVlLnN1YnRyZWVEZXB0aDtcbiAgICAgICAgd2VkZ2VPcmRlcltqXVsxXSA9IG5laWdoYm91cnNbb3JkZXJbal1dO1xuICAgICAgfVxuXG5cbiAgICAgIHdlZGdlT3JkZXIuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYVswXSA+IGJbMF0pIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoYVswXSA8IGJbMF0pIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiBhbGwgbmVpZ2hib3VycyBhcmUgaW4gYSByaW5nLCBkbyBub3QgZHJhdyB3ZWRnZSwgdGhlIGh5ZHJvZ2VuIHdpbGwgYmUgZHJhd24uXG4gICAgICBpZiAoIXNob3dIeWRyb2dlbikge1xuICAgICAgICBsZXQgd2VkZ2VJZCA9IHdlZGdlT3JkZXJbMF1bMV07XG5cbiAgICAgICAgaWYgKHZlcnRleC52YWx1ZS5oYXNIeWRyb2dlbikge1xuICAgICAgICAgIHRoaXMuZ3JhcGguZ2V0RWRnZSh2ZXJ0ZXguaWQsIHdlZGdlSWQpLndlZGdlID0gd2VkZ2VCO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCB3ZWRnZSA9IHdlZGdlQjtcblxuICAgICAgICAgIGZvciAodmFyIGogPSBvcmRlci5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgaWYgKHdlZGdlID09PSB3ZWRnZUEpIHtcbiAgICAgICAgICAgICAgd2VkZ2UgPSB3ZWRnZUI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3ZWRnZSA9IHdlZGdlQTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWlnaGJvdXJzW29yZGVyW2pdXSA9PT0gd2VkZ2VJZCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4LmlkLCB3ZWRnZUlkKS53ZWRnZSA9IHdlZGdlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZlcnRleC52YWx1ZS5jaGlyYWxpdHkgPSBycztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIFxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgVGhlIGlkIG9mIGEgdmVydGV4LlxuICAgKiBAcGFyYW0geyhOdW1iZXJ8bnVsbCl9IHByZXZpb3VzVmVydGV4SWQgVGhlIGlkIG9mIHRoZSBwYXJlbnQgdmVydGV4IG9mIHRoZSB2ZXJ0ZXguXG4gICAqIEBwYXJhbSB7VWludDhBcnJheX0gdmlzaXRlZCBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2aXNpdGVkIGZsYWcgZm9yIGFsbCB2ZXJ0aWNlcyBpbiB0aGUgZ3JhcGguXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByaW9yaXR5IEFuIGFycmF5IG9mIGFycmF5cyBzdG9yaW5nIHRoZSBhdG9taWMgbnVtYmVycyBmb3IgZWFjaCBsZXZlbC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heERlcHRoIFRoZSBtYXhpbXVtIGRlcHRoLlxuICAgKiBAcGFyYW0ge051bWJlcn0gZGVwdGggVGhlIGN1cnJlbnQgZGVwdGguXG4gICAqL1xuICB2aXNpdFN0ZXJlb2NoZW1pc3RyeSh2ZXJ0ZXhJZCwgcHJldmlvdXNWZXJ0ZXhJZCwgdmlzaXRlZCwgcHJpb3JpdHksIG1heERlcHRoLCBkZXB0aCwgcGFyZW50QXRvbWljTnVtYmVyID0gMCkge1xuICAgIHZpc2l0ZWRbdmVydGV4SWRdID0gMTtcbiAgICBsZXQgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1t2ZXJ0ZXhJZF07XG4gICAgbGV0IGF0b21pY051bWJlciA9IHZlcnRleC52YWx1ZS5nZXRBdG9taWNOdW1iZXIoKTtcblxuICAgIGlmIChwcmlvcml0eS5sZW5ndGggPD0gZGVwdGgpIHtcbiAgICAgIHByaW9yaXR5LnB1c2goQXJyYXkoKSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoLmdldEVkZ2UodmVydGV4SWQsIHByZXZpb3VzVmVydGV4SWQpLndlaWdodDsgaSsrKSB7XG4gICAgICBwcmlvcml0eVtkZXB0aF0ucHVzaChwYXJlbnRBdG9taWNOdW1iZXIgKiAxMDAwICsgYXRvbWljTnVtYmVyKTtcbiAgICB9XG5cbiAgICBsZXQgbmVpZ2hib3VycyA9IHRoaXMuZ3JhcGgudmVydGljZXNbdmVydGV4SWRdLm5laWdoYm91cnM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2aXNpdGVkW25laWdoYm91cnNbaV1dICE9PSAxICYmIGRlcHRoIDwgbWF4RGVwdGggLSAxKSB7XG4gICAgICAgIHRoaXMudmlzaXRTdGVyZW9jaGVtaXN0cnkobmVpZ2hib3Vyc1tpXSwgdmVydGV4SWQsIHZpc2l0ZWQuc2xpY2UoKSwgcHJpb3JpdHksIG1heERlcHRoLCBkZXB0aCArIDEsIGF0b21pY051bWJlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVmFsZW5jZXMgYXJlIGZpbGxlZCB3aXRoIGh5ZHJvZ2VucyBhbmQgcGFzc2VkIHRvIHRoZSBuZXh0IGxldmVsLlxuICAgIGlmIChkZXB0aCA8IG1heERlcHRoIC0gMSkge1xuICAgICAgbGV0IGJvbmRzID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJvbmRzICs9IHRoaXMuZ3JhcGguZ2V0RWRnZSh2ZXJ0ZXhJZCwgbmVpZ2hib3Vyc1tpXSkud2VpZ2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleC52YWx1ZS5nZXRNYXhCb25kcygpIC0gYm9uZHM7IGkrKykge1xuICAgICAgICBpZiAocHJpb3JpdHkubGVuZ3RoIDw9IGRlcHRoICsgMSkge1xuICAgICAgICAgIHByaW9yaXR5LnB1c2goQXJyYXkoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcmlvcml0eVtkZXB0aCArIDFdLnB1c2goYXRvbWljTnVtYmVyICogMTAwMCArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHBzZXVkby1lbGVtZW50cyAoc3VjaCBhcyBFdCwgTWUsIEFjLCBCeiwgLi4uKSBhdCB0aGUgcG9zaXRpb24gb2YgdGhlIGNhcmJvbiBzZXRzXG4gICAqIHRoZSBpbnZvbHZlZCBhdG9tcyBub3QgdG8gYmUgZGlzcGxheWVkLlxuICAgKi9cbiAgaW5pdFBzZXVkb0VsZW1lbnRzKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaC52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdmVydGV4ID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tpXTtcbiAgICAgIGNvbnN0IG5laWdoYm91cklkcyA9IHZlcnRleC5uZWlnaGJvdXJzO1xuICAgICAgbGV0IG5laWdoYm91cnMgPSBBcnJheShuZWlnaGJvdXJJZHMubGVuZ3RoKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJJZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbmVpZ2hib3Vyc1tqXSA9IHRoaXMuZ3JhcGgudmVydGljZXNbbmVpZ2hib3VySWRzW2pdXTtcbiAgICAgIH1cblxuICAgICAgLy8gSWdub3JlIGF0b21zIHRoYXQgaGF2ZSBsZXNzIHRoYW4gMyBuZWlnaGJvdXJzLCBleGNlcHQgaWZcbiAgICAgIC8vIHRoZSB2ZXJ0ZXggaXMgY29ubmVjdGVkIHRvIGEgcmluZyBhbmQgaGFzIHR3byBuZWlnaGJvdXJzXG4gICAgICBpZiAodmVydGV4LmdldE5laWdoYm91ckNvdW50KCkgPCAzIHx8IHZlcnRleC52YWx1ZS5yaW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBUaGlzIGV4Y2VwdGlvbnMgc2hvdWxkIGJlIGhhbmRsZWQgbW9yZSBlbGVnYW50bHkgKHZpYSBjb25maWcgZmlsZT8pXG5cbiAgICAgIC8vIElnbm9yZSBwaG9zcGhhdGVzIChlc3BlY2lhbGx5IGZvciB0cmlwaG9zcGhhdGVzKVxuICAgICAgaWYgKHZlcnRleC52YWx1ZS5lbGVtZW50ID09PSAnUCcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElnbm9yZSBhbHNvIGd1YW5pZGluZVxuICAgICAgaWYgKHZlcnRleC52YWx1ZS5lbGVtZW50ID09PSAnQycgJiYgbmVpZ2hib3Vycy5sZW5ndGggPT09IDMgJiZcbiAgICAgICAgbmVpZ2hib3Vyc1swXS52YWx1ZS5lbGVtZW50ID09PSAnTicgJiYgbmVpZ2hib3Vyc1sxXS52YWx1ZS5lbGVtZW50ID09PSAnTicgJiYgbmVpZ2hib3Vyc1syXS52YWx1ZS5lbGVtZW50ID09PSAnTicpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnRpbnVlIGlmIHRoZXJlIGFyZSBsZXNzIHRoYW4gdHdvIGhldGVyb2F0b21zXG4gICAgICAvLyBvciBpZiBhIG5laWdoYm91ciBoYXMgbW9yZSB0aGFuIDEgbmVpZ2hib3VyXG4gICAgICBsZXQgaGV0ZXJvQXRvbUNvdW50ID0gMDtcbiAgICAgIGxldCBjdG4gPSAwO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IG5laWdoYm91ciA9IG5laWdoYm91cnNbal07XG4gICAgICAgIGxldCBuZWlnaGJvdXJpbmdFbGVtZW50ID0gbmVpZ2hib3VyLnZhbHVlLmVsZW1lbnQ7XG4gICAgICAgIGxldCBuZWlnaGJvdXJDb3VudCA9IG5laWdoYm91ci5nZXROZWlnaGJvdXJDb3VudCgpO1xuXG4gICAgICAgIGlmIChuZWlnaGJvdXJpbmdFbGVtZW50ICE9PSAnQycgJiYgbmVpZ2hib3VyaW5nRWxlbWVudCAhPT0gJ0gnICYmXG4gICAgICAgICAgbmVpZ2hib3VyQ291bnQgPT09IDEpIHtcbiAgICAgICAgICBoZXRlcm9BdG9tQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZWlnaGJvdXJDb3VudCA+IDEpIHtcbiAgICAgICAgICBjdG4rKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY3RuID4gMSB8fCBoZXRlcm9BdG9tQ291bnQgPCAyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIHByZXZpb3VzIGF0b20gKHRoZSBvbmUgd2hpY2ggaXMgbm90IHRlcm1pbmFsKVxuICAgICAgbGV0IHByZXZpb3VzID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZWlnaGJvdXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZWlnaGJvdXIgPSBuZWlnaGJvdXJzW2pdO1xuXG4gICAgICAgIGlmIChuZWlnaGJvdXIuZ2V0TmVpZ2hib3VyQ291bnQoKSA+IDEpIHtcbiAgICAgICAgICBwcmV2aW91cyA9IG5laWdoYm91cjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IG5laWdoYm91ciA9IG5laWdoYm91cnNbal07XG5cbiAgICAgICAgaWYgKG5laWdoYm91ci5nZXROZWlnaGJvdXJDb3VudCgpID4gMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbmVpZ2hib3VyLnZhbHVlLmlzRHJhd24gPSBmYWxzZTtcblxuICAgICAgICBsZXQgaHlkcm9nZW5zID0gQXRvbS5tYXhCb25kc1tuZWlnaGJvdXIudmFsdWUuZWxlbWVudF0gLSBuZWlnaGJvdXIudmFsdWUuYm9uZENvdW50O1xuICAgICAgICBsZXQgY2hhcmdlID0gJyc7XG5cbiAgICAgICAgaWYgKG5laWdoYm91ci52YWx1ZS5icmFja2V0KSB7XG4gICAgICAgICAgaHlkcm9nZW5zID0gbmVpZ2hib3VyLnZhbHVlLmJyYWNrZXQuaGNvdW50O1xuICAgICAgICAgIGNoYXJnZSA9IG5laWdoYm91ci52YWx1ZS5icmFja2V0LmNoYXJnZSB8fCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmVydGV4LnZhbHVlLmF0dGFjaFBzZXVkb0VsZW1lbnQobmVpZ2hib3VyLnZhbHVlLmVsZW1lbnQsIHByZXZpb3VzID8gcHJldmlvdXMudmFsdWUuZWxlbWVudCA6IG51bGwsIGh5ZHJvZ2VucywgY2hhcmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGUgc2Vjb25kIHBhc3NcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHZlcnRleCA9IHRoaXMuZ3JhcGgudmVydGljZXNbaV07XG4gICAgICBjb25zdCBhdG9tID0gdmVydGV4LnZhbHVlO1xuICAgICAgY29uc3QgZWxlbWVudCA9IGF0b20uZWxlbWVudDtcblxuICAgICAgaWYgKGVsZW1lbnQgPT09ICdDJyB8fCBlbGVtZW50ID09PSAnSCcgfHwgIWF0b20uaXNEcmF3bikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmVpZ2hib3VySWRzID0gdmVydGV4Lm5laWdoYm91cnM7XG4gICAgICBsZXQgbmVpZ2hib3VycyA9IEFycmF5KG5laWdoYm91cklkcy5sZW5ndGgpO1xuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cklkcy5sZW5ndGg7IGorKykge1xuICAgICAgICBuZWlnaGJvdXJzW2pdID0gdGhpcy5ncmFwaC52ZXJ0aWNlc1tuZWlnaGJvdXJJZHNbal1dO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5laWdoYm91cnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IG5laWdoYm91ciA9IG5laWdoYm91cnNbal0udmFsdWU7XG5cbiAgICAgICAgaWYgKCFuZWlnaGJvdXIuaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyB8fCBuZWlnaGJvdXIuZ2V0QXR0YWNoZWRQc2V1ZG9FbGVtZW50c0NvdW50KCkgIT09IDIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBzZXVkb0VsZW1lbnRzID0gbmVpZ2hib3VyLmdldEF0dGFjaGVkUHNldWRvRWxlbWVudHMoKTtcblxuICAgICAgICBpZiAocHNldWRvRWxlbWVudHMuaGFzT3duUHJvcGVydHkoJzBPJykgJiYgcHNldWRvRWxlbWVudHMuaGFzT3duUHJvcGVydHkoJzNDJykpIHtcbiAgICAgICAgICBuZWlnaGJvdXIuaXNEcmF3biA9IGZhbHNlO1xuICAgICAgICAgIHZlcnRleC52YWx1ZS5hdHRhY2hQc2V1ZG9FbGVtZW50KCdBYycsICcnLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IERyYXdlckJhc2U7XG4iLCIvL0B0cy1jaGVja1xyXG5cclxuLyoqIFxyXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhbiBlZGdlLiBcclxuICogXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBpZCBUaGUgaWQgb2YgdGhpcyBlZGdlLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gc291cmNlSWQgVGhlIGlkIG9mIHRoZSBzb3VyY2UgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gdGFyZ2V0SWQgVGhlIGlkIG9mIHRoZSB0YXJnZXQgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gd2VpZ2h0IFRoZSB3ZWlnaHQgb2YgdGhpcyBlZGdlLiBUaGF0IGlzLCB0aGUgZGVncmVlIG9mIHRoZSBib25kIChzaW5nbGUgYm9uZCA9IDEsIGRvdWJsZSBib25kID0gMiwgZXRjKS5cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFtib25kVHlwZT0nLSddIFRoZSBib25kIHR5cGUgb2YgdGhpcyBlZGdlLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IFtpc1BhcnRPZkFyb21hdGljUmluZz1mYWxzZV0gV2hldGhlciBvciBub3QgdGhpcyBlZGdlIGlzIHBhcnQgb2YgYW4gYXJvbWF0aWMgcmluZy5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBbY2VudGVyPWZhbHNlXSBXaGV0ZXIgb3Igbm90IHRoZSBib25kIGlzIGNlbnRlcmVkLiBGb3IgZXhhbXBsZSwgdGhpcyBhZmZlY3RzIHN0cmFpZ2h0IGRvdWJsZSBib25kcy5cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IFt3ZWRnZT0nJ10gV2VkZ2UgZGlyZWN0aW9uLiBFaXRoZXIgJycsICd1cCcgb3IgJ2Rvd24nXHJcbiAqL1xyXG5jbGFzcyBFZGdlIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgY2xhc3MgRWRnZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlSWQgQSB2ZXJ0ZXggaWQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGFyZ2V0SWQgQSB2ZXJ0ZXggaWQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3dlaWdodD0xXSBUaGUgd2VpZ2h0IG9mIHRoZSBlZGdlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VJZCwgdGFyZ2V0SWQsIHdlaWdodCA9IDEpIHtcclxuICAgICAgICB0aGlzLmlkID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNvdXJjZUlkID0gc291cmNlSWQ7XHJcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IHRhcmdldElkO1xyXG4gICAgICAgIHRoaXMud2VpZ2h0ID0gd2VpZ2h0O1xyXG4gICAgICAgIHRoaXMuYm9uZFR5cGUgPSAnLSc7XHJcbiAgICAgICAgdGhpcy5pc1BhcnRPZkFyb21hdGljUmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2VudGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy53ZWRnZSA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBib25kIHR5cGUgb2YgdGhpcyBlZGdlLiBUaGlzIGFsc28gc2V0cyB0aGUgZWRnZSB3ZWlnaHQuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYm9uZFR5cGUgXHJcbiAgICAgKi9cclxuICAgIHNldEJvbmRUeXBlKGJvbmRUeXBlKSB7XHJcbiAgICAgIHRoaXMuYm9uZFR5cGUgPSBib25kVHlwZTtcclxuICAgICAgdGhpcy53ZWlnaHQgPSBFZGdlLmJvbmRzW2JvbmRUeXBlXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuIG9iamVjdCBtYXBwaW5nIHRoZSBib25kIHR5cGUgdG8gdGhlIG51bWJlciBvZiBib25kcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG1hcC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldCBib25kcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAnLSc6IDEsXHJcbiAgICAgICAgICAgICcvJzogMSxcclxuICAgICAgICAgICAgJ1xcXFwnOiAxLFxyXG4gICAgICAgICAgICAnPSc6IDIsXHJcbiAgICAgICAgICAgICcjJzogMyxcclxuICAgICAgICAgICAgJyQnOiA0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEVkZ2UiLCIvL0B0cy1jaGVja1xuXG5jb25zdCBmb3JtdWxhVG9Db21tb25OYW1lID0ge1xuICAgICdDMkg0TzInOiAnYWNldGljIGFjaWQnLFxuICAgICdDM0g2Tyc6ICdhY2V0b25lJyxcbiAgICAnQzJIM04nOiAnYWNldG9uaXRyaWxlJyxcbiAgICAnQzZINic6ICdiZW56ZW5lJyxcbiAgICAnQ0NsNCc6ICdjYXJib24gdGV0cmFjaGxvcmlkZScsXG4gICAgJ0M2SDVDbCc6ICdjaGxvcm9iZW56ZW5lJyxcbiAgICAnQ0hDbDMnOiAnY2hsb3JvZm9ybScsXG4gICAgJ0M2SDEyJzogJ2N5Y2xvaGV4YW5lJyxcbiAgICAnQzJINENsMic6ICcxLDItZGljaGxvcm9ldGhhbmUnLFxuICAgICdDNEgxME8zJzogJ2RpZXRoeWxlbmUgZ2x5Y29sJyxcbiAgICAnQzZIMTRPMyc6ICdkaWdseW1lJyxcbiAgICAnQzRIMTBPMic6ICdETUUnLFxuICAgICdDM0g3Tk8nOiAnRE1GJyxcbiAgICAnQzJINk9TJzogJ0RNU08nLFxuICAgICdDMkg2Tyc6ICdldGhhbm9sJyxcbiAgICAnQzJINk8yJzogJ2V0aHlsZW5lIGdseWNvbCcsXG4gICAgJ0MzSDhPMyc6ICdnbHljZXJpbicsXG4gICAgJ0M3SDE2JzogJ2hlcHRhbmUnLFxuICAgICdDNkgxOE4zT1AnOiAnSE1QQScsXG4gICAgJ0M2SDE4TjNQJzogJ0hNUFQnLFxuICAgICdDNkgxNCc6ICdoZXhhbmUnLFxuICAgICdDSDRPJzogJ21ldGhhbm9sJyxcbiAgICAnQzVIMTJPJzogJ01UQkUnLFxuICAgICdDSDJDbDInOiAnbWV0aHlsZW5lIGNobG9yaWRlJyxcbiAgICAnQ0g1SDlOTyc6ICdOTVAnLFxuICAgICdDSDNOTzInOiAnbml0cm9tZXRoYW5lJyxcbiAgICAnQzVIMTInOiAncGVudGFuZScsXG4gICAgJ0M1SDVOJzogJ3B5cmlkaW5lJyxcbiAgICAnQzdIOCc6ICd0b2x1ZW5lJyxcbiAgICAnQzZIMTVOJzogJ3RyaWV0aHlsIGFtaW5lJyxcbiAgICAnSDJPJzogJ3dhdGVyJ1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JtdWxhVG9Db21tb25OYW1lXG5cblxuIiwiY29uc3QgVmVjdG9yMiA9IHJlcXVpcmUoJy4vVmVjdG9yMicpXG5jb25zdCBjb252ZXJ0SW1hZ2UgPSByZXF1aXJlKCcuL1BpeGVsc1RvU3ZnJylcblxuY29uc3QgY2hyb21hID0gcmVxdWlyZShcImNocm9tYS1qc1wiKVxuXG5jbGFzcyBHYXVzc0RyYXdlciB7XG4gICAgLyoqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY2xhc3MgR3JhcGguXG4gICAqIFxuICAgKiBAcGFyYW0ge1ZlY3RvcjJbXX0gcG9pbnRzIFRoZSBjZW50cmVzIG9mIHRoZSBnYXVzc2lhbnMuXG4gICAqIEBwYXJhbSB7TnVtYmVyW119IHdlaWdodHMgVGhlIHdlaWdodHMgLyBhbXBsaXR1ZGVzIGZvciBlYWNoIGdhdXNzaWFuLlxuICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHMsIHdlaWdodHMsIHdpZHRoLCBoZWlnaHQsIHNpZ21hID0gMC4zLCBpbnRlcnZhbCA9IDAsIGNvbG9ybWFwID0gbnVsbCwgb3BhY2l0eSA9IDEuMCwgbm9ybWFsaXplZCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLndlaWdodHMgPSB3ZWlnaHRzO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnNpZ21hID0gc2lnbWE7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkID0gbm9ybWFsaXplZDtcblxuICAgICAgICBpZiAoY29sb3JtYXAgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBwaXlnMTEgPSBbXG4gICAgICAgICAgICAgICAgXCIjYzUxYjdkXCIsIFwiI2RlNzdhZVwiLCBcIiNmMWI2ZGFcIiwgXCIjZmRlMGVmXCIsXG4gICAgICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICAgICAgXCIjZTZmNWQwXCIsIFwiI2I4ZTE4NlwiLCBcIiM3ZmJjNDFcIiwgXCIjNGQ5MjIxXCJdO1xuICAgICAgICAgICAgY29sb3JtYXAgPSBwaXlnMTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvcm1hcCA9IGNvbG9ybWFwO1xuXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0RnJvbUFycmF5KGFycl9wb2ludHMsIGFycl93ZWlnaHRzKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG4gICAgICAgIGFycl9wb2ludHMuZm9yRWFjaChhID0+IHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLnB1c2gobmV3IFZlY3RvcjIoYVswXSwgYVsxXSkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLndlaWdodHMgPSBbXTtcbiAgICAgICAgYXJyX3dlaWdodHMuZm9yRWFjaCh3ID0+IHtcbiAgICAgICAgICAgIHRoaXMud2VpZ2h0cy5wdXNoKHcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGFuZCBkcmF3IHRoZSBnYXVzc2lhbnMuXG4gICAgICovXG4gICAgZHJhdygpIHtcbiAgICAgICAgbGV0IG0gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICAgICAgbGV0IHJvdyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgcm93LnB1c2goMC4wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG0ucHVzaChyb3cpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSXQgbG9va3MgbGlrZSBpbiBzb21lIGNvbW1vbiBqcyBlbmdpbmVzLCBtdWx0aXBsaWNhdGlvbiBieSBhIFxuICAgICAgICAvLyBmcmFjdGlvbiBpcyBmYXN0ZXIgdGhhbiBkaXZpc2lvbiAuLi5cbiAgICAgICAgbGV0IGRpdmlzb3IgPSAxLjAgLyAoMiAqIHRoaXMuc2lnbWEgKiogMik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHYgPSB0aGlzLnBvaW50c1tpXTtcbiAgICAgICAgICAgIGxldCBhID0gdGhpcy53ZWlnaHRzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgdl94ID0gKHggLSB2LngpICoqIDIgLyAoMiAqIHRoaXMuc2lnbWEgKiogMik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCB2X3kgPSAoeSAtIHYueSkgKiogMiAvICgyICogdGhpcy5zaWdtYSAqKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZfeHkgPSAoKHggLSB2LngpICoqIDIgKyAoeSAtIHYueSkgKiogMikgKiBkaXZpc29yO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gYSAqIE1hdGguZXhwKC12X3h5KTtcblxuICAgICAgICAgICAgICAgICAgICBtW3hdW3ldICs9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWJzX21heCA9IDEuMDtcblxuICAgICAgICBpZiAoIXRoaXMubm9ybWFsaXplZCkge1xuICAgICAgICAgICAgbGV0IG1heCA9IC1OdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgICAgIGxldCBtaW4gPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcblxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1beF1beV0gPCBtaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IG1beF1beV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobVt4XVt5XSA+IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gbVt4XVt5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWJzX21heCA9IE1hdGgubWF4KE1hdGguYWJzKG1pbiksIE1hdGguYWJzKG1heCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2NhbGUgPSBjaHJvbWEuc2NhbGUodGhpcy5jb2xvcm1hcCkuZG9tYWluKFstMS4wLCAxLjBdKTtcblxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbVt4XVt5XSA9IG1beF1beV0gLyBhYnNfbWF4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVydmFsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1beF1beV0gPSBNYXRoLnJvdW5kKG1beF1beV0gLyB0aGlzLmludGVydmFsKSAqIHRoaXMuaW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IFtyLCBnLCBiXSA9IHNjYWxlKG1beF1beV0pLnJnYigpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UGl4ZWwobmV3IFZlY3RvcjIoeCwgeSksIHIsIGcsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjYW52YXMgYXMgYW4gSFRNTCBpbWFnZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0NhbGxhYmxlRnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgZ2V0SW1hZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbWFnZVNtb290aGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5jYW52YXMudG9EYXRhVVJMKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjYW52YXMgYXMgYW4gU1ZHIGVsZW1lbnQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtDYWxsYWJsZUZ1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqL1xuICAgIGdldFNWRygpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRJbWFnZSh0aGlzLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb2xvdXIgYXQgYSBzcGVjaWZpYyBwb2ludCBvbiB0aGUgY2FudmFzLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIFRoZSBwaXhlbCBwb3NpdGlvbiBvbiB0aGUgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIFRoZSByZWQgY29sb3VyLWNvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyBUaGUgZ3JlZW4gY29sb3VyLWNvbXBvbmVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgYmx1ZSBjb2xvdXItY29tcG9uZW50LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIFRoZSBhbHBoYSBjb2xvdXItY29tcG9uZW50LlxuICAgICAqL1xuICAgIHNldFBpeGVsKHZlYywgciwgZywgYikge1xuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gXCJyZ2JhKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLFwiICsgdGhpcy5vcGFjaXR5ICsgXCIpXCI7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCh2ZWMueCwgdmVjLnksIDEsIDEpO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHYXVzc0RyYXdlcjsiLCIvL0B0cy1jaGVja1xyXG5jb25zdCBNYXRoSGVscGVyID0gcmVxdWlyZSgnLi9NYXRoSGVscGVyJylcclxuY29uc3QgVmVjdG9yMiA9IHJlcXVpcmUoJy4vVmVjdG9yMicpXHJcbmNvbnN0IFZlcnRleCA9IHJlcXVpcmUoJy4vVmVydGV4JylcclxuY29uc3QgRWRnZSA9IHJlcXVpcmUoJy4vRWRnZScpXHJcbmNvbnN0IFJpbmcgPSByZXF1aXJlKCcuL1JpbmcnKVxyXG5jb25zdCBBdG9tID0gcmVxdWlyZSgnLi9BdG9tJylcclxuXHJcbi8qKiBcclxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgdGhlIG1vbGVjdWxhciBncmFwaC4gXHJcbiAqIFxyXG4gKiBAcHJvcGVydHkge1ZlcnRleFtdfSB2ZXJ0aWNlcyBUaGUgdmVydGljZXMgb2YgdGhlIGdyYXBoLlxyXG4gKiBAcHJvcGVydHkge0VkZ2VbXX0gZWRnZXMgVGhlIGVkZ2VzIG9mIHRoaXMgZ3JhcGguXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IGF0b21JZHhUb1ZlcnRleElkIEEgbWFwIG1hcHBpbmcgYXRvbSBpbmRpY2VzIHRvIHZlcnRleCBpZHMuXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB2ZXJ0ZXhJZHNUb0VkZ2VJZCBBIG1hcCBtYXBwaW5nIHZlcnRleCBpZHMgdG8gdGhlIGVkZ2UgYmV0d2VlbiB0aGUgdHdvIHZlcnRpY2VzLiBUaGUga2V5IGlzIGRlZmluZWQgYXMgdmVydGV4QUlkICsgJ18nICsgdmVydGV4QklkLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzb21ldHJpYyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgU01JTEVTIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGdyYXBoIGlzIGlzb21ldHJpYy5cclxuICovXHJcbmNsYXNzIEdyYXBoIHtcclxuICAvKipcclxuICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGNsYXNzIEdyYXBoLlxyXG4gICAqIFxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJzZVRyZWUgQSBTTUlMRVMgcGFyc2UgdHJlZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpc29tZXJpYz1mYWxzZV0gQSBib29sZWFuIHNwZWNpZnlpbmcgd2hldGhlciBvciBub3QgdGhlIFNNSUxFUyBpcyBpc29tZXJpYy5cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihwYXJzZVRyZWUsIGlzb21lcmljID0gZmFsc2UpIHtcclxuICAgIHRoaXMudmVydGljZXMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy5lZGdlcyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLmF0b21JZHhUb1ZlcnRleElkID0gQXJyYXkoKTtcclxuICAgIHRoaXMudmVydGV4SWRzVG9FZGdlSWQgPSB7fTtcclxuICAgIHRoaXMuaXNvbWVyaWMgPSBpc29tZXJpYztcclxuXHJcbiAgICAvLyBVc2VkIHRvIGFzc2lnbiBpbmRpY2VzIHRvIHRoZSBoZWF2eSBhdG9tcy5cclxuICAgIHRoaXMuX2F0b21JZHggPSAwO1xyXG5cclxuICAgIC8vIFVzZWQgZm9yIHRoZSBicmlkZ2UgZGV0ZWN0aW9uIGFsZ29yaXRobVxyXG4gICAgdGhpcy5fdGltZSA9IDA7XHJcbiAgICB0aGlzLl9pbml0KHBhcnNlVHJlZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQUklWQVRFIEZVTkNUSU9OLiBJbml0aWFsaXppbmcgdGhlIGdyYXBoIGZyb20gdGhlIHBhcnNlIHRyZWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gbm9kZSBUaGUgY3VycmVudCBub2RlIGluIHRoZSBwYXJzZSB0cmVlLlxyXG4gICAqIEBwYXJhbSB7P051bWJlcn0gcGFyZW50VmVydGV4SWQ9bnVsbCBUaGUgaWQgb2YgdGhlIHByZXZpb3VzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQnJhbmNoPWZhbHNlIFdoZXRoZXIgb3Igbm90IHRoZSBib25kIGxlYWRpbmcgdG8gdGhpcyB2ZXJ0ZXggaXMgYSBicmFuY2ggYm9uZC4gQnJhbmNoZXMgYXJlIHJlcHJlc2VudGVkIGJ5IHBhcmVudGhlc2VzIGluIHNtaWxlcyAoZS5nLiBDQyhPKUMpLlxyXG4gICAqL1xyXG4gIF9pbml0KG5vZGUsIG9yZGVyID0gMCwgcGFyZW50VmVydGV4SWQgPSBudWxsLCBpc0JyYW5jaCA9IGZhbHNlKSB7XHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgdmVydGV4IG9iamVjdFxyXG4gICAgY29uc3QgZWxlbWVudCA9IG5vZGUuYXRvbS5lbGVtZW50ID8gbm9kZS5hdG9tLmVsZW1lbnQgOiBub2RlLmF0b207XHJcbiAgICBsZXQgYXRvbSA9IG5ldyBBdG9tKGVsZW1lbnQsIG5vZGUuYm9uZCk7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQgIT09ICdIJyB8fCAoIW5vZGUuaGFzTmV4dCAmJiBwYXJlbnRWZXJ0ZXhJZCA9PT0gbnVsbCkpIHtcclxuICAgICAgYXRvbS5pZHggPSB0aGlzLl9hdG9tSWR4O1xyXG4gICAgICB0aGlzLl9hdG9tSWR4Kys7XHJcbiAgICB9XHJcblxyXG4gICAgYXRvbS5icmFuY2hCb25kID0gbm9kZS5icmFuY2hCb25kO1xyXG4gICAgYXRvbS5yaW5nYm9uZHMgPSBub2RlLnJpbmdib25kcztcclxuICAgIGF0b20uYnJhY2tldCA9IG5vZGUuYXRvbS5lbGVtZW50ID8gbm9kZS5hdG9tIDogbnVsbDtcclxuICAgIGF0b20uY2xhc3MgPSBub2RlLmF0b20uY2xhc3NcclxuXHJcbiAgICBsZXQgdmVydGV4ID0gbmV3IFZlcnRleChhdG9tKTtcclxuICAgIGxldCBwYXJlbnRWZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3BhcmVudFZlcnRleElkXTtcclxuXHJcbiAgICB0aGlzLmFkZFZlcnRleCh2ZXJ0ZXgpO1xyXG5cclxuICAgIGlmIChhdG9tLmlkeCAhPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmF0b21JZHhUb1ZlcnRleElkLnB1c2godmVydGV4LmlkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgdGhlIGlkIG9mIHRoaXMgbm9kZSB0byB0aGUgcGFyZW50IGFzIGNoaWxkXHJcbiAgICBpZiAocGFyZW50VmVydGV4SWQgIT09IG51bGwpIHtcclxuICAgICAgdmVydGV4LnNldFBhcmVudFZlcnRleElkKHBhcmVudFZlcnRleElkKTtcclxuICAgICAgdmVydGV4LnZhbHVlLmFkZE5laWdoYm91cmluZ0VsZW1lbnQocGFyZW50VmVydGV4LnZhbHVlLmVsZW1lbnQpO1xyXG4gICAgICBwYXJlbnRWZXJ0ZXguYWRkQ2hpbGQodmVydGV4LmlkKTtcclxuICAgICAgcGFyZW50VmVydGV4LnZhbHVlLmFkZE5laWdoYm91cmluZ0VsZW1lbnQoYXRvbS5lbGVtZW50KTtcclxuXHJcbiAgICAgIC8vIEluIGFkZGl0aW9uIGNyZWF0ZSBhIHNwYW5uaW5nVHJlZUNoaWxkcmVuIHByb3BlcnR5LCB3aGljaCBsYXRlciB3aWxsXHJcbiAgICAgIC8vIG5vdCBjb250YWluIHRoZSBjaGlsZHJlbiBhZGRlZCB0aHJvdWdoIHJpbmdib25kc1xyXG4gICAgICBwYXJlbnRWZXJ0ZXguc3Bhbm5pbmdUcmVlQ2hpbGRyZW4ucHVzaCh2ZXJ0ZXguaWQpO1xyXG5cclxuICAgICAgLy8gQWRkIGVkZ2UgYmV0d2VlbiB0aGlzIG5vZGUgYW5kIGl0cyBwYXJlbnRcclxuICAgICAgbGV0IGVkZ2UgPSBuZXcgRWRnZShwYXJlbnRWZXJ0ZXhJZCwgdmVydGV4LmlkLCAxKTtcclxuICAgICAgbGV0IHZlcnRleElkID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChpc0JyYW5jaCkge1xyXG4gICAgICAgIGVkZ2Uuc2V0Qm9uZFR5cGUodmVydGV4LnZhbHVlLmJyYW5jaEJvbmQgfHwgJy0nKTtcclxuICAgICAgICB2ZXJ0ZXhJZCA9IHZlcnRleC5pZDtcclxuICAgICAgICBlZGdlLnNldEJvbmRUeXBlKHZlcnRleC52YWx1ZS5icmFuY2hCb25kIHx8ICctJyk7XHJcbiAgICAgICAgdmVydGV4SWQgPSB2ZXJ0ZXguaWQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWRnZS5zZXRCb25kVHlwZShwYXJlbnRWZXJ0ZXgudmFsdWUuYm9uZFR5cGUgfHwgJy0nKTtcclxuICAgICAgICB2ZXJ0ZXhJZCA9IHBhcmVudFZlcnRleC5pZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGVkZ2VJZCA9IHRoaXMuYWRkRWRnZShlZGdlKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgb2Zmc2V0ID0gbm9kZS5yaW5nYm9uZENvdW50ICsgMTtcclxuXHJcbiAgICBpZiAoYXRvbS5icmFja2V0KSB7XHJcbiAgICAgIG9mZnNldCArPSBhdG9tLmJyYWNrZXQuaGNvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdGVyZW9IeWRyb2dlbnMgPSAwO1xyXG4gICAgaWYgKGF0b20uYnJhY2tldCAmJiBhdG9tLmJyYWNrZXQuY2hpcmFsaXR5KSB7XHJcbiAgICAgIGF0b20uaXNTdGVyZW9DZW50ZXIgPSB0cnVlO1xyXG4gICAgICBzdGVyZW9IeWRyb2dlbnMgPSBhdG9tLmJyYWNrZXQuaGNvdW50O1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXJlb0h5ZHJvZ2VuczsgaSsrKSB7XHJcbiAgICAgICAgdGhpcy5faW5pdCh7XHJcbiAgICAgICAgICBhdG9tOiAnSCcsXHJcbiAgICAgICAgICBpc0JyYWNrZXQ6ICdmYWxzZScsXHJcbiAgICAgICAgICBicmFuY2hlczogQXJyYXkoKSxcclxuICAgICAgICAgIGJyYW5jaENvdW50OiAwLFxyXG4gICAgICAgICAgcmluZ2JvbmRzOiBBcnJheSgpLFxyXG4gICAgICAgICAgcmluZ2JvbmRDb3VudDogZmFsc2UsXHJcbiAgICAgICAgICBuZXh0OiBudWxsLFxyXG4gICAgICAgICAgaGFzTmV4dDogZmFsc2UsXHJcbiAgICAgICAgICBib25kOiAnLSdcclxuICAgICAgICB9LCBpLCB2ZXJ0ZXguaWQsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmJyYW5jaENvdW50OyBpKyspIHtcclxuICAgICAgdGhpcy5faW5pdChub2RlLmJyYW5jaGVzW2ldLCBpICsgb2Zmc2V0LCB2ZXJ0ZXguaWQsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlLmhhc05leHQpIHtcclxuICAgICAgdGhpcy5faW5pdChub2RlLm5leHQsIG5vZGUuYnJhbmNoQ291bnQgKyBvZmZzZXQsIHZlcnRleC5pZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbGVhcnMgYWxsIHRoZSBlbGVtZW50cyBpbiB0aGlzIGdyYXBoIChlZGdlcyBhbmQgdmVydGljZXMpLlxyXG4gICAqL1xyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy52ZXJ0aWNlcyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLmVkZ2VzID0gQXJyYXkoKTtcclxuICAgIHRoaXMudmVydGV4SWRzVG9FZGdlSWQgPSB7fTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIHZlcnRleCB0byB0aGUgZ3JhcGguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleH0gdmVydGV4IEEgbmV3IHZlcnRleC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgdmVydGV4IGlkIG9mIHRoZSBuZXcgdmVydGV4LlxyXG4gICAqL1xyXG4gIGFkZFZlcnRleCh2ZXJ0ZXgpIHtcclxuICAgIHZlcnRleC5pZCA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xyXG4gICAgdGhpcy52ZXJ0aWNlcy5wdXNoKHZlcnRleCk7XHJcblxyXG4gICAgcmV0dXJuIHZlcnRleC5pZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhbiBlZGdlIHRvIHRoZSBncmFwaC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RWRnZX0gZWRnZSBBIG5ldyBlZGdlLlxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBlZGdlIGlkIG9mIHRoZSBuZXcgZWRnZS5cclxuICAgKi9cclxuICBhZGRFZGdlKGVkZ2UpIHtcclxuICAgIGxldCBzb3VyY2UgPSB0aGlzLnZlcnRpY2VzW2VkZ2Uuc291cmNlSWRdO1xyXG4gICAgbGV0IHRhcmdldCA9IHRoaXMudmVydGljZXNbZWRnZS50YXJnZXRJZF07XHJcblxyXG4gICAgZWRnZS5pZCA9IHRoaXMuZWRnZXMubGVuZ3RoO1xyXG4gICAgdGhpcy5lZGdlcy5wdXNoKGVkZ2UpO1xyXG5cclxuICAgIHRoaXMudmVydGV4SWRzVG9FZGdlSWRbZWRnZS5zb3VyY2VJZCArICdfJyArIGVkZ2UudGFyZ2V0SWRdID0gZWRnZS5pZDtcclxuICAgIHRoaXMudmVydGV4SWRzVG9FZGdlSWRbZWRnZS50YXJnZXRJZCArICdfJyArIGVkZ2Uuc291cmNlSWRdID0gZWRnZS5pZDtcclxuICAgIGVkZ2UuaXNQYXJ0T2ZBcm9tYXRpY1JpbmcgPSBzb3VyY2UudmFsdWUuaXNQYXJ0T2ZBcm9tYXRpY1JpbmcgJiYgdGFyZ2V0LnZhbHVlLmlzUGFydE9mQXJvbWF0aWNSaW5nO1xyXG5cclxuICAgIHNvdXJjZS52YWx1ZS5ib25kQ291bnQgKz0gZWRnZS53ZWlnaHQ7XHJcbiAgICB0YXJnZXQudmFsdWUuYm9uZENvdW50ICs9IGVkZ2Uud2VpZ2h0O1xyXG5cclxuICAgIHNvdXJjZS5lZGdlcy5wdXNoKGVkZ2UuaWQpO1xyXG4gICAgdGFyZ2V0LmVkZ2VzLnB1c2goZWRnZS5pZCk7XHJcblxyXG4gICAgcmV0dXJuIGVkZ2UuaWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBlZGdlIGJldHdlZW4gdHdvIGdpdmVuIHZlcnRpY2VzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkQSBBIHZlcnRleCBpZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWRCIEEgdmVydGV4IGlkLlxyXG4gICAqIEByZXR1cm5zIHsoRWRnZXxudWxsKX0gVGhlIGVkZ2Ugb3IsIGlmIG5vIGVkZ2UgY2FuIGJlIGZvdW5kLCBudWxsLlxyXG4gICAqL1xyXG4gIGdldEVkZ2UodmVydGV4SWRBLCB2ZXJ0ZXhJZEIpIHtcclxuICAgIGxldCBlZGdlSWQgPSB0aGlzLnZlcnRleElkc1RvRWRnZUlkW3ZlcnRleElkQSArICdfJyArIHZlcnRleElkQl07XHJcblxyXG4gICAgcmV0dXJuIGVkZ2VJZCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHRoaXMuZWRnZXNbZWRnZUlkXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGlkcyBvZiBlZGdlcyBjb25uZWN0ZWQgdG8gYSB2ZXJ0ZXguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXHJcbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpZHMgb2YgZWRnZXMgY29ubmVjdGVkIHRvIHRoZSB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgZ2V0RWRnZXModmVydGV4SWQpIHtcclxuICAgIGxldCBlZGdlSWRzID0gQXJyYXkoKTtcclxuICAgIGxldCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3ZlcnRleElkXTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleC5uZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGVkZ2VJZHMucHVzaCh0aGlzLnZlcnRleElkc1RvRWRnZUlkW3ZlcnRleElkICsgJ18nICsgdmVydGV4Lm5laWdoYm91cnNbaV1dKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWRnZUlkcztcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCB0d28gdmVydGljZXMgYXJlIGNvbm5lY3RlZCBieSBhbiBlZGdlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHZlcnRleElkQSBBIHZlcnRleCBpZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWRCIEEgdmVydGV4IGlkLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0d28gdmVydGljZXMgYXJlIGNvbm5lY3RlZCBieSBhbiBlZGdlLlxyXG4gICAqL1xyXG4gIGhhc0VkZ2UodmVydGV4SWRBLCB2ZXJ0ZXhJZEIpIHtcclxuICAgIHJldHVybiB0aGlzLnZlcnRleElkc1RvRWRnZUlkW3ZlcnRleElkQSArICdfJyArIHZlcnRleElkQl0gIT09IHVuZGVmaW5lZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0ZXggaWRzIG9mIHRoaXMgZ3JhcGguXHJcbiAgICogXHJcbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIGFsbCB2ZXJ0ZXggaWRzIG9mIHRoaXMgZ3JhcGguXHJcbiAgICovXHJcbiAgZ2V0VmVydGV4TGlzdCgpIHtcclxuICAgIGxldCBhcnIgPSBbdGhpcy52ZXJ0aWNlcy5sZW5ndGhdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBhcnJbaV0gPSB0aGlzLnZlcnRpY2VzW2ldLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgc291cmNlLCB0YXJnZXQgYXJyYXlzIG9mIHRoaXMgZ3JhcGhzIGVkZ2VzLlxyXG4gICAqIFxyXG4gICAqIEByZXR1cm5zIHtBcnJheVtdfSBBbiBhcnJheSBjb250YWluaW5nIHNvdXJjZSwgdGFyZ2V0IGFycmF5cyBvZiB0aGlzIGdyYXBocyBlZGdlcy4gRXhhbXBsZTogWyBbIDIsIDUgXSwgWyA2LCA5IF0gXS5cclxuICAgKi9cclxuICBnZXRFZGdlTGlzdCgpIHtcclxuICAgIGxldCBhcnIgPSBBcnJheSh0aGlzLmVkZ2VzLmxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVkZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFycltpXSA9IFt0aGlzLmVkZ2VzW2ldLnNvdXJjZUlkLCB0aGlzLmVkZ2VzW2ldLnRhcmdldElkXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBhZGphY2VuY3kgbWF0cml4IG9mIHRoZSBncmFwaC5cclxuICAgKiBcclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGFkamFuY2VuY3kgbWF0cml4IG9mIHRoZSBtb2xlY3VsYXIgZ3JhcGguXHJcbiAgICovXHJcbiAgZ2V0QWRqYWNlbmN5TWF0cml4KCkge1xyXG4gICAgbGV0IGxlbmd0aCA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xyXG4gICAgbGV0IGFkamFjZW5jeU1hdHJpeCA9IEFycmF5KGxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbaV0gPSBuZXcgQXJyYXkobGVuZ3RoKTtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2ldLmZpbGwoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmVkZ2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCBlZGdlID0gdGhpcy5lZGdlc1tpXTtcclxuXHJcbiAgICAgIGFkamFjZW5jeU1hdHJpeFtlZGdlLnNvdXJjZUlkXVtlZGdlLnRhcmdldElkXSA9IDE7XHJcbiAgICAgIGFkamFjZW5jeU1hdHJpeFtlZGdlLnRhcmdldElkXVtlZGdlLnNvdXJjZUlkXSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkamFjZW5jeU1hdHJpeDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYWRqYWNlbmN5IG1hdHJpeCBvZiB0aGUgZ3JhcGggd2l0aCBhbGwgYnJpZGdlcyByZW1vdmVkICh0aHVzIHRoZSBjb21wb25lbnRzKS4gVGh1cyB0aGUgcmVtYWluaW5nIHZlcnRpY2VzIGFyZSBhbGwgcGFydCBvZiByaW5nIHN5c3RlbXMuXHJcbiAgICogXHJcbiAgICogQHJldHVybnMge0FycmF5W119IFRoZSBhZGphbmNlbmN5IG1hdHJpeCBvZiB0aGUgbW9sZWN1bGFyIGdyYXBoIHdpdGggYWxsIGJyaWRnZXMgcmVtb3ZlZC5cclxuICAgKi9cclxuICBnZXRDb21wb25lbnRzQWRqYWNlbmN5TWF0cml4KCkge1xyXG4gICAgbGV0IGxlbmd0aCA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xyXG4gICAgbGV0IGFkamFjZW5jeU1hdHJpeCA9IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgYnJpZGdlcyA9IHRoaXMuZ2V0QnJpZGdlcygpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2ldID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgIGFkamFjZW5jeU1hdHJpeFtpXS5maWxsKDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lZGdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgZWRnZSA9IHRoaXMuZWRnZXNbaV07XHJcblxyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbZWRnZS5zb3VyY2VJZF1bZWRnZS50YXJnZXRJZF0gPSAxO1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbZWRnZS50YXJnZXRJZF1bZWRnZS5zb3VyY2VJZF0gPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnJpZGdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbYnJpZGdlc1tpXVswXV1bYnJpZGdlc1tpXVsxXV0gPSAwO1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbYnJpZGdlc1tpXVsxXV1bYnJpZGdlc1tpXVswXV0gPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhZGphY2VuY3lNYXRyaXg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGFkamFjZW5jeSBtYXRyaXggb2YgYSBzdWJncmFwaC5cclxuICAgKiBcclxuICAgKiBAcGFyYW0ge051bWJlcltdfSB2ZXJ0ZXhJZHMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IGlkcyBjb250YWluZWQgd2l0aGluIHRoZSBzdWJncmFwaC5cclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGFkamFuY2VuY3kgbWF0cml4IG9mIHRoZSBzdWJncmFwaC5cclxuICAgKi9cclxuICBnZXRTdWJncmFwaEFkamFjZW5jeU1hdHJpeCh2ZXJ0ZXhJZHMpIHtcclxuICAgIGxldCBsZW5ndGggPSB2ZXJ0ZXhJZHMubGVuZ3RoO1xyXG4gICAgbGV0IGFkamFjZW5jeU1hdHJpeCA9IEFycmF5KGxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBhZGphY2VuY3lNYXRyaXhbaV0gPSBuZXcgQXJyYXkobGVuZ3RoKTtcclxuICAgICAgYWRqYWNlbmN5TWF0cml4W2ldLmZpbGwoMCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGkgPT09IGopIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRWRnZSh2ZXJ0ZXhJZHNbaV0sIHZlcnRleElkc1tqXSkpIHtcclxuICAgICAgICAgIGFkamFjZW5jeU1hdHJpeFtpXVtqXSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkamFjZW5jeU1hdHJpeDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgZGlzdGFuY2UgbWF0cml4IG9mIHRoZSBncmFwaC5cclxuICAgKiBcclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGRpc3RhbmNlIG1hdHJpeCBvZiB0aGUgZ3JhcGguXHJcbiAgICovXHJcbiAgZ2V0RGlzdGFuY2VNYXRyaXgoKSB7XHJcbiAgICBsZXQgbGVuZ3RoID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XHJcbiAgICBsZXQgYWRqYSA9IHRoaXMuZ2V0QWRqYWNlbmN5TWF0cml4KCk7XHJcbiAgICBsZXQgZGlzdCA9IEFycmF5KGxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBkaXN0W2ldID0gQXJyYXkobGVuZ3RoKTtcclxuICAgICAgZGlzdFtpXS5maWxsKEluZmluaXR5KTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoYWRqYVtpXVtqXSA9PT0gMSkge1xyXG4gICAgICAgICAgZGlzdFtpXVtqXSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZW5ndGg7IGsrKykge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgaWYgKGRpc3RbaV1bal0gPiBkaXN0W2ldW2tdICsgZGlzdFtrXVtqXSkge1xyXG4gICAgICAgICAgICBkaXN0W2ldW2pdID0gZGlzdFtpXVtrXSArIGRpc3Rba11bal1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGlzdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgZGlzdGFuY2UgbWF0cml4IG9mIGEgc3ViZ3JhcGguXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtOdW1iZXJbXX0gdmVydGV4SWRzIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHZlcnRleCBpZHMgY29udGFpbmVkIHdpdGhpbiB0aGUgc3ViZ3JhcGguXHJcbiAgICogQHJldHVybnMge0FycmF5W119IFRoZSBkaXN0YW5jZSBtYXRyaXggb2YgdGhlIHN1YmdyYXBoLlxyXG4gICAqL1xyXG4gIGdldFN1YmdyYXBoRGlzdGFuY2VNYXRyaXgodmVydGV4SWRzKSB7XHJcbiAgICBsZXQgbGVuZ3RoID0gdmVydGV4SWRzLmxlbmd0aDtcclxuICAgIGxldCBhZGphID0gdGhpcy5nZXRTdWJncmFwaEFkamFjZW5jeU1hdHJpeCh2ZXJ0ZXhJZHMpO1xyXG4gICAgbGV0IGRpc3QgPSBBcnJheShsZW5ndGgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgZGlzdFtpXSA9IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgIGRpc3RbaV0uZmlsbChJbmZpbml0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGFkamFbaV1bal0gPT09IDEpIHtcclxuICAgICAgICAgIGRpc3RbaV1bal0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVuZ3RoOyBrKyspIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgIGlmIChkaXN0W2ldW2pdID4gZGlzdFtpXVtrXSArIGRpc3Rba11bal0pIHtcclxuICAgICAgICAgICAgZGlzdFtpXVtqXSA9IGRpc3RbaV1ba10gKyBkaXN0W2tdW2pdXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRpc3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGFkamFjZW5jeSBsaXN0IG9mIHRoZSBncmFwaC5cclxuICAgKiBcclxuICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIGFkamFuY2VuY3kgbGlzdCBvZiB0aGUgZ3JhcGguXHJcbiAgICovXHJcbiAgZ2V0QWRqYWNlbmN5TGlzdCgpIHtcclxuICAgIGxldCBsZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIGxldCBhZGphY2VuY3lMaXN0ID0gQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFkamFjZW5jeUxpc3RbaV0gPSBbXTtcclxuXHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoaSA9PT0gaikge1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5oYXNFZGdlKHRoaXMudmVydGljZXNbaV0uaWQsIHRoaXMudmVydGljZXNbal0uaWQpKSB7XHJcbiAgICAgICAgICBhZGphY2VuY3lMaXN0W2ldLnB1c2goaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFkamFjZW5jeUxpc3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGFkamFjZW5jeSBsaXN0IG9mIGEgc3ViZ3JhcGguXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtOdW1iZXJbXX0gdmVydGV4SWRzIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHZlcnRleCBpZHMgY29udGFpbmVkIHdpdGhpbiB0aGUgc3ViZ3JhcGguXHJcbiAgICogQHJldHVybnMge0FycmF5W119IFRoZSBhZGphbmNlbmN5IGxpc3Qgb2YgdGhlIHN1YmdyYXBoLlxyXG4gICAqL1xyXG4gIGdldFN1YmdyYXBoQWRqYWNlbmN5TGlzdCh2ZXJ0ZXhJZHMpIHtcclxuICAgIGxldCBsZW5ndGggPSB2ZXJ0ZXhJZHMubGVuZ3RoO1xyXG4gICAgbGV0IGFkamFjZW5jeUxpc3QgPSBBcnJheShsZW5ndGgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgYWRqYWNlbmN5TGlzdFtpXSA9IEFycmF5KCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGkgPT09IGopIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRWRnZSh2ZXJ0ZXhJZHNbaV0sIHZlcnRleElkc1tqXSkpIHtcclxuICAgICAgICAgIGFkamFjZW5jeUxpc3RbaV0ucHVzaChqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYWRqYWNlbmN5TGlzdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgZWRnZSBpZHMgb2YgYnJpZGdlcy4gQSBicmlkZ2Ugc3BsaXRzIHRoZSBncmFwaCBpbnRvIG11bHRpcGxlIGNvbXBvbmVudHMgd2hlbiByZW1vdmVkLlxyXG4gICAqIFxyXG4gICAqIEByZXR1cm5zIHtOdW1iZXJbXX0gQW4gYXJyYXkgY29udGFpbmluZyB0aGUgZWRnZSBpZHMgb2YgdGhlIGJyaWRnZXMuXHJcbiAgICovXHJcbiAgZ2V0QnJpZGdlcygpIHtcclxuICAgIGxldCBsZW5ndGggPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcclxuICAgIGxldCB2aXNpdGVkID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgZGlzYyA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGxvdyA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IHBhcmVudCA9IG5ldyBBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGFkaiA9IHRoaXMuZ2V0QWRqYWNlbmN5TGlzdCgpO1xyXG4gICAgbGV0IG91dEJyaWRnZXMgPSBBcnJheSgpO1xyXG5cclxuICAgIHZpc2l0ZWQuZmlsbChmYWxzZSk7XHJcbiAgICBwYXJlbnQuZmlsbChudWxsKTtcclxuICAgIHRoaXMuX3RpbWUgPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKCF2aXNpdGVkW2ldKSB7XHJcbiAgICAgICAgdGhpcy5fYnJpZGdlRGZzKGksIHZpc2l0ZWQsIGRpc2MsIGxvdywgcGFyZW50LCBhZGosIG91dEJyaWRnZXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dEJyaWRnZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmF2ZXJzZXMgdGhlIGdyYXBoIGluIGJyZWFkdGgtZmlyc3Qgb3JkZXIuXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VmVydGV4SWQgVGhlIGlkIG9mIHRoZSBzdGFydGluZyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBldmVyeSB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgdHJhdmVyc2VCRihzdGFydFZlcnRleElkLCBjYWxsYmFjaykge1xyXG4gICAgbGV0IGxlbmd0aCA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xyXG4gICAgbGV0IHZpc2l0ZWQgPSBuZXcgQXJyYXkobGVuZ3RoKTtcclxuXHJcbiAgICB2aXNpdGVkLmZpbGwoZmFsc2UpO1xyXG5cclxuICAgIHZhciBxdWV1ZSA9IFtzdGFydFZlcnRleElkXTtcclxuXHJcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAvLyBKYXZhU2NyaXB0cyBzaGlmdCgpIGlzIE8obikgLi4uIGJhZCBKYXZhU2NyaXB0LCBiYWQhXHJcbiAgICAgIGxldCB1ID0gcXVldWUuc2hpZnQoKTtcclxuICAgICAgbGV0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdV07XHJcblxyXG4gICAgICBjYWxsYmFjayh2ZXJ0ZXgpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXgubmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCB2ID0gdmVydGV4Lm5laWdoYm91cnNbaV1cclxuICAgICAgICBpZiAoIXZpc2l0ZWRbdl0pIHtcclxuICAgICAgICAgIHZpc2l0ZWRbdl0gPSB0cnVlO1xyXG4gICAgICAgICAgcXVldWUucHVzaCh2KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgZGVwdGggb2YgYSBzdWJ0cmVlIGluIHRoZSBkaXJlY3Rpb24gb3Bwb3NpdGUgdG8gdGhlIHZlcnRleCBzcGVjaWZpZWQgYXMgdGhlIHBhcmVudCB2ZXJ0ZXguXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBhcmVudFZlcnRleElkIFRoZSBpZCBvZiBhIG5laWdoYm91cmluZyB2ZXJ0ZXguXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIGRlcHRoIG9mIHRoZSBzdWItdHJlZS5cclxuICAgKi9cclxuICBnZXRUcmVlRGVwdGgodmVydGV4SWQsIHBhcmVudFZlcnRleElkKSB7XHJcbiAgICBpZiAodmVydGV4SWQgPT09IG51bGwgfHwgcGFyZW50VmVydGV4SWQgPT09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG5laWdoYm91cnMgPSB0aGlzLnZlcnRpY2VzW3ZlcnRleElkXS5nZXRTcGFubmluZ1RyZWVOZWlnaGJvdXJzKHBhcmVudFZlcnRleElkKTtcclxuICAgIGxldCBtYXggPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgY2hpbGRJZCA9IG5laWdoYm91cnNbaV07XHJcbiAgICAgIGxldCBkID0gdGhpcy5nZXRUcmVlRGVwdGgoY2hpbGRJZCwgdmVydGV4SWQpO1xyXG5cclxuICAgICAgaWYgKGQgPiBtYXgpIHtcclxuICAgICAgICBtYXggPSBkO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG1heCArIDE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmF2ZXJzZSBhIHN1Yi10cmVlIGluIHRoZSBncmFwaC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBBIHZlcnRleCBpZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcGFyZW50VmVydGV4SWQgQSBuZWlnaGJvdXJpbmcgdmVydGV4LlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aXRoIGVhY2ggdmlzaXRlZCBhcyBhbiBhcmd1bWVudC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW21heERlcHRoPTk5OTk5OV0gVGhlIG1heGltdW0gZGVwdGggb2YgdGhlIHJlY3Vyc2lvbi5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpZ25vcmVGaXJzdD1mYWxzZV0gV2hldGhlciBvciBub3QgdG8gaWdub3JlIHRoZSBzdGFydGluZyB2ZXJ0ZXggc3VwcGxpZWQgYXMgdmVydGV4SWQgaW4gdGhlIGNhbGxiYWNrLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbZGVwdGg9MV0gVGhlIGN1cnJlbnQgZGVwdGggaW4gdGhlIHRyZWUuXHJcbiAgICogQHBhcmFtIHtVaW50OEFycmF5fSBbdmlzaXRlZD1udWxsXSBBbiBhcnJheSBob2xkaW5nIGEgZmxhZyBvbiB3aGV0aGVyIG9yIG5vdCBhIG5vZGUgaGFzIGJlZW4gdmlzaXRlZC5cclxuICAgKi9cclxuICB0cmF2ZXJzZVRyZWUodmVydGV4SWQsIHBhcmVudFZlcnRleElkLCBjYWxsYmFjaywgbWF4RGVwdGggPSA5OTk5OTksIGlnbm9yZUZpcnN0ID0gZmFsc2UsIGRlcHRoID0gMSwgdmlzaXRlZCA9IG51bGwpIHtcclxuICAgIGlmICh2aXNpdGVkID09PSBudWxsKSB7XHJcbiAgICAgIHZpc2l0ZWQgPSBuZXcgVWludDhBcnJheSh0aGlzLnZlcnRpY2VzLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlcHRoID4gbWF4RGVwdGggKyAxIHx8IHZpc2l0ZWRbdmVydGV4SWRdID09PSAxKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2aXNpdGVkW3ZlcnRleElkXSA9IDE7XHJcblxyXG4gICAgbGV0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdmVydGV4SWRdO1xyXG4gICAgbGV0IG5laWdoYm91cnMgPSB2ZXJ0ZXguZ2V0TmVpZ2hib3VycyhwYXJlbnRWZXJ0ZXhJZCk7XHJcblxyXG4gICAgaWYgKCFpZ25vcmVGaXJzdCB8fCBkZXB0aCA+IDEpIHtcclxuICAgICAgY2FsbGJhY2sodmVydGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy50cmF2ZXJzZVRyZWUobmVpZ2hib3Vyc1tpXSwgdmVydGV4SWQsIGNhbGxiYWNrLCBtYXhEZXB0aCwgaWdub3JlRmlyc3QsIGRlcHRoICsgMSwgdmlzaXRlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQb3NpdGlvbmVzIHRoZSAoc3ViKWdyYXBoIHVzaW5nIEthbWFkYSBhbmQgS2F3YWlzIGFsZ29yaXRobSBmb3IgZHJhd2luZyBnZW5lcmFsIHVuZGlyZWN0ZWQgZ3JhcGhzLiBodHRwczovL3BkZnMuc2VtYW50aWNzY2hvbGFyLm9yZy9iOGQzL2JjYTUwY2NjNTczYzVjYjk5ZjdkMjAxZThhY2NlNjYxOGYwNC5wZGZcclxuICAgKiBUaGVyZSBhcmUgdW5kb2N1bWVudGVkIGxheW91dCBwYXJhbWV0ZXJzLiBUaGV5IGFyZSB1bmRvY3VtZW50ZWQgZm9yIGEgcmVhc29uLCBzbyBiZSB2ZXJ5IGNhcmVmdWwuXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtOdW1iZXJbXX0gdmVydGV4SWRzIEFuIGFycmF5IGNvbnRhaW5pbmcgdmVydGV4SWRzIHRvIGJlIHBsYWNlZCB1c2luZyB0aGUgZm9yY2UgYmFzZWQgbGF5b3V0LlxyXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gY2VudGVyIFRoZSBjZW50ZXIgb2YgdGhlIGxheW91dC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRWZXJ0ZXhJZCBBIHZlcnRleCBpZC4gU2hvdWxkIGJlIHRoZSBzdGFydGluZyB2ZXJ0ZXggLSBlLmcuIHRoZSBmaXJzdCB0byBiZSBwb3NpdGlvbmVkIGFuZCBjb25uZWN0ZWQgdG8gYSBwcmV2aW91c2x5IHBsYWNlIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge1Jpbmd9IHJpbmcgVGhlIGJyaWRnZWQgcmluZyBhc3NvY2lhdGVkIHdpdGggdGhpcyBmb3JjZS1iYXNlZCBsYXlvdXQuXHJcbiAgICovXHJcbiAga2tMYXlvdXQodmVydGV4SWRzLCBjZW50ZXIsIHN0YXJ0VmVydGV4SWQsIHJpbmcsIGJvbmRMZW5ndGgsXHJcbiAgICB0aHJlc2hvbGQgPSAwLjEsIGlubmVyVGhyZXNob2xkID0gMC4xLCBtYXhJdGVyYXRpb24gPSAyMDAwLFxyXG4gICAgbWF4SW5uZXJJdGVyYXRpb24gPSA1MCwgbWF4RW5lcmd5ID0gMWU5KSB7XHJcblxyXG4gICAgbGV0IGVkZ2VTdHJlbmd0aCA9IGJvbmRMZW5ndGg7XHJcblxyXG4gICAgLy8gQWRkIHZlcnRpY2VzIHRoYXQgYXJlIGRpcmVjdGx5IGNvbm5lY3RlZCB0byB0aGUgcmluZ1xyXG4gICAgdmFyIGkgPSB2ZXJ0ZXhJZHMubGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy52ZXJ0aWNlc1t2ZXJ0ZXhJZHNbaV1dO1xyXG4gICAgICB2YXIgaiA9IHZlcnRleC5uZWlnaGJvdXJzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbWF0RGlzdCA9IHRoaXMuZ2V0U3ViZ3JhcGhEaXN0YW5jZU1hdHJpeCh2ZXJ0ZXhJZHMpO1xyXG4gICAgbGV0IGxlbmd0aCA9IHZlcnRleElkcy5sZW5ndGg7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgcG9zaXRpb25zLiBQbGFjZSBhbGwgdmVydGljZXMgb24gYSByaW5nIGFyb3VuZCB0aGUgY2VudGVyXHJcbiAgICBsZXQgcmFkaXVzID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKDUwMCwgbGVuZ3RoKTtcclxuICAgIGxldCBhbmdsZSA9IE1hdGhIZWxwZXIuY2VudHJhbEFuZ2xlKGxlbmd0aCk7XHJcbiAgICBsZXQgYSA9IDAuMDtcclxuICAgIGxldCBhcnJQb3NpdGlvblggPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgYXJyUG9zaXRpb25ZID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xyXG4gICAgbGV0IGFyclBvc2l0aW9uZWQgPSBBcnJheShsZW5ndGgpO1xyXG5cclxuICAgIGkgPSBsZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW3ZlcnRleElkc1tpXV07XHJcbiAgICAgIGlmICghdmVydGV4LnBvc2l0aW9uZWQpIHtcclxuICAgICAgICBhcnJQb3NpdGlvblhbaV0gPSBjZW50ZXIueCArIE1hdGguY29zKGEpICogcmFkaXVzO1xyXG4gICAgICAgIGFyclBvc2l0aW9uWVtpXSA9IGNlbnRlci55ICsgTWF0aC5zaW4oYSkgKiByYWRpdXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXJyUG9zaXRpb25YW2ldID0gdmVydGV4LnBvc2l0aW9uLng7XHJcbiAgICAgICAgYXJyUG9zaXRpb25ZW2ldID0gdmVydGV4LnBvc2l0aW9uLnk7XHJcbiAgICAgIH1cclxuICAgICAgYXJyUG9zaXRpb25lZFtpXSA9IHZlcnRleC5wb3NpdGlvbmVkO1xyXG4gICAgICBhICs9IGFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSB0aGUgbWF0cml4IGNvbnRhaW5pbmcgdGhlIGxlbmd0aHNcclxuICAgIGxldCBtYXRMZW5ndGggPSBBcnJheShsZW5ndGgpO1xyXG4gICAgaSA9IGxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbWF0TGVuZ3RoW2ldID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgIHZhciBqID0gbGVuZ3RoO1xyXG4gICAgICB3aGlsZSAoai0tKSB7XHJcbiAgICAgICAgbWF0TGVuZ3RoW2ldW2pdID0gYm9uZExlbmd0aCAqIG1hdERpc3RbaV1bal07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG1hdHJpeCBjb250YWluaW5nIHRoZSBzcHJpbmcgc3RyZW5naHRzXHJcbiAgICBsZXQgbWF0U3RyZW5ndGggPSBBcnJheShsZW5ndGgpO1xyXG4gICAgaSA9IGxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbWF0U3RyZW5ndGhbaV0gPSBBcnJheShsZW5ndGgpO1xyXG4gICAgICB2YXIgaiA9IGxlbmd0aDtcclxuICAgICAgd2hpbGUgKGotLSkge1xyXG4gICAgICAgIG1hdFN0cmVuZ3RoW2ldW2pdID0gZWRnZVN0cmVuZ3RoICogTWF0aC5wb3cobWF0RGlzdFtpXVtqXSwgLTIuMCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdGhlIG1hdHJpeCBjb250YWluaW5nIHRoZSBlbmVyZ2llc1xyXG4gICAgbGV0IG1hdEVuZXJneSA9IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgYXJyRW5lcmd5U3VtWCA9IG5ldyBGbG9hdDMyQXJyYXkobGVuZ3RoKTtcclxuICAgIGxldCBhcnJFbmVyZ3lTdW1ZID0gbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpO1xyXG4gICAgaSA9IGxlbmd0aDtcclxuICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgbWF0RW5lcmd5W2ldID0gQXJyYXkobGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBpID0gbGVuZ3RoO1xyXG4gICAgbGV0IHV4LCB1eSwgZEV4LCBkRXksIHZ4LCB2eSwgZGVub207XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB1eCA9IGFyclBvc2l0aW9uWFtpXTtcclxuICAgICAgdXkgPSBhcnJQb3NpdGlvbllbaV07XHJcbiAgICAgIGRFeCA9IDAuMDtcclxuICAgICAgZEV5ID0gMC4wO1xyXG4gICAgICBsZXQgaiA9IGxlbmd0aDtcclxuICAgICAgd2hpbGUgKGotLSkge1xyXG4gICAgICAgIGlmIChpID09PSBqKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdnggPSBhcnJQb3NpdGlvblhbal07XHJcbiAgICAgICAgdnkgPSBhcnJQb3NpdGlvbllbal07XHJcbiAgICAgICAgZGVub20gPSAxLjAgLyBNYXRoLnNxcnQoKHV4IC0gdngpICogKHV4IC0gdngpICsgKHV5IC0gdnkpICogKHV5IC0gdnkpKTtcclxuICAgICAgICBtYXRFbmVyZ3lbaV1bal0gPSBbXHJcbiAgICAgICAgICBtYXRTdHJlbmd0aFtpXVtqXSAqICgodXggLSB2eCkgLSBtYXRMZW5ndGhbaV1bal0gKiAodXggLSB2eCkgKiBkZW5vbSksXHJcbiAgICAgICAgICBtYXRTdHJlbmd0aFtpXVtqXSAqICgodXkgLSB2eSkgLSBtYXRMZW5ndGhbaV1bal0gKiAodXkgLSB2eSkgKiBkZW5vbSlcclxuICAgICAgICBdXHJcbiAgICAgICAgbWF0RW5lcmd5W2pdW2ldID0gbWF0RW5lcmd5W2ldW2pdO1xyXG4gICAgICAgIGRFeCArPSBtYXRFbmVyZ3lbaV1bal1bMF07XHJcbiAgICAgICAgZEV5ICs9IG1hdEVuZXJneVtpXVtqXVsxXTtcclxuICAgICAgfVxyXG4gICAgICBhcnJFbmVyZ3lTdW1YW2ldID0gZEV4O1xyXG4gICAgICBhcnJFbmVyZ3lTdW1ZW2ldID0gZEV5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFV0aWxpdHkgZnVuY3Rpb25zLCBtYXliZSBpbmxpbmUgdGhlbSBsYXRlclxyXG4gICAgbGV0IGVuZXJneSA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICByZXR1cm4gW2FyckVuZXJneVN1bVhbaW5kZXhdICogYXJyRW5lcmd5U3VtWFtpbmRleF0gKyBhcnJFbmVyZ3lTdW1ZW2luZGV4XSAqIGFyckVuZXJneVN1bVlbaW5kZXhdLCBhcnJFbmVyZ3lTdW1YW2luZGV4XSwgYXJyRW5lcmd5U3VtWVtpbmRleF1dO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBoaWdoZXN0RW5lcmd5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBsZXQgbWF4RW5lcmd5ID0gMC4wO1xyXG4gICAgICBsZXQgbWF4RW5lcmd5SWQgPSAwO1xyXG4gICAgICBsZXQgbWF4REVYID0gMC4wO1xyXG4gICAgICBsZXQgbWF4REVZID0gMC4wXHJcblxyXG4gICAgICBpID0gbGVuZ3RoO1xyXG4gICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgbGV0IFtkZWx0YSwgZEVYLCBkRVldID0gZW5lcmd5KGkpO1xyXG5cclxuICAgICAgICBpZiAoZGVsdGEgPiBtYXhFbmVyZ3kgJiYgYXJyUG9zaXRpb25lZFtpXSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgIG1heEVuZXJneSA9IGRlbHRhO1xyXG4gICAgICAgICAgbWF4RW5lcmd5SWQgPSBpO1xyXG4gICAgICAgICAgbWF4REVYID0gZEVYO1xyXG4gICAgICAgICAgbWF4REVZID0gZEVZO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIFttYXhFbmVyZ3lJZCwgbWF4RW5lcmd5LCBtYXhERVgsIG1heERFWV07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHVwZGF0ZSA9IGZ1bmN0aW9uIChpbmRleCwgZEVYLCBkRVkpIHtcclxuICAgICAgbGV0IGR4eCA9IDAuMDtcclxuICAgICAgbGV0IGR5eSA9IDAuMDtcclxuICAgICAgbGV0IGR4eSA9IDAuMDtcclxuICAgICAgbGV0IHV4ID0gYXJyUG9zaXRpb25YW2luZGV4XTtcclxuICAgICAgbGV0IHV5ID0gYXJyUG9zaXRpb25ZW2luZGV4XTtcclxuICAgICAgbGV0IGFyckwgPSBtYXRMZW5ndGhbaW5kZXhdO1xyXG4gICAgICBsZXQgYXJySyA9IG1hdFN0cmVuZ3RoW2luZGV4XTtcclxuXHJcbiAgICAgIGkgPSBsZW5ndGg7XHJcbiAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICBpZiAoaSA9PT0gaW5kZXgpIHtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHZ4ID0gYXJyUG9zaXRpb25YW2ldO1xyXG4gICAgICAgIGxldCB2eSA9IGFyclBvc2l0aW9uWVtpXTtcclxuICAgICAgICBsZXQgbCA9IGFyckxbaV07XHJcbiAgICAgICAgbGV0IGsgPSBhcnJLW2ldO1xyXG4gICAgICAgIGxldCBtID0gKHV4IC0gdngpICogKHV4IC0gdngpO1xyXG4gICAgICAgIGxldCBkZW5vbSA9IDEuMCAvIE1hdGgucG93KG0gKyAodXkgLSB2eSkgKiAodXkgLSB2eSksIDEuNSk7XHJcblxyXG4gICAgICAgIGR4eCArPSBrICogKDEgLSBsICogKHV5IC0gdnkpICogKHV5IC0gdnkpICogZGVub20pO1xyXG4gICAgICAgIGR5eSArPSBrICogKDEgLSBsICogbSAqIGRlbm9tKTtcclxuICAgICAgICBkeHkgKz0gayAqIChsICogKHV4IC0gdngpICogKHV5IC0gdnkpICogZGVub20pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcmV2ZW50IGRpdmlzaW9uIGJ5IHplcm9cclxuICAgICAgaWYgKGR4eCA9PT0gMCkge1xyXG4gICAgICAgIGR4eCA9IDAuMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGR5eSA9PT0gMCkge1xyXG4gICAgICAgIGR5eSA9IDAuMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGR4eSA9PT0gMCkge1xyXG4gICAgICAgIGR4eSA9IDAuMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IGR5ID0gKGRFWCAvIGR4eCArIGRFWSAvIGR4eSk7XHJcbiAgICAgIGR5IC89IChkeHkgLyBkeHggLSBkeXkgLyBkeHkpOyAvLyBoYWQgdG8gc3BsaXQgdGhpcyBvbnRvIHR3byBsaW5lcyBiZWNhdXNlIHRoZSBzeW50YXggaGlnaGxpZ2h0ZXIgd2VudCBjcmF6eS5cclxuICAgICAgbGV0IGR4ID0gLShkeHkgKiBkeSArIGRFWCkgLyBkeHg7XHJcblxyXG4gICAgICBhcnJQb3NpdGlvblhbaW5kZXhdICs9IGR4O1xyXG4gICAgICBhcnJQb3NpdGlvbllbaW5kZXhdICs9IGR5O1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBlbmVyZ2llc1xyXG4gICAgICBsZXQgYXJyRSA9IG1hdEVuZXJneVtpbmRleF07XHJcbiAgICAgIGRFWCA9IDAuMDtcclxuICAgICAgZEVZID0gMC4wO1xyXG5cclxuICAgICAgdXggPSBhcnJQb3NpdGlvblhbaW5kZXhdO1xyXG4gICAgICB1eSA9IGFyclBvc2l0aW9uWVtpbmRleF07XHJcblxyXG4gICAgICBsZXQgdngsIHZ5LCBwcmV2RXgsIHByZXZFeSwgZGVub207XHJcblxyXG4gICAgICBpID0gbGVuZ3RoO1xyXG4gICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSBpKSB7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdnggPSBhcnJQb3NpdGlvblhbaV07XHJcbiAgICAgICAgdnkgPSBhcnJQb3NpdGlvbllbaV07XHJcbiAgICAgICAgLy8gU3RvcmUgb2xkIGVuZXJnaWVzXHJcbiAgICAgICAgcHJldkV4ID0gYXJyRVtpXVswXTtcclxuICAgICAgICBwcmV2RXkgPSBhcnJFW2ldWzFdO1xyXG4gICAgICAgIGRlbm9tID0gMS4wIC8gTWF0aC5zcXJ0KCh1eCAtIHZ4KSAqICh1eCAtIHZ4KSArICh1eSAtIHZ5KSAqICh1eSAtIHZ5KSk7XHJcbiAgICAgICAgZHggPSBhcnJLW2ldICogKCh1eCAtIHZ4KSAtIGFyckxbaV0gKiAodXggLSB2eCkgKiBkZW5vbSk7XHJcbiAgICAgICAgZHkgPSBhcnJLW2ldICogKCh1eSAtIHZ5KSAtIGFyckxbaV0gKiAodXkgLSB2eSkgKiBkZW5vbSk7XHJcblxyXG4gICAgICAgIGFyckVbaV0gPSBbZHgsIGR5XTtcclxuICAgICAgICBkRVggKz0gZHg7XHJcbiAgICAgICAgZEVZICs9IGR5O1xyXG4gICAgICAgIGFyckVuZXJneVN1bVhbaV0gKz0gZHggLSBwcmV2RXg7XHJcbiAgICAgICAgYXJyRW5lcmd5U3VtWVtpXSArPSBkeSAtIHByZXZFeTtcclxuICAgICAgfVxyXG4gICAgICBhcnJFbmVyZ3lTdW1YW2luZGV4XSA9IGRFWDtcclxuICAgICAgYXJyRW5lcmd5U3VtWVtpbmRleF0gPSBkRVk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0dGluZyB1cCB2YXJpYWJsZXMgZm9yIHRoZSB3aGlsZSBsb29wc1xyXG4gICAgbGV0IG1heEVuZXJneUlkID0gMDtcclxuICAgIGxldCBkRVggPSAwLjA7XHJcbiAgICBsZXQgZEVZID0gMC4wO1xyXG4gICAgbGV0IGRlbHRhID0gMC4wO1xyXG4gICAgbGV0IGl0ZXJhdGlvbiA9IDA7XHJcbiAgICBsZXQgaW5uZXJJdGVyYXRpb24gPSAwO1xyXG5cclxuICAgIHdoaWxlIChtYXhFbmVyZ3kgPiB0aHJlc2hvbGQgJiYgbWF4SXRlcmF0aW9uID4gaXRlcmF0aW9uKSB7XHJcbiAgICAgIGl0ZXJhdGlvbisrO1xyXG4gICAgICBbbWF4RW5lcmd5SWQsIG1heEVuZXJneSwgZEVYLCBkRVldID0gaGlnaGVzdEVuZXJneSgpO1xyXG4gICAgICBkZWx0YSA9IG1heEVuZXJneTtcclxuICAgICAgaW5uZXJJdGVyYXRpb24gPSAwO1xyXG4gICAgICB3aGlsZSAoZGVsdGEgPiBpbm5lclRocmVzaG9sZCAmJiBtYXhJbm5lckl0ZXJhdGlvbiA+IGlubmVySXRlcmF0aW9uKSB7XHJcbiAgICAgICAgaW5uZXJJdGVyYXRpb24rKztcclxuICAgICAgICB1cGRhdGUobWF4RW5lcmd5SWQsIGRFWCwgZEVZKTtcclxuICAgICAgICBbZGVsdGEsIGRFWCwgZEVZXSA9IGVuZXJneShtYXhFbmVyZ3lJZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpID0gbGVuZ3RoO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICBsZXQgaW5kZXggPSB2ZXJ0ZXhJZHNbaV07XHJcbiAgICAgIGxldCB2ZXJ0ZXggPSB0aGlzLnZlcnRpY2VzW2luZGV4XTtcclxuICAgICAgdmVydGV4LnBvc2l0aW9uLnggPSBhcnJQb3NpdGlvblhbaV07XHJcbiAgICAgIHZlcnRleC5wb3NpdGlvbi55ID0gYXJyUG9zaXRpb25ZW2ldO1xyXG4gICAgICB2ZXJ0ZXgucG9zaXRpb25lZCA9IHRydWU7XHJcbiAgICAgIHZlcnRleC5mb3JjZVBvc2l0aW9uZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUFJJVkFURSBGVU5DVElPTiB1c2VkIGJ5IGdldEJyaWRnZXMoKS5cclxuICAgKi9cclxuICBfYnJpZGdlRGZzKHUsIHZpc2l0ZWQsIGRpc2MsIGxvdywgcGFyZW50LCBhZGosIG91dEJyaWRnZXMpIHtcclxuICAgIHZpc2l0ZWRbdV0gPSB0cnVlO1xyXG4gICAgZGlzY1t1XSA9IGxvd1t1XSA9ICsrdGhpcy5fdGltZTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkalt1XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgdiA9IGFkalt1XVtpXTtcclxuXHJcbiAgICAgIGlmICghdmlzaXRlZFt2XSkge1xyXG4gICAgICAgIHBhcmVudFt2XSA9IHU7XHJcblxyXG4gICAgICAgIHRoaXMuX2JyaWRnZURmcyh2LCB2aXNpdGVkLCBkaXNjLCBsb3csIHBhcmVudCwgYWRqLCBvdXRCcmlkZ2VzKTtcclxuXHJcbiAgICAgICAgbG93W3VdID0gTWF0aC5taW4obG93W3VdLCBsb3dbdl0pO1xyXG5cclxuICAgICAgICAvLyBJZiBsb3cgPiBkaXNjLCB3ZSBoYXZlIGEgYnJpZGdlXHJcbiAgICAgICAgaWYgKGxvd1t2XSA+IGRpc2NbdV0pIHtcclxuICAgICAgICAgIG91dEJyaWRnZXMucHVzaChbdSwgdl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh2ICE9PSBwYXJlbnRbdV0pIHtcclxuICAgICAgICBsb3dbdV0gPSBNYXRoLm1pbihsb3dbdV0sIGRpc2Nbdl0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBjb25uZWN0ZWQgY29tcG9uZW50cyBvZiB0aGUgZ3JhcGguXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgKiBAcmV0dXJucyB7U2V0W119IENvbm5lY3RlZCBjb21wb25lbnRzIGFzIHNldHMuXHJcbiAgICovXHJcbiAgc3RhdGljIGdldENvbm5lY3RlZENvbXBvbmVudHMoYWRqYWNlbmN5TWF0cml4KSB7XHJcbiAgICBsZXQgbGVuZ3RoID0gYWRqYWNlbmN5TWF0cml4Lmxlbmd0aDtcclxuICAgIGxldCB2aXNpdGVkID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgY29tcG9uZW50cyA9IG5ldyBBcnJheSgpO1xyXG4gICAgbGV0IGNvdW50ID0gMDtcclxuXHJcbiAgICB2aXNpdGVkLmZpbGwoZmFsc2UpO1xyXG5cclxuICAgIGZvciAodmFyIHUgPSAwOyB1IDwgbGVuZ3RoOyB1KyspIHtcclxuICAgICAgaWYgKCF2aXNpdGVkW3VdKSB7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudCA9IEFycmF5KCk7XHJcbiAgICAgICAgdmlzaXRlZFt1XSA9IHRydWU7XHJcbiAgICAgICAgY29tcG9uZW50LnB1c2godSk7XHJcbiAgICAgICAgY291bnQrKztcclxuICAgICAgICBHcmFwaC5fY2NHZXREZnModSwgdmlzaXRlZCwgYWRqYWNlbmN5TWF0cml4LCBjb21wb25lbnQpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY29ubmVjdGVkIGNvbXBvbmVudHMgZm9yIHRoZSBncmFwaC4gXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNvbm5lY3RlZCBjb21wb25lbnRzIG9mIHRoZSBzdXBwbGllZCBncmFwaC5cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0Q29ubmVjdGVkQ29tcG9uZW50Q291bnQoYWRqYWNlbmN5TWF0cml4KSB7XHJcbiAgICBsZXQgbGVuZ3RoID0gYWRqYWNlbmN5TWF0cml4Lmxlbmd0aDtcclxuICAgIGxldCB2aXNpdGVkID0gbmV3IEFycmF5KGxlbmd0aCk7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgIHZpc2l0ZWQuZmlsbChmYWxzZSk7XHJcblxyXG4gICAgZm9yICh2YXIgdSA9IDA7IHUgPCBsZW5ndGg7IHUrKykge1xyXG4gICAgICBpZiAoIXZpc2l0ZWRbdV0pIHtcclxuICAgICAgICB2aXNpdGVkW3VdID0gdHJ1ZTtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIEdyYXBoLl9jY0NvdW50RGZzKHUsIHZpc2l0ZWQsIGFkamFjZW5jeU1hdHJpeCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY291bnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQUklWQVRFIEZVTkNUSU9OIHVzZWQgYnkgZ2V0Q29ubmVjdGVkQ29tcG9uZW50Q291bnQoKS5cclxuICAgKi9cclxuICBzdGF0aWMgX2NjQ291bnREZnModSwgdmlzaXRlZCwgYWRqYWNlbmN5TWF0cml4KSB7XHJcbiAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGFkamFjZW5jeU1hdHJpeFt1XS5sZW5ndGg7IHYrKykge1xyXG4gICAgICBsZXQgYyA9IGFkamFjZW5jeU1hdHJpeFt1XVt2XTtcclxuXHJcbiAgICAgIGlmICghYyB8fCB2aXNpdGVkW3ZdIHx8IHUgPT09IHYpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmlzaXRlZFt2XSA9IHRydWU7XHJcbiAgICAgIEdyYXBoLl9jY0NvdW50RGZzKHYsIHZpc2l0ZWQsIGFkamFjZW5jeU1hdHJpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQUklWQVRFIEZVTkNUSU9OIHVzZWQgYnkgZ2V0Q29ubmVjdGVkQ29tcG9uZW50cygpLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBfY2NHZXREZnModSwgdmlzaXRlZCwgYWRqYWNlbmN5TWF0cml4LCBjb21wb25lbnQpIHtcclxuICAgIGZvciAodmFyIHYgPSAwOyB2IDwgYWRqYWNlbmN5TWF0cml4W3VdLmxlbmd0aDsgdisrKSB7XHJcbiAgICAgIGxldCBjID0gYWRqYWNlbmN5TWF0cml4W3VdW3ZdO1xyXG5cclxuICAgICAgaWYgKCFjIHx8IHZpc2l0ZWRbdl0gfHwgdSA9PT0gdikge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2aXNpdGVkW3ZdID0gdHJ1ZTtcclxuICAgICAgY29tcG9uZW50LnB1c2godik7XHJcbiAgICAgIEdyYXBoLl9jY0dldERmcyh2LCB2aXNpdGVkLCBhZGphY2VuY3lNYXRyaXgsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEdyYXBoIiwiLy9AdHMtY2hlY2tcclxuY29uc3QgVmVjdG9yMiA9IHJlcXVpcmUoJy4vVmVjdG9yMicpXHJcblxyXG4vKiogXHJcbiAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGEgbGluZS5cclxuICogXHJcbiAqIEBwcm9wZXJ0eSB7VmVjdG9yMn0gZnJvbSBUaGUgVmVjdG9yMiBkZWZpbmluZyB0aGUgc3RhcnQgb2YgdGhlIGxpbmUuXHJcbiAqIEBwcm9wZXJ0eSB7VmVjdG9yMn0gdG8gVGhlIFZlY3RvcjIgZGVmaW5pbmcgdGhlIGVuZCBvZiB0aGUgbGluZS5cclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGVsZW1lbnRGcm9tIFRoZSBlbGVtZW50IHN5bWJvbCBhc3NvY2lhdGVkIHdpdGggdGhlIHN0YXJ0IG9mIHRoZSBsaW5lLlxyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZWxlbWVudFRvIFRoZSBlbGVtZW50IHN5bWJvbCBhc3NvY2lhdGVkIHdpdGggdGhlIGVuZCBvZiB0aGUgbGluZS5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBjaGlyYWxGcm9tIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBzb3VyY2UgYXRvbSBpcyBhIGNoaXJhbCBjZW50ZXIuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gY2hpcmFsVG8gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciB0bm8gdGhlIHRhcmdldCBhdG9tIGlzIGEgY2hpcmFsIGNlbnRlci5cclxuICovXHJcbmNsYXNzIExpbmUge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY29uc3RydWN0b3IgZm9yIHRoZSBjbGFzcyBMaW5lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gW2Zyb209bmV3IFZlY3RvcjIoMCwgMCldIEEgdmVjdG9yIG1hcmtpbmcgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZS5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gW3RvPW5ldyBWZWN0b3IyKDAsIDApXSBBIHZlY3RvciBtYXJraW5nIHRoZSBlbmQgb2YgdGhlIGxpbmUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2VsZW1lbnRGcm9tPW51bGxdIEEgb25lLWxldHRlciByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHZlY3RvciBtYXJraW5nIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2VsZW1lbnRUbz1udWxsXSBBIG9uZS1sZXR0ZXIgcmVwcmVzZW50YXRpb24gb2YgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSB2ZWN0b3IgbWFya2luZyB0aGUgZW5kIG9mIHRoZSBsaW5lLlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2hpcmFsRnJvbT1mYWxzZV0gV2hldGhlciBvciBub3QgdGhlIGZyb20gYXRvbSBpcyBhIGNoaXJhbCBjZW50ZXIuXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjaGlyYWxUbz1mYWxzZV0gV2hldGhlciBvciBub3QgdGhlIHRvIGF0b20gaXMgYSBjaGlyYWwgY2VudGVyLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3Rvcihmcm9tID0gbmV3IFZlY3RvcjIoMCwwKSwgdG8gPSBuZXcgVmVjdG9yMigwLCAwKSwgZWxlbWVudEZyb20gPSBudWxsLCBlbGVtZW50VG8gPSBudWxsLCBjaGlyYWxGcm9tID0gZmFsc2UsIGNoaXJhbFRvID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xyXG4gICAgICAgIHRoaXMudG8gPSB0bztcclxuICAgICAgICB0aGlzLmVsZW1lbnRGcm9tID0gZWxlbWVudEZyb207XHJcbiAgICAgICAgdGhpcy5lbGVtZW50VG8gPSBlbGVtZW50VG87XHJcbiAgICAgICAgdGhpcy5jaGlyYWxGcm9tID0gY2hpcmFsRnJvbTtcclxuICAgICAgICB0aGlzLmNoaXJhbFRvID0gY2hpcmFsVG87XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbG9uZXMgdGhpcyBsaW5lIGFuZCByZXR1cm5zIHRoZSBjbG9uZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7TGluZX0gQSBjbG9uZSBvZiB0aGlzIGxpbmUuXHJcbiAgICAgKi9cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTGluZSh0aGlzLmZyb20uY2xvbmUoKSwgdGhpcy50by5jbG9uZSgpLCB0aGlzLmVsZW1lbnRGcm9tLCB0aGlzLmVsZW1lbnRUbyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsZW5ndGggb2YgdGhpcyBsaW5lLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBsZW5ndGggb2YgdGhpcyBsaW5lLlxyXG4gICAgICovXHJcbiAgICBnZXRMZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLnRvLnggLSB0aGlzLmZyb20ueCwgMikgKyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucG93KHRoaXMudG8ueSAtIHRoaXMuZnJvbS55LCAyKSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgb2YgdGhlIGxpbmUgaW4gcmVsYXRpb24gdG8gdGhlIGNvb3JkaW5hdGUgc3lzdGVtICh0aGUgeC1heGlzKS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cclxuICAgICAqL1xyXG4gICAgZ2V0QW5nbGUoKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSBsaW5lIGFuZCB0aGUgeC1heGlzXHJcbiAgICAgICAgbGV0IGRpZmYgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMuZ2V0UmlnaHRWZWN0b3IoKSwgdGhpcy5nZXRMZWZ0VmVjdG9yKCkpO1xyXG4gICAgICAgIHJldHVybiBkaWZmLmFuZ2xlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSByaWdodCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgbGFyZ2VyIHggdmFsdWUpLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBUaGUgcmlnaHQgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBnZXRSaWdodFZlY3RvcigpIHtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIHZlY3RvciB3aXRoIHRoZSBsYXJnZXIgeCB2YWx1ZSAodGhlIHJpZ2h0IG9uZSlcclxuICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG87XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGVmdCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgc21hbGxlciB4IHZhbHVlKS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7VmVjdG9yMn0gVGhlIGxlZnQgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBnZXRMZWZ0VmVjdG9yKCkge1xyXG4gICAgICAgIC8vIFJldHVybiB0aGUgdmVjdG9yIHdpdGggdGhlIHNtYWxsZXIgeCB2YWx1ZSAodGhlIGxlZnQgb25lKVxyXG4gICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSByaWdodCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgbGFyZ2VyIHggdmFsdWUpLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgcmlnaHQgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBnZXRSaWdodEVsZW1lbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZnJvbS54IDwgdGhpcy50by54KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRUbztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50RnJvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgbGVmdCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgc21hbGxlciB4IHZhbHVlKS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGxlZnQgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBnZXRMZWZ0RWxlbWVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudEZyb207XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFRvO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGF0b20gYXNzb2NpYXRlZCB3aXRoIHRoZSByaWdodCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgbGFyZ2VyIHggdmFsdWUpIGlzIGEgY2hpcmFsIGNlbnRlci5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGF0b20gYXNzb2NpYXRlZCB3aXRoIHRoZSByaWdodCB2ZWN0b3IgaXMgYSBjaGlyYWwgY2VudGVyLlxyXG4gICAgICovXHJcbiAgICBnZXRSaWdodENoaXJhbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpcmFsVG87XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpcmFsRnJvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBhdG9tIGFzc29jaWF0ZWQgd2l0aCB0aGUgbGVmdCB2ZWN0b3IgKHRoZSB2ZWN0b3Igd2l0aCB0aGUgc21hbGxlciB4IHZhbHVlKSBpcyBhIGNoaXJhbCBjZW50ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBhdG9tICBhc3NvY2lhdGVkIHdpdGggdGhlIGxlZnQgdmVjdG9yIGlzIGEgY2hpcmFsIGNlbnRlci5cclxuICAgICAqL1xyXG4gICAgZ2V0TGVmdENoaXJhbCgpIHtcclxuICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpcmFsRnJvbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlyYWxUbztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSByaWdodCB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSB2YWx1ZS5cclxuICAgICAqIEByZXR1cm5zIHtMaW5lfSBUaGlzIGxpbmUuXHJcbiAgICAgKi9cclxuICAgIHNldFJpZ2h0VmVjdG9yKHgsIHkpIHtcclxuICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgICAgICAgdGhpcy50by54ID0geDtcclxuICAgICAgICAgICAgdGhpcy50by55ID0geTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZyb20ueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvbS55ID0geTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgbGVmdCB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSB2YWx1ZS5cclxuICAgICAqIEByZXR1cm5zIHtMaW5lfSBUaGlzIGxpbmUuXHJcbiAgICAgKi9cclxuICAgIHNldExlZnRWZWN0b3IoeCwgeSkge1xyXG4gICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkge1xyXG4gICAgICAgICAgICB0aGlzLmZyb20ueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuZnJvbS55ID0geTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRvLnggPSB4O1xyXG4gICAgICAgICAgICB0aGlzLnRvLnkgPSB5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGVzIHRoaXMgbGluZSB0byBiZSBhbGlnbmVkIHdpdGggdGhlIHgtYXhpcy4gVGhlIGNlbnRlciBvZiByb3RhdGlvbiBpcyB0aGUgbGVmdCB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlVG9YQXhpcygpIHtcclxuICAgICAgICBsZXQgbGVmdCA9IHRoaXMuZ2V0TGVmdFZlY3RvcigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2V0UmlnaHRWZWN0b3IobGVmdC54ICsgdGhpcy5nZXRMZW5ndGgoKSwgbGVmdC55KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSB0aGUgbGluZSBieSBhIGdpdmVuIHZhbHVlIChpbiByYWRpYW5zKS4gVGhlIGNlbnRlciBvZiByb3RhdGlvbiBpcyB0aGUgbGVmdCB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRoZXRhIFRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlIHRoZSBsaW5lLlxyXG4gICAgICogQHJldHVybnMge0xpbmV9IFRoaXMgbGluZS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlKHRoZXRhKSB7XHJcbiAgICAgICAgbGV0IGwgPSB0aGlzLmdldExlZnRWZWN0b3IoKTtcclxuICAgICAgICBsZXQgciA9IHRoaXMuZ2V0UmlnaHRWZWN0b3IoKTtcclxuICAgICAgICBsZXQgc2luVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XHJcbiAgICAgICAgbGV0IGNvc1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xyXG5cclxuICAgICAgICBsZXQgeCA9IGNvc1RoZXRhICogKHIueCAtIGwueCkgLSBzaW5UaGV0YSAqIChyLnkgLSBsLnkpICsgbC54O1xyXG4gICAgICAgIGxldCB5ID0gc2luVGhldGEgKiAoci54IC0gbC54KSAtIGNvc1RoZXRhICogKHIueSAtIGwueSkgKyBsLnk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZXRSaWdodFZlY3Rvcih4LCB5KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaG9ydGVucyB0aGlzIGxpbmUgZnJvbSB0aGUgXCJmcm9tXCIgZGlyZWN0aW9uIGJ5IGEgZ2l2ZW4gdmFsdWUgKGluIHBpeGVscykuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJ5IFRoZSBsZW5ndGggaW4gcGl4ZWxzIHRvIHNob3J0ZW4gdGhlIHZlY3RvciBieS5cclxuICAgICAqIEByZXR1cm5zIHtMaW5lfSBUaGlzIGxpbmUuXHJcbiAgICAgKi9cclxuICAgIHNob3J0ZW5Gcm9tKGJ5KSB7XHJcbiAgICAgICAgbGV0IGYgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMudG8sIHRoaXMuZnJvbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZi5ub3JtYWxpemUoKTtcclxuICAgICAgICBmLm11bHRpcGx5U2NhbGFyKGJ5KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmZyb20uYWRkKGYpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3J0ZW5zIHRoaXMgbGluZSBmcm9tIHRoZSBcInRvXCIgZGlyZWN0aW9uIGJ5IGEgZ2l2ZW4gdmFsdWUgKGluIHBpeGVscykuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJ5IFRoZSBsZW5ndGggaW4gcGl4ZWxzIHRvIHNob3J0ZW4gdGhlIHZlY3RvciBieS5cclxuICAgICAqIEByZXR1cm5zIHtMaW5lfSBUaGlzIGxpbmUuXHJcbiAgICAgKi9cclxuICAgIHNob3J0ZW5UbyhieSkge1xyXG4gICAgICAgIGxldCBmID0gVmVjdG9yMi5zdWJ0cmFjdCh0aGlzLmZyb20sIHRoaXMudG8pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGYubm9ybWFsaXplKCk7XHJcbiAgICAgICAgZi5tdWx0aXBseVNjYWxhcihieSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy50by5hZGQoZik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2hvcnRlbiB0aGUgcmlnaHQgc2lkZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYnkgVGhlIGxlbmd0aCBpbiBwaXhlbHMgdG8gc2hvcnRlbiB0aGUgdmVjdG9yIGJ5LlxyXG4gICAgICogQHJldHVybnMge0xpbmV9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICBzaG9ydGVuUmlnaHQoYnkpIHtcclxuICAgICAgICBpZiAodGhpcy5mcm9tLnggPCB0aGlzLnRvLngpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG9ydGVuVG8oYnkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvcnRlbkZyb20oYnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogU2hvcnRlbiB0aGUgbGVmdCBzaWRlLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYnkgVGhlIGxlbmd0aCBpbiBwaXhlbHMgdG8gc2hvcnRlbiB0aGUgdmVjdG9yIGJ5LlxyXG4gICAgICogQHJldHVybnMge0xpbmV9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICBzaG9ydGVuTGVmdChieSkge1xyXG4gICAgICAgIGlmICh0aGlzLmZyb20ueCA8IHRoaXMudG8ueCkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3J0ZW5Gcm9tKGJ5KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNob3J0ZW5UbyhieSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNob3J0ZW5zIHRoaXMgbGluZSBmcm9tIGJvdGggZGlyZWN0aW9ucyBieSBhIGdpdmVuIHZhbHVlIChpbiBwaXhlbHMpLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBieSBUaGUgbGVuZ3RoIGluIHBpeGVscyB0byBzaG9ydGVuIHRoZSB2ZWN0b3IgYnkuXHJcbiAgICAgKiBAcmV0dXJucyB7TGluZX0gVGhpcyBsaW5lLlxyXG4gICAgICovXHJcbiAgICBzaG9ydGVuKGJ5KSB7XHJcbiAgICAgICAgbGV0IGYgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMuZnJvbSwgdGhpcy50byk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZi5ub3JtYWxpemUoKTtcclxuICAgICAgICBmLm11bHRpcGx5U2NhbGFyKGJ5IC8gMi4wKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnRvLmFkZChmKTtcclxuICAgICAgICB0aGlzLmZyb20uc3VidHJhY3QoZik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IExpbmU7IiwiLyoqIFxyXG4gKiBBIHN0YXRpYyBjbGFzcyBjb250YWluaW5nIGhlbHBlciBmdW5jdGlvbnMgZm9yIG1hdGgtcmVsYXRlZCB0YXNrcy4gXHJcbiAqL1xyXG5jbGFzcyBNYXRoSGVscGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogUm91bmRzIGEgdmFsdWUgdG8gYSBnaXZlbiBudW1iZXIgb2YgZGVjaW1hbHMuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIEEgbnVtYmVyLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlY2ltYWxzIFRoZSBudW1iZXIgb2YgZGVjaW1hbHMuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBBIG51bWJlciByb3VuZGVkIHRvIGEgZ2l2ZW4gbnVtYmVyIG9mIGRlY2ltYWxzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcm91bmQodmFsdWUsIGRlY2ltYWxzKSB7XHJcbiAgICAgICAgZGVjaW1hbHMgPSBkZWNpbWFscyA/IGRlY2ltYWxzIDogMTtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKE1hdGgucm91bmQodmFsdWUgKyAnZScgKyBkZWNpbWFscykgKyAnZS0nICsgZGVjaW1hbHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbWVhbnMgb2YgdGhlIGFuZ2xlcyBjb250YWluZWQgaW4gYW4gYXJyYXkuIEluIHJhZGlhbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJbXX0gYXJyIEFuIGFycmF5IGNvbnRhaW5pbmcgYW5nbGVzIChpbiByYWRpYW5zKS5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBtZWFuIGFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBtZWFuQW5nbGUoYXJyKSB7XHJcbiAgICAgICAgbGV0IHNpbiA9IDAuMDtcclxuICAgICAgICBsZXQgY29zID0gMC4wO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNpbiArPSBNYXRoLnNpbihhcnJbaV0pO1xyXG4gICAgICAgICAgICBjb3MgKz0gTWF0aC5jb3MoYXJyW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHNpbiAvIGFyci5sZW5ndGgsIGNvcyAvIGFyci5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgaW5uZXIgYW5nbGUgb2YgYSBuLXNpZGVkIHJlZ3VsYXIgcG9seWdvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiBOdW1iZXIgb2Ygc2lkZXMgb2YgYSByZWd1bGFyIHBvbHlnb24uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgaW5uZXIgYW5nbGUgb2YgYSBnaXZlbiByZWd1bGFyIHBvbHlnb24uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpbm5lckFuZ2xlKG4pIHtcclxuICAgICAgICByZXR1cm4gTWF0aEhlbHBlci50b1JhZCgobiAtIDIpICogMTgwIC8gbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjaXJjdW1yYWRpdXMgb2YgYSBuLXNpZGVkIHJlZ3VsYXIgcG9seWdvbiB3aXRoIGEgZ2l2ZW4gc2lkZS1sZW5ndGguXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHMgVGhlIHNpZGUgbGVuZ3RoIG9mIHRoZSByZWd1bGFyIHBvbHlnb24uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHNpZGVzLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGNpcmN1bXJhZGl1cyBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcG9seUNpcmN1bXJhZGl1cyhzLCBuKSB7XHJcbiAgICAgICAgcmV0dXJuIHMgLyAoMiAqIE1hdGguc2luKE1hdGguUEkgLyBuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBhcG90aGVtIG9mIGEgcmVndWxhciBuLXNpZGVkIHBvbHlnb24gYmFzZWQgb24gaXRzIHJhZGl1cy5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gciBUaGUgcmFkaXVzLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlZGdlcyBvZiB0aGUgcmVndWxhciBwb2x5Z29uLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGFwb3RoZW0gb2YgYSBuLXNpZGVkIHBvbHlnb24gYmFzZWQgb24gaXRzIHJhZGl1cy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFwb3RoZW0ociwgbikge1xyXG4gICAgICAgIHJldHVybiByICogTWF0aC5jb3MoTWF0aC5QSSAvIG4pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhcG90aGVtRnJvbVNpZGVMZW5ndGgocywgbikge1xyXG4gICAgICAgIGxldCByID0gTWF0aEhlbHBlci5wb2x5Q2lyY3VtcmFkaXVzKHMsIG4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBNYXRoSGVscGVyLmFwb3RoZW0ociwgbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY2VudHJhbCBhbmdsZSBvZiBhIG4tc2lkZWQgcmVndWxhciBwb2x5Z29uLiBJbiByYWRpYW5zLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBuIFRoZSBudW1iZXIgb2Ygc2lkZXMgb2YgdGhlIHJlZ3VsYXIgcG9seWdvbi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBjZW50cmFsIGFuZ2xlIG9mIHRoZSBuLXNpZGVkIHBvbHlnb24gaW4gcmFkaWFucy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNlbnRyYWxBbmdsZShuKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGhIZWxwZXIudG9SYWQoMzYwIC8gbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0ZXMgcmFkaWFucyB0byBkZWdyZWVzLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWQgQW4gYW5nbGUgaW4gcmFkaWFucy5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiBkZWdyZWVzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdG9EZWcocmFkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhZCAqIE1hdGhIZWxwZXIuZGVnRmFjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgZGVncmVlcyB0byByYWRpYW5zLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWcgQW4gYW5nbGUgaW4gZGVncmVlcy5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdG9SYWQoZGVnKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZyAqIE1hdGhIZWxwZXIucmFkRmFjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgcGFyaXR5IG9mIHRoZSBwZXJtdXRhdGlvbiAoMSBvciAtMSlcclxuICAgICAqIEBwYXJhbSB7KEFycmF5fFVpbnQ4QXJyYXkpfSBhcnIgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgcGVybXV0YXRpb24uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgcGFyaXR5IG9mIHRoZSBwZXJtdXRhdGlvbiAoMSBvciAtMSksIHdoZXJlIDEgbWVhbnMgZXZlbiBhbmQgLTEgbWVhbnMgb2RkLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcGFyaXR5T2ZQZXJtdXRhdGlvbihhcnIpIHtcclxuICAgICAgICBsZXQgdmlzaXRlZCA9IG5ldyBVaW50OEFycmF5KGFyci5sZW5ndGgpO1xyXG4gICAgICAgIGxldCBldmVuTGVuZ3RoQ3ljbGVDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGxldCB0cmF2ZXJzZUN5Y2xlID0gZnVuY3Rpb24oaSwgY3ljbGVMZW5ndGggPSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh2aXNpdGVkW2ldID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3ljbGVMZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN5Y2xlTGVuZ3RoKys7XHJcblxyXG4gICAgICAgICAgICB2aXNpdGVkW2ldID0gMTtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYXZlcnNlQ3ljbGUoYXJyW2ldLCBjeWNsZUxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodmlzaXRlZFtpXSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjeWNsZUxlbmd0aCA9IHRyYXZlcnNlQ3ljbGUoaSk7XHJcbiAgICAgICAgICAgIGV2ZW5MZW5ndGhDeWNsZUNvdW50ICs9ICgxIC0gY3ljbGVMZW5ndGggJSAyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVuTGVuZ3RoQ3ljbGVDb3VudCAlIDIgPyAtMSA6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFRoZSBmYWN0b3IgdG8gY29udmVydCBkZWdyZWVzIHRvIHJhZGlhbnMuICovXHJcbiAgICBzdGF0aWMgZ2V0IHJhZEZhY3RvcigpIHtcclxuICAgICAgcmV0dXJuIE1hdGguUEkgLyAxODAuMDtcclxuICAgIH1cclxuXHJcbiAgICAvKiogVGhlIGZhY3RvciB0byBjb252ZXJ0IHJhZGlhbnMgdG8gZGVncmVlcy4gKi9cclxuICAgIHN0YXRpYyBnZXQgZGVnRmFjdG9yKCkge1xyXG4gICAgICByZXR1cm4gMTgwLjAgLyBNYXRoLlBJO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBUd28gdGltZXMgUEkuICovXHJcbiAgICBzdGF0aWMgZ2V0IHR3b1BJKCkge1xyXG4gICAgICByZXR1cm4gMi4wICogTWF0aC5QSTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBNYXRoSGVscGVyOyIsIi8vQHRzLWNoZWNrXG5cbmNsYXNzIE9wdGlvbnMge1xuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIG1ldGhvZCB0byBleHRlbmQgdGhlIGRlZmF1bHQgb3B0aW9ucyB3aXRoIHVzZXIgc3VwcGxpZWQgb25lcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0ZW5kKCkge1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgIGxldCBleHRlbmRlZCA9IHt9O1xuICAgICAgICBsZXQgZGVlcCA9IGZhbHNlO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzWzBdKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nKSB7XG4gICAgICAgICAgICBkZWVwID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lcmdlID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZXAgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialtwcm9wXSkgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmRlZFtwcm9wXSA9IHRoYXQuZXh0ZW5kKHRydWUsIGV4dGVuZGVkW3Byb3BdLCBvYmpbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG9iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIG1lcmdlKG9iaik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXh0ZW5kZWQ7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9wdGlvbnM7IiwiLy8gV0hFTiBSRVBMQUNJTkcsIENIRUNLIEZPUjpcbi8vIEtFRVAgVEhJUyBXSEVOIFJFR0VORVJBVElORyBUSEUgUEFSU0VSICEhXG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLypcbiAgICogR2VuZXJhdGVkIGJ5IFBFRy5qcyAwLjEwLjAuXG4gICAqXG4gICAqIGh0dHA6Ly9wZWdqcy5vcmcvXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHBlZyRzdWJjbGFzcyhjaGlsZCwgcGFyZW50KSB7XG4gICAgZnVuY3Rpb24gY3RvcigpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDtcbiAgICB9XG4gICAgY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICAgIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckU3ludGF4RXJyb3IobWVzc2FnZSwgZXhwZWN0ZWQsIGZvdW5kLCBsb2NhdGlvbikge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5leHBlY3RlZCA9IGV4cGVjdGVkO1xuICAgIHRoaXMuZm91bmQgPSBmb3VuZDtcbiAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgdGhpcy5uYW1lID0gXCJTeW50YXhFcnJvclwiO1xuXG4gICAgaWYgKHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBwZWckU3ludGF4RXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHBlZyRzdWJjbGFzcyhwZWckU3ludGF4RXJyb3IsIEVycm9yKTtcblxuICBwZWckU3ludGF4RXJyb3IuYnVpbGRNZXNzYWdlID0gZnVuY3Rpb24gKGV4cGVjdGVkLCBmb3VuZCkge1xuICAgIHZhciBERVNDUklCRV9FWFBFQ1RBVElPTl9GTlMgPSB7XG4gICAgICBsaXRlcmFsOiBmdW5jdGlvbiAoZXhwZWN0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShleHBlY3RhdGlvbi50ZXh0KSArIFwiXFxcIlwiO1xuICAgICAgfSxcblxuICAgICAgXCJjbGFzc1wiOiBmdW5jdGlvbiAoZXhwZWN0YXRpb24pIHtcbiAgICAgICAgdmFyIGVzY2FwZWRQYXJ0cyA9IFwiXCIsXG4gICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0YXRpb24ucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBlc2NhcGVkUGFydHMgKz0gZXhwZWN0YXRpb24ucGFydHNbaV0gaW5zdGFuY2VvZiBBcnJheSA/XG4gICAgICAgICAgICBjbGFzc0VzY2FwZShleHBlY3RhdGlvbi5wYXJ0c1tpXVswXSkgKyBcIi1cIiArIGNsYXNzRXNjYXBlKGV4cGVjdGF0aW9uLnBhcnRzW2ldWzFdKSA6XG4gICAgICAgICAgICBjbGFzc0VzY2FwZShleHBlY3RhdGlvbi5wYXJ0c1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCJbXCIgKyAoZXhwZWN0YXRpb24uaW52ZXJ0ZWQgPyBcIl5cIiA6IFwiXCIpICsgZXNjYXBlZFBhcnRzICsgXCJdXCI7XG4gICAgICB9LFxuXG4gICAgICBhbnk6IGZ1bmN0aW9uIChleHBlY3RhdGlvbikge1xuICAgICAgICByZXR1cm4gXCJhbnkgY2hhcmFjdGVyXCI7XG4gICAgICB9LFxuXG4gICAgICBlbmQ6IGZ1bmN0aW9uIChleHBlY3RhdGlvbikge1xuICAgICAgICByZXR1cm4gXCJlbmQgb2YgaW5wdXRcIjtcbiAgICAgIH0sXG5cbiAgICAgIG90aGVyOiBmdW5jdGlvbiAoZXhwZWN0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoZXgoY2gpIHtcbiAgICAgIHJldHVybiBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpdGVyYWxFc2NhcGUocykge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJylcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKVxuICAgICAgICAucmVwbGFjZSgvXFwwL2csICdcXFxcMCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0JylcbiAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgICAgICAucmVwbGFjZSgvXFxyL2csICdcXFxccicpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csIGZ1bmN0aW9uIChjaCkge1xuICAgICAgICAgIHJldHVybiAnXFxcXHgwJyArIGhleChjaCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgZnVuY3Rpb24gKGNoKSB7XG4gICAgICAgICAgcmV0dXJuICdcXFxceCcgKyBoZXgoY2gpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGFzc0VzY2FwZShzKSB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKVxuICAgICAgICAucmVwbGFjZSgvXFxdL2csICdcXFxcXScpXG4gICAgICAgIC5yZXBsYWNlKC9cXF4vZywgJ1xcXFxeJylcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgJ1xcXFwtJylcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCAnXFxcXDAnKVxuICAgICAgICAucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpXG4gICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKVxuICAgICAgICAucmVwbGFjZSgvW1xceDAwLVxceDBGXS9nLCBmdW5jdGlvbiAoY2gpIHtcbiAgICAgICAgICByZXR1cm4gJ1xcXFx4MCcgKyBoZXgoY2gpO1xuICAgICAgICB9KVxuICAgICAgICAucmVwbGFjZSgvW1xceDEwLVxceDFGXFx4N0YtXFx4OUZdL2csIGZ1bmN0aW9uIChjaCkge1xuICAgICAgICAgIHJldHVybiAnXFxcXHgnICsgaGV4KGNoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RhdGlvbikge1xuICAgICAgcmV0dXJuIERFU0NSSUJFX0VYUEVDVEFUSU9OX0ZOU1tleHBlY3RhdGlvbi50eXBlXShleHBlY3RhdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBlY3RlZChleHBlY3RlZCkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9ucyA9IG5ldyBBcnJheShleHBlY3RlZC5sZW5ndGgpLFxuICAgICAgICBpLCBqO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVzY3JpcHRpb25zW2ldID0gZGVzY3JpYmVFeHBlY3RhdGlvbihleHBlY3RlZFtpXSk7XG4gICAgICB9XG5cbiAgICAgIGRlc2NyaXB0aW9ucy5zb3J0KCk7XG5cbiAgICAgIGlmIChkZXNjcmlwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAxLCBqID0gMTsgaSA8IGRlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbnNbaSAtIDFdICE9PSBkZXNjcmlwdGlvbnNbaV0pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uc1tqXSA9IGRlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVzY3JpcHRpb25zLmxlbmd0aCA9IGo7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXSArIFwiIG9yIFwiICsgZGVzY3JpcHRpb25zWzFdO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpICtcbiAgICAgICAgICAgIFwiLCBvciBcIiArXG4gICAgICAgICAgICBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRm91bmQoZm91bmQpIHtcbiAgICAgIHJldHVybiBmb3VuZCA/IFwiXFxcIlwiICsgbGl0ZXJhbEVzY2FwZShmb3VuZCkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiRXhwZWN0ZWQgXCIgKyBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkKSArIFwiIGJ1dCBcIiArIGRlc2NyaWJlRm91bmQoZm91bmQpICsgXCIgZm91bmQuXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fTtcblxuICAgIC8vIEtFRVAgVEhJUyBXSEVOIFJFR0VORVJBVElORyBUSEUgUEFSU0VSICEhXG4gICAgdmFyIG5PcGVuUGFyZW50aGVzZXMgPSBpbnB1dC5zcGxpdCgnKCcpLmxlbmd0aCAtIDE7XG4gICAgdmFyIG5DbG9zZVBhcmVudGhlc2VzID0gaW5wdXQuc3BsaXQoJyknKS5sZW5ndGggLSAxO1xuXG4gICAgaWYgKG5PcGVuUGFyZW50aGVzZXMgIT09IG5DbG9zZVBhcmVudGhlc2VzKSB7XG4gICAgICB0aHJvdyBwZWckYnVpbGRTaW1wbGVFcnJvcignVGhlIG51bWJlciBvZiBvcGVuaW5nIHBhcmVudGhlc2VzIGRvZXMgbm90IG1hdGNoIHRoZSBudW1iZXIgb2YgY2xvc2luZyBwYXJlbnRoZXNlcy4nLCAwKTtcbiAgICB9XG4gICAgLy8gS0VFUCBUSElTIFdIRU4gUkVHRU5FUkFUSU5HIFRIRSBQQVJTRVIgISFcblxuICAgIHZhciBwZWckRkFJTEVEID0ge30sXG5cbiAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMgPSB7XG4gICAgICAgIGNoYWluOiBwZWckcGFyc2VjaGFpblxuICAgICAgfSxcbiAgICAgIHBlZyRzdGFydFJ1bGVGdW5jdGlvbiA9IHBlZyRwYXJzZWNoYWluLFxuXG4gICAgICBwZWckYzAgPSBmdW5jdGlvbiAocykge1xuICAgICAgICB2YXIgYnJhbmNoZXMgPSBbXTtcbiAgICAgICAgdmFyIHJpbmdzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzWzFdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYnJhbmNoZXMucHVzaChzWzFdW2ldKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzWzJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGJvbmQgPSAoc1syXVtpXVswXSkgPyBzWzJdW2ldWzBdIDogJy0nO1xuICAgICAgICAgIHJpbmdzLnB1c2goe1xuICAgICAgICAgICAgJ2JvbmQnOiBib25kLFxuICAgICAgICAgICAgJ2lkJzogc1syXVtpXVsxXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzWzNdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYnJhbmNoZXMucHVzaChzWzNdW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc1s2XS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGJyYW5jaGVzLnB1c2goc1s2XVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICdhdG9tJzogc1swXSxcbiAgICAgICAgICAnaXNCcmFja2V0Jzogc1swXS5lbGVtZW50ID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICdicmFuY2hlcyc6IGJyYW5jaGVzLFxuICAgICAgICAgICdicmFuY2hDb3VudCc6IGJyYW5jaGVzLmxlbmd0aCxcbiAgICAgICAgICAncmluZ2JvbmRzJzogcmluZ3MsXG4gICAgICAgICAgJ3Jpbmdib25kQ291bnQnOiByaW5ncy5sZW5ndGgsXG4gICAgICAgICAgJ2JvbmQnOiBzWzRdID8gc1s0XSA6ICctJyxcbiAgICAgICAgICAnbmV4dCc6IHNbNV0sXG4gICAgICAgICAgJ2hhc05leHQnOiBzWzVdID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwZWckYzEgPSBcIihcIixcbiAgICAgIHBlZyRjMiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIoXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMyA9IFwiKVwiLFxuICAgICAgcGVnJGM0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIilcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM1ID0gZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgdmFyIGJvbmQgPSAoYlsxXSkgPyBiWzFdIDogJy0nO1xuICAgICAgICBiWzJdLmJyYW5jaEJvbmQgPSBib25kO1xuICAgICAgICByZXR1cm4gYlsyXVxuICAgICAgfSxcbiAgICAgIHBlZyRjNiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfSxcbiAgICAgIHBlZyRjNyA9IC9eW1xcLT0jJDpcXC9cXFxcLl0vLFxuICAgICAgcGVnJGM4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiLVwiLCBcIj1cIiwgXCIjXCIsIFwiJFwiLCBcIjpcIiwgXCIvXCIsIFwiXFxcXFwiLCBcIi5cIl0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzkgPSBmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4gYjtcbiAgICAgIH0sXG4gICAgICBwZWckYzEwID0gXCJbXCIsXG4gICAgICBwZWckYzExID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIltcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMxMiA9IFwic2VcIixcbiAgICAgIHBlZyRjMTMgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwic2VcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMxNCA9IFwiYXNcIixcbiAgICAgIHBlZyRjMTUgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiYXNcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMxNiA9IFwiXVwiLFxuICAgICAgcGVnJGMxNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJdXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMTggPSBmdW5jdGlvbiAoYikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICdpc290b3BlJzogYlsxXSxcbiAgICAgICAgICAnZWxlbWVudCc6IGJbMl0sXG4gICAgICAgICAgJ2NoaXJhbGl0eSc6IGJbM10sXG4gICAgICAgICAgJ2hjb3VudCc6IGJbNF0sXG4gICAgICAgICAgJ2NoYXJnZSc6IGJbNV0sXG4gICAgICAgICAgJ2NsYXNzJzogYls2XVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGVnJGMxOSA9IFwiQlwiLFxuICAgICAgcGVnJGMyMCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJCXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMjEgPSBcInJcIixcbiAgICAgIHBlZyRjMjIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiclwiLCBmYWxzZSksXG4gICAgICBwZWckYzIzID0gXCJDXCIsXG4gICAgICBwZWckYzI0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkNcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMyNSA9IFwibFwiLFxuICAgICAgcGVnJGMyNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJsXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjMjcgPSAvXltOT1BTRkldLyxcbiAgICAgIHBlZyRjMjggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJOXCIsIFwiT1wiLCBcIlBcIiwgXCJTXCIsIFwiRlwiLCBcIklcIl0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzI5ID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgaWYgKG8ubGVuZ3RoID4gMSkgcmV0dXJuIG8uam9pbignJyk7XG4gICAgICAgIHJldHVybiBvO1xuICAgICAgfSxcbiAgICAgIHBlZyRjMzAgPSAvXltiY25vcHNdLyxcbiAgICAgIHBlZyRjMzEgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJiXCIsIFwiY1wiLCBcIm5cIiwgXCJvXCIsIFwicFwiLCBcInNcIl0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzMyID0gXCIqXCIsXG4gICAgICBwZWckYzMzID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIipcIiwgZmFsc2UpLFxuICAgICAgcGVnJGMzNCA9IGZ1bmN0aW9uICh3KSB7XG4gICAgICAgIHJldHVybiB3O1xuICAgICAgfSxcbiAgICAgIHBlZyRjMzUgPSAvXltBLVpdLyxcbiAgICAgIHBlZyRjMzYgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXG4gICAgICAgIFtcIkFcIiwgXCJaXCJdXG4gICAgICBdLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgcGVnJGMzNyA9IC9eW2Etel0vLFxuICAgICAgcGVnJGMzOCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcbiAgICAgICAgW1wiYVwiLCBcInpcIl1cbiAgICAgIF0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzM5ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuam9pbignJyk7XG4gICAgICB9LFxuICAgICAgcGVnJGM0MCA9IFwiJVwiLFxuICAgICAgcGVnJGM0MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIlXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNDIgPSAvXlsxLTldLyxcbiAgICAgIHBlZyRjNDMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXG4gICAgICAgIFtcIjFcIiwgXCI5XCJdXG4gICAgICBdLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgcGVnJGM0NCA9IC9eWzAtOV0vLFxuICAgICAgcGVnJGM0NSA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcbiAgICAgICAgW1wiMFwiLCBcIjlcIl1cbiAgICAgIF0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzQ2ID0gZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgaWYgKHIubGVuZ3RoID09IDEpIHJldHVybiBOdW1iZXIocik7XG4gICAgICAgIHJldHVybiBOdW1iZXIoci5qb2luKCcnKS5yZXBsYWNlKCclJywgJycpKTtcbiAgICAgIH0sXG4gICAgICBwZWckYzQ3ID0gXCJAXCIsXG4gICAgICBwZWckYzQ4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkBcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM0OSA9IFwiVEhcIixcbiAgICAgIHBlZyRjNTAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiVEhcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM1MSA9IC9eWzEyXS8sXG4gICAgICBwZWckYzUyID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1wiMVwiLCBcIjJcIl0sIGZhbHNlLCBmYWxzZSksXG4gICAgICBwZWckYzUzID0gXCJBTFwiLFxuICAgICAgcGVnJGM1NCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJBTFwiLCBmYWxzZSksXG4gICAgICBwZWckYzU1ID0gXCJTUFwiLFxuICAgICAgcGVnJGM1NiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJTUFwiLCBmYWxzZSksXG4gICAgICBwZWckYzU3ID0gL15bMS0zXS8sXG4gICAgICBwZWckYzU4ID0gcGVnJGNsYXNzRXhwZWN0YXRpb24oW1xuICAgICAgICBbXCIxXCIsIFwiM1wiXVxuICAgICAgXSwgZmFsc2UsIGZhbHNlKSxcbiAgICAgIHBlZyRjNTkgPSBcIlRCXCIsXG4gICAgICBwZWckYzYwID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIlRCXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNjEgPSBcIk9IXCIsXG4gICAgICBwZWckYzYyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIk9IXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNjMgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICBpZiAoIWNbMV0pIHJldHVybiAnQCc7XG4gICAgICAgIGlmIChjWzFdID09ICdAJykgcmV0dXJuICdAQCc7XG5cbiAgICAgICAgcmV0dXJuIGNbMV0uam9pbignJykucmVwbGFjZSgnLCcsICcnKTtcbiAgICAgIH0sXG4gICAgICBwZWckYzY0ID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9LFxuICAgICAgcGVnJGM2NSA9IFwiK1wiLFxuICAgICAgcGVnJGM2NiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIrXCIsIGZhbHNlKSxcbiAgICAgIHBlZyRjNjcgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICBpZiAoIWNbMV0pIHJldHVybiAxO1xuICAgICAgICBpZiAoY1sxXSAhPSAnKycpIHJldHVybiBOdW1iZXIoY1sxXS5qb2luKCcnKSk7XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgfSxcbiAgICAgIHBlZyRjNjggPSBcIi1cIixcbiAgICAgIHBlZyRjNjkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLVwiLCBmYWxzZSksXG4gICAgICBwZWckYzcwID0gZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgaWYgKCFjWzFdKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChjWzFdICE9ICctJykgcmV0dXJuIC1OdW1iZXIoY1sxXS5qb2luKCcnKSk7XG4gICAgICAgIHJldHVybiAtMjtcbiAgICAgIH0sXG4gICAgICBwZWckYzcxID0gXCJIXCIsXG4gICAgICBwZWckYzcyID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIkhcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM3MyA9IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIGlmIChoWzFdKSByZXR1cm4gTnVtYmVyKGhbMV0pO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0sXG4gICAgICBwZWckYzc0ID0gXCI6XCIsXG4gICAgICBwZWckYzc1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIjpcIiwgZmFsc2UpLFxuICAgICAgcGVnJGM3NiA9IC9eWzBdLyxcbiAgICAgIHBlZyRjNzcgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCIwXCJdLCBmYWxzZSwgZmFsc2UpLFxuICAgICAgcGVnJGM3OCA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoY1sxXVswXSArIGNbMV1bMV0uam9pbignJykpO1xuICAgICAgfSxcbiAgICAgIHBlZyRjNzkgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKGkuam9pbignJykpO1xuICAgICAgfSxcblxuICAgICAgcGVnJGN1cnJQb3MgPSAwLFxuICAgICAgcGVnJHNhdmVkUG9zID0gMCxcbiAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGUgPSBbe1xuICAgICAgICBsaW5lOiAxLFxuICAgICAgICBjb2x1bW46IDFcbiAgICAgIH1dLFxuICAgICAgcGVnJG1heEZhaWxQb3MgPSAwLFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCA9IFtdLFxuICAgICAgcGVnJHNpbGVudEZhaWxzID0gMCxcblxuICAgICAgcGVnJHJlc3VsdDtcblxuICAgIGlmIChcInN0YXJ0UnVsZVwiIGluIG9wdGlvbnMpIHtcbiAgICAgIGlmICghKG9wdGlvbnMuc3RhcnRSdWxlIGluIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHN0YXJ0IHBhcnNpbmcgZnJvbSBydWxlIFxcXCJcIiArIG9wdGlvbnMuc3RhcnRSdWxlICsgXCJcXFwiLlwiKTtcbiAgICAgIH1cblxuICAgICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGV4dCgpIHtcbiAgICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbiwgbG9jYXRpb24pIHtcbiAgICAgIGxvY2F0aW9uID0gbG9jYXRpb24gIT09IHZvaWQgMCA/IGxvY2F0aW9uIDogcGVnJGNvbXB1dGVMb2NhdGlvbihwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKVxuXG4gICAgICB0aHJvdyBwZWckYnVpbGRTdHJ1Y3R1cmVkRXJyb3IoXG4gICAgICAgIFtwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbildLFxuICAgICAgICBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksXG4gICAgICAgIGxvY2F0aW9uXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7XG4gICAgICBsb2NhdGlvbiA9IGxvY2F0aW9uICE9PSB2b2lkIDAgPyBsb2NhdGlvbiA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcylcblxuICAgICAgdGhyb3cgcGVnJGJ1aWxkU2ltcGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRsaXRlcmFsRXhwZWN0YXRpb24odGV4dCwgaWdub3JlQ2FzZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJsaXRlcmFsXCIsXG4gICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGNsYXNzRXhwZWN0YXRpb24ocGFydHMsIGludmVydGVkLCBpZ25vcmVDYXNlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImNsYXNzXCIsXG4gICAgICAgIHBhcnRzOiBwYXJ0cyxcbiAgICAgICAgaW52ZXJ0ZWQ6IGludmVydGVkLFxuICAgICAgICBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRhbnlFeHBlY3RhdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYW55XCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGVuZEV4cGVjdGF0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJlbmRcIlxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckb3RoZXJFeHBlY3RhdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJvdGhlclwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGNvbXB1dGVQb3NEZXRhaWxzKHBvcykge1xuICAgICAgdmFyIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3Bvc10sXG4gICAgICAgIHA7XG5cbiAgICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcCA9IHBvcyAtIDE7XG4gICAgICAgIHdoaWxlICghcGVnJHBvc0RldGFpbHNDYWNoZVtwXSkge1xuICAgICAgICAgIHAtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3BdO1xuICAgICAgICBkZXRhaWxzID0ge1xuICAgICAgICAgIGxpbmU6IGRldGFpbHMubGluZSxcbiAgICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uXG4gICAgICAgIH07XG5cbiAgICAgICAgd2hpbGUgKHAgPCBwb3MpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwKSA9PT0gMTApIHtcbiAgICAgICAgICAgIGRldGFpbHMubGluZSsrO1xuICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXRhaWxzLmNvbHVtbisrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHArKztcbiAgICAgICAgfVxuXG4gICAgICAgIHBlZyRwb3NEZXRhaWxzQ2FjaGVbcG9zXSA9IGRldGFpbHM7XG4gICAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRjb21wdXRlTG9jYXRpb24oc3RhcnRQb3MsIGVuZFBvcykge1xuICAgICAgdmFyIHN0YXJ0UG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhzdGFydFBvcyksXG4gICAgICAgIGVuZFBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMoZW5kUG9zKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICBvZmZzZXQ6IHN0YXJ0UG9zLFxuICAgICAgICAgIGxpbmU6IHN0YXJ0UG9zRGV0YWlscy5saW5lLFxuICAgICAgICAgIGNvbHVtbjogc3RhcnRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgICB9LFxuICAgICAgICBlbmQ6IHtcbiAgICAgICAgICBvZmZzZXQ6IGVuZFBvcyxcbiAgICAgICAgICBsaW5lOiBlbmRQb3NEZXRhaWxzLmxpbmUsXG4gICAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRmYWlsKGV4cGVjdGVkKSB7XG4gICAgICBpZiAocGVnJGN1cnJQb3MgPCBwZWckbWF4RmFpbFBvcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwZWckY3VyclBvcyA+IHBlZyRtYXhGYWlsUG9zKSB7XG4gICAgICAgIHBlZyRtYXhGYWlsUG9zID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICAgIH1cblxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZC5wdXNoKGV4cGVjdGVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIG5ldyBwZWckU3ludGF4RXJyb3IobWVzc2FnZSwgbnVsbCwgbnVsbCwgbG9jYXRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihleHBlY3RlZCwgZm91bmQsIGxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4gbmV3IHBlZyRTeW50YXhFcnJvcihcbiAgICAgICAgcGVnJFN5bnRheEVycm9yLmJ1aWxkTWVzc2FnZShleHBlY3RlZCwgZm91bmQpLFxuICAgICAgICBleHBlY3RlZCxcbiAgICAgICAgZm91bmQsXG4gICAgICAgIGxvY2F0aW9uXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWNoYWluKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIHMyID0gcGVnJHBhcnNlYXRvbSgpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gW107XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlYnJhbmNoKCk7XG4gICAgICAgIHdoaWxlIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlYnJhbmNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBbXTtcbiAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNlYm9uZCgpO1xuICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlcmluZygpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gW3M2LCBzN107XG4gICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQucHVzaChzNSk7XG4gICAgICAgICAgICBzNSA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2Vib25kKCk7XG4gICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlcmluZygpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IFtzNiwgczddO1xuICAgICAgICAgICAgICAgIHM1ID0gczY7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IFtdO1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFuY2goKTtcbiAgICAgICAgICAgIHdoaWxlIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNS5wdXNoKHM2KTtcbiAgICAgICAgICAgICAgczYgPSBwZWckcGFyc2VicmFuY2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWJvbmQoKTtcbiAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlY2hhaW4oKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IFtdO1xuICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VicmFuY2goKTtcbiAgICAgICAgICAgICAgICAgIHdoaWxlIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzOC5wdXNoKHM5KTtcbiAgICAgICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VicmFuY2goKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzMiA9IFtzMiwgczMsIHM0LCBzNSwgczYsIHM3LCBzOF07XG4gICAgICAgICAgICAgICAgICAgIHMxID0gczI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMwKHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VicmFuY2goKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgIHMyID0gcGVnJGMxO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlYm9uZCgpO1xuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczQgPSBwZWckcGFyc2VjaGFpbigpO1xuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjMztcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzMiA9IFtzMiwgczMsIHM0LCBzNV07XG4gICAgICAgICAgICAgIHMxID0gczI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM1KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VhdG9tKCkge1xuICAgICAgdmFyIHMwLCBzMTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlb3JnYW5pY3N5bWJvbCgpO1xuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlYXJvbWF0aWNzeW1ib2woKTtcbiAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczEgPSBwZWckcGFyc2VicmFja2V0YXRvbSgpO1xuICAgICAgICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczEgPSBwZWckcGFyc2V3aWxkY2FyZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNihzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlYm9uZCgpIHtcbiAgICAgIHZhciBzMCwgczE7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKHBlZyRjNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMxID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcblxuICAgICAgICAvLyBIYWNrIHRvIHJlc29sdmUgcHJvYmxlbSBjYXVzZWQgYnk6XG4gICAgICAgIC8vIE89QyhOW0NAQEhdKENDKE8pPU8pQyhOW0NASF0oQzE9Q0M9QyhPKUM9QzEpQyhOW0NAQEhdKENDKE8pPU8pQyhOQ0MoTltDQEBIXShDKE5bQ0BASF0oW0NASF0oQylDQyhPKT1PKUMoTi9DKEMoT1tDQEhdKEMpW0NAQEhdMk5DKFtDQEhdKENPKU5DKEMoTzMpQzNDQ0MpPU8pPU8pPU8pPUNcXFxcXFxcXEM0PUNOQzU9QzRDPUNDPUM1KT1PKT1PKVtDQEhdKE8pQyhOKT1PKT1PKT1PKT1PKT1PKVtDQEhdKENDKE8pPU8pTkMoW0NAQEhdKENDNj1DTkM3PUM2Qz1DQz1DNylOQzI9Tyk9T1xuICAgICAgICAvLyBLRUVQIFRISVMgV0hFTiBSRUdFTkVSQVRJTkcgVEhFIFBBUlNFUiAhIVxuICAgICAgICBpZiAoczEgPT09IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyArIDEpKSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IHBlZyRidWlsZFNpbXBsZUVycm9yKCdUaGUgcGFyc2VyIGVuY291bnRlcmVkIGEgYm9uZCByZXBldGl0aW9uLicsIHBlZyRjdXJyUG9zICsgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEtFRVAgVEhJUyBXSEVOIFJFR0VORVJBVElORyBUSEUgUEFSU0VSICEhXG5cbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjOCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzkoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWJyYWNrZXRhdG9tKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTEpIHtcbiAgICAgICAgczIgPSBwZWckYzEwO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMxMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRwYXJzZWlzb3RvcGUoKTtcbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzEyKSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjMTI7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzE0KSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMxNDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMTUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczQgPSBwZWckcGFyc2Vhcm9tYXRpY3N5bWJvbCgpO1xuICAgICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRwYXJzZWVsZW1lbnRzeW1ib2woKTtcbiAgICAgICAgICAgICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNld2lsZGNhcmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZWNoaXJhbCgpO1xuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZWhjb3VudCgpO1xuICAgICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VjaGFyZ2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoczcgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZWNsYXNzKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMTY7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMxNyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHMyID0gW3MyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOV07XG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMTgoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZW9yZ2FuaWNzeW1ib2woKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczM7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Nikge1xuICAgICAgICBzMiA9IHBlZyRjMTk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICBwZWckZmFpbChwZWckYzIwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMTE0KSB7XG4gICAgICAgICAgczMgPSBwZWckYzIxO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMjIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBbczIsIHMzXTtcbiAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Nykge1xuICAgICAgICAgIHMyID0gcGVnJGMyMztcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzI0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMDgpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGMyNTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGMyNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAocGVnJGMyNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMjgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjkoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWFyb21hdGljc3ltYm9sKCkge1xuICAgICAgdmFyIHMwLCBzMTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChwZWckYzMwLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMzMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzYoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZXdpbGRjYXJkKCkge1xuICAgICAgdmFyIHMwLCBzMTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHtcbiAgICAgICAgczEgPSBwZWckYzMyO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMzMyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzM0KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VlbGVtZW50c3ltYm9sKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChwZWckYzM1LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGMzNik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAocGVnJGMzNy50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjMzgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIgPSBbczIsIHMzXTtcbiAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGMzOShzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlcmluZygpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMywgczQ7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzNykge1xuICAgICAgICBzMiA9IHBlZyRjNDA7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICBwZWckZmFpbChwZWckYzQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChwZWckYzQyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMyA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0Myk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHM0ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBbczIsIHMzLCBzNF07XG4gICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM0NihzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlY2hpcmFsKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjQpIHtcbiAgICAgICAgczIgPSBwZWckYzQ3O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGM0OCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDY0KSB7XG4gICAgICAgICAgczMgPSBwZWckYzQ3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzQ5KSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRjNDk7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChwZWckYzUxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczUgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM1Mik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNCA9IFtzNCwgczVdO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM1Mykge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjNTM7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzU0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChwZWckYzUxLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM1Mik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM0ID0gW3M0LCBzNV07XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzU1KSB7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzU1O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGVnJGM1Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNTgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM0ID0gW3M0LCBzNV07XG4gICAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzU5KSB7XG4gICAgICAgICAgICAgICAgICBzNCA9IHBlZyRjNTk7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNjApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckYzQyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0Myk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJGM0NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczYgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDUpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczQgPSBbczQsIHM1LCBzNl07XG4gICAgICAgICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM2MSkge1xuICAgICAgICAgICAgICAgICAgICBzNCA9IHBlZyRjNjE7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzYyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckYzQyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0Myk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgczYgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM0ID0gW3M0LCBzNSwgczZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNjMoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWNoYXJnZSgpIHtcbiAgICAgIHZhciBzMCwgczE7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRwYXJzZXBvc2NoYXJnZSgpO1xuICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMxID0gcGVnJHBhcnNlbmVnY2hhcmdlKCk7XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM2NChzMSk7XG4gICAgICB9XG4gICAgICBzMCA9IHMxO1xuXG4gICAgICByZXR1cm4gczA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlcG9zY2hhcmdlKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczU7XG5cbiAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICBzMSA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0Mykge1xuICAgICAgICBzMiA9IHBlZyRjNjU7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICBwZWckZmFpbChwZWckYzY2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDMpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjNjU7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM2Nik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgaWYgKHBlZyRjNDIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzQzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAocGVnJGM0NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgIHM1ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM0ID0gW3M0LCBzNV07XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMiA9IFtzMiwgczNdO1xuICAgICAgICAgIHMxID0gczI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczE7XG4gICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzY3KHMxKTtcbiAgICAgIH1cbiAgICAgIHMwID0gczE7XG5cbiAgICAgIHJldHVybiBzMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwZWckcGFyc2VuZWdjaGFyZ2UoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICAgIHMyID0gcGVnJGM2ODtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNjkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgICAgIHMzID0gcGVnJGM2ODtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzY5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBpZiAocGVnJGM0Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICBzNCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgczUgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczQgPSBbczQsIHM1XTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNzAoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWhjb3VudCgpIHtcbiAgICAgIHZhciBzMCwgczEsIHMyLCBzMztcblxuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJGN1cnJQb3M7XG4gICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDcyKSB7XG4gICAgICAgIHMyID0gcGVnJGM3MTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNzIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKHBlZyRjNDQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgICBwZWckZmFpbChwZWckYzQ1KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNzMoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWNsYXNzKCkge1xuICAgICAgdmFyIHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTgpIHtcbiAgICAgICAgczIgPSBwZWckYzc0O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGM3NSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBpZiAocGVnJGM0Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IFtdO1xuICAgICAgICAgIGlmIChwZWckYzQ0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM0NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUucHVzaChzNik7XG4gICAgICAgICAgICBpZiAocGVnJGM0NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczQgPSBbczQsIHM1XTtcbiAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChwZWckYzc2LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgICAgcGVnJGZhaWwocGVnJGM3Nyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyID0gW3MyLCBzM107XG4gICAgICAgICAgczEgPSBzMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNzgoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRwYXJzZWlzb3RvcGUoKSB7XG4gICAgICB2YXIgczAsIHMxLCBzMiwgczMsIHM0O1xuXG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczEgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChwZWckYzQyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczIgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7XG4gICAgICAgICAgcGVnJGZhaWwocGVnJGM0Myk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAocGVnJGM0NC50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHtcbiAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjNDUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzMyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKHBlZyRjNDQudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczQgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICBwZWckZmFpbChwZWckYzQ1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczIgPSBbczIsIHMzLCBzNF07XG4gICAgICAgICAgICBzMSA9IHMyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMxO1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMTtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNzkoczEpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcblxuICAgICAgcmV0dXJuIHMwO1xuICAgIH1cblxuICAgIHBlZyRyZXN1bHQgPSBwZWckc3RhcnRSdWxlRnVuY3Rpb24oKTtcblxuICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zID09PSBpbnB1dC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwZWckcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihcbiAgICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcbiAgICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggPyBpbnB1dC5jaGFyQXQocGVnJG1heEZhaWxQb3MpIDogbnVsbCxcbiAgICAgICAgcGVnJG1heEZhaWxQb3MgPCBpbnB1dC5sZW5ndGggP1xuICAgICAgICAgIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSkgOlxuICAgICAgICAgIHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFN5bnRheEVycm9yOiBwZWckU3ludGF4RXJyb3IsXG4gICAgcGFyc2U6IHBlZyRwYXJzZVxuICB9O1xufSkoKTsiLCIvLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9jb2RlcGVuLmlvL3Noc2hhdy9wZW4vWGJ4dk5qIGJ5IFxuXG5mdW5jdGlvbiBjb252ZXJ0SW1hZ2UoaW1nKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBmdW5jdGlvbiBlYWNoKG9iaiwgZm4pIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGgsXG4gICAgICAgICAgICBsaWtlQXJyYXkgPSAobGVuZ3RoID09PSAwIHx8IChsZW5ndGggPiAwICYmIChsZW5ndGggLSAxKSBpbiBvYmopKSxcbiAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgIGlmIChsaWtlQXJyYXkpIHtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHsgaWYgKGZuLmNhbGwob2JqW2ldLCBpLCBvYmpbaV0pID09PSBmYWxzZSkgeyBicmVhazsgfSB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7IGlmIChmbi5jYWxsKG9ialtpXSwgaSwgb2JqW2ldKSA9PT0gZmFsc2UpIHsgYnJlYWs7IH0gfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcG9uZW50VG9IZXgoYykge1xuICAgICAgICB2YXIgaGV4ID0gcGFyc2VJbnQoYykudG9TdHJpbmcoMTYpO1xuICAgICAgICByZXR1cm4gaGV4Lmxlbmd0aCA9PSAxID8gXCIwXCIgKyBoZXggOiBoZXg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q29sb3IociwgZywgYiwgYSkge1xuICAgICAgICBhID0gcGFyc2VJbnQoYSk7XG4gICAgICAgIGlmIChhID09PSB1bmRlZmluZWQgfHwgYSA9PT0gMjU1KSB7IHJldHVybiBcIiNcIiArIGNvbXBvbmVudFRvSGV4KHIpICsgY29tcG9uZW50VG9IZXgoZykgKyBjb21wb25lbnRUb0hleChiKTsgfVxuICAgICAgICBpZiAoYSA9PT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyByICsgJywnICsgZyArICcsJyArIGIgKyAnLCcgKyAoYSAvIDI1NSkgKyAnKSc7XG4gICAgfVxuXG4gICAgLy8gT3B0aW1pemVkIGZvciBob3Jpem9udGFsIGxpbmVzXG4gICAgZnVuY3Rpb24gbWFrZVBhdGhEYXRhKHgsIHksIHcpIHsgcmV0dXJuICgnTScgKyB4ICsgJyAnICsgeSArICdoJyArIHcgKyAnJyk7IH1cbiAgICBmdW5jdGlvbiBtYWtlUGF0aChjb2xvciwgZGF0YSkgeyByZXR1cm4gJzxwYXRoIHN0cm9rZT1cIicgKyBjb2xvciArICdcIiBkPVwiJyArIGRhdGEgKyAnXCIgLz5cXG4nOyB9XG5cbiAgICBmdW5jdGlvbiBjb2xvcnNUb1BhdGhzKGNvbG9ycykge1xuXG4gICAgICAgIHZhciBvdXRwdXQgPSBcIlwiO1xuXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBlYWNoIGNvbG9yIHRvIGJ1aWxkIHBhdGhzXG4gICAgICAgIGVhY2goY29sb3JzLCBmdW5jdGlvbiAoY29sb3IsIHZhbHVlcykge1xuICAgICAgICAgICAgdmFyIG9yaWcgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbG9yID0gZ2V0Q29sb3IuYXBwbHkobnVsbCwgY29sb3Iuc3BsaXQoJywnKSk7XG5cbiAgICAgICAgICAgIGlmIChjb2xvciA9PT0gZmFsc2UpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgIHZhciBwYXRocyA9IFtdO1xuICAgICAgICAgICAgdmFyIGN1clBhdGg7XG4gICAgICAgICAgICB2YXIgdyA9IDE7XG5cbiAgICAgICAgICAgIC8vIExvb3BzIHRocm91Z2ggZWFjaCBjb2xvcidzIHBpeGVscyB0byBvcHRpbWl6ZSBwYXRoc1xuICAgICAgICAgICAgZWFjaCh2YWx1ZXMsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJQYXRoICYmIHRoaXNbMV0gPT09IGN1clBhdGhbMV0gJiYgdGhpc1swXSA9PT0gKGN1clBhdGhbMF0gKyB3KSkge1xuICAgICAgICAgICAgICAgICAgICB3Kys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhzLnB1c2gobWFrZVBhdGhEYXRhKGN1clBhdGhbMF0sIGN1clBhdGhbMV0sIHcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1clBhdGggPSB0aGlzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHBhdGhzLnB1c2gobWFrZVBhdGhEYXRhKGN1clBhdGhbMF0sIGN1clBhdGhbMV0sIHcpKTsgLy8gRmluaXNoIGxhc3QgcGF0aFxuICAgICAgICAgICAgb3V0cHV0ICs9IG1ha2VQYXRoKGNvbG9yLCBwYXRocy5qb2luKCcnKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgdmFyIGdldENvbG9ycyA9IGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgdmFyIGNvbG9ycyA9IHt9LFxuICAgICAgICAgICAgZGF0YSA9IGltZy5kYXRhLFxuICAgICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICB3ID0gaW1nLndpZHRoLFxuICAgICAgICAgICAgaCA9IGltZy5oZWlnaHQsXG4gICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBjb2xvcjtcblxuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtpICsgM10gPiAwKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkYXRhW2ldICsgJywnICsgZGF0YVtpICsgMV0gKyAnLCcgKyBkYXRhW2kgKyAyXSArICcsJyArIGRhdGFbaSArIDNdO1xuICAgICAgICAgICAgICAgIGNvbG9yc1tjb2xvcl0gPSBjb2xvcnNbY29sb3JdIHx8IFtdO1xuICAgICAgICAgICAgICAgIHggPSAoaSAvIDQpICUgdztcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5mbG9vcigoaSAvIDQpIC8gdyk7XG4gICAgICAgICAgICAgICAgY29sb3JzW2NvbG9yXS5wdXNoKFt4LCB5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3JzO1xuICAgIH1cblxuICAgIGxldCBjb2xvcnMgPSBnZXRDb2xvcnMoaW1nKTtcbiAgICBsZXQgcGF0aHMgPSBjb2xvcnNUb1BhdGhzKGNvbG9ycyk7XG4gICAgbGV0IG91dHB1dCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAtMC41ICcgKyBpbWcud2lkdGggKyAnICcgKyBpbWcuaGVpZ2h0ICsgJ1wiIHNoYXBlLXJlbmRlcmluZz1cImNyaXNwRWRnZXNcIj48ZyBzaGFwZS1yZW5kZXJpbmc9XCJjcmlzcEVkZ2VzXCI+JyArIHBhdGhzICsgJzwvZz48L3N2Zz4nO1xuXG4gICAgdmFyIGR1bW15RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZHVtbXlEaXYuaW5uZXJIVE1MID0gb3V0cHV0O1xuXG4gICAgcmV0dXJuIGR1bW15RGl2LmZpcnN0Q2hpbGQ7XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb252ZXJ0SW1hZ2UiLCI0Ly9AdHMtY2hlY2tcbmNvbnN0IFBhcnNlciA9IHJlcXVpcmUoJy4vUGFyc2VyJylcblxuY2xhc3MgUmVhY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGNsYXNzIFJlYWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlYWN0aW9uU21pbGVzIEEgcmVhY3Rpb24gU01JTEVTLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlYWN0aW9uU21pbGVzKSB7XG4gICAgICAgIHRoaXMucmVhY3RhbnRzU21pbGVzID0gW107XG4gICAgICAgIHRoaXMucmVhZ2VudHNTbWlsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9kdWN0c1NtaWxlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMucmVhY3RhbnRzV2VpZ2h0cyA9IFtdO1xuICAgICAgICB0aGlzLnJlYWdlbnRzV2VpZ2h0cyA9IFtdO1xuICAgICAgICB0aGlzLnByb2R1Y3RzV2VpZ2h0cyA9IFtdO1xuXG4gICAgICAgIHRoaXMucmVhY3RhbnRzID0gW107XG4gICAgICAgIHRoaXMucmVhZ2VudHMgPSBbXTtcbiAgICAgICAgdGhpcy5wcm9kdWN0cyA9IFtdO1xuXG4gICAgICAgIGxldCBwYXJ0cyA9IHJlYWN0aW9uU21pbGVzLnNwbGl0KFwiPlwiKTtcblxuICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlYWN0aW9uIFNNSUxFUy4gRGlkIHlvdSBhZGQgZmV3ZXIgdGhhbiBvciBtb3JlIHRoYW4gdHdvICc+Jz9cIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFydHNbMF0gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVhY3RhbnRzU21pbGVzID0gcGFydHNbMF0uc3BsaXQoXCIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnRzWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWdlbnRzU21pbGVzID0gcGFydHNbMV0uc3BsaXQoXCIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnRzWzJdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RzU21pbGVzID0gcGFydHNbMl0uc3BsaXQoXCIuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlYWN0YW50c1NtaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZWFjdGFudHMucHVzaChQYXJzZXIucGFyc2UodGhpcy5yZWFjdGFudHNTbWlsZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWFnZW50c1NtaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZWFnZW50cy5wdXNoKFBhcnNlci5wYXJzZSh0aGlzLnJlYWdlbnRzU21pbGVzW2ldKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvZHVjdHNTbWlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdHMucHVzaChQYXJzZXIucGFyc2UodGhpcy5wcm9kdWN0c1NtaWxlc1tpXSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0aW9uOyIsImNvbnN0IFN2Z0RyYXdlciA9IHJlcXVpcmUoJy4vU3ZnRHJhd2VyJyk7XG5jb25zdCBTdmdXcmFwcGVyID0gcmVxdWlyZSgnLi9TdmdXcmFwcGVyJyk7XG5jb25zdCBPcHRpb25zID0gcmVxdWlyZSgnLi9PcHRpb25zJyk7XG5jb25zdCBUaGVtZU1hbmFnZXIgPSByZXF1aXJlKCcuL1RoZW1lTWFuYWdlcicpO1xuY29uc3QgZm9ybXVsYVRvQ29tbW9uTmFtZSA9IHJlcXVpcmUoJy4vRm9ybXVsYVRvQ29tbW9uTmFtZScpO1xuXG5jbGFzcyBSZWFjdGlvbkRyYXdlciB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgY2xhc3MgUmVhY3Rpb25EcmF3ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyByZWFjdGlvbiBkcmF3aW5nIHNwZWNpdGljIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1vbGVjdWxlT3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyBtb2xlY3VsZSBkcmF3aW5nIHNwZWNpZmljIG9wdGlvbnMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgbW9sZWN1bGVPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzY2FsZTogbW9sZWN1bGVPcHRpb25zLnNjYWxlID4gMC4wID8gbW9sZWN1bGVPcHRpb25zLnNjYWxlIDogMS4wLFxuICAgICAgICAgICAgZm9udFNpemU6IG1vbGVjdWxlT3B0aW9ucy5mb250U2l6ZUxhcmdlICogMC44LFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuICAgICAgICAgICAgc3BhY2luZzogMTAsXG4gICAgICAgICAgICBwbHVzOiB7XG4gICAgICAgICAgICAgICAgc2l6ZTogOSxcbiAgICAgICAgICAgICAgICB0aGlja25lc3M6IDEuMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFycm93OiB7XG4gICAgICAgICAgICAgICAgbGVuZ3RoOiBtb2xlY3VsZU9wdGlvbnMuYm9uZExlbmd0aCAqIDQuMCxcbiAgICAgICAgICAgICAgICBoZWFkU2l6ZTogNi4wLFxuICAgICAgICAgICAgICAgIHRoaWNrbmVzczogMS4wLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdlaWdodHM6IHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdHMgPSBPcHRpb25zLmV4dGVuZCh0cnVlLCB0aGlzLmRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmRyYXdlciA9IG5ldyBTdmdEcmF3ZXIobW9sZWN1bGVPcHRpb25zKTtcbiAgICAgICAgdGhpcy5tb2xPcHRzID0gdGhpcy5kcmF3ZXIub3B0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICogRHJhd3MgdGhlIHBhcnNlZCByZWFjdGlvbiBzbWlsZXMgZGF0YSB0byBhIGNhbnZhcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVhY3Rpb24gVGhlIHJlYWN0aW9uIG9iamVjdCByZXR1cm5lZCBieSB0aGUgcmVhY3Rpb24gc21pbGVzIHBhcnNlci5cbiAgICogQHBhcmFtIHsoU3RyaW5nfFNWR0VsZW1lbnQpfSB0YXJnZXQgVGhlIGlkIG9mIHRoZSBIVE1MIGNhbnZhcyBlbGVtZW50IHRoZSBzdHJ1Y3R1cmUgaXMgZHJhd24gdG8gLSBvciB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0aGVtZU5hbWU9J2RhcmsnIFRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byB1c2UuIEJ1aWx0LWluIHRoZW1lcyBhcmUgJ2xpZ2h0JyBhbmQgJ2RhcmsnLlxuICAgKiBAcGFyYW0gez9PYmplY3R9IHdlaWdodHM9bnVsbCBUaGUgd2VpZ2h0cyBmb3IgcmVhY3RhbnRzLCBhZ2VudHMsIGFuZCBwcm9kdWN0cy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRBYm92ZT0ne3JlYWdlbnRzfScgVGhlIHRleHQgYWJvdmUgdGhlIGFycm93LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dEJlbG93PScnIFRoZSB0ZXh0IGJlbG93IHRoZSBhcnJvdy5cbiAgICogQHBhcmFtIHs/T2JqZWN0fSB3ZWlnaHRzPW51bGwgVGhlIHdlaWdodHMgZm9yIHJlYWN0YW50cywgYWdlbnRzLCBhbmQgcHJvZHVjdHMuXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5mb09ubHk9ZmFsc2UgT25seSBvdXRwdXQgaW5mbyBvbiB0aGUgbW9sZWN1bGUgd2l0aG91dCBkcmF3aW5nIGFueXRoaW5nIHRvIHRoZSBjYW52YXMuXG4gICAqIFxuICAgKiBAcmV0dXJucyB7U1ZHRWxlbWVudH0gVGhlIHN2ZyBlbGVtZW50XG4gICAqL1xuICAgIGRyYXcocmVhY3Rpb24sIHRhcmdldCwgdGhlbWVOYW1lID0gJ2xpZ2h0Jywgd2VpZ2h0cyA9IG51bGwsIHRleHRBYm92ZSA9ICd7cmVhZ2VudHN9JywgdGV4dEJlbG93ID0gJycsIGluZm9Pbmx5ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIgPSBuZXcgVGhlbWVNYW5hZ2VyKHRoaXMubW9sT3B0cy50aGVtZXMsIHRoZW1lTmFtZSk7XG5cbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSB3ZWlnaHRzIG92ZXIgdGhlIHJlYWN0aW9uIG1vbGVjdWxlc1xuICAgICAgICBpZiAodGhpcy5vcHRzLndlaWdodHMubm9ybWFsaXplKSB7XG4gICAgICAgICAgICBsZXQgbWF4ID0gLU51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgICAgbGV0IG1pbiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gICAgICAgICAgICBpZiAod2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eSgncmVhY3RhbnRzJykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMucmVhY3RhbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2VpZ2h0cy5yZWFjdGFudHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWlnaHRzLnJlYWN0YW50c1tpXVtqXSA8IG1pbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHdlaWdodHMucmVhY3RhbnRzW2ldW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlaWdodHMucmVhY3RhbnRzW2ldW2pdID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gd2VpZ2h0cy5yZWFjdGFudHNbaV1bal07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3ZWlnaHRzLmhhc093blByb3BlcnR5KCdyZWFnZW50cycpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRzLnJlYWdlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgd2VpZ2h0cy5yZWFnZW50c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlaWdodHMucmVhZ2VudHNbaV1bal0gPCBtaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSB3ZWlnaHRzLnJlYWdlbnRzW2ldW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlaWdodHMucmVhZ2VudHNbaV1bal0gPiBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSB3ZWlnaHRzLnJlYWdlbnRzW2ldW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eSgncHJvZHVjdHMnKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2VpZ2h0cy5wcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodHMucHJvZHVjdHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWlnaHRzLnByb2R1Y3RzW2ldW2pdIDwgbWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gd2VpZ2h0cy5wcm9kdWN0c1tpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWlnaHRzLnByb2R1Y3RzW2ldW2pdID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gd2VpZ2h0cy5wcm9kdWN0c1tpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGFic19tYXggPSBNYXRoLm1heChNYXRoLmFicyhtaW4pLCBNYXRoLmFicyhtYXgpKTtcbiAgICAgICAgICAgIGlmIChhYnNfbWF4ID09PSAwLjApIHtcbiAgICAgICAgICAgICAgICBhYnNfbWF4ID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdlaWdodHMuaGFzT3duUHJvcGVydHkoJ3JlYWN0YW50cycpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRzLnJlYWN0YW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodHMucmVhY3RhbnRzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzLnJlYWN0YW50c1tpXVtqXSAvPSBhYnNfbWF4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eSgncmVhZ2VudHMnKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2VpZ2h0cy5yZWFnZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodHMucmVhZ2VudHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodHMucmVhZ2VudHNbaV1bal0gLz0gYWJzX21heDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdlaWdodHMuaGFzT3duUHJvcGVydHkoJ3Byb2R1Y3RzJykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodHMucHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB3ZWlnaHRzLnByb2R1Y3RzW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzLnByb2R1Y3RzW2ldW2pdIC89IGFic19tYXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3ZnID0gbnVsbDtcblxuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKCd4bWxucycsICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycpO1xuICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIDUwMCArICcnKTtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgNTAwICsgJycpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnIHx8IHRhcmdldCBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgICAgc3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN2ZyA9IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChzdmcuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc3ZnLnJlbW92ZUNoaWxkKHN2Zy5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSAwLjBcblxuICAgICAgICAvLyBSZWFjdGFudHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWFjdGlvbi5yZWFjdGFudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRzLnBsdXMuc2l6ZSAqIHRoaXMub3B0cy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm9wdHMucGx1cy5zaXplICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBzdmc6IHRoaXMuZ2V0UGx1cygpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCByZWFjdGFudFdlaWdodHMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHdlaWdodHMgJiYgd2VpZ2h0cy5oYXNPd25Qcm9wZXJ0eSgncmVhY3RhbnRzJykgJiYgd2VpZ2h0cy5yZWFjdGFudHMubGVuZ3RoID4gaSkge1xuICAgICAgICAgICAgICAgIHJlYWN0YW50V2VpZ2h0cyA9IHdlaWdodHMucmVhY3RhbnRzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVhY3RhbnRTdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuXG4gICAgICAgICAgICB0aGlzLmRyYXdlci5kcmF3KHJlYWN0aW9uLnJlYWN0YW50c1tpXSwgcmVhY3RhbnRTdmcsIHRoZW1lTmFtZSwgcmVhY3RhbnRXZWlnaHRzLCBpbmZvT25seSwgW10sIHRoaXMub3B0cy53ZWlnaHRzLm5vcm1hbGl6ZSk7XG5cbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiByZWFjdGFudFN2Zy52aWV3Qm94LmJhc2VWYWwud2lkdGggKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiByZWFjdGFudFN2Zy52aWV3Qm94LmJhc2VWYWwuaGVpZ2h0ICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgICAgIHN2ZzogcmVhY3RhbnRTdmdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmhlaWdodCA+IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IGVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXJyb3dcbiAgICAgICAgZWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRzLmFycm93Lmxlbmd0aCAqIHRoaXMub3B0cy5zY2FsZSxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5vcHRzLmFycm93LmhlYWRTaXplICogMi4wICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgc3ZnOiB0aGlzLmdldEFycm93KClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVGV4dCBhYm92ZSB0aGUgYXJyb3cgLyByZWFnZW50c1xuICAgICAgICBsZXQgcmVhZ2VudHNUZXh0ID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWFjdGlvbi5yZWFnZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVhZ2VudHNUZXh0ICs9IFwiLCBcIlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMuZHJhd2VyLmdldE1vbGVjdWxhckZvcm11bGEocmVhY3Rpb24ucmVhZ2VudHNbaV0pO1xuICAgICAgICAgICAgaWYgKHRleHQgaW4gZm9ybXVsYVRvQ29tbW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBmb3JtdWxhVG9Db21tb25OYW1lW3RleHRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWFnZW50c1RleHQgKz0gU3ZnV3JhcHBlci5yZXBsYWNlTnVtYmVyc1dpdGhTdWJzY3JpcHQodGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0QWJvdmUgPSB0ZXh0QWJvdmUucmVwbGFjZSgne3JlYWdlbnRzfScsIHJlYWdlbnRzVGV4dCk7XG5cbiAgICAgICAgY29uc3QgdG9wVGV4dCA9IFN2Z1dyYXBwZXIud3JpdGVUZXh0KFxuICAgICAgICAgICAgdGV4dEFib3ZlLFxuICAgICAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIsXG4gICAgICAgICAgICB0aGlzLm9wdHMuZm9udFNpemUgKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgICAgICB0aGlzLm9wdHMuZm9udEZhbWlseSxcbiAgICAgICAgICAgIHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGVcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY2VudGVyT2Zmc2V0WCA9ICh0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlIC0gdG9wVGV4dC53aWR0aCkgLyAyLjA7XG5cbiAgICAgICAgZWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICBzdmc6IHRvcFRleHQuc3ZnLFxuICAgICAgICAgICAgaGVpZ2h0OiB0b3BUZXh0LmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgb2Zmc2V0WDogLSh0aGlzLm9wdHMuYXJyb3cubGVuZ3RoICogdGhpcy5vcHRzLnNjYWxlICsgdGhpcy5vcHRzLnNwYWNpbmcpICsgY2VudGVyT2Zmc2V0WCxcbiAgICAgICAgICAgIG9mZnNldFk6IC0odG9wVGV4dC5oZWlnaHQgLyAyLjApIC0gdGhpcy5vcHRzLmFycm93Lm1hcmdpbixcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRleHQgYmVsb3cgYXJyb3dcbiAgICAgICAgY29uc3QgYm90dG9tVGV4dCA9IFN2Z1dyYXBwZXIud3JpdGVUZXh0KFxuICAgICAgICAgICAgdGV4dEJlbG93LFxuICAgICAgICAgICAgdGhpcy50aGVtZU1hbmFnZXIsXG4gICAgICAgICAgICB0aGlzLm9wdHMuZm9udFNpemUgKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgICAgICB0aGlzLm9wdHMuZm9udEZhbWlseSxcbiAgICAgICAgICAgIHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGVcbiAgICAgICAgKTtcblxuICAgICAgICBjZW50ZXJPZmZzZXRYID0gKHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUgLSBib3R0b21UZXh0LndpZHRoKSAvIDIuMDtcblxuICAgICAgICBlbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHN2ZzogYm90dG9tVGV4dC5zdmcsXG4gICAgICAgICAgICBoZWlnaHQ6IGJvdHRvbVRleHQuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgICAgICBvZmZzZXRYOiAtKHRoaXMub3B0cy5hcnJvdy5sZW5ndGggKiB0aGlzLm9wdHMuc2NhbGUgKyB0aGlzLm9wdHMuc3BhY2luZykgKyBjZW50ZXJPZmZzZXRYLFxuICAgICAgICAgICAgb2Zmc2V0WTogYm90dG9tVGV4dC5oZWlnaHQgLyAyLjAgKyB0aGlzLm9wdHMuYXJyb3cubWFyZ2luLFxuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHJvZHVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWFjdGlvbi5wcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdHMucGx1cy5zaXplICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMub3B0cy5wbHVzLnNpemUgKiB0aGlzLm9wdHMuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHN2ZzogdGhpcy5nZXRQbHVzKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByb2R1Y3RXZWlnaHRzID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh3ZWlnaHRzICYmIHdlaWdodHMuaGFzT3duUHJvcGVydHkoJ3Byb2R1Y3RzJykgJiYgd2VpZ2h0cy5wcm9kdWN0cy5sZW5ndGggPiBpKSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFdlaWdodHMgPSB3ZWlnaHRzLnByb2R1Y3RzW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJvZHVjdFN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd2VyLmRyYXcocmVhY3Rpb24ucHJvZHVjdHNbaV0sIHByb2R1Y3RTdmcsIHRoZW1lTmFtZSwgcHJvZHVjdFdlaWdodHMsIGluZm9Pbmx5LCBbXSwgdGhpcy5vcHRzLndlaWdodHMubm9ybWFsaXplKTtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHByb2R1Y3RTdmcudmlld0JveC5iYXNlVmFsLndpZHRoICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcHJvZHVjdFN2Zy52aWV3Qm94LmJhc2VWYWwuaGVpZ2h0ICogdGhpcy5vcHRzLnNjYWxlLFxuICAgICAgICAgICAgICAgIHN2ZzogcHJvZHVjdFN2Z1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZWxlbWVudHMucHVzaChlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG90YWxXaWR0aCA9IDAuMDtcblxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgbGV0IG9mZnNldFggPSBlbGVtZW50Lm9mZnNldFggPz8gMC4wO1xuICAgICAgICAgICAgbGV0IG9mZnNldFkgPSBlbGVtZW50Lm9mZnNldFkgPz8gMC4wO1xuXG4gICAgICAgICAgICBlbGVtZW50LnN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsIE1hdGgucm91bmQodG90YWxXaWR0aCArIG9mZnNldFgpKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgTWF0aC5yb3VuZCgoKG1heEhlaWdodCAtIGVsZW1lbnQuaGVpZ2h0KSAvIDIuMCkgKyBvZmZzZXRZKSk7XG4gICAgICAgICAgICBlbGVtZW50LnN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCBNYXRoLnJvdW5kKGVsZW1lbnQud2lkdGgpKTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCBNYXRoLnJvdW5kKGVsZW1lbnQuaGVpZ2h0KSk7XG4gICAgICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZWxlbWVudC5zdmcpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wb3NpdGlvbiAhPT0gJ3JlbGF0aXZlJykge1xuICAgICAgICAgICAgICAgIHRvdGFsV2lkdGggKz0gTWF0aC5yb3VuZChlbGVtZW50LndpZHRoICsgdGhpcy5vcHRzLnNwYWNpbmcgKyBvZmZzZXRYKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgYDAgMCAke3RvdGFsV2lkdGh9ICR7bWF4SGVpZ2h0fWApO1xuICAgICAgICBzdmcuc3R5bGUud2lkdGggPSB0b3RhbFdpZHRoICsgJ3B4JztcbiAgICAgICAgc3ZnLnN0eWxlLmhlaWdodCA9IG1heEhlaWdodCArICdweCc7XG5cbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG5cbiAgICBnZXRQbHVzKCkge1xuICAgICAgICBsZXQgcyA9IHRoaXMub3B0cy5wbHVzLnNpemU7XG4gICAgICAgIGxldCB3ID0gdGhpcy5vcHRzLnBsdXMudGhpY2tuZXNzO1xuICAgICAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICAgICAgbGV0IHJlY3RfaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncmVjdCcpO1xuICAgICAgICBsZXQgcmVjdF92ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdyZWN0Jyk7XG5cbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdpZCcsICdwbHVzJyk7XG5cbiAgICAgICAgcmVjdF9oLnNldEF0dHJpYnV0ZU5TKG51bGwsICd4JywgMCk7XG4gICAgICAgIHJlY3RfaC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIHMgLyAyLjAgLSB3IC8gMi4wKTtcbiAgICAgICAgcmVjdF9oLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIHMpO1xuICAgICAgICByZWN0X2guc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIHcpO1xuICAgICAgICByZWN0X2guc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihcIkNcIikpO1xuXG4gICAgICAgIHJlY3Rfdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsIHMgLyAyLjAgLSB3IC8gMi4wKTtcbiAgICAgICAgcmVjdF92LnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgMCk7XG4gICAgICAgIHJlY3Rfdi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCB3KTtcbiAgICAgICAgcmVjdF92LnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCBzKTtcbiAgICAgICAgcmVjdF92LnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcblxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocmVjdF9oKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHJlY3Rfdik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsIGAwIDAgJHtzfSAke3N9YCk7XG5cbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG5cbiAgICBnZXRBcnJvd2hlYWQoKSB7XG4gICAgICAgIGxldCBzID0gdGhpcy5vcHRzLmFycm93LmhlYWRTaXplO1xuICAgICAgICBsZXQgbWFya2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdtYXJrZXInKTtcbiAgICAgICAgbGV0IHBvbHlnb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BvbHlnb24nKTtcblxuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2lkJywgJ2Fycm93aGVhZCcpO1xuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3ZpZXdCb3gnLCBgMCAwICR7c30gJHtzfWApO1xuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ21hcmtlclVuaXRzJywgJ3VzZXJTcGFjZU9uVXNlJyk7XG4gICAgICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnbWFya2VyV2lkdGgnLCBzKTtcbiAgICAgICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdtYXJrZXJIZWlnaHQnLCBzKTtcbiAgICAgICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyZWZYJywgMCk7XG4gICAgICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncmVmWScsIHMgLyAyKTtcbiAgICAgICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvcmllbnQnLCAnYXV0bycpO1xuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihcIkNcIikpO1xuXG4gICAgICAgIHBvbHlnb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3BvaW50cycsIGAwIDAsICR7c30gJHtzIC8gMn0sIDAgJHtzfWApXG5cbiAgICAgICAgbWFya2VyLmFwcGVuZENoaWxkKHBvbHlnb24pO1xuXG4gICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgfVxuXG4gICAgZ2V0Q0RBcnJvd2hlYWQoKSB7XG4gICAgICAgIGxldCBzID0gdGhpcy5vcHRzLmFycm93LmhlYWRTaXplO1xuICAgICAgICBsZXQgc3cgPSBzICogKDcgLyA0LjUpO1xuICAgICAgICBsZXQgbWFya2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdtYXJrZXInKTtcbiAgICAgICAgbGV0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcblxuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2lkJywgJ2Fycm93aGVhZCcpO1xuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3ZpZXdCb3gnLCBgMCAwICR7c3d9ICR7c31gKTtcbiAgICAgICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdtYXJrZXJVbml0cycsICd1c2VyU3BhY2VPblVzZScpO1xuICAgICAgICBtYXJrZXIuc2V0QXR0cmlidXRlTlMobnVsbCwgJ21hcmtlcldpZHRoJywgc3cgKiAyKTtcbiAgICAgICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdtYXJrZXJIZWlnaHQnLCBzICogMik7XG4gICAgICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncmVmWCcsIDIuMik7XG4gICAgICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncmVmWScsIDIuMik7XG4gICAgICAgIG1hcmtlci5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3JpZW50JywgJ2F1dG8nKTtcbiAgICAgICAgbWFya2VyLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcblxuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsICdmaWxsLXJ1bGU6bm9uemVybzsnKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsICdtIDAgMCBsIDcgMi4yNSBsIC03IDIuMjUgYyAwIDAgMC43MzUgLTEuMDg0IDAuNzM1IC0yLjI4IGMgMCAtMS4xOTYgLTAuNzM1IC0yLjIyIC0wLjczNSAtMi4yMiB6Jyk7XG5cbiAgICAgICAgbWFya2VyLmFwcGVuZENoaWxkKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgfVxuXG4gICAgZ2V0QXJyb3coKSB7XG4gICAgICAgIGxldCBzID0gdGhpcy5vcHRzLmFycm93LmhlYWRTaXplO1xuICAgICAgICBsZXQgbCA9IHRoaXMub3B0cy5hcnJvdy5sZW5ndGg7XG5cbiAgICAgICAgbGV0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gICAgICAgIGxldCBkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdkZWZzJyk7XG4gICAgICAgIGxldCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdsaW5lJyk7XG5cbiAgICAgICAgZGVmcy5hcHBlbmRDaGlsZCh0aGlzLmdldENEQXJyb3doZWFkKCkpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZGVmcyk7XG5cbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdpZCcsICdhcnJvdycpO1xuXG4gICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gxJywgMC4wKTtcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneTEnLCAtdGhpcy5vcHRzLmFycm93LnRoaWNrbmVzcyAvIDIuMCk7XG4gICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gyJywgbCk7XG4gICAgICAgIGxpbmUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3kyJywgLXRoaXMub3B0cy5hcnJvdy50aGlja25lc3MgLyAyLjApO1xuICAgICAgICBsaW5lLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHJva2Utd2lkdGgnLCB0aGlzLm9wdHMuYXJyb3cudGhpY2tuZXNzKTtcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlJywgdGhpcy50aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcbiAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnbWFya2VyLWVuZCcsICd1cmwoI2Fycm93aGVhZCknKTtcblxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQobGluZSk7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsIGAwICR7LXMgLyAyLjB9ICR7bCArIHMgKiAoNyAvIDQuNSl9ICR7c31gKTtcblxuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdGlvbkRyYXdlcjtcbiIsIi8vQHRzLWNoZWNrXG5jb25zdCBSZWFjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3Rpb24nKVxuXG5jbGFzcyBSZWFjdGlvblBhcnNlciB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaGV4IGNvZGUgb2YgYSBjb2xvciBhc3NvY2lhdGVkIHdpdGggYSBrZXkgZnJvbSB0aGUgY3VycmVudCB0aGVtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByZWFjdGlvblNtaWxlcyBBIHJlYWN0aW9uIFNNSUxFUy5cbiAgICAgKiBAcmV0dXJucyB7UmVhY3Rpb259IEEgcmVhY3Rpb24gb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZShyZWFjdGlvblNtaWxlcykge1xuICAgICAgICBsZXQgcmVhY3Rpb24gPSBuZXcgUmVhY3Rpb24ocmVhY3Rpb25TbWlsZXMpO1xuXG4gICAgICAgIHJldHVybiByZWFjdGlvbjtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3Rpb25QYXJzZXI7IiwiLy9AdHMtY2hlY2tcclxuY29uc3QgQXJyYXlIZWxwZXIgPSByZXF1aXJlKCcuL0FycmF5SGVscGVyJylcclxuY29uc3QgVmVjdG9yMiA9IHJlcXVpcmUoJy4vVmVjdG9yMicpXHJcbmNvbnN0IFZlcnRleCA9IHJlcXVpcmUoJy4vVmVydGV4JylcclxuY29uc3QgUmluZ0Nvbm5lY3Rpb24gPSByZXF1aXJlKCcuL1JpbmdDb25uZWN0aW9uJylcclxuXHJcbi8qKiBcclxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSByaW5nLlxyXG4gKiBcclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGlkIFRoZSBpZCBvZiB0aGlzIHJpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IG1lbWJlcnMgQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdmVydGV4IGlkcyBvZiB0aGUgcmluZyBtZW1iZXJzLlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBlZGdlcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSBlZGdlIGlkcyBvZiB0aGUgZWRnZXMgYmV0d2VlbiB0aGUgcmluZyBtZW1iZXJzLlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBpbnNpZGVycyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0ZXggaWRzIG9mIHRoZSB2ZXJ0aWNlcyBjb250YWluZWQgd2l0aGluIHRoZSByaW5nIGlmIGl0IGlzIGEgYnJpZGdlZCByaW5nLlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBuZWlnaGJvdXJzIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGlkcyBvZiBuZWlnaGJvdXJpbmcgcmluZ3MuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcG9zaXRpb25lZCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgaGFzIGJlZW4gcG9zaXRpb25lZC5cclxuICogQHByb3BlcnR5IHtWZWN0b3IyfSBjZW50ZXIgVGhlIGNlbnRlciBvZiB0aGlzIHJpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7UmluZ1tdfSByaW5ncyBUaGUgcmluZ3MgY29udGFpbmVkIHdpdGhpbiB0aGlzIHJpbmcgaWYgdGhpcyByaW5nIGlzIGJyaWRnZWQuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNCcmlkZ2VkIEEgYm9vbGVhbiB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgaXMgYnJpZGdlZC5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBpc1BhcnRPZkJyaWRnZWQgQSBib29sZWFuIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyBpcyBwYXJ0IG9mIGEgYnJpZGdlIHJpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNTcGlybyBBIGJvb2xlYW4gd2hldGhlciBvciBub3QgdGhpcyByaW5nIGlzIHBhcnQgb2YgYSBzcGlyby5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBpc0Z1c2VkIEEgYm9vbGVhbiB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgaXMgcGFydCBvZiBhIGZ1c2VkIHJpbmcuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBjZW50cmFsQW5nbGUgVGhlIGNlbnRyYWwgYW5nbGUgb2YgdGhpcyByaW5nLlxyXG4gKiBAcHJvcGVydHkge0Jvb2xlYW59IGNhbkZsaXAgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyByaW5nIGFsbG93cyBmbGlwcGluZyBvZiBhdHRhY2hlZCB2ZXJ0aWNlcyB0byB0aGUgaW5zaWRlIG9mIHRoZSByaW5nLlxyXG4gKi9cclxuY2xhc3MgUmluZyB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGNsYXNzIFJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJbXX0gbWVtYmVycyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0ZXggaWRzIG9mIHRoZSBtZW1iZXJzIG9mIHRoZSByaW5nIHRvIGJlIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lbWJlcnMpIHtcclxuICAgICAgICB0aGlzLmlkID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1lbWJlcnMgPSBtZW1iZXJzO1xyXG4gICAgICAgIHRoaXMuZWRnZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmluc2lkZXJzID0gW107XHJcbiAgICAgICAgdGhpcy5uZWlnaGJvdXJzID0gW107XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBuZXcgVmVjdG9yMigwLCAwKTtcclxuICAgICAgICB0aGlzLnJpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5pc0JyaWRnZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzUGFydE9mQnJpZGdlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNTcGlybyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNGdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2VudHJhbEFuZ2xlID0gMC4wO1xyXG4gICAgICAgIHRoaXMuY2FuRmxpcCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2xvbmVzIHRoaXMgcmluZyBhbmQgcmV0dXJucyB0aGUgY2xvbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge1Jpbmd9IEEgY2xvbmUgb2YgdGhpcyByaW5nLlxyXG4gICAgICovXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgUmluZyh0aGlzLm1lbWJlcnMpO1xyXG5cclxuICAgICAgICBjbG9uZS5pZCA9IHRoaXMuaWQ7XHJcbiAgICAgICAgY2xvbmUuaW5zaWRlcnMgPSBBcnJheUhlbHBlci5jbG9uZSh0aGlzLmluc2lkZXJzKTtcclxuICAgICAgICBjbG9uZS5uZWlnaGJvdXJzID0gQXJyYXlIZWxwZXIuY2xvbmUodGhpcy5uZWlnaGJvdXJzKTtcclxuICAgICAgICBjbG9uZS5wb3NpdGlvbmVkID0gdGhpcy5wb3NpdGlvbmVkO1xyXG4gICAgICAgIGNsb25lLmNlbnRlciA9IHRoaXMuY2VudGVyLmNsb25lKCk7XHJcbiAgICAgICAgY2xvbmUucmluZ3MgPSBBcnJheUhlbHBlci5jbG9uZSh0aGlzLnJpbmdzKTtcclxuICAgICAgICBjbG9uZS5pc0JyaWRnZWQgPSB0aGlzLmlzQnJpZGdlZDtcclxuICAgICAgICBjbG9uZS5pc1BhcnRPZkJyaWRnZWQgPSB0aGlzLmlzUGFydE9mQnJpZGdlZDtcclxuICAgICAgICBjbG9uZS5pc1NwaXJvID0gdGhpcy5pc1NwaXJvO1xyXG4gICAgICAgIGNsb25lLmlzRnVzZWQgPSB0aGlzLmlzRnVzZWQ7XHJcbiAgICAgICAgY2xvbmUuY2VudHJhbEFuZ2xlID0gdGhpcy5jZW50cmFsQW5nbGU7XHJcbiAgICAgICAgY2xvbmUuY2FuRmxpcCA9IHRoaXMuY2FuRmxpcDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgc2l6ZSAobnVtYmVyIG9mIG1lbWJlcnMpIG9mIHRoaXMgcmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgc2l6ZSAobnVtYmVyIG9mIG1lbWJlcnMpIG9mIHRoaXMgcmluZy5cclxuICAgICAqL1xyXG4gICAgZ2V0U2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHBvbHlnb24gcmVwcmVzZW50YXRpb24gKGFuIGFycmF5IG9mIHRoZSByaW5nLW1lbWJlcnMgcG9zaXRpb25hbCB2ZWN0b3JzKSBvZiB0aGlzIHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgQW4gYXJyYXkgb2YgdmVydGljZXMgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJbXX0gQW4gYXJyYXkgb2YgdGhlIHBvc2l0aW9uYWwgdmVjdG9ycyBvZiB0aGUgcmluZyBtZW1iZXJzLlxyXG4gICAgICovXHJcbiAgICBnZXRQb2x5Z29uKHZlcnRpY2VzKSB7XHJcbiAgICAgICAgbGV0IHBvbHlnb24gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcG9seWdvbi5wdXNoKHZlcnRpY2VzW3RoaXMubWVtYmVyc1tpXV0ucG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvbHlnb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBvZiB0aGlzIHJpbmcgaW4gcmVsYXRpb24gdG8gdGhlIGNvb3JkaW5hdGUgc3lzdGVtLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAgICovXHJcbiAgICBnZXRBbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5QSSAtIHRoaXMuY2VudHJhbEFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9vcHMgb3ZlciB0aGUgbWVtYmVycyBvZiB0aGlzIHJpbmcgZnJvbSBhIGdpdmVuIHN0YXJ0IHBvc2l0aW9uIGluIGEgZGlyZWN0aW9uIG9wcG9zaXRlIHRvIHRoZSB2ZXJ0ZXggaWQgcGFzc2VkIGFzIHRoZSBwcmV2aW91c0lkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIFRoZSB2ZXJ0aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgdmVydGV4IGlkIGFzIGEgcGFyYW1ldGVyLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0VmVydGV4SWQgVGhlIHZlcnRleCBpZCBvZiB0aGUgc3RhcnQgdmVydGV4LlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByZXZpb3VzVmVydGV4SWQgVGhlIHZlcnRleCBpZCBvZiB0aGUgcHJldmlvdXMgdmVydGV4ICh0aGUgbG9vcCBjYWxsaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIHJ1biBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uIG9mIHRoaXMgdmVydGV4KS5cclxuICAgICAqL1xyXG4gICAgZWFjaE1lbWJlcih2ZXJ0aWNlcywgY2FsbGJhY2ssIHN0YXJ0VmVydGV4SWQsIHByZXZpb3VzVmVydGV4SWQpIHtcclxuICAgICAgICBzdGFydFZlcnRleElkID0gc3RhcnRWZXJ0ZXhJZCB8fCBzdGFydFZlcnRleElkID09PSAwID8gc3RhcnRWZXJ0ZXhJZCA6IHRoaXMubWVtYmVyc1swXTtcclxuICAgICAgICBsZXQgY3VycmVudCA9IHN0YXJ0VmVydGV4SWQ7XHJcbiAgICAgICAgbGV0IG1heCA9IDA7XHJcblxyXG4gICAgICAgIHdoaWxlIChjdXJyZW50ICE9IG51bGwgJiYgbWF4IDwgMTAwKSB7XHJcbiAgICAgICAgICAgIGxldCBwcmV2ID0gY3VycmVudDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHByZXYpO1xyXG4gICAgICAgICAgICBjdXJyZW50ID0gdmVydGljZXNbY3VycmVudF0uZ2V0TmV4dEluUmluZyh2ZXJ0aWNlcywgdGhpcy5pZCwgcHJldmlvdXNWZXJ0ZXhJZCk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzVmVydGV4SWQgPSBwcmV2O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU3RvcCB3aGlsZSBsb29wIHdoZW4gYXJyaXZpbmcgYmFjayBhdCB0aGUgc3RhcnQgdmVydGV4XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09IHN0YXJ0VmVydGV4SWQpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtYXgrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG5laWdoYm91cmluZyByaW5ncyBvZiB0aGlzIHJpbmcgb3JkZXJlZCBieSByaW5nIHNpemUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSaW5nQ29ubmVjdGlvbltdfSByaW5nQ29ubmVjdGlvbnMgQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0W119IEFuIGFycmF5IG9mIG5laWdoYm91cmluZyByaW5ncyBzb3J0ZWQgYnkgcmluZyBzaXplLiBFeGFtcGxlOiB7IG46IDUsIG5laWdoYm91cjogMSB9LlxyXG4gICAgICovXHJcbiAgICBnZXRPcmRlcmVkTmVpZ2hib3VycyhyaW5nQ29ubmVjdGlvbnMpIHtcclxuICAgICAgICBsZXQgb3JkZXJlZE5laWdoYm91cnMgPSBBcnJheSh0aGlzLm5laWdoYm91cnMubGVuZ3RoKTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdmVydGljZXMgPSBSaW5nQ29ubmVjdGlvbi5nZXRWZXJ0aWNlcyhyaW5nQ29ubmVjdGlvbnMsIHRoaXMuaWQsIHRoaXMubmVpZ2hib3Vyc1tpXSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBvcmRlcmVkTmVpZ2hib3Vyc1tpXSA9IHtcclxuICAgICAgICAgICAgICAgIG46IHZlcnRpY2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG5laWdoYm91cjogdGhpcy5uZWlnaGJvdXJzW2ldXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcmRlcmVkTmVpZ2hib3Vycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIC8vIFNvcnQgaGlnaGVzdCB0byBsb3dlc3RcclxuICAgICAgICAgICAgcmV0dXJuIGIubiAtIGEubjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9yZGVyZWROZWlnaGJvdXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGlzIHJpbmcgaXMgYW4gaW1wbGljaXRseSBkZWZpbmVkIGJlbnplbmUtbGlrZSAoZS5nLiBDMT1DQz1DQz1DMSkgd2l0aCA2IG1lbWJlcnMgYW5kIDMgZG91YmxlIGJvbmRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIEFuIGFycmF5IG9mIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgaXMgYW4gaW1wbGljaXRseSBkZWZpbmVkIGJlbnplbmUtbGlrZS5cclxuICAgICAqL1xyXG4gICAgaXNCZW56ZW5lTGlrZSh2ZXJ0aWNlcykge1xyXG4gICAgICAgIGxldCBkYiA9IHRoaXMuZ2V0RG91YmxlQm9uZENvdW50KHZlcnRpY2VzKTtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy5tZW1iZXJzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRiID09PSAzICYmIGxlbmd0aCA9PT0gNiB8fFxyXG4gICAgICAgICAgICAgICBkYiA9PT0gMiAmJiBsZW5ndGggPT09IDUgO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgZG91YmxlIGJvbmRzIGluc2lkZSB0aGlzIHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgQW4gYXJyYXkgb2YgdmVydGljZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBkb3VibGUgYm9uZHMgaW5zaWRlIHRoaXMgcmluZy5cclxuICAgICAqL1xyXG4gICAgZ2V0RG91YmxlQm9uZENvdW50KHZlcnRpY2VzKSB7XHJcbiAgICAgICAgbGV0IGRvdWJsZUJvbmRDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBhdG9tID0gdmVydGljZXNbdGhpcy5tZW1iZXJzW2ldXS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhdG9tLmJvbmRUeXBlID09PSAnPScgfHwgYXRvbS5icmFuY2hCb25kID09PSAnPScpIHtcclxuICAgICAgICAgICAgICAgIGRvdWJsZUJvbmRDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZG91YmxlQm9uZENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgcmluZyBjb250YWlucyBhIG1lbWJlciB3aXRoIGEgZ2l2ZW4gdmVydGV4IGlkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2ZXJ0ZXhJZCBBIHZlcnRleCBpZC5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgY29udGFpbnMgYSBtZW1iZXIgd2l0aCB0aGUgZ2l2ZW4gdmVydGV4IGlkLlxyXG4gICAgICovXHJcbiAgICBjb250YWlucyh2ZXJ0ZXhJZCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1lbWJlcnNbaV0gPT0gdmVydGV4SWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUmluZzsiLCIvL0B0cy1jaGVja1xyXG5jb25zdCBWZXJ0ZXggPSByZXF1aXJlKCcuL1ZlcnRleCcpXHJcbmNvbnN0IFJpbmcgPSByZXF1aXJlKCcuL1JpbmcnKVxyXG5cclxuLyoqIFxyXG4gKiBBIGNsYXNzIHJlcHJlc2VudGluZyBhIHJpbmcgY29ubmVjdGlvbi5cclxuICogXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBpZCBUaGUgaWQgb2YgdGhpcyByaW5nIGNvbm5lY3Rpb24uXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBmaXJzdFJpbmdJZCBBIHJpbmcgaWQuXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzZWNvbmRSaW5nSWQgQSByaW5nIGlkLlxyXG4gKiBAcHJvcGVydHkge1NldDxOdW1iZXI+fSB2ZXJ0aWNlcyBBIHNldCBjb250YWluaW5nIHRoZSB2ZXJ0ZXggaWRzIHBhcnRpY2lwYXRpbmcgaW4gdGhlIHJpbmcgY29ubmVjdGlvbi5cclxuICovXHJcbmNsYXNzIFJpbmdDb25uZWN0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgY2xhc3MgUmluZ0Nvbm5lY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSaW5nfSBmaXJzdFJpbmcgQSByaW5nLlxyXG4gICAgICogQHBhcmFtIHtSaW5nfSBzZWNvbmRSaW5nIEEgcmluZy5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZmlyc3RSaW5nLCBzZWNvbmRSaW5nKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5maXJzdFJpbmdJZCA9IGZpcnN0UmluZy5pZDtcclxuICAgICAgICB0aGlzLnNlY29uZFJpbmdJZCA9IHNlY29uZFJpbmcuaWQ7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBmaXJzdFJpbmcubWVtYmVycy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICBsZXQgYyA9IGZpcnN0UmluZy5tZW1iZXJzW21dO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBzZWNvbmRSaW5nLm1lbWJlcnMubGVuZ3RoOyBuKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBkID0gc2Vjb25kUmluZy5tZW1iZXJzW25dO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjID09PSBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWZXJ0ZXgoYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRpbmcgYSB2ZXJ0ZXggdG8gdGhlIHJpbmcgY29ubmVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgQSB2ZXJ0ZXggaWQuXHJcbiAgICAgKi9cclxuICAgIGFkZFZlcnRleCh2ZXJ0ZXhJZCkge1xyXG4gICAgICAgIHRoaXMudmVydGljZXMuYWRkKHZlcnRleElkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgcmluZyBpZCBvZiB0aGlzIHJpbmcgY29ubmVjdGlvbiB0aGF0IGlzIG5vdCB0aGUgcmluZyBpZCBzdXBwbGllZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLiBUaGUgbmV3IHJpbmcgaWQgdG8gYmUgc2V0LlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG90aGVyUmluZ0lkIEEgcmluZyBpZC4gVGhlIGlkIHRoYXQgaXMgTk9UIHRvIGJlIHVwZGF0ZWQuXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZU90aGVyKHJpbmdJZCwgb3RoZXJSaW5nSWQpIHtcclxuICAgICAgICBpZiAodGhpcy5maXJzdFJpbmdJZCA9PT0gb3RoZXJSaW5nSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRSaW5nSWQgPSByaW5nSWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5maXJzdFJpbmdJZCA9IHJpbmdJZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IGEgcmluZyB3aXRoIGEgZ2l2ZW4gaWQgaXMgcGFydGljaXBhdGluZyBpbiB0aGlzIHJpbmcgY29ubmVjdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJpbmdJZCBBIHJpbmcgaWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgYSByaW5nIHdpdGggYSBnaXZlbiBpZCBwYXJ0aWNpcGF0ZXMgaW4gdGhpcyByaW5nIGNvbm5lY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5zUmluZyhyaW5nSWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maXJzdFJpbmdJZCA9PT0gcmluZ0lkIHx8IHRoaXMuc2Vjb25kUmluZ0lkID09PSByaW5nSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyByaW5nIGNvbm5lY3Rpb24gaXMgYSBicmlkZ2UgaW4gYSBicmlkZ2VkIHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgVGhlIGFycmF5IG9mIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHJpbmcgY29ubmVjdGlvbiBpcyBhIGJyaWRnZS5cclxuICAgICAqL1xyXG4gICAgaXNCcmlkZ2UodmVydGljZXMpIHtcclxuICAgICAgaWYgKHRoaXMudmVydGljZXMuc2l6ZSA+IDIpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGxldCB2ZXJ0ZXhJZCBvZiB0aGlzLnZlcnRpY2VzKSB7XHJcbiAgICAgICAgICBpZih2ZXJ0aWNlc1t2ZXJ0ZXhJZF0udmFsdWUucmluZ3MubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdHdvIHJpbmdzIGFyZSBjb25uZWN0ZWQgYnkgYSBicmlkZ2VkIGJvbmQuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtSaW5nQ29ubmVjdGlvbltdfSByaW5nQ29ubmVjdGlvbnMgQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9ucyBjb250YWluaW5nIHRoZSByaW5nIGNvbm5lY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIEFuIGFycmF5IG9mIHZlcnRpY2VzIGNvbnRhaW5pbmcgdGhlIHZlcnRpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmaXJzdFJpbmdJZCBBIHJpbmcgaWQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2Vjb25kUmluZ0lkIEEgcmluZyBpZC5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0d28gcmluZ3MgYXIgY29ubmVjdGVkIGJ5IGEgYnJpZGdlZCBib25kLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaXNCcmlkZ2UocmluZ0Nvbm5lY3Rpb25zLCB2ZXJ0aWNlcywgZmlyc3RSaW5nSWQsIHNlY29uZFJpbmdJZCkge1xyXG4gICAgICBsZXQgcmluZ0Nvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHJpbmdDb25uZWN0aW9uID0gcmluZ0Nvbm5lY3Rpb25zW2ldO1xyXG5cclxuICAgICAgICAgIGlmIChyaW5nQ29ubmVjdGlvbi5maXJzdFJpbmdJZCA9PT0gZmlyc3RSaW5nSWQgJiYgcmluZ0Nvbm5lY3Rpb24uc2Vjb25kUmluZ0lkID09PSBzZWNvbmRSaW5nSWQgfHxcclxuICAgICAgICAgICAgICByaW5nQ29ubmVjdGlvbi5maXJzdFJpbmdJZCA9PT0gc2Vjb25kUmluZ0lkICYmIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gZmlyc3RSaW5nSWQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmluZ0Nvbm5lY3Rpb24uaXNCcmlkZ2UodmVydGljZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRydW5zIHRoZSBuZWlnaGJvdXJpbmcgcmluZ3Mgb2YgYSBnaXZlbiByaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7UmluZ0Nvbm5lY3Rpb25bXX0gcmluZ0Nvbm5lY3Rpb25zIEFuIGFycmF5IG9mIHJpbmcgY29ubmVjdGlvbnMgY29udGFpbmluZyByaW5nIGNvbm5lY3Rpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByaW5nSWQgQSByaW5nIGlkLlxyXG4gICAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBvZiByaW5nIGlkcyBvZiBuZWlnaGJvdXJpbmcgcmluZ3MuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXROZWlnaGJvdXJzKHJpbmdDb25uZWN0aW9ucywgcmluZ0lkKSB7XHJcbiAgICAgICAgbGV0IG5laWdoYm91cnMgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJpbmdDb25uZWN0aW9uID0gcmluZ0Nvbm5lY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJpbmdDb25uZWN0aW9uLmZpcnN0UmluZ0lkID09PSByaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgIG5laWdoYm91cnMucHVzaChyaW5nQ29ubmVjdGlvbi5zZWNvbmRSaW5nSWQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gcmluZ0lkKSB7XHJcbiAgICAgICAgICAgICAgICBuZWlnaGJvdXJzLnB1c2gocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmVpZ2hib3VycztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdmVydGV4IGlkcyBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiByaW5nIGNvbm5lY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtSaW5nQ29ubmVjdGlvbltdfSByaW5nQ29ubmVjdGlvbnMgQW4gYXJyYXkgb2YgcmluZyBjb25uZWN0aW9ucyBjb250YWluaW5nIHJpbmcgY29ubmVjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpcnN0UmluZ0lkIEEgcmluZyBpZC5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWNvbmRSaW5nSWQgQSByaW5nIGlkLlxyXG4gICAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBvZiB2ZXJ0ZXggaWRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmluZyBjb25uZWN0aW9uLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0VmVydGljZXMocmluZ0Nvbm5lY3Rpb25zLCBmaXJzdFJpbmdJZCwgc2Vjb25kUmluZ0lkKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByaW5nQ29ubmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJpbmdDb25uZWN0aW9uID0gcmluZ0Nvbm5lY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICBpZiAocmluZ0Nvbm5lY3Rpb24uZmlyc3RSaW5nSWQgPT09IGZpcnN0UmluZ0lkICYmIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gc2Vjb25kUmluZ0lkIHx8XHJcbiAgICAgICAgICAgICAgICByaW5nQ29ubmVjdGlvbi5maXJzdFJpbmdJZCA9PT0gc2Vjb25kUmluZ0lkICYmIHJpbmdDb25uZWN0aW9uLnNlY29uZFJpbmdJZCA9PT0gZmlyc3RSaW5nSWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbLi4ucmluZ0Nvbm5lY3Rpb24udmVydGljZXNdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJpbmdDb25uZWN0aW9uIiwiLy9AdHMtY2hlY2tcclxuY29uc3QgR3JhcGggPSByZXF1aXJlKCcuL0dyYXBoJylcclxuXHJcbi8qKiBBIGNsYXNzIGVuY2Fwc3VsYXRpbmcgdGhlIGZ1bmN0aW9uYWxpdHkgdG8gZmluZCB0aGUgc21hbGxlc3Qgc2V0IG9mIHNtYWxsZXN0IHJpbmdzIGluIGEgZ3JhcGguICovXHJcbmNsYXNzIFNTU1Ige1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgYXJyYXlzLCBlYWNoIHJlcHJlc2VudGluZyBhIHJpbmcgZnJvbSB0aGUgc21hbGxlc3Qgc2V0IG9mIHNtYWxsZXN0IHJpbmdzIGluIHRoZSBncmFwaC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtHcmFwaH0gZ3JhcGggQSBHcmFwaCBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtleHBlcmltZW50YWw9ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBleHBlcmltZW50YWwgU1NTUi5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheVtdfSBBbiBhcnJheSBjb250YWluaW5nIGFycmF5cywgZWFjaCByZXByZXNlbnRpbmcgYSByaW5nIGZyb20gdGhlIHNtYWxsZXN0IHNldCBvZiBzbWFsbGVzdCByaW5ncyBpbiB0aGUgZ3JvdXAuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRSaW5ncyhncmFwaCwgZXhwZXJpbWVudGFsPWZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGFkamFjZW5jeU1hdHJpeCA9IGdyYXBoLmdldENvbXBvbmVudHNBZGphY2VuY3lNYXRyaXgoKTtcclxuICAgICAgICBpZiAoYWRqYWNlbmN5TWF0cml4Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjb25uZWN0ZWRDb21wb25lbnRzID0gR3JhcGguZ2V0Q29ubmVjdGVkQ29tcG9uZW50cyhhZGphY2VuY3lNYXRyaXgpO1xyXG4gICAgICAgIGxldCByaW5ncyA9IEFycmF5KCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29ubmVjdGVkQ29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY29ubmVjdGVkQ29tcG9uZW50ID0gY29ubmVjdGVkQ29tcG9uZW50c1tpXTtcclxuICAgICAgICAgICAgbGV0IGNjQWRqYWNlbmN5TWF0cml4ID0gZ3JhcGguZ2V0U3ViZ3JhcGhBZGphY2VuY3lNYXRyaXgoWy4uLmNvbm5lY3RlZENvbXBvbmVudF0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGFyckJvbmRDb3VudCA9IG5ldyBVaW50MTZBcnJheShjY0FkamFjZW5jeU1hdHJpeC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBsZXQgYXJyUmluZ0NvdW50ID0gbmV3IFVpbnQxNkFycmF5KGNjQWRqYWNlbmN5TWF0cml4Lmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNjQWRqYWNlbmN5TWF0cml4Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJSaW5nQ291bnRbal0gPSAwO1xyXG4gICAgICAgICAgICAgICAgYXJyQm9uZENvdW50W2pdID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNjQWRqYWNlbmN5TWF0cml4W2pdLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyQm9uZENvdW50W2pdICs9IGNjQWRqYWNlbmN5TWF0cml4W2pdW2tdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGVkZ2UgbnVtYmVyIGFuZCB0aGUgdGhlb3JldGljYWwgbnVtYmVyIG9mIHJpbmdzIGluIFNTU1JcclxuICAgICAgICAgICAgbGV0IG5FZGdlcyA9IDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNjQWRqYWNlbmN5TWF0cml4Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaiArIDE7IGsgPCBjY0FkamFjZW5jeU1hdHJpeC5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5FZGdlcyArPSBjY0FkamFjZW5jeU1hdHJpeFtqXVtrXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IG5Tc3NyID0gbkVkZ2VzIC0gY2NBZGphY2VuY3lNYXRyaXgubGVuZ3RoICsgMTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5FZGdlcywgY2NBZGphY2VuY3lNYXRyaXgubGVuZ3RoLCBuU3Nzcik7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFNTU1IuZ2V0RWRnZUxpc3QoY2NBZGphY2VuY3lNYXRyaXgpKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coY2NBZGphY2VuY3lNYXRyaXgpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgYWxsIHZlcnRpY2VzIGhhdmUgMyBpbmNpZGVudCBlZGdlcywgY2FsY3VsYXRlIHdpdGggZGlmZmVyZW50IGZvcm11bGEgKHNlZSBFdWxlcilcclxuICAgICAgICAgICAgbGV0IGFsbFRocmVlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJCb25kQ291bnQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcnJCb25kQ291bnRbal0gIT09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxUaHJlZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYWxsVGhyZWUpIHtcclxuICAgICAgICAgICAgICAgIG5Tc3NyID0gMi4wICsgbkVkZ2VzIC0gY2NBZGphY2VuY3lNYXRyaXgubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBbGwgdmVydGljZXMgYXJlIHBhcnQgb2Ygb25lIHJpbmcgaWYgdGhlcmVzIG9ubHkgb25lIHJpbmcuXHJcbiAgICAgICAgICAgIGlmIChuU3NzciA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmluZ3MucHVzaChbLi4uY29ubmVjdGVkQ29tcG9uZW50XSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGV4cGVyaW1lbnRhbCkge1xyXG4gICAgICAgICAgICAgICAgblNzc3IgPSA5OTk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCB7IGQsIHBlLCBwZV9wcmltZSB9ID0gU1NTUi5nZXRQYXRoSW5jbHVkZWREaXN0YW5jZU1hdHJpY2VzKGNjQWRqYWNlbmN5TWF0cml4KTtcclxuICAgICAgICAgICAgbGV0IGMgPSBTU1NSLmdldFJpbmdDYW5kaWRhdGVzKGQsIHBlLCBwZV9wcmltZSk7XHJcbiAgICAgICAgICAgIGxldCBzc3NyID0gU1NTUi5nZXRTU1NSKGMsIGQsIGNjQWRqYWNlbmN5TWF0cml4LCBwZSwgcGVfcHJpbWUsIGFyckJvbmRDb3VudCwgYXJyUmluZ0NvdW50LCBuU3Nzcik7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNzc3IubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCByaW5nID0gQXJyYXkoc3NzcltqXS5zaXplKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmFsIG9mIHNzc3Jbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIGlkIG9mIHRoZSB2ZXJ0ZXggYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIHJpbmdbaW5kZXgrK10gPSBjb25uZWN0ZWRDb21wb25lbnRbdmFsXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByaW5ncy5wdXNoKHJpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAvLyBTbywgZm9yIHNvbWUgcmVhc29uLCB0aGlzIHdvdWxkIHJldHVybiB0aHJlZSByaW5ncyBmb3IgQzFDQ0NDMkNDMUNDQ0MyLCB3aGljaCBpcyB3cm9uZ1xyXG4gICAgICAgIC8vIEFzIEkgZG9uJ3QgaGF2ZSB0aW1lIHRvIGZpeCB0aGlzIHByb3Blcmx5LCBpdCB3aWxsIHN0YXkgaW4uIEknbSBzb3JyeSBuZXh0IHBlcnNvbiB3aG8gd29ya3NcclxuICAgICAgICAvLyBvbiBpdC4gQXQgdGhhdCBwb2ludCBpdCBtaWdodCBiZSBiZXN0IHRvIHJlaW1wbGVtZW50IHRoZSB3aG9sZSBTU1NSIHRoaW5nLi4uXHJcbiAgICAgICAgcmV0dXJuIHJpbmdzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIHByaW50YWJsZSBzdHJpbmcgZnJvbSBhIG1hdHJpeCAoMkQgYXJyYXkpLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IG1hdHJpeCBBIDJEIGFycmF5LlxyXG4gICAgICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBtYXRyaXguXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBtYXRyaXhUb1N0cmluZyhtYXRyaXgpIHtcclxuICAgICAgICBsZXQgc3RyID0gJyc7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWF0cml4W2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gbWF0cml4W2ldW2pdICsgJyAnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdHIgKz0gJ1xcbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuZXMgdGhlIHR3byBwYXRoLWluY2x1ZGVkIGRpc3RhbmNlIG1hdHJpY2VzIHVzZWQgdG8gZmluZCB0aGUgc3Nzci5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBwYXRoLWluY2x1ZGVkIGRpc3RhbmNlIG1hdHJpY2VzLiB7IHAxLCBwMiB9XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRQYXRoSW5jbHVkZWREaXN0YW5jZU1hdHJpY2VzKGFkamFjZW5jeU1hdHJpeCkge1xyXG4gICAgICAgIGxldCBsZW5ndGggPSBhZGphY2VuY3lNYXRyaXgubGVuZ3RoO1xyXG4gICAgICAgIGxldCBkID0gQXJyYXkobGVuZ3RoKTtcclxuICAgICAgICBsZXQgcGUgPSBBcnJheShsZW5ndGgpO1xyXG4gICAgICAgIGxldCBwZV9wcmltZSA9IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgICAgdmFyIGwgPSAwO1xyXG4gICAgICAgIHZhciBtID0gMDtcclxuICAgICAgICB2YXIgbiA9IDA7XHJcblxyXG4gICAgICAgIHZhciBpID0gbGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgZFtpXSA9IEFycmF5KGxlbmd0aCk7XHJcbiAgICAgICAgICAgIHBlW2ldID0gQXJyYXkobGVuZ3RoKTtcclxuICAgICAgICAgICAgcGVfcHJpbWVbaV0gPSBBcnJheShsZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGogPSBsZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcclxuICAgICAgICAgICAgICAgIGRbaV1bal0gPSAoaSA9PT0gaiB8fCBhZGphY2VuY3lNYXRyaXhbaV1bal0gPT09IDEpID8gYWRqYWNlbmN5TWF0cml4W2ldW2pdIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkW2ldW2pdID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVbaV1bal0gPSBbW1tpLCBqXV1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwZVtpXVtqXSA9IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal0gPSBBcnJheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgayA9IGxlbmd0aDtcclxuICAgICAgICB2YXIgajtcclxuICAgICAgICB3aGlsZSAoay0tKSB7XHJcbiAgICAgICAgICAgIGkgPSBsZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgIGogPSBsZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoai0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNQYXRoTGVuZ3RoID0gZFtpXVtqXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXRoTGVuZ3RoID0gZFtpXVtrXSArIGRba11bal07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1BhdGhMZW5ndGggPiBuZXdQYXRoTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsLCBtLCBuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNQYXRoTGVuZ3RoID09PSBuZXdQYXRoTGVuZ3RoICsgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVfcHJpbWVbaV1bal0gPSBbcGVbaV1bal0ubGVuZ3RoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtpXVtqXS5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZV9wcmltZVtpXVtqXVtsXSA9IFtwZVtpXVtqXVtsXS5sZW5ndGhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBwZVtpXVtqXVtsXS5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlX3ByaW1lW2ldW2pdW2xdW21dID0gW3BlW2ldW2pdW2xdW21dLmxlbmd0aF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBwZVtpXVtqXVtsXVttXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChuLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlX3ByaW1lW2ldW2pdW2xdW21dW25dID0gW3BlW2ldW2pdW2xdW21dWzBdLCBwZVtpXVtqXVtsXVttXVsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZV9wcmltZVtpXVtqXSA9IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRbaV1bal0gPSBuZXdQYXRoTGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVbaV1bal0gPSBbW11dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHBlW2ldW2tdWzBdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVbaV1bal1bMF0ucHVzaChwZVtpXVtrXVswXVtsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtrXVtqXVswXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlW2ldW2pdWzBdLnB1c2gocGVba11bal1bMF1bbF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c1BhdGhMZW5ndGggPT09IG5ld1BhdGhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlW2ldW2tdLmxlbmd0aCAmJiBwZVtrXVtqXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlW2ldW2pdLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0bXAgPSBBcnJheSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVbaV1ba11bMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2gocGVbaV1ba11bMF1bbF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHBlW2tdW2pdWzBdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2tdW2pdWzBdW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlW2ldW2pdLnB1c2godG1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRtcCA9IEFycmF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHBlW2ldW2tdWzBdLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2ldW2tdWzBdW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBwZVtrXVtqXVswXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAucHVzaChwZVtrXVtqXVswXVtsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZVtpXVtqXVswXSA9IHRtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c1BhdGhMZW5ndGggPT09IG5ld1BhdGhMZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVfcHJpbWVbaV1bal0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVbaV1ba11bMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2ldW2tdWzBdW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVba11bal1bMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2tdW2pdWzBdW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZV9wcmltZVtpXVtqXS5wdXNoKHRtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG1wID0gQXJyYXkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVbaV1ba11bMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2ldW2tdWzBdW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gcGVba11bal1bMF0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wdXNoKHBlW2tdW2pdWzBdW2xdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZV9wcmltZVtpXVtqXVswXSA9IHRtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZDogZCxcclxuICAgICAgICAgICAgcGU6IHBlLFxyXG4gICAgICAgICAgICBwZV9wcmltZTogcGVfcHJpbWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSByaW5nIGNhbmRpZGF0ZXMgZnJvbSB0aGUgcGF0aC1pbmNsdWRlZCBkaXN0YW5jZSBtYXRyaWNlcy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtBcnJheVtdfSBkIFRoZSBkaXN0YW5jZSBtYXRyaXguXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IHBlIEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIHNob3J0ZXN0IHBhdGhzLlxyXG4gICAgICogQHBhcmFtIHtBcnJheVtdfSBwZV9wcmltZSBBIG1hdHJpeCBjb250YWluaW5nIHRoZSBzaG9ydGVzdCBwYXRocyArIG9uZSB2ZXJ0ZXguXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXlbXX0gVGhlIHJpbmcgY2FuZGlkYXRlcy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFJpbmdDYW5kaWRhdGVzKGQsIHBlLCBwZV9wcmltZSkge1xyXG4gICAgICAgIGxldCBsZW5ndGggPSBkLmxlbmd0aDtcclxuICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IEFycmF5KCk7XHJcbiAgICAgICAgbGV0IGMgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkW2ldW2pdID09PSAwIHx8IChwZVtpXVtqXS5sZW5ndGggPT09IDEgJiYgcGVfcHJpbWVbaV1bal0gPT09IDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGMgaXMgdGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgY3ljbGUuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlX3ByaW1lW2ldW2pdLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gMiAqIChkW2ldW2pdICsgMC41KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gMiAqIGRbaV1bal07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKFtjLCBwZVtpXVtqXSwgcGVfcHJpbWVbaV1bal1dKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbmRpZGF0ZXMgaGF2ZSB0byBiZSBzb3J0ZWQgYnkgY1xyXG4gICAgICAgIGNhbmRpZGF0ZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjYW5kaWRhdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoZXMgdGhlIGNhbmRpZGF0ZXMgZm9yIHRoZSBzbWFsbGVzdCBzZXQgb2Ygc21hbGxlc3QgcmluZ3MuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gYyBUaGUgY2FuZGlkYXRlcy5cclxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gZCBUaGUgZGlzdGFuY2UgbWF0cml4LlxyXG4gICAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gcGUgQSBtYXRyaXggY29udGFpbmluZyB0aGUgc2hvcnRlc3QgcGF0aHMuXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IHBlX3ByaW1lIEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIHNob3J0ZXN0IHBhdGhzICsgb25lIHZlcnRleC5cclxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGFyckJvbmRDb3VudCBBIG1hdHJpeCBjb250YWluaW5nIHRoZSBib25kIGNvdW50IG9mIGVhY2ggdmVydGV4LlxyXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gYXJyUmluZ0NvdW50IEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIG51bWJlciBvZiByaW5ncyBhc3NvY2lhdGVkIHdpdGggZWFjaCB2ZXJ0ZXguXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbnNzc3IgVGhlIHRoZW9yZXRpY2FsIG51bWJlciBvZiByaW5ncyBpbiB0aGUgZ3JhcGguXHJcbiAgICAgKiBAcmV0dXJucyB7U2V0W119IFRoZSBzbWFsbGVzdCBzZXQgb2Ygc21hbGxlc3QgcmluZ3MuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRTU1NSKGMsIGQsIGFkamFjZW5jeU1hdHJpeCwgcGUsIHBlX3ByaW1lLCBhcnJCb25kQ291bnQsIGFyclJpbmdDb3VudCwgbnNzc3IpIHtcclxuICAgICAgICBsZXQgY1Nzc3IgPSBBcnJheSgpO1xyXG4gICAgICAgIGxldCBhbGxCb25kcyA9IEFycmF5KCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoY1tpXVswXSAlIDIgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY1tpXVsyXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBib25kcyA9IGNbaV1bMV1bMF0uY29uY2F0KGNbaV1bMl1bal0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbWUgYm9uZHMgYXJlIGFkZGVkIHR3aWNlLCByZXN1bHRpbmcgaW4gW1t1LCB2XSwgW3UsIHZdXSBpbnN0ZWFkIG9mIFt1LCB2XS5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGlzIGEgd29ya2Fyb3VuZCwgZml4IGxhdGVyLiBQcm9iYWJseSBzaG91bGQgYmUgYSBzZXQgcmF0aGVyIHRoYW4gYW4gYXJyYXksIGhvd2V2ZXIgdGhlIGNvbXB1dGF0aW9uYWwgb3ZlcmhlYWRcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBpcyBwcm9iYWJseSBiaWdnZXIgY29tcGFyZWQgdG8gbGVhdmluZyBpdCBsaWtlIHRoaXMuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBib25kcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9uZHNba11bMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSBib25kc1trXSA9IGJvbmRzW2tdWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGF0b21zID0gU1NTUi5ib25kc1RvQXRvbXMoYm9uZHMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoU1NTUi5nZXRCb25kQ291bnQoYXRvbXMsIGFkamFjZW5jeU1hdHJpeCkgPT09IGF0b21zLnNpemUgJiYgIVNTU1IucGF0aFNldHNDb250YWluKGNTc3NyLCBhdG9tcywgYm9uZHMsIGFsbEJvbmRzLCBhcnJCb25kQ291bnQsIGFyclJpbmdDb3VudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY1Nzc3IucHVzaChhdG9tcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEJvbmRzID0gYWxsQm9uZHMuY29uY2F0KGJvbmRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjU3Nzci5sZW5ndGggPiBuc3Nzcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY1Nzc3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjW2ldWzFdLmxlbmd0aCAtIDE7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBib25kcyA9IGNbaV1bMV1bal0uY29uY2F0KGNbaV1bMV1baiArIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTb21lIGJvbmRzIGFyZSBhZGRlZCB0d2ljZSwgcmVzdWx0aW5nIGluIFtbdSwgdl0sIFt1LCB2XV0gaW5zdGVhZCBvZiBbdSwgdl0uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhIHdvcmthcm91bmQsIGZpeCBsYXRlci4gUHJvYmFibHkgc2hvdWxkIGJlIGEgc2V0IHJhdGhlciB0aGFuIGFuIGFycmF5LCBob3dldmVyIHRoZSBjb21wdXRhdGlvbmFsIG92ZXJoZWFkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgaXMgcHJvYmFibHkgYmlnZ2VyIGNvbXBhcmVkIHRvIGxlYXZpbmcgaXQgbGlrZSB0aGlzLlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYm9uZHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvbmRzW2tdWzBdLmNvbnN0cnVjdG9yID09PSBBcnJheSkgYm9uZHNba10gPSBib25kc1trXVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhdG9tcyA9IFNTU1IuYm9uZHNUb0F0b21zKGJvbmRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFNTU1IuZ2V0Qm9uZENvdW50KGF0b21zLCBhZGphY2VuY3lNYXRyaXgpID09PSBhdG9tcy5zaXplICYmICFTU1NSLnBhdGhTZXRzQ29udGFpbihjU3NzciwgYXRvbXMsIGJvbmRzLCBhbGxCb25kcywgYXJyQm9uZENvdW50LCBhcnJSaW5nQ291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNTc3NyLnB1c2goYXRvbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxCb25kcyA9IGFsbEJvbmRzLmNvbmNhdChib25kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY1Nzc3IubGVuZ3RoID4gbnNzc3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNTc3NyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNTc3NyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVkZ2VzIGluIGEgZ3JhcGggZGVmaW5lZCBieSBhbiBhZGphY2VuY3kgbWF0cml4LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGFkamFjZW5jeU1hdHJpeCBBbiBhZGphY2VuY3kgbWF0cml4LlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBlZGdlcyBpbiB0aGUgZ3JhcGggZGVmaW5lZCBieSB0aGUgYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEVkZ2VDb3VudChhZGphY2VuY3lNYXRyaXgpIHtcclxuICAgICAgICBsZXQgZWRnZUNvdW50ID0gMDtcclxuICAgICAgICBsZXQgbGVuZ3RoID0gYWRqYWNlbmN5TWF0cml4Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgdmFyIGkgPSBsZW5ndGggLSAxO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIGogPSBsZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChhZGphY2VuY3lNYXRyaXhbaV1bal0gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGdlQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVkZ2VDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gZWRnZSBsaXN0IGNvbnN0cnVjdGVkIGZvcm0gYW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheVtdfSBBbiBlZGdlIGxpc3QuIEUuZy4gWyBbIDAsIDEgXSwgLi4uLCBbIDE2LCAyIF0gXVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0RWRnZUxpc3QoYWRqYWNlbmN5TWF0cml4KSB7XHJcbiAgICAgICAgbGV0IGxlbmd0aCA9IGFkamFjZW5jeU1hdHJpeC5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGVkZ2VMaXN0ID0gQXJyYXkoKTtcclxuXHJcbiAgICAgICAgdmFyIGkgPSBsZW5ndGggLSAxO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIGogPSBsZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChhZGphY2VuY3lNYXRyaXhbaV1bal0gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZGdlTGlzdC5wdXNoKFtpLCBqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlZGdlTGlzdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIHNldCBvZiB2ZXJ0ZXggaW5kaWNlcyBjb250YWluZWQgaW4gYW4gYXJyYXkgb2YgYm9uZHMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGJvbmRzIEFuIGFycmF5IG9mIGJvbmRzLiBBIGJvbmQgaXMgZGVmaW5lZCBhcyBbIHNvdXJjZVZlcnRleElkLCB0YXJnZXRWZXJ0ZXhJZCBdLlxyXG4gICAgICogQHJldHVybnMge1NldDxOdW1iZXI+fSBBbiBhcnJheSBvZiB2ZXJ0aWNlcy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGJvbmRzVG9BdG9tcyhib25kcykge1xyXG4gICAgICAgIGxldCBhdG9tcyA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICAgICAgdmFyIGkgPSBib25kcy5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBhdG9tcy5hZGQoYm9uZHNbaV1bMF0pO1xyXG4gICAgICAgICAgICBhdG9tcy5hZGQoYm9uZHNbaV1bMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXRvbXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBib25kcyB3aXRoaW4gYSBzZXQgb2YgYXRvbXMuXHJcbiAgICAqIFxyXG4gICAgKiBAcGFyYW0ge1NldDxOdW1iZXI+fSBhdG9tcyBBbiBhcnJheSBvZiBhdG9tIGlkcy5cclxuICAgICogQHBhcmFtIHtBcnJheVtdfSBhZGphY2VuY3lNYXRyaXggQW4gYWRqYWNlbmN5IG1hdHJpeC5cclxuICAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBib25kcyBpbiBhIHNldCBvZiBhdG9tcy5cclxuICAgICovXHJcbiAgICBzdGF0aWMgZ2V0Qm9uZENvdW50KGF0b21zLCBhZGphY2VuY3lNYXRyaXgpIHtcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IHUgb2YgYXRvbXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdiBvZiBhdG9tcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHUgPT09IHYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvdW50ICs9IGFkamFjZW5jeU1hdHJpeFt1XVt2XVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY291bnQgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgZ2l2ZW4gcGF0aCBhbHJlYWR5IGV4aXN0cyBpbiBhbiBhcnJheSBvZiBwYXRocy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtTZXRbXX0gcGF0aFNldHMgQW4gYXJyYXkgb2Ygc2V0cyBlYWNoIHJlcHJlc2VudGluZyBhIHBhdGguXHJcbiAgICAgKiBAcGFyYW0ge1NldDxOdW1iZXI+fSBwYXRoU2V0IEEgc2V0IHJlcHJlc2VudGluZyBhIHBhdGguXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5W119IGJvbmRzIFRoZSBib25kcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgcGF0aC5cclxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gYWxsQm9uZHMgQWxsIGJvbmRzIGN1cnJlbnRseSBhc3NvY2lhdGVkIHdpdGggcmluZ3MgaW4gdGhlIFNTU1Igc2V0LlxyXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheX0gYXJyQm9uZENvdW50IEEgbWF0cml4IGNvbnRhaW5pbmcgdGhlIGJvbmQgY291bnQgb2YgZWFjaCB2ZXJ0ZXguXHJcbiAgICAgKiBAcGFyYW0ge1VpbnQxNkFycmF5fSBhcnJSaW5nQ291bnQgQSBtYXRyaXggY29udGFpbmluZyB0aGUgbnVtYmVyIG9mIHJpbmdzIGFzc29jaWF0ZWQgd2l0aCBlYWNoIHZlcnRleC5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCBhIGdpdmUgcGF0aCBpcyBjb250YWluZWQgd2l0aGluIGEgc2V0LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcGF0aFNldHNDb250YWluKHBhdGhTZXRzLCBwYXRoU2V0LCBib25kcywgYWxsQm9uZHMsIGFyckJvbmRDb3VudCwgYXJyUmluZ0NvdW50KSB7XHJcbiAgICAgICAgdmFyIGkgPSBwYXRoU2V0cy5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBpZiAoU1NTUi5pc1N1cGVyc2V0T2YocGF0aFNldCwgcGF0aFNldHNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhdGhTZXRzW2ldLnNpemUgIT09IHBhdGhTZXQuc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChTU1NSLmFyZVNldHNFcXVhbChwYXRoU2V0c1tpXSwgcGF0aFNldCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWRnZXMgZnJvbSB0aGUgY2FuZGlkYXRlIGFyZSBhbHJlYWR5IGFsbCBjb250YWluZWQgd2l0aGluIHRoZSBwYXRocyBvZiB0aGUgc2V0IG9mIHBhdGhzLlxyXG4gICAgICAgIC8vIFRPRE86IEZvciBzb21lIHJlYXNvbiwgdGhpcyBkb2VzIG5vdCByZXBsYWNlIHRoZSBpc1N1cGVyc2V0T2YgbWV0aG9kIGFib3ZlIC0+IHdoeT9cclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgIGxldCBhbGxDb250YWluZWQgPSBmYWxzZTtcclxuICAgICAgICBpID0gYm9uZHMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIGogPSBhbGxCb25kcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChib25kc1tpXVswXSA9PT0gYWxsQm9uZHNbal1bMF0gJiYgYm9uZHNbaV1bMV0gPT09IGFsbEJvbmRzW2pdWzFdIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgYm9uZHNbaV1bMV0gPT09IGFsbEJvbmRzW2pdWzBdICYmIGJvbmRzW2ldWzBdID09PSBhbGxCb25kc1tqXVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBib25kcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxDb250YWluZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBhbGwgdGhlIGJvbmRzIGFuZCB0aHVzIHZlcnRpY2VzIGFyZSBhbHJlYWR5IGNvbnRhaW5lZCB3aXRoaW4gb3RoZXIgcmluZ3NcclxuICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSdzIG9uZSB2ZXJ0ZXggd2l0aCByaW5nQ291bnQgPCBib25kQ291bnRcclxuICAgICAgICBsZXQgc3BlY2lhbENhc2UgPSBmYWxzZTtcclxuICAgICAgICBpZiAoYWxsQ29udGFpbmVkKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGVsZW1lbnQgb2YgcGF0aFNldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyclJpbmdDb3VudFtlbGVtZW50XSA8IGFyckJvbmRDb3VudFtlbGVtZW50XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWNpYWxDYXNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFsbENvbnRhaW5lZCAmJiAhc3BlY2lhbENhc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHJpbmcgY291bnRzIGZvciB0aGUgdmVydGljZXNcclxuICAgICAgICBmb3IgKGxldCBlbGVtZW50IG9mIHBhdGhTZXQpIHtcclxuICAgICAgICAgICAgYXJyUmluZ0NvdW50W2VsZW1lbnRdKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdHdvIHNldHMgYXJlIGVxdWFsIChjb250YWluIHRoZSBzYW1lIGVsZW1lbnRzKS5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtTZXQ8TnVtYmVyPn0gc2V0QSBBIHNldC5cclxuICAgICAqIEBwYXJhbSB7U2V0PE51bWJlcj59IHNldEIgQSBzZXQuXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHR3byBzZXRzIGFyZSBlcXVhbC5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFyZVNldHNFcXVhbChzZXRBLCBzZXRCKSB7XHJcbiAgICAgICAgaWYgKHNldEEuc2l6ZSAhPT0gc2V0Qi5zaXplKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGVsZW1lbnQgb2Ygc2V0QSkge1xyXG4gICAgICAgICAgICBpZiAoIXNldEIuaGFzKGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgc2V0IChzZXRBKSBpcyBhIHN1cGVyc2V0IG9mIGFub3RoZXIgc2V0IChzZXRCKS5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtTZXQ8TnVtYmVyPn0gc2V0QSBBIHNldC5cclxuICAgICAqIEBwYXJhbSB7U2V0PE51bWJlcj59IHNldEIgQSBzZXQuXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3Qgc2V0QiBpcyBhIHN1cGVyc2V0IG9mIHNldEEuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc1N1cGVyc2V0T2Yoc2V0QSwgc2V0Qikge1xyXG4gICAgICAgIGZvciAodmFyIGVsZW1lbnQgb2Ygc2V0Qikge1xyXG4gICAgICAgICAgICBpZiAoIXNldEEuaGFzKGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFNTU1I7IiwiLy9AdHMtY2hlY2tcbmNvbnN0IERyYXdlciA9IHJlcXVpcmUoJy4vRHJhd2VyJylcbmNvbnN0IFBhcnNlciA9IHJlcXVpcmUoJy4vUGFyc2VyJylcbmNvbnN0IFJlYWN0aW9uUGFyc2VyID0gcmVxdWlyZSgnLi9SZWFjdGlvblBhcnNlcicpXG5jb25zdCBTdmdEcmF3ZXIgPSByZXF1aXJlKCcuL1N2Z0RyYXdlcicpXG5jb25zdCBSZWFjdGlvbkRyYXdlciA9IHJlcXVpcmUoJy4vUmVhY3Rpb25EcmF3ZXInKVxuY29uc3QgU3ZnV3JhcHBlciA9IHJlcXVpcmUoJy4vU3ZnV3JhcHBlcicpXG5jb25zdCBPcHRpb25zID0gcmVxdWlyZSgnLi9PcHRpb25zJyk7XG5jbGFzcyBTbWlsZXNEcmF3ZXIge1xuICAgIGNvbnN0cnVjdG9yKG1vbGVjdWxlT3B0aW9ucyA9IHt9LCByZWFjdGlvbk9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmRyYXdlciA9IG5ldyBTdmdEcmF3ZXIobW9sZWN1bGVPcHRpb25zKTtcblxuICAgICAgICAvLyBtb2xlY3VsZU9wdGlvbnMgZ2V0cyBlZGl0ZWQgaW4gcmVhY3Rpb25PcHRpb25zLCBzbyBjbG9uZVxuICAgICAgICB0aGlzLnJlYWN0aW9uRHJhd2VyID0gbmV3IFJlYWN0aW9uRHJhd2VyKHJlYWN0aW9uT3B0aW9ucywgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRyYXdlci5vcHRzKSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhcHBseShtb2xlY3VsZU9wdGlvbnMgPSB7fSwgcmVhY3Rpb25PcHRpb25zID0ge30sIGF0dHJpYnV0ZSA9ICdkYXRhLXNtaWxlcycsIHRoZW1lID0gJ2xpZ2h0Jywgc3VjY2Vzc0NhbGxiYWNrID0gbnVsbCwgZXJyb3JDYWxsYmFjayA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgZHJhd2VyID0gbmV3IFNtaWxlc0RyYXdlcihtb2xlY3VsZU9wdGlvbnMsIHJlYWN0aW9uT3B0aW9ucyk7XG4gICAgICAgIGRyYXdlci5hcHBseShhdHRyaWJ1dGUsIHRoZW1lLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIGFwcGx5KGF0dHJpYnV0ZSA9ICdkYXRhLXNtaWxlcycsIHRoZW1lID0gJ2xpZ2h0Jywgc3VjY2Vzc0NhbGxiYWNrID0gbnVsbCwgZXJyb3JDYWxsYmFjayA9IG51bGwpIHtcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7YXR0cmlidXRlfV1gKTtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBzbWlsZXMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXG4gICAgICAgICAgICBpZiAoc21pbGVzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ05vIFNNSUxFUyBwcm92aWRlZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1cnJlbnRUaGVtZSA9IHRoZW1lO1xuICAgICAgICAgICAgbGV0IHdlaWdodHMgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLXRoZW1lJykpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGhlbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zbWlsZXMtdGhlbWUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNtaWxlcy13ZWlnaHRzJykpIHtcbiAgICAgICAgICAgICAgICB3ZWlnaHRzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLXdlaWdodHMnKS5zcGxpdChcIixcIikubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLXJlYWN0YW50LXdlaWdodHMnKSB8fFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNtaWxlcy1yZWFnZW50LXdlaWdodHMnKSB8fFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNtaWxlcy1wcm9kdWN0LXdlaWdodHMnKSkge1xuICAgICAgICAgICAgICAgIHdlaWdodHMgPSB7IHJlYWN0YW50czogW10sIHJlYWdlbnRzOiBbXSwgcHJvZHVjdHM6IFtdIH07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNtaWxlcy1yZWFjdGFudC13ZWlnaHRzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0cy5yZWFjdGFudHMgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zbWlsZXMtcmVhY3RhbnQtd2VpZ2h0cycpLnNwbGl0KCc7JykubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYuc3BsaXQoJywnKS5tYXAocGFyc2VGbG9hdClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNtaWxlcy1yZWFnZW50LXdlaWdodHMnKSkge1xuICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzLnJlYWdlbnRzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLXJlYWdlbnQtd2VpZ2h0cycpLnNwbGl0KCc7JykubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYuc3BsaXQoJywnKS5tYXAocGFyc2VGbG9hdClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXNtaWxlcy1wcm9kdWN0LXdlaWdodHMnKSkge1xuICAgICAgICAgICAgICAgICAgICB3ZWlnaHRzLnByb2R1Y3RzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLXByb2R1Y3Qtd2VpZ2h0cycpLnNwbGl0KCc7JykubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYuc3BsaXQoJywnKS5tYXAocGFyc2VGbG9hdClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLW9wdGlvbnMnKSB8fCBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zbWlsZXMtcmVhY3Rpb24tb3B0aW9ucycpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vbGVjdWxlT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zbWlsZXMtb3B0aW9ucycpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vbGVjdWxlT3B0aW9ucyA9IEpTT04ucGFyc2UoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLW9wdGlvbnMnKS5yZXBsYWNlQWxsKCdcXCcnLCAnXCInKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJlYWN0aW9uT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZGF0YS1zbWlsZXMtcmVhY3Rpb24tb3B0aW9ucycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWN0aW9uT3B0aW9ucyA9IEpTT04ucGFyc2UoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc21pbGVzLXJlYWN0aW9uLW9wdGlvbnMnKS5yZXBsYWNlQWxsKCdcXCcnLCAnXCInKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHNtaWxlc0RyYXdlciA9IG5ldyBTbWlsZXNEcmF3ZXIobW9sZWN1bGVPcHRpb25zLCByZWFjdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHNtaWxlc0RyYXdlci5kcmF3KHNtaWxlcywgZWxlbWVudCwgY3VycmVudFRoZW1lLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIHdlaWdodHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoc21pbGVzLCBlbGVtZW50LCBjdXJyZW50VGhlbWUsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgd2VpZ2h0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIHNtaWxlcyB0byB0aGUgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzbWlsZXMgVGhlIFNNSUxFUyB0byBiZSBkZXBpY3RlZC5cbiAgICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRoZW1lIFRoZSB0aGVtZS5cbiAgICAgKiBAcGFyYW0gez9DYWxsYWJsZUZ1bmN0aW9ufSBzdWNjZXNzQ2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBvbiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7P0NhbGxhYmxlRnVuY3Rpb259IGVycm9yQ2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBvbiBlcnJvci5cbiAgICAgKiBAcGFyYW0gez9OdW1iZXJbXXxPYmplY3R9IHdlaWdodHMgVGhlIHdlaWdodHMgZm9yIHRoZSBnYXVzc2lhbnMuXG4gICAgICovXG4gICAgZHJhdyhzbWlsZXMsIHRhcmdldCwgdGhlbWUgPSAnbGlnaHQnLCBzdWNjZXNzQ2FsbGJhY2sgPSBudWxsLCBlcnJvckNhbGxiYWNrID0gbnVsbCwgd2VpZ2h0cyA9IG51bGwpIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBzZXR0aW5nc1xuICAgICAgICBsZXQgcmVzdCA9IFtdO1xuICAgICAgICBbc21pbGVzLCAuLi5yZXN0XSA9IHNtaWxlcy5zcGxpdCgnICcpO1xuICAgICAgICBsZXQgaW5mbyA9IHJlc3Quam9pbignICcpO1xuXG4gICAgICAgIGxldCBzZXR0aW5ncyA9IHt9O1xuXG4gICAgICAgIGlmIChpbmZvLmluY2x1ZGVzKCdfXycpKSB7XG4gICAgICAgICAgICBsZXQgc2V0dGluZ3NTdHJpbmcgPSBpbmZvLnN1YnN0cmluZyhcbiAgICAgICAgICAgICAgICBpbmZvLmluZGV4T2YoJ19fJykgKyAyLFxuICAgICAgICAgICAgICAgIGluZm8ubGFzdEluZGV4T2YoJ19fJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHNldHRpbmdzID0gSlNPTi5wYXJzZShzZXR0aW5nc1N0cmluZy5yZXBsYWNlQWxsKCdcXCcnLCAnXCInKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGVmYXVsdFNldHRpbmdzID0ge1xuICAgICAgICAgICAgdGV4dEFib3ZlQXJyb3c6ICd7cmVhZ2VudHN9JyxcbiAgICAgICAgICAgIHRleHRCZWxvd0Fycm93OiAnJ1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0dGluZ3MgPSBPcHRpb25zLmV4dGVuZCh0cnVlLCBkZWZhdWx0U2V0dGluZ3MsIHNldHRpbmdzKTtcblxuICAgICAgICBpZiAoc21pbGVzLmluY2x1ZGVzKCc+JykpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3UmVhY3Rpb24oc21pbGVzLCB0YXJnZXQsIHRoZW1lLCBzZXR0aW5ncywgd2VpZ2h0cywgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdNb2xlY3VsZShzbWlsZXMsIHRhcmdldCwgdGhlbWUsIHdlaWdodHMsIHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdNb2xlY3VsZShzbWlsZXMsIHRhcmdldCwgdGhlbWUsIHdlaWdodHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBwYXJzZVRyZWUgPSBQYXJzZXIucGFyc2Uoc21pbGVzKTtcblxuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIGxldCBzdmcgPSB0aGlzLmRyYXdlci5kcmF3KHBhcnNlVHJlZSwgbnVsbCwgdGhlbWUsIHdlaWdodHMpO1xuICAgICAgICAgICAgbGV0IGRpbXMgPSB0aGlzLmdldERpbWVuc2lvbnMoc3ZnKTtcbiAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCAnJyArIGRpbXMudyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICcnICsgZGltcy5oKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHN2Zyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09PSAnY2FudmFzJykge1xuICAgICAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMuc3ZnVG9DYW52YXModGhpcy5kcmF3ZXIuZHJhdyhwYXJzZVRyZWUsIG51bGwsIHRoZW1lLCB3ZWlnaHRzKSk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjYW52YXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PT0gJ2ltZycpIHtcbiAgICAgICAgICAgIGxldCBpbWcgPSB0aGlzLnN2Z1RvSW1nKHRoaXMuZHJhd2VyLmRyYXcocGFyc2VUcmVlLCBudWxsLCB0aGVtZSwgd2VpZ2h0cykpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soaW1nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN2Z1RvSW1nKHRoaXMuZHJhd2VyLmRyYXcocGFyc2VUcmVlLCBudWxsLCB0aGVtZSwgd2VpZ2h0cyksIHRhcmdldCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd2VyLmRyYXcocGFyc2VUcmVlLCB0YXJnZXQsIHRoZW1lLCB3ZWlnaHRzKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhcmdldCk7XG4gICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YWcgPSBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIuZHJhdyhwYXJzZVRyZWUsIGVsZW1lbnQsIHRoZW1lLCB3ZWlnaHRzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGRpbXMgPSB0aGlzLmdldERpbWVuc2lvbnMoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgJycgKyBkaW1zLncpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCAnJyArIGRpbXMuaCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2NhbnZhcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdmdUb0NhbnZhcyh0aGlzLmRyYXdlci5kcmF3KHBhcnNlVHJlZSwgbnVsbCwgdGhlbWUsIHdlaWdodHMpLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09PSAnaW1nJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN2Z1RvSW1nKHRoaXMuZHJhd2VyLmRyYXcocGFyc2VUcmVlLCBudWxsLCB0aGVtZSwgd2VpZ2h0cyksIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3UmVhY3Rpb24oc21pbGVzLCB0YXJnZXQsIHRoZW1lLCBzZXR0aW5ncywgd2VpZ2h0cywgY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IHJlYWN0aW9uID0gUmVhY3Rpb25QYXJzZXIucGFyc2Uoc21pbGVzKTtcblxuICAgICAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIGxldCBzdmcgPSB0aGlzLnJlYWN0aW9uRHJhd2VyLmRyYXcocmVhY3Rpb24sIG51bGwsIHRoZW1lKTtcbiAgICAgICAgICAgIGxldCBkaW1zID0gdGhpcy5nZXREaW1lbnNpb25zKHN2Zyk7XG4gICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgJycgKyBkaW1zLncpO1xuICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCAnJyArIGRpbXMuaCk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhzdmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PT0gJ2NhbnZhcycpIHtcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnN2Z1RvQ2FudmFzKHRoaXMucmVhY3Rpb25EcmF3ZXIuZHJhdyhyZWFjdGlvbiwgbnVsbCwgdGhlbWUsIHdlaWdodHMsIHNldHRpbmdzLnRleHRBYm92ZUFycm93LCBzZXR0aW5ncy50ZXh0QmVsb3dBcnJvdykpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soY2FudmFzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgPT09ICdpbWcnKSB7XG4gICAgICAgICAgICBsZXQgaW1nID0gdGhpcy5zdmdUb0ltZyh0aGlzLnJlYWN0aW9uRHJhd2VyLmRyYXcocmVhY3Rpb24sIG51bGwsIHRoZW1lLCB3ZWlnaHRzLCBzZXR0aW5ncy50ZXh0QWJvdmVBcnJvdywgc2V0dGluZ3MudGV4dEJlbG93QXJyb3cpKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGltZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zdmdUb0ltZyh0aGlzLnJlYWN0aW9uRHJhd2VyLmRyYXcocmVhY3Rpb24sIG51bGwsIHRoZW1lLCB3ZWlnaHRzLCBzZXR0aW5ncy50ZXh0QWJvdmVBcnJvdywgc2V0dGluZ3MudGV4dEJlbG93QXJyb3cpLCB0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlYWN0aW9uRHJhd2VyLmRyYXcocmVhY3Rpb24sIHRhcmdldCwgdGhlbWUsIHdlaWdodHMsIHNldHRpbmdzLnRleHRBYm92ZUFycm93LCBzZXR0aW5ncy50ZXh0QmVsb3dBcnJvdyk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YXJnZXQpO1xuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGFnID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0YWcgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rpb25EcmF3ZXIuZHJhdyhyZWFjdGlvbiwgZWxlbWVudCwgdGhlbWUsIHdlaWdodHMsIHNldHRpbmdzLnRleHRBYm92ZUFycm93LCBzZXR0aW5ncy50ZXh0QmVsb3dBcnJvdyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBzdmcgaGFzIHRvIGhhdmUgYSBjc3Mgd2lkdGggYW5kIGhlaWdodCBzZXQgZm9yIHRoZSBvdGhlclxuICAgICAgICAgICAgICAgICAgICAvLyB0YWdzLCBob3dldmVyLCBoZXJlIGl0IHdvdWxkIG92ZXJ3cml0ZSB0aGUgY2hvc2VuIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhY3Rpb25EcmF3ZXIub3B0cy5zY2FsZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZGltcyA9IHRoaXMuZ2V0RGltZW5zaW9ucyhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCAnJyArIGRpbXMudyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsICcnICsgZGltcy5oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09PSAnY2FudmFzJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN2Z1RvQ2FudmFzKHRoaXMucmVhY3Rpb25EcmF3ZXIuZHJhdyhyZWFjdGlvbiwgbnVsbCwgdGhlbWUsIHdlaWdodHMsIHNldHRpbmdzLnRleHRBYm92ZUFycm93LCBzZXR0aW5ncy50ZXh0QmVsb3dBcnJvdyksIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWcgPT09ICdpbWcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ZnVG9JbWcodGhpcy5yZWFjdGlvbkRyYXdlci5kcmF3KHJlYWN0aW9uLCBudWxsLCB0aGVtZSwgd2VpZ2h0cywgc2V0dGluZ3MudGV4dEFib3ZlQXJyb3csIHNldHRpbmdzLnRleHRCZWxvd0Fycm93KSwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN2Z1RvQ2FudmFzKHN2ZywgY2FudmFzID0gbnVsbCkge1xuICAgICAgICBpZiAoY2FudmFzID09PSBudWxsKSB7XG4gICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBkaW1zID0gdGhpcy5nZXREaW1lbnNpb25zKGNhbnZhcywgc3ZnKTtcblxuICAgICAgICBTdmdXcmFwcGVyLnN2Z1RvQ2FudmFzKHN2ZywgY2FudmFzLCBkaW1zLncsIGRpbXMuaCk7XG4gICAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfVxuXG4gICAgc3ZnVG9JbWcoc3ZnLCBpbWcgPSBudWxsKSB7XG4gICAgICAgIGlmIChpbWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRpbXMgPSB0aGlzLmdldERpbWVuc2lvbnMoaW1nLCBzdmcpO1xuXG4gICAgICAgIFN2Z1dyYXBwZXIuc3ZnVG9JbWcoc3ZnLCBpbWcsIGRpbXMudywgZGltcy5oKTtcbiAgICAgICAgcmV0dXJuIGltZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8U1ZHRWxlbWVudH0gZWxlbWVudCBcbiAgICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHN2ZyBcbiAgICAgKiBAcmV0dXJucyB7e3c6IE51bWJlciwgaDogTnVtYmVyfX0gVGhlIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICovXG4gICAgZ2V0RGltZW5zaW9ucyhlbGVtZW50LCBzdmcgPSBudWxsKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5kcmF3ZXIub3B0cy53aWR0aDtcbiAgICAgICAgbGV0IGggPSB0aGlzLmRyYXdlci5vcHRzLmhlaWdodDtcblxuICAgICAgICBpZiAodGhpcy5kcmF3ZXIub3B0cy5zY2FsZSA8PSAwKSB7XG4gICAgICAgICAgICBpZiAodyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHcgPSBlbGVtZW50LndpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGggPSBlbGVtZW50LmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUud2lkdGggIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB3ID0gcGFyc2VJbnQoZWxlbWVudC5zdHlsZS53aWR0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLmhlaWdodCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGggPSBwYXJzZUludChlbGVtZW50LnN0eWxlLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3ZnKSB7XG4gICAgICAgICAgICB3ID0gcGFyc2VGbG9hdChzdmcuc3R5bGUud2lkdGgpO1xuICAgICAgICAgICAgaCA9IHBhcnNlRmxvYXQoc3ZnLnN0eWxlLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB3OiB3LCBoOiBoIH07XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNtaWxlc0RyYXdlcjsiLCIvLyB3ZSB1c2UgdGhlIGRyYXdlciB0byBkbyBhbGwgdGhlIHByZXByb2Nlc3NpbmcuIHRoZW4gd2UgdGFrZSBvdmVyIHRoZSBkcmF3aW5nXHJcbi8vIHBvcnRpb24gdG8gb3V0cHV0IHRvIHN2Z1xyXG5jb25zdCBBcnJheUhlbHBlciA9IHJlcXVpcmUoJy4vQXJyYXlIZWxwZXInKTtcclxuY29uc3QgQXRvbSA9IHJlcXVpcmUoJy4vQXRvbScpO1xyXG5jb25zdCBEcmF3ZXJCYXNlID0gcmVxdWlyZSgnLi9EcmF3ZXJCYXNlJyk7XHJcbmNvbnN0IEdyYXBoID0gcmVxdWlyZSgnLi9HcmFwaCcpO1xyXG5jb25zdCBMaW5lID0gcmVxdWlyZSgnLi9MaW5lJyk7XHJcbmNvbnN0IFN2Z1dyYXBwZXIgPSByZXF1aXJlKCcuL1N2Z1dyYXBwZXInKTtcclxuY29uc3QgVGhlbWVNYW5hZ2VyID0gcmVxdWlyZSgnLi9UaGVtZU1hbmFnZXInKTtcclxuY29uc3QgVmVjdG9yMiA9IHJlcXVpcmUoJy4vVmVjdG9yMicpO1xyXG5jb25zdCBHYXVzc0RyYXdlciA9IHJlcXVpcmUoJy4vR2F1c3NEcmF3ZXInKVxyXG5cclxuY2xhc3MgU3ZnRHJhd2VyIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjbGVhciA9IHRydWUpIHtcclxuICAgIHRoaXMucHJlcHJvY2Vzc29yID0gbmV3IERyYXdlckJhc2Uob3B0aW9ucyk7XHJcbiAgICB0aGlzLm9wdHMgPSB0aGlzLnByZXByb2Nlc3Nvci5vcHRzO1xyXG4gICAgdGhpcy5jbGVhciA9IGNsZWFyO1xyXG4gICAgdGhpcy5zdmdXcmFwcGVyID0gbnVsbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIHRoZSBwYXJzZWQgc21pbGVzIGRhdGEgdG8gYW4gc3ZnIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgdHJlZSByZXR1cm5lZCBieSB0aGUgc21pbGVzIHBhcnNlci5cclxuICAgKiBAcGFyYW0gez8oU3RyaW5nfFNWR0VsZW1lbnQpfSB0YXJnZXQgVGhlIGlkIG9mIHRoZSBIVE1MIHN2ZyBlbGVtZW50IHRoZSBzdHJ1Y3R1cmUgaXMgZHJhd24gdG8gLSBvciB0aGUgZWxlbWVudCBpdHNlbGYuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRoZW1lTmFtZT0nZGFyaycgVGhlIG5hbWUgb2YgdGhlIHRoZW1lIHRvIHVzZS4gQnVpbHQtaW4gdGhlbWVzIGFyZSAnbGlnaHQnIGFuZCAnZGFyaycuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBpbmZvT25seT1mYWxzZSBPbmx5IG91dHB1dCBpbmZvIG9uIHRoZSBtb2xlY3VsZSB3aXRob3V0IGRyYXdpbmcgYW55dGhpbmcgdG8gdGhlIGNhbnZhcy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtTVkdFbGVtZW50fSBUaGUgc3ZnIGVsZW1lbnRcclxuICAgKi9cclxuICBkcmF3KGRhdGEsIHRhcmdldCwgdGhlbWVOYW1lID0gJ2xpZ2h0Jywgd2VpZ2h0cyA9IG51bGwsIGluZm9Pbmx5ID0gZmFsc2UsIGhpZ2hsaWdodF9hdG9tcyA9IFtdLCB3ZWlnaHRzTm9ybWFsaXplZCA9IGZhbHNlKSB7XHJcbiAgICBpZiAodGFyZ2V0ID09PSBudWxsIHx8IHRhcmdldCA9PT0gJ3N2ZycpIHtcclxuICAgICAgdGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcclxuICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgneG1sbnMnLCAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnKTtcclxuICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgneG1sbnM6eGxpbmsnLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xyXG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgdGhpcy5vcHRzLndpZHRoKTtcclxuICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCB0aGlzLm9wdHMuaGVpZ2h0KTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG9wdGlvbkJhY2t1cCA9IHtcclxuICAgICAgcGFkZGluZzogdGhpcy5vcHRzLnBhZGRpbmcsXHJcbiAgICAgIGNvbXBhY3REcmF3aW5nOiB0aGlzLm9wdHMuY29tcGFjdERyYXdpbmdcclxuICAgIH07XHJcblxyXG4gICAgLy8gT3ZlcndyaXRlIG9wdGlvbnMgd2hlbiB3ZWlnaHRzIGFyZSBhZGRlZFxyXG4gICAgaWYgKHdlaWdodHMgIT09IG51bGwpIHtcclxuICAgICAgdGhpcy5vcHRzLnBhZGRpbmcgKz0gdGhpcy5vcHRzLndlaWdodHMuYWRkaXRpb25hbFBhZGRpbmc7XHJcbiAgICAgIHRoaXMub3B0cy5jb21wYWN0RHJhd2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBwcmVwcm9jZXNzb3IgPSB0aGlzLnByZXByb2Nlc3NvcjtcclxuXHJcbiAgICBwcmVwcm9jZXNzb3IuaW5pdERyYXcoZGF0YSwgdGhlbWVOYW1lLCBpbmZvT25seSwgaGlnaGxpZ2h0X2F0b21zKTtcclxuXHJcbiAgICBpZiAoIWluZm9Pbmx5KSB7XHJcbiAgICAgIHRoaXMudGhlbWVNYW5hZ2VyID0gbmV3IFRoZW1lTWFuYWdlcih0aGlzLm9wdHMudGhlbWVzLCB0aGVtZU5hbWUpO1xyXG4gICAgICBpZiAodGhpcy5zdmdXcmFwcGVyID09PSBudWxsIHx8IHRoaXMuY2xlYXIpIHtcclxuICAgICAgICB0aGlzLnN2Z1dyYXBwZXIgPSBuZXcgU3ZnV3JhcHBlcih0aGlzLnRoZW1lTWFuYWdlciwgdGFyZ2V0LCB0aGlzLm9wdHMsIHRoaXMuY2xlYXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcHJvY2Vzc29yLnByb2Nlc3NHcmFwaCgpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgY2FudmFzIHRvIHRoZSBhcHByb3ByaWF0ZSBzaXplXHJcbiAgICB0aGlzLnN2Z1dyYXBwZXIuZGV0ZXJtaW5lRGltZW5zaW9ucyhwcmVwcm9jZXNzb3IuZ3JhcGgudmVydGljZXMpO1xyXG5cclxuICAgIC8vIERvIHRoZSBhY3R1YWwgZHJhd2luZ1xyXG4gICAgdGhpcy5kcmF3QXRvbUhpZ2hsaWdodHMocHJlcHJvY2Vzc29yLm9wdHMuZGVidWcpO1xyXG4gICAgdGhpcy5kcmF3RWRnZXMocHJlcHJvY2Vzc29yLm9wdHMuZGVidWcpO1xyXG4gICAgdGhpcy5kcmF3VmVydGljZXMocHJlcHJvY2Vzc29yLm9wdHMuZGVidWcpO1xyXG5cclxuICAgIGlmICh3ZWlnaHRzICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuZHJhd1dlaWdodHMod2VpZ2h0cywgd2VpZ2h0c05vcm1hbGl6ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwcmVwcm9jZXNzb3Iub3B0cy5kZWJ1Zykge1xyXG4gICAgICBjb25zb2xlLmxvZyhwcmVwcm9jZXNzb3IuZ3JhcGgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhwcmVwcm9jZXNzb3IucmluZ3MpO1xyXG4gICAgICBjb25zb2xlLmxvZyhwcmVwcm9jZXNzb3IucmluZ0Nvbm5lY3Rpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN2Z1dyYXBwZXIuY29uc3RydWN0U3ZnKCk7XHJcblxyXG4gICAgLy8gUmVzZXQgb3B0aW9ucyBpbiBjYXNlIHdlaWdodHMgd2VyZSBhZGRlZC5cclxuICAgIGlmICh3ZWlnaHRzICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMub3B0cy5wYWRkaW5nID0gb3B0aW9uQmFja3VwLnBhZGRpbmc7XHJcbiAgICAgIHRoaXMub3B0cy5jb21wYWN0RHJhd2luZyA9IG9wdGlvbkJhY2t1cC5wYWRkaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICogRHJhd3MgdGhlIHBhcnNlZCBzbWlsZXMgZGF0YSB0byBhIGNhbnZhcyBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgdHJlZSByZXR1cm5lZCBieSB0aGUgc21pbGVzIHBhcnNlci5cclxuICogQHBhcmFtIHsoU3RyaW5nfEhUTUxDYW52YXNFbGVtZW50KX0gdGFyZ2V0IFRoZSBpZCBvZiB0aGUgSFRNTCBjYW52YXMgZWxlbWVudCB0aGUgc3RydWN0dXJlIGlzIGRyYXduIHRvIC0gb3IgdGhlIGVsZW1lbnQgaXRzZWxmLlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdGhlbWVOYW1lPSdkYXJrJyBUaGUgbmFtZSBvZiB0aGUgdGhlbWUgdG8gdXNlLiBCdWlsdC1pbiB0aGVtZXMgYXJlICdsaWdodCcgYW5kICdkYXJrJy5cclxuICogQHBhcmFtIHtCb29sZWFufSBpbmZvT25seT1mYWxzZSBPbmx5IG91dHB1dCBpbmZvIG9uIHRoZSBtb2xlY3VsZSB3aXRob3V0IGRyYXdpbmcgYW55dGhpbmcgdG8gdGhlIGNhbnZhcy5cclxuICovXHJcbiAgZHJhd0NhbnZhcyhkYXRhLCB0YXJnZXQsIHRoZW1lTmFtZSA9ICdsaWdodCcsIGluZm9Pbmx5ID0gZmFsc2UpIHtcclxuICAgIGxldCBjYW52YXMgPSBudWxsO1xyXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdzdHJpbmcnIHx8IHRhcmdldCBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FudmFzID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xyXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgneG1sbnMnLCAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnKVxyXG4gICAgLy8gNTAwIGFzIGEgc2l6ZSBpcyBhcmJyaXRyYXJ5LCBidXQgdGhlIGNhbnZhcyBpcyBzY2FsZWQgd2hlbiBkcmF3biB0byB0aGUgY2FudmFzIGFueXdheVxyXG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgJzAgMCAnICsgNTAwICsgJyAnICsgNTAwKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCA1MDAgKyAnJyk7XHJcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIDUwMCArICcnKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3R5bGUnLCAndmlzaWJpbGl0eTogaGlkZGVuOiBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC0xMDAwcHgnKTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3ZnKTtcclxuICAgIHRoaXMuc3ZnRHJhd2VyLmRyYXcoZGF0YSwgc3ZnLCB0aGVtZU5hbWUsIGluZm9Pbmx5KTtcclxuICAgIHRoaXMuc3ZnRHJhd2VyLnN2Z1dyYXBwZXIudG9DYW52YXMoY2FudmFzLCB0aGlzLnN2Z0RyYXdlci5vcHRzLndpZHRoLCB0aGlzLnN2Z0RyYXdlci5vcHRzLmhlaWdodCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHN2Zyk7XHJcbiAgICByZXR1cm4gdGFyZ2V0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSByaW5nIGluc2lkZSBhIHByb3ZpZGVkIHJpbmcsIGluZGljYXRpbmcgYXJvbWF0aWNpdHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1Jpbmd9IHJpbmcgQSByaW5nLlxyXG4gICAqL1xyXG4gIGRyYXdBcm9tYXRpY2l0eVJpbmcocmluZykge1xyXG4gICAgbGV0IHN2Z1dyYXBwZXIgPSB0aGlzLnN2Z1dyYXBwZXI7XHJcbiAgICBzdmdXcmFwcGVyLmRyYXdSaW5nKHJpbmcuY2VudGVyLngsIHJpbmcuY2VudGVyLnksIHJpbmcuZ2V0U2l6ZSgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgdGhlIGFjdHVhbCBlZGdlcyBhcyBib25kcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGVidWcgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdG8gZHJhdyBkZWJ1ZyBoZWxwZXJzLlxyXG4gICAqL1xyXG4gIGRyYXdFZGdlcyhkZWJ1Zykge1xyXG4gICAgbGV0IHByZXByb2Nlc3NvciA9IHRoaXMucHJlcHJvY2Vzc29yLFxyXG4gICAgICBncmFwaCA9IHByZXByb2Nlc3Nvci5ncmFwaCxcclxuICAgICAgcmluZ3MgPSBwcmVwcm9jZXNzb3IucmluZ3MsXHJcbiAgICAgIGRyYXduID0gQXJyYXkodGhpcy5wcmVwcm9jZXNzb3IuZ3JhcGguZWRnZXMubGVuZ3RoKTtcclxuXHJcbiAgICBkcmF3bi5maWxsKGZhbHNlKTtcclxuXHJcbiAgICBncmFwaC50cmF2ZXJzZUJGKDAsIHZlcnRleCA9PiB7XHJcbiAgICAgIGxldCBlZGdlcyA9IGdyYXBoLmdldEVkZ2VzKHZlcnRleC5pZCk7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgZWRnZUlkID0gZWRnZXNbaV07XHJcbiAgICAgICAgaWYgKCFkcmF3bltlZGdlSWRdKSB7XHJcbiAgICAgICAgICBkcmF3bltlZGdlSWRdID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuZHJhd0VkZ2UoZWRnZUlkLCBkZWJ1Zyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBEcmF3IHJpbmcgZm9yIGltcGxpY2l0bHkgZGVmaW5lZCBhcm9tYXRpYyByaW5nc1xyXG4gICAgaWYgKCF0aGlzLmJyaWRnZWRSaW5nKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgcmluZyA9IHJpbmdzW2ldO1xyXG5cclxuICAgICAgICAvL1RPRE86IHVzZXMgY2FudmFzIGN0eCB0byBkcmF3Li4uIG5lZWQgdG8gdXBkYXRlIHRoaXMgdG8gU1ZHXHJcbiAgICAgICAgaWYgKHByZXByb2Nlc3Nvci5pc1JpbmdBcm9tYXRpYyhyaW5nKSkge1xyXG4gICAgICAgICAgdGhpcy5kcmF3QXJvbWF0aWNpdHlSaW5nKHJpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyB0aGUgYW4gZWRnZSBhcyBhIGJvbmQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gZWRnZUlkIEFuIGVkZ2UgaWQuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBkZWJ1ZyBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0byBkcmF3IGRlYnVnIGhlbHBlcnMuXHJcbiAgICovXHJcbiAgZHJhd0VkZ2UoZWRnZUlkLCBkZWJ1Zykge1xyXG4gICAgbGV0IHByZXByb2Nlc3NvciA9IHRoaXMucHJlcHJvY2Vzc29yLFxyXG4gICAgICBvcHRzID0gcHJlcHJvY2Vzc29yLm9wdHMsXHJcbiAgICAgIHN2Z1dyYXBwZXIgPSB0aGlzLnN2Z1dyYXBwZXIsXHJcbiAgICAgIGVkZ2UgPSBwcmVwcm9jZXNzb3IuZ3JhcGguZWRnZXNbZWRnZUlkXSxcclxuICAgICAgdmVydGV4QSA9IHByZXByb2Nlc3Nvci5ncmFwaC52ZXJ0aWNlc1tlZGdlLnNvdXJjZUlkXSxcclxuICAgICAgdmVydGV4QiA9IHByZXByb2Nlc3Nvci5ncmFwaC52ZXJ0aWNlc1tlZGdlLnRhcmdldElkXSxcclxuICAgICAgZWxlbWVudEEgPSB2ZXJ0ZXhBLnZhbHVlLmVsZW1lbnQsXHJcbiAgICAgIGVsZW1lbnRCID0gdmVydGV4Qi52YWx1ZS5lbGVtZW50O1xyXG5cclxuICAgIGlmICgoIXZlcnRleEEudmFsdWUuaXNEcmF3biB8fCAhdmVydGV4Qi52YWx1ZS5pc0RyYXduKSAmJiBwcmVwcm9jZXNzb3Iub3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYSA9IHZlcnRleEEucG9zaXRpb24sXHJcbiAgICAgIGIgPSB2ZXJ0ZXhCLnBvc2l0aW9uLFxyXG4gICAgICBub3JtYWxzID0gcHJlcHJvY2Vzc29yLmdldEVkZ2VOb3JtYWxzKGVkZ2UpLFxyXG4gICAgICAvLyBDcmVhdGUgYSBwb2ludCBvbiBlYWNoIHNpZGUgb2YgdGhlIGxpbmVcclxuICAgICAgc2lkZXMgPSBBcnJheUhlbHBlci5jbG9uZShub3JtYWxzKTtcclxuXHJcbiAgICBzaWRlc1swXS5tdWx0aXBseVNjYWxhcigxMCkuYWRkKGEpO1xyXG4gICAgc2lkZXNbMV0ubXVsdGlwbHlTY2FsYXIoMTApLmFkZChhKTtcclxuXHJcbiAgICBpZiAoZWRnZS5ib25kVHlwZSA9PT0gJz0nIHx8IHByZXByb2Nlc3Nvci5nZXRSaW5nYm9uZFR5cGUodmVydGV4QSwgdmVydGV4QikgPT09ICc9JyB8fFxyXG4gICAgICAoZWRnZS5pc1BhcnRPZkFyb21hdGljUmluZyAmJiBwcmVwcm9jZXNzb3IuYnJpZGdlZFJpbmcpKSB7XHJcbiAgICAgIC8vIEFsd2F5cyBkcmF3IGRvdWJsZSBib25kcyBpbnNpZGUgdGhlIHJpbmdcclxuICAgICAgbGV0IGluUmluZyA9IHByZXByb2Nlc3Nvci5hcmVWZXJ0aWNlc0luU2FtZVJpbmcodmVydGV4QSwgdmVydGV4Qik7XHJcbiAgICAgIGxldCBzID0gcHJlcHJvY2Vzc29yLmNob29zZVNpZGUodmVydGV4QSwgdmVydGV4Qiwgc2lkZXMpO1xyXG5cclxuICAgICAgaWYgKGluUmluZykge1xyXG4gICAgICAgIC8vIEFsd2F5cyBkcmF3IGRvdWJsZSBib25kcyBpbnNpZGUgYSByaW5nXHJcbiAgICAgICAgLy8gaWYgdGhlIGJvbmQgaXMgc2hhcmVkIGJ5IHR3byByaW5ncywgaXQgaXMgZHJhd24gaW4gdGhlIGxhcmdlclxyXG4gICAgICAgIC8vIHByb2JsZW06IHNtYWxsZXIgcmluZyBpcyBhcm9tYXRpYywgYm9uZCBpcyBzdGlsbCBkcmF3biBpbiBsYXJnZXIgLT4gZml4IHRoaXNcclxuICAgICAgICBsZXQgbGNyID0gcHJlcHJvY2Vzc29yLmdldExhcmdlc3RPckFyb21hdGljQ29tbW9uUmluZyh2ZXJ0ZXhBLCB2ZXJ0ZXhCKTtcclxuICAgICAgICBsZXQgY2VudGVyID0gbGNyLmNlbnRlcjtcclxuXHJcbiAgICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcihvcHRzLmJvbmRTcGFjaW5nKTtcclxuICAgICAgICBub3JtYWxzWzFdLm11bHRpcGx5U2NhbGFyKG9wdHMuYm9uZFNwYWNpbmcpO1xyXG5cclxuICAgICAgICAvLyBDaG9vc2UgdGhlIG5vcm1hbCB0aGF0IGlzIG9uIHRoZSBzYW1lIHNpZGUgYXMgdGhlIGNlbnRlclxyXG4gICAgICAgIGxldCBsaW5lID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGNlbnRlci5zYW1lU2lkZUFzKHZlcnRleEEucG9zaXRpb24sIHZlcnRleEIucG9zaXRpb24sIFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pKSkge1xyXG4gICAgICAgICAgbGluZSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGluZSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzFdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbmUuc2hvcnRlbihvcHRzLmJvbmRMZW5ndGggLSBvcHRzLnNob3J0Qm9uZExlbmd0aCAqIG9wdHMuYm9uZExlbmd0aCk7XHJcblxyXG4gICAgICAgIC8vIFRoZSBzaG9ydGVuZWQgZWRnZVxyXG4gICAgICAgIGlmIChlZGdlLmlzUGFydE9mQXJvbWF0aWNSaW5nKSB7XHJcbiAgICAgICAgICAvLyBwcmVwcm9jZXNzb3IuY2FudmFzV3JhcHBlci5kcmF3TGluZShsaW5lLCB0cnVlKTtcclxuICAgICAgICAgIHN2Z1dyYXBwZXIuZHJhd0xpbmUobGluZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIHByZXByb2Nlc3Nvci5jYW52YXNXcmFwcGVyLmRyYXdMaW5lKGxpbmUpO1xyXG4gICAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0xpbmUobmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoKGVkZ2UuY2VudGVyIHx8IHZlcnRleEEuaXNUZXJtaW5hbCgpICYmIHZlcnRleEIuaXNUZXJtaW5hbCgpKSB8fFxyXG4gICAgICAgIChzLmFuQ291bnQgPT0gMCAmJiBzLmJuQ291bnQgPiAxIHx8IHMuYm5Db3VudCA9PSAwICYmIHMuYW5Db3VudCA+IDEpKSB7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBseU5vcm1hbHMobm9ybWFscywgb3B0cy5oYWxmQm9uZFNwYWNpbmcpO1xyXG5cclxuICAgICAgICBsZXQgbGluZUEgPSBuZXcgTGluZShWZWN0b3IyLmFkZChhLCBub3JtYWxzWzBdKSwgVmVjdG9yMi5hZGQoYiwgbm9ybWFsc1swXSksIGVsZW1lbnRBLCBlbGVtZW50QiksXHJcbiAgICAgICAgICBsaW5lQiA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMV0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzFdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcclxuXHJcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lQSk7XHJcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lQik7XHJcbiAgICAgIH0gZWxzZSBpZiAoKHMuc2lkZUNvdW50WzBdID4gcy5zaWRlQ291bnRbMV0pIHx8XHJcbiAgICAgICAgKHMudG90YWxTaWRlQ291bnRbMF0gPiBzLnRvdGFsU2lkZUNvdW50WzFdKSkge1xyXG4gICAgICAgIHRoaXMubXVsdGlwbHlOb3JtYWxzKG5vcm1hbHMsIG9wdHMuYm9uZFNwYWNpbmcpO1xyXG5cclxuICAgICAgICBsZXQgbGluZSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcclxuXHJcbiAgICAgICAgbGluZS5zaG9ydGVuKG9wdHMuYm9uZExlbmd0aCAtIG9wdHMuc2hvcnRCb25kTGVuZ3RoICogb3B0cy5ib25kTGVuZ3RoKTtcclxuXHJcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lKTtcclxuICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xyXG4gICAgICB9IGVsc2UgaWYgKChzLnNpZGVDb3VudFswXSA8IHMuc2lkZUNvdW50WzFdKSB8fFxyXG4gICAgICAgIChzLnRvdGFsU2lkZUNvdW50WzBdIDw9IHMudG90YWxTaWRlQ291bnRbMV0pKSB7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBseU5vcm1hbHMobm9ybWFscywgb3B0cy5ib25kU3BhY2luZyk7XHJcblxyXG4gICAgICAgIGxldCBsaW5lID0gbmV3IExpbmUoVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMV0pLCBlbGVtZW50QSwgZWxlbWVudEIpO1xyXG5cclxuICAgICAgICBsaW5lLnNob3J0ZW4ob3B0cy5ib25kTGVuZ3RoIC0gb3B0cy5zaG9ydEJvbmRMZW5ndGggKiBvcHRzLmJvbmRMZW5ndGgpO1xyXG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0xpbmUobGluZSk7XHJcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShuZXcgTGluZShhLCBiLCBlbGVtZW50QSwgZWxlbWVudEIpKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChlZGdlLmJvbmRUeXBlID09PSAnIycpIHtcclxuICAgICAgbm9ybWFsc1swXS5tdWx0aXBseVNjYWxhcihvcHRzLmJvbmRTcGFjaW5nIC8gMS41KTtcclxuICAgICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcihvcHRzLmJvbmRTcGFjaW5nIC8gMS41KTtcclxuXHJcbiAgICAgIGxldCBsaW5lQSA9IG5ldyBMaW5lKFZlY3RvcjIuYWRkKGEsIG5vcm1hbHNbMF0pLCBWZWN0b3IyLmFkZChiLCBub3JtYWxzWzBdKSwgZWxlbWVudEEsIGVsZW1lbnRCKTtcclxuICAgICAgbGV0IGxpbmVCID0gbmV3IExpbmUoVmVjdG9yMi5hZGQoYSwgbm9ybWFsc1sxXSksIFZlY3RvcjIuYWRkKGIsIG5vcm1hbHNbMV0pLCBlbGVtZW50QSwgZWxlbWVudEIpO1xyXG5cclxuICAgICAgc3ZnV3JhcHBlci5kcmF3TGluZShsaW5lQSk7XHJcbiAgICAgIHN2Z1dyYXBwZXIuZHJhd0xpbmUobGluZUIpO1xyXG4gICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QikpO1xyXG4gICAgfSBlbHNlIGlmIChlZGdlLmJvbmRUeXBlID09PSAnLicpIHtcclxuICAgICAgLy8gVE9ETzogU29tZXRoaW5nLi4uIG1heWJlLi4uIHZlcnNpb24gMj9cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCBpc0NoaXJhbENlbnRlckEgPSB2ZXJ0ZXhBLnZhbHVlLmlzU3RlcmVvQ2VudGVyO1xyXG4gICAgICBsZXQgaXNDaGlyYWxDZW50ZXJCID0gdmVydGV4Qi52YWx1ZS5pc1N0ZXJlb0NlbnRlcjtcclxuXHJcbiAgICAgIGlmIChlZGdlLndlZGdlID09PSAndXAnKSB7XHJcbiAgICAgICAgc3ZnV3JhcHBlci5kcmF3V2VkZ2UobmV3IExpbmUoYSwgYiwgZWxlbWVudEEsIGVsZW1lbnRCLCBpc0NoaXJhbENlbnRlckEsIGlzQ2hpcmFsQ2VudGVyQikpO1xyXG4gICAgICB9IGVsc2UgaWYgKGVkZ2Uud2VkZ2UgPT09ICdkb3duJykge1xyXG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0Rhc2hlZFdlZGdlKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QiwgaXNDaGlyYWxDZW50ZXJBLCBpc0NoaXJhbENlbnRlckIpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdmdXcmFwcGVyLmRyYXdMaW5lKG5ldyBMaW5lKGEsIGIsIGVsZW1lbnRBLCBlbGVtZW50QiwgaXNDaGlyYWxDZW50ZXJBLCBpc0NoaXJhbENlbnRlckIpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkZWJ1Zykge1xyXG4gICAgICBsZXQgbWlkcG9pbnQgPSBWZWN0b3IyLm1pZHBvaW50KGEsIGIpO1xyXG4gICAgICBzdmdXcmFwcGVyLmRyYXdEZWJ1Z1RleHQobWlkcG9pbnQueCwgbWlkcG9pbnQueSwgJ2U6ICcgKyBlZGdlSWQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyB0aGUgaGlnaGxpZ2h0cyBmb3IgYXRvbXMgdG8gdGhlIGNhbnZhcy5cclxuICAgKiBcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIFxyXG4gICAqL1xyXG4gIGRyYXdBdG9tSGlnaGxpZ2h0cyhkZWJ1Zykge1xyXG4gICAgbGV0IHByZXByb2Nlc3NvciA9IHRoaXMucHJlcHJvY2Vzc29yO1xyXG4gICAgbGV0IG9wdHMgPSBwcmVwcm9jZXNzb3Iub3B0cztcclxuICAgIGxldCBncmFwaCA9IHByZXByb2Nlc3Nvci5ncmFwaDtcclxuICAgIGxldCByaW5ncyA9IHByZXByb2Nlc3Nvci5yaW5ncztcclxuICAgIGxldCBzdmdXcmFwcGVyID0gdGhpcy5zdmdXcmFwcGVyO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGgudmVydGljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbGV0IHZlcnRleCA9IGdyYXBoLnZlcnRpY2VzW2ldO1xyXG4gICAgICBsZXQgYXRvbSA9IHZlcnRleC52YWx1ZTtcclxuXHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlcHJvY2Vzc29yLmhpZ2hsaWdodF9hdG9tcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGxldCBoaWdobGlnaHQgPSBwcmVwcm9jZXNzb3IuaGlnaGxpZ2h0X2F0b21zW2pdXHJcbiAgICAgICAgaWYgKGF0b20uY2xhc3MgPT09IGhpZ2hsaWdodFswXSkge1xyXG4gICAgICAgICAgc3ZnV3JhcHBlci5kcmF3QXRvbUhpZ2hsaWdodCh2ZXJ0ZXgucG9zaXRpb24ueCwgdmVydGV4LnBvc2l0aW9uLnksIGhpZ2hsaWdodFsxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyB0aGUgdmVydGljZXMgcmVwcmVzZW50aW5nIGF0b21zIHRvIHRoZSBjYW52YXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRlYnVnIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGRyYXcgZGVidWcgbWVzc2FnZXMgdG8gdGhlIGNhbnZhcy5cclxuICAgKi9cclxuICBkcmF3VmVydGljZXMoZGVidWcpIHtcclxuICAgIGxldCBwcmVwcm9jZXNzb3IgPSB0aGlzLnByZXByb2Nlc3NvcixcclxuICAgICAgb3B0cyA9IHByZXByb2Nlc3Nvci5vcHRzLFxyXG4gICAgICBncmFwaCA9IHByZXByb2Nlc3Nvci5ncmFwaCxcclxuICAgICAgcmluZ3MgPSBwcmVwcm9jZXNzb3IucmluZ3MsXHJcbiAgICAgIHN2Z1dyYXBwZXIgPSB0aGlzLnN2Z1dyYXBwZXI7XHJcblxyXG4gICAgdmFyIGkgPSBncmFwaC52ZXJ0aWNlcy5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGxldCB2ZXJ0ZXggPSBncmFwaC52ZXJ0aWNlc1tpXTtcclxuICAgICAgbGV0IGF0b20gPSB2ZXJ0ZXgudmFsdWU7XHJcbiAgICAgIGxldCBjaGFyZ2UgPSAwO1xyXG4gICAgICBsZXQgaXNvdG9wZSA9IDA7XHJcbiAgICAgIGxldCBib25kQ291bnQgPSB2ZXJ0ZXgudmFsdWUuYm9uZENvdW50O1xyXG4gICAgICBsZXQgZWxlbWVudCA9IGF0b20uZWxlbWVudDtcclxuICAgICAgbGV0IGh5ZHJvZ2VucyA9IEF0b20ubWF4Qm9uZHNbZWxlbWVudF0gLSBib25kQ291bnQ7XHJcbiAgICAgIGxldCBkaXIgPSB2ZXJ0ZXguZ2V0VGV4dERpcmVjdGlvbihncmFwaC52ZXJ0aWNlcywgYXRvbS5oYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKTtcclxuICAgICAgbGV0IGlzVGVybWluYWwgPSBvcHRzLnRlcm1pbmFsQ2FyYm9ucyB8fCBlbGVtZW50ICE9PSAnQycgfHwgYXRvbS5oYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzID8gdmVydGV4LmlzVGVybWluYWwoKSA6IGZhbHNlO1xyXG4gICAgICBsZXQgaXNDYXJib24gPSBhdG9tLmVsZW1lbnQgPT09ICdDJztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBtb2xlY3VsZSBoYXMgbGVzcyB0aGFuIDMgZWxlbWVudHMsIGFsd2F5cyB3cml0ZSB0aGUgXCJDXCIgZm9yIGNhcmJvblxyXG4gICAgICBpZiAoZ3JhcGgudmVydGljZXMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgIGlzQ2FyYm9uID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoaXMgaXMgYSBIQUNLIHRvIHJlbW92ZSBhbGwgaHlkcm9nZW5zIGZyb20gbml0cm9nZW5zIGluIGFyb21hdGljIHJpbmdzLCBhcyB0aGlzXHJcbiAgICAgIC8vIHNob3VsZCBiZSB0aGUgbW9zdCBjb21tb24gc3RhdGUuIFRoaXMgaGFzIHRvIGJlIGZpeGVkIGJ5IGtla3VsaXphdGlvblxyXG4gICAgICBpZiAoYXRvbS5lbGVtZW50ID09PSAnTicgJiYgYXRvbS5pc1BhcnRPZkFyb21hdGljUmluZykge1xyXG4gICAgICAgIGh5ZHJvZ2VucyA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhdG9tLmJyYWNrZXQpIHtcclxuICAgICAgICBoeWRyb2dlbnMgPSBhdG9tLmJyYWNrZXQuaGNvdW50O1xyXG4gICAgICAgIGNoYXJnZSA9IGF0b20uYnJhY2tldC5jaGFyZ2U7XHJcbiAgICAgICAgaXNvdG9wZSA9IGF0b20uYnJhY2tldC5pc290b3BlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gJ2FsbGJhbGxzJykge1xyXG4gICAgICAgIHN2Z1dyYXBwZXIuZHJhd0JhbGwodmVydGV4LnBvc2l0aW9uLngsIHZlcnRleC5wb3NpdGlvbi55LCBlbGVtZW50KTtcclxuICAgICAgfSBlbHNlIGlmICgoYXRvbS5pc0RyYXduICYmICghaXNDYXJib24gfHwgYXRvbS5kcmF3RXhwbGljaXQgfHwgaXNUZXJtaW5hbCB8fCBhdG9tLmhhc0F0dGFjaGVkUHNldWRvRWxlbWVudHMpKSB8fCBncmFwaC52ZXJ0aWNlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBpZiAob3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICBsZXQgYXR0YWNoZWRQc2V1ZG9FbGVtZW50cyA9IGF0b20uZ2V0QXR0YWNoZWRQc2V1ZG9FbGVtZW50cygpO1xyXG5cclxuICAgICAgICAgIC8vIERyYXcgdG8gdGhlIHJpZ2h0IGlmIHRoZSB3aG9sZSBtb2xlY3VsZSBpcyBjb25jYXRlbmF0ZWQgaW50byBvbmUgc3RyaW5nXHJcbiAgICAgICAgICBpZiAoYXRvbS5oYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzICYmIGdyYXBoLnZlcnRpY2VzLmxlbmd0aCA9PT0gT2JqZWN0LmtleXMoYXR0YWNoZWRQc2V1ZG9FbGVtZW50cykubGVuZ3RoICsgMSkge1xyXG4gICAgICAgICAgICBkaXIgPSAncmlnaHQnO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHN2Z1dyYXBwZXIuZHJhd1RleHQodmVydGV4LnBvc2l0aW9uLngsIHZlcnRleC5wb3NpdGlvbi55LFxyXG4gICAgICAgICAgICBlbGVtZW50LCBoeWRyb2dlbnMsIGRpciwgaXNUZXJtaW5hbCwgY2hhcmdlLCBpc290b3BlLCBncmFwaC52ZXJ0aWNlcy5sZW5ndGgsIGF0dGFjaGVkUHNldWRvRWxlbWVudHMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0cy5hdG9tVmlzdWFsaXphdGlvbiA9PT0gJ2JhbGxzJykge1xyXG4gICAgICAgICAgc3ZnV3JhcHBlci5kcmF3QmFsbCh2ZXJ0ZXgucG9zaXRpb24ueCwgdmVydGV4LnBvc2l0aW9uLnksIGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh2ZXJ0ZXguZ2V0TmVpZ2hib3VyQ291bnQoKSA9PT0gMiAmJiB2ZXJ0ZXguZm9yY2VQb3NpdGlvbmVkID09IHRydWUpIHtcclxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGNhcmJvbiB3aGljaCBib25kcyBhcmUgaW4gYSBzdHJhaWdodCBsaW5lLCBkcmF3IGEgZG90XHJcbiAgICAgICAgbGV0IGEgPSBncmFwaC52ZXJ0aWNlc1t2ZXJ0ZXgubmVpZ2hib3Vyc1swXV0ucG9zaXRpb247XHJcbiAgICAgICAgbGV0IGIgPSBncmFwaC52ZXJ0aWNlc1t2ZXJ0ZXgubmVpZ2hib3Vyc1sxXV0ucG9zaXRpb247XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gVmVjdG9yMi50aHJlZVBvaW50YW5nbGUodmVydGV4LnBvc2l0aW9uLCBhLCBiKTtcclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKE1hdGguUEkgLSBhbmdsZSkgPCAwLjEpIHtcclxuICAgICAgICAgIHN2Z1dyYXBwZXIuZHJhd1BvaW50KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGVidWcpIHtcclxuICAgICAgICBsZXQgdmFsdWUgPSAndjogJyArIHZlcnRleC5pZCArICcgJyArIEFycmF5SGVscGVyLnByaW50KGF0b20ucmluZ2JvbmRzKTtcclxuICAgICAgICBzdmdXcmFwcGVyLmRyYXdEZWJ1Z1RleHQodmVydGV4LnBvc2l0aW9uLngsIHZlcnRleC5wb3NpdGlvbi55LCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gZWxzZSB7XHJcbiAgICAgIC8vICAgc3ZnV3JhcHBlci5kcmF3RGVidWdUZXh0KHZlcnRleC5wb3NpdGlvbi54LCB2ZXJ0ZXgucG9zaXRpb24ueSwgdmVydGV4LnZhbHVlLmNoaXJhbGl0eSk7XHJcbiAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEcmF3IHRoZSByaW5nIGNlbnRlcnMgZm9yIGRlYnVnIHB1cnBvc2VzXHJcbiAgICBpZiAob3B0cy5kZWJ1Zykge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGNlbnRlciA9IHJpbmdzW2ldLmNlbnRlcjtcclxuICAgICAgICBzdmdXcmFwcGVyLmRyYXdEZWJ1Z1BvaW50KGNlbnRlci54LCBjZW50ZXIueSwgJ3I6ICcgKyByaW5nc1tpXS5pZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgdGhlIHdlaWdodHMgb24gYSBiYWNrZ3JvdW5kIGltYWdlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyW119IHdlaWdodHMgVGhlIHdlaWdodHMgYXNzaWduZWQgdG8gZWFjaCBhdG9tLlxyXG4gICAqL1xyXG4gIGRyYXdXZWlnaHRzKHdlaWdodHMsIHdlaWdodHNOb3JtYWxpemVkKSB7XHJcbiAgICBpZiAod2VpZ2h0cy5ldmVyeSh3ID0+IHcgPT09IDApKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAod2VpZ2h0cy5sZW5ndGggIT09IHRoaXMucHJlcHJvY2Vzc29yLmdyYXBoLmF0b21JZHhUb1ZlcnRleElkLmxlbmd0aCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBudW1iZXIgb2Ygd2VpZ2h0cyBzdXBwbGllZCBtdXN0IGJlIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgKGhlYXZ5KSBhdG9tcyBpbiB0aGUgbW9sZWN1bGUuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBvaW50cyA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3QgYXRvbUlkeCBvZiB0aGlzLnByZXByb2Nlc3Nvci5ncmFwaC5hdG9tSWR4VG9WZXJ0ZXhJZCkge1xyXG4gICAgICBsZXQgdmVydGV4ID0gdGhpcy5wcmVwcm9jZXNzb3IuZ3JhcGgudmVydGljZXNbYXRvbUlkeF07XHJcbiAgICAgIHBvaW50cy5wdXNoKG5ldyBWZWN0b3IyKFxyXG4gICAgICAgIHZlcnRleC5wb3NpdGlvbi54IC0gdGhpcy5zdmdXcmFwcGVyLm1pblgsXHJcbiAgICAgICAgdmVydGV4LnBvc2l0aW9uLnkgLSB0aGlzLnN2Z1dyYXBwZXIubWluWSlcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZ2QgPSBuZXcgR2F1c3NEcmF3ZXIoXHJcbiAgICAgIHBvaW50cywgd2VpZ2h0cywgdGhpcy5zdmdXcmFwcGVyLmRyYXdpbmdXaWR0aCwgdGhpcy5zdmdXcmFwcGVyLmRyYXdpbmdIZWlnaHQsXHJcbiAgICAgIHRoaXMub3B0cy53ZWlnaHRzLnNpZ21hLCB0aGlzLm9wdHMud2VpZ2h0cy5pbnRlcnZhbCwgdGhpcy5vcHRzLndlaWdodHMuY29sb3JtYXAsXHJcbiAgICAgIHRoaXMub3B0cy53ZWlnaHRzLm9wYWNpdHksIHdlaWdodHNOb3JtYWxpemVkXHJcbiAgICApO1xyXG5cclxuICAgIGdkLmRyYXcoKTtcclxuICAgIHRoaXMuc3ZnV3JhcHBlci5hZGRMYXllcihnZC5nZXRTVkcoKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBvdmVybGFwIHNjb3JlIG9mIHRoZSBjdXJyZW50IG1vbGVjdWxlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG92ZXJsYXAgc2NvcmUuXHJcbiAgICovXHJcbiAgZ2V0VG90YWxPdmVybGFwU2NvcmUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wcmVwcm9jZXNzb3IuZ2V0VG90YWxPdmVybGFwU2NvcmUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIG1vbGVjdWxhciBmb3JtdWxhIG9mIHRoZSBsb2FkZWQgbW9sZWN1bGUgYXMgYSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbW9sZWN1bGFyIGZvcm11bGEuXHJcbiAgICovXHJcbiAgZ2V0TW9sZWN1bGFyRm9ybXVsYShncmFwaCA9IG51bGwpIHtcclxuICAgIHJldHVybiB0aGlzLnByZXByb2Nlc3Nvci5nZXRNb2xlY3VsYXJGb3JtdWxhKGdyYXBoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXl9IG5vcm1hbHMgbGlzdCBvZiBub3JtYWxzIHRvIG11bHRpcGx5XHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNwYWNpbmcgdmFsdWUgdG8gbXVsdGlwbHkgbm9ybWFscyBieVxyXG4gICAqL1xyXG4gIG11bHRpcGx5Tm9ybWFscyhub3JtYWxzLCBzcGFjaW5nKSB7XHJcbiAgICBub3JtYWxzWzBdLm11bHRpcGx5U2NhbGFyKHNwYWNpbmcpO1xyXG4gICAgbm9ybWFsc1sxXS5tdWx0aXBseVNjYWxhcihzcGFjaW5nKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gU3ZnRHJhd2VyO1xyXG4iLCJjb25zdCB7XHJcbiAgZ2V0Q2hhcmdlVGV4dFxyXG59ID0gcmVxdWlyZSgnLi9VdGlsaXR5RnVuY3Rpb25zJyk7XHJcblxyXG5jb25zdCBMaW5lID0gcmVxdWlyZSgnLi9MaW5lJyk7XHJcbmNvbnN0IFZlY3RvcjIgPSByZXF1aXJlKCcuL1ZlY3RvcjInKTtcclxuY29uc3QgTWF0aEhlbHBlciA9IHJlcXVpcmUoJy4vTWF0aEhlbHBlcicpO1xyXG5cclxuZnVuY3Rpb24gbWFrZWlkKGxlbmd0aCkge1xyXG4gIHZhciByZXN1bHQgPSAnJztcclxuICB2YXIgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcbiAgdmFyIGNoYXJhY3RlcnNMZW5ndGggPSBjaGFyYWN0ZXJzLmxlbmd0aDtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5jbGFzcyBTdmdXcmFwcGVyIHtcclxuICBjb25zdHJ1Y3Rvcih0aGVtZU1hbmFnZXIsIHRhcmdldCwgb3B0aW9ucywgY2xlYXIgPSB0cnVlKSB7XHJcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ3N0cmluZycgfHwgdGFyZ2V0IGluc3RhbmNlb2YgU3RyaW5nKSB7XHJcbiAgICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3ZnID0gdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcclxuICAgIHRoaXMub3B0cyA9IG9wdGlvbnM7XHJcbiAgICB0aGlzLnVpZCA9IG1ha2VpZCg1KTtcclxuICAgIHRoaXMuZ3JhZGllbnRJZCA9IDA7XHJcblxyXG4gICAgLy8gbWFpbnRhaW4gYSBsaXN0IG9mIGxpbmUgZWxlbWVudHMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgZ3JhZGllbnRzXHJcbiAgICAvLyBtYWludGFpbiBhIGxpc3Qgb2YgdmVydGV4IGVsZW1lbnRzXHJcbiAgICAvLyBtYWludGFpbiBhIGxpc3Qgb2YgaGlnaGxpZ2h0aW5nIGVsZW1lbnRzXHJcbiAgICB0aGlzLmJhY2tncm91bmRJdGVtcyA9IFtdXHJcbiAgICB0aGlzLnBhdGhzID0gW107XHJcbiAgICB0aGlzLnZlcnRpY2VzID0gW107XHJcbiAgICB0aGlzLmdyYWRpZW50cyA9IFtdO1xyXG4gICAgdGhpcy5oaWdobGlnaHRzID0gW107XHJcblxyXG4gICAgLy8gbWFpbnRhaW4gdGhlIGRpbWVuc2lvbnNcclxuICAgIHRoaXMuZHJhd2luZ1dpZHRoID0gMDtcclxuICAgIHRoaXMuZHJhd2luZ0hlaWdodCA9IDA7XHJcbiAgICB0aGlzLmhhbGZCb25kVGhpY2tuZXNzID0gdGhpcy5vcHRzLmJvbmRUaGlja25lc3MgLyAyLjA7XHJcblxyXG4gICAgLy8gZm9yIG1hbmFnaW5nIGNvbG9yIHNjaGVtZXNcclxuICAgIHRoaXMudGhlbWVNYW5hZ2VyID0gdGhlbWVNYW5hZ2VyO1xyXG5cclxuICAgIC8vIGNyZWF0ZSB0aGUgbWFza1xyXG4gICAgdGhpcy5tYXNrRWxlbWVudHMgPSBbXTtcclxuXHJcbiAgICAvLyBtaW4gYW5kIG1heCB2YWx1ZXMgb2YgdGhlIGNvb3JkaW5hdGVzXHJcbiAgICB0aGlzLm1heFggPSAtTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIHRoaXMubWF4WSA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xyXG4gICAgdGhpcy5taW5YID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICAgIHRoaXMubWluWSA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG4gICAgLy8gY2xlYXIgdGhlIHN2ZyBlbGVtZW50XHJcbiAgICBpZiAoY2xlYXIpIHtcclxuICAgICAgd2hpbGUgKHRoaXMuc3ZnLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICB0aGlzLnN2Zy5yZW1vdmVDaGlsZCh0aGlzLnN2Zy5maXJzdENoaWxkKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBzdHlsZXMgaGVyZSBhcyB0ZXh0IG1lYXN1cmVtZW50IGlzIGRvbmUgYmVmb3JlIGNvbnN0cnVjdFN2Z1xyXG4gICAgdGhpcy5zdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3R5bGUnKTtcclxuXHJcbiAgICAvLyBjcmVhdGUgdGhlIGNzcyBzdHlsZXNcclxuICAgIHRoaXMuc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYFxyXG4gICAgICAgICAgICAgICAgLmVsZW1lbnQge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6ICR7dGhpcy5vcHRzLmZvbnRTaXplTGFyZ2V9cHQgJHt0aGlzLm9wdHMuZm9udEZhbWlseX07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAuc3ViIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250OiAke3RoaXMub3B0cy5mb250U2l6ZVNtYWxsfXB0ICR7dGhpcy5vcHRzLmZvbnRGYW1pbHl9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBgKSk7XHJcblxyXG4gICAgaWYgKHRoaXMuc3ZnKSB7XHJcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMuc3R5bGUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3R5bGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0U3ZnKCkge1xyXG4gICAgLy8gVE9ETzogYWRkIHRoZSBkZWZzIGVsZW1lbnQgdG8gcHV0IGdyYWRpZW50cyBpblxyXG4gICAgbGV0IGRlZnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2RlZnMnKSxcclxuICAgICAgbWFza3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ21hc2snKSxcclxuICAgICAgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpLFxyXG4gICAgICBoaWdobGlnaHRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyksXHJcbiAgICAgIHBhdGhzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyksXHJcbiAgICAgIHZlcnRpY2VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyksXHJcbiAgICAgIHBhdGhDaGlsZE5vZGVzID0gdGhpcy5wYXRocztcclxuXHJcblxyXG4gICAgbGV0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3JlY3QnKTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB0aGlzLm1pblgpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIHRoaXMubWluWSk7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIHRoaXMubWF4WCAtIHRoaXMubWluWCk7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCB0aGlzLm1heFkgLSB0aGlzLm1pblkpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICd3aGl0ZScpO1xyXG5cclxuICAgIG1hc2tzLmFwcGVuZENoaWxkKG1hc2spO1xyXG5cclxuICAgIC8vIGdpdmUgdGhlIG1hc2sgYW4gaWRcclxuICAgIG1hc2tzLnNldEF0dHJpYnV0ZU5TKG51bGwsICdpZCcsIHRoaXMudWlkICsgJy10ZXh0LW1hc2snKTtcclxuXHJcbiAgICBmb3IgKGxldCBwYXRoIG9mIHBhdGhDaGlsZE5vZGVzKSB7XHJcbiAgICAgIHBhdGhzLmFwcGVuZENoaWxkKHBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGJhY2tncm91bmRJdGVtIG9mIHRoaXMuYmFja2dyb3VuZEl0ZW1zKSB7XHJcbiAgICAgIGJhY2tncm91bmQuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZEl0ZW0pXHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBoaWdobGlnaHQgb2YgdGhpcy5oaWdobGlnaHRzKSB7XHJcbiAgICAgIGhpZ2hsaWdodHMuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0KVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgdmVydGV4IG9mIHRoaXMudmVydGljZXMpIHtcclxuICAgICAgdmVydGljZXMuYXBwZW5kQ2hpbGQodmVydGV4KTtcclxuICAgIH1cclxuICAgIGZvciAobGV0IG1hc2sgb2YgdGhpcy5tYXNrRWxlbWVudHMpIHtcclxuICAgICAgbWFza3MuYXBwZW5kQ2hpbGQobWFzayk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBncmFkaWVudCBvZiB0aGlzLmdyYWRpZW50cykge1xyXG4gICAgICBkZWZzLmFwcGVuZENoaWxkKGdyYWRpZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXRocy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnbWFzaycsICd1cmwoIycgKyB0aGlzLnVpZCArICctdGV4dC1tYXNrKScpO1xyXG5cclxuICAgIHRoaXMudXBkYXRlVmlld2JveCh0aGlzLm9wdHMuc2NhbGUpO1xyXG5cclxuICAgIC8vIFBvc2l0aW9uIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICBiYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsIGB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoJHt0aGlzLm1pblh9cHgpIHRyYW5zbGF0ZVkoJHt0aGlzLm1pbll9cHgpYCk7XHJcblxyXG4gICAgaWYgKHRoaXMuc3ZnKSB7XHJcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGRlZnMpO1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChtYXNrcyk7XHJcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGJhY2tncm91bmQpO1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChoaWdobGlnaHRzKTtcclxuICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQocGF0aHMpO1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh2ZXJ0aWNlcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkZWZzKTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQobWFza3MpO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcclxuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQocGF0aHMpO1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh2ZXJ0aWNlcyk7XHJcbiAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIGJhY2tncm91bmQgdG8gdGhlIHN2Zy5cclxuICAgKi9cclxuICBhZGRMYXllcihzdmcpIHtcclxuICAgIHRoaXMuYmFja2dyb3VuZEl0ZW1zLnB1c2goc3ZnLmZpcnN0Q2hpbGQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlIGEgbGluZWFyIGdyYWRpZW50IHRvIGFwcGx5IHRvIGEgbGluZVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtMaW5lfSBsaW5lIHRoZSBsaW5lIHRvIGFwcGx5IHRoZSBncmFkaWF0aW9uIHRvLlxyXG4gICAqL1xyXG4gIGNyZWF0ZUdyYWRpZW50KGxpbmUpIHtcclxuICAgIC8vIGNyZWF0ZSB0aGUgZ3JhZGllbnQgYW5kIGFkZCBpdFxyXG4gICAgbGV0IGdyYWRpZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdsaW5lYXJHcmFkaWVudCcpLFxyXG4gICAgICBncmFkaWVudFVybCA9IHRoaXMudWlkICsgYC1saW5lLSR7dGhpcy5ncmFkaWVudElkKyt9YCxcclxuICAgICAgbCA9IGxpbmUuZ2V0TGVmdFZlY3RvcigpLFxyXG4gICAgICByID0gbGluZS5nZXRSaWdodFZlY3RvcigpLFxyXG4gICAgICBmcm9tWCA9IGwueCxcclxuICAgICAgZnJvbVkgPSBsLnksXHJcbiAgICAgIHRvWCA9IHIueCxcclxuICAgICAgdG9ZID0gci55O1xyXG5cclxuICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdpZCcsIGdyYWRpZW50VXJsKTtcclxuICAgIGdyYWRpZW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdncmFkaWVudFVuaXRzJywgJ3VzZXJTcGFjZU9uVXNlJyk7XHJcbiAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneDEnLCBmcm9tWCk7XHJcbiAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneTEnLCBmcm9tWSk7XHJcbiAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneDInLCB0b1gpO1xyXG4gICAgZ3JhZGllbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3kyJywgdG9ZKTtcclxuXHJcbiAgICBsZXQgZmlyc3RTdG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdG9wJyk7XHJcbiAgICBmaXJzdFN0b3Auc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0b3AtY29sb3InLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihsaW5lLmdldExlZnRFbGVtZW50KCkpIHx8IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKCdDJykpO1xyXG4gICAgZmlyc3RTdG9wLnNldEF0dHJpYnV0ZU5TKG51bGwsICdvZmZzZXQnLCAnMjAlJyk7XHJcblxyXG4gICAgbGV0IHNlY29uZFN0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N0b3AnKTtcclxuICAgIHNlY29uZFN0b3Auc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0b3AtY29sb3InLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihsaW5lLmdldFJpZ2h0RWxlbWVudCgpIHx8IHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKCdDJykpKTtcclxuICAgIHNlY29uZFN0b3Auc2V0QXR0cmlidXRlTlMobnVsbCwgJ29mZnNldCcsICcxMDAlJyk7XHJcblxyXG4gICAgZ3JhZGllbnQuYXBwZW5kQ2hpbGQoZmlyc3RTdG9wKTtcclxuICAgIGdyYWRpZW50LmFwcGVuZENoaWxkKHNlY29uZFN0b3ApO1xyXG5cclxuICAgIHRoaXMuZ3JhZGllbnRzLnB1c2goZ3JhZGllbnQpO1xyXG5cclxuICAgIHJldHVybiBncmFkaWVudFVybDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIHRzcGFuIGVsZW1lbnQgZm9yIHN1YiBvciBzdXBlciBzY3JpcHRzIHRoYXQgc3R5bGVzIHRoZSB0ZXh0XHJcbiAgICogYXBwcm9wcmlhdGVseSBhcyBvbmUgb2YgdGhvc2UgdGV4dCB0eXBlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRoZSBhY3R1YWwgdGV4dFxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzaGlmdCB0aGUgdHlwZSBvZiB0ZXh0LCBlaXRoZXIgJ3N1YicsIG9yICdzdXBlcidcclxuICAgKi9cclxuICBjcmVhdGVTdWJTdXBlclNjcmlwdHModGV4dCwgc2hpZnQpIHtcclxuICAgIGxldCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgZWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnYmFzZWxpbmUtc2hpZnQnLCBzaGlmdCk7XHJcbiAgICBlbGVtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcclxuICAgIGVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2NsYXNzJywgJ3N1YicpO1xyXG5cclxuICAgIHJldHVybiBlbGVtO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZVVuaWNvZGVDaGFyZ2Uobikge1xyXG4gICAgaWYgKG4gPT09IDEpIHtcclxuICAgICAgcmV0dXJuICfigbonO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuID09PSAtMSkge1xyXG4gICAgICByZXR1cm4gJ+KBuyc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG4gPiAxKSB7XHJcbiAgICAgIHJldHVybiBTdmdXcmFwcGVyLmNyZWF0ZVVuaWNvZGVTdXBlcnNjcmlwdChuKSArICfigbonO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuIDwgLTEpIHtcclxuICAgICAgcmV0dXJuIFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZVN1cGVyc2NyaXB0KG4pICsgJ+KBuyc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICcnXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmUgZHJhd2luZyBkaW1lbnNpb3NuIGJhc2VkIG9uIHZlcnRleCBwb3NpdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBBbiBhcnJheSBvZiB2ZXJ0aWNlcyBjb250YWluaW5nIHRoZSB2ZXJ0aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICovXHJcbiAgZGV0ZXJtaW5lRGltZW5zaW9ucyh2ZXJ0aWNlcykge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIXZlcnRpY2VzW2ldLnZhbHVlLmlzRHJhd24pIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHAgPSB2ZXJ0aWNlc1tpXS5wb3NpdGlvbjtcclxuXHJcbiAgICAgIGlmICh0aGlzLm1heFggPCBwLngpIHRoaXMubWF4WCA9IHAueDtcclxuICAgICAgaWYgKHRoaXMubWF4WSA8IHAueSkgdGhpcy5tYXhZID0gcC55O1xyXG4gICAgICBpZiAodGhpcy5taW5YID4gcC54KSB0aGlzLm1pblggPSBwLng7XHJcbiAgICAgIGlmICh0aGlzLm1pblkgPiBwLnkpIHRoaXMubWluWSA9IHAueTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgcGFkZGluZ1xyXG4gICAgbGV0IHBhZGRpbmcgPSB0aGlzLm9wdHMucGFkZGluZztcclxuICAgIHRoaXMubWF4WCArPSBwYWRkaW5nO1xyXG4gICAgdGhpcy5tYXhZICs9IHBhZGRpbmc7XHJcbiAgICB0aGlzLm1pblggLT0gcGFkZGluZztcclxuICAgIHRoaXMubWluWSAtPSBwYWRkaW5nO1xyXG5cclxuICAgIHRoaXMuZHJhd2luZ1dpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xyXG4gICAgdGhpcy5kcmF3aW5nSGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVmlld2JveChzY2FsZSkge1xyXG4gICAgbGV0IHggPSB0aGlzLm1pblg7XHJcbiAgICBsZXQgeSA9IHRoaXMubWluWTtcclxuICAgIGxldCB3aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcclxuICAgIGxldCBoZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XHJcblxyXG4gICAgaWYgKHNjYWxlIDw9IDAuMCkge1xyXG4gICAgICBpZiAod2lkdGggPiBoZWlnaHQpIHtcclxuICAgICAgICBsZXQgZGlmZiA9IHdpZHRoIC0gaGVpZ2h0O1xyXG4gICAgICAgIGhlaWdodCA9IHdpZHRoO1xyXG4gICAgICAgIHkgLT0gZGlmZiAvIDIuMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgZGlmZiA9IGhlaWdodCAtIHdpZHRoO1xyXG4gICAgICAgIHdpZHRoID0gaGVpZ2h0O1xyXG4gICAgICAgIHggLT0gZGlmZiAvIDIuMDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMuc3ZnKSB7XHJcbiAgICAgICAgdGhpcy5zdmcuc3R5bGUud2lkdGggPSBzY2FsZSAqIHdpZHRoICsgJ3B4JztcclxuICAgICAgICB0aGlzLnN2Zy5zdHlsZS5oZWlnaHQgPSBzY2FsZSAqIGhlaWdodCArICdweCc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsIGAke3h9ICR7eX0gJHt3aWR0aH0gJHtoZWlnaHR9YCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEcmF3IGFuIHN2ZyBlbGxpcHNlIGFzIGEgYmFsbC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZWxlbWVudCAoc2luZ2xlLWxldHRlcikuXHJcbiAgICovXHJcbiAgZHJhd0JhbGwoeCwgeSwgZWxlbWVudE5hbWUpIHtcclxuICAgIGxldCByID0gdGhpcy5vcHRzLmJvbmRMZW5ndGggLyA0LjU7XHJcblxyXG4gICAgaWYgKHggLSByIDwgdGhpcy5taW5YKSB7XHJcbiAgICAgIHRoaXMubWluWCA9IHggLSByO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh4ICsgciA+IHRoaXMubWF4WCkge1xyXG4gICAgICB0aGlzLm1heFggPSB4ICsgcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoeSAtIHIgPCB0aGlzLm1pblkpIHtcclxuICAgICAgdGhpcy5taW5ZID0geSAtIHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHkgKyByID4gdGhpcy5tYXhZKSB7XHJcbiAgICAgIHRoaXMubWF4WSA9IHkgKyByO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBiYWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcclxuICAgIGJhbGwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgeCk7XHJcbiAgICBiYWxsLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsIHkpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncicsIHIpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGVsZW1lbnROYW1lKSk7XHJcblxyXG4gICAgdGhpcy52ZXJ0aWNlcy5wdXNoKGJhbGwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtMaW5lfSBsaW5lIHRoZSBsaW5lIG9iamVjdCB0byBjcmVhdGUgdGhlIHdlZGdlIGZyb21cclxuICAgKi9cclxuICBkcmF3V2VkZ2UobGluZSkge1xyXG4gICAgbGV0IGwgPSBsaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpLFxyXG4gICAgICByID0gbGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCk7XHJcblxyXG4gICAgbGV0IG5vcm1hbHMgPSBWZWN0b3IyLm5vcm1hbHMobCwgcik7XHJcblxyXG4gICAgbm9ybWFsc1swXS5ub3JtYWxpemUoKTtcclxuICAgIG5vcm1hbHNbMV0ubm9ybWFsaXplKCk7XHJcblxyXG4gICAgbGV0IGlzUmlnaHRDaGlyYWxDZW50ZXIgPSBsaW5lLmdldFJpZ2h0Q2hpcmFsKCk7XHJcblxyXG4gICAgbGV0IHN0YXJ0ID0gbCxcclxuICAgICAgZW5kID0gcjtcclxuXHJcbiAgICBpZiAoaXNSaWdodENoaXJhbENlbnRlcikge1xyXG4gICAgICBzdGFydCA9IHI7XHJcbiAgICAgIGVuZCA9IGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHQgPSBWZWN0b3IyLmFkZChzdGFydCwgVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzBdLCB0aGlzLmhhbGZCb25kVGhpY2tuZXNzKSksXHJcbiAgICAgIHUgPSBWZWN0b3IyLmFkZChlbmQsIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1swXSwgMy4wICsgdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgLyA0LjApKSxcclxuICAgICAgdiA9IFZlY3RvcjIuYWRkKGVuZCwgVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzFdLCAzLjAgKyB0aGlzLm9wdHMuZm9udFNpemVMYXJnZSAvIDQuMCkpLFxyXG4gICAgICB3ID0gVmVjdG9yMi5hZGQoc3RhcnQsIFZlY3RvcjIubXVsdGlwbHlTY2FsYXIobm9ybWFsc1sxXSwgdGhpcy5oYWxmQm9uZFRoaWNrbmVzcykpO1xyXG5cclxuICAgIGxldCBwb2x5Z29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwb2x5Z29uJyksXHJcbiAgICAgIGdyYWRpZW50ID0gdGhpcy5jcmVhdGVHcmFkaWVudChsaW5lLCBsLngsIGwueSwgci54LCByLnkpO1xyXG4gICAgcG9seWdvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncG9pbnRzJywgYCR7dC54fSwke3QueX0gJHt1Lnh9LCR7dS55fSAke3YueH0sJHt2Lnl9ICR7dy54fSwke3cueX1gKTtcclxuICAgIHBvbHlnb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCBgdXJsKCcjJHtncmFkaWVudH0nKWApO1xyXG4gICAgdGhpcy5wYXRocy5wdXNoKHBvbHlnb24pO1xyXG4gIH1cclxuXHJcbiAgLyogRHJhdyBhIGhpZ2hsaWdodCBmb3IgYW4gYXRvbVxyXG4gICAqIFxyXG4gICAqICBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgaGlnaGxpZ2h0XHJcbiAgICogIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBoaWdobGlnaHRcclxuICAgKiAgQHBhcmFtIHtzdHJpbmd9IGNvbG9yIFRoZSBjb2xvciBvZiB0aGUgaGlnaGxpZ2h0LCBkZWZhdWx0ICMwM2ZjOWRcclxuICAgKi9cclxuICBkcmF3QXRvbUhpZ2hsaWdodCh4LCB5LCBjb2xvciA9IFwiIzAzZmM5ZFwiKSB7XHJcbiAgICBsZXQgYmFsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XHJcbiAgICBiYWxsLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsIHgpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCB5KTtcclxuICAgIGJhbGwuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3InLCB0aGlzLm9wdHMuYm9uZExlbmd0aCAvIDMpO1xyXG4gICAgYmFsbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsIGNvbG9yKTtcclxuXHJcbiAgICB0aGlzLmhpZ2hsaWdodHMucHVzaChiYWxsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgYSBkYXNoZWQgd2VkZ2Ugb24gdGhlIGNhbnZhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TGluZX0gbGluZSBBIGxpbmUuXHJcbiAgICovXHJcbiAgZHJhd0Rhc2hlZFdlZGdlKGxpbmUpIHtcclxuICAgIGlmIChpc05hTihsaW5lLmZyb20ueCkgfHwgaXNOYU4obGluZS5mcm9tLnkpIHx8XHJcbiAgICAgIGlzTmFOKGxpbmUudG8ueCkgfHwgaXNOYU4obGluZS50by55KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGwgPSBsaW5lLmdldExlZnRWZWN0b3IoKS5jbG9uZSgpLFxyXG4gICAgICByID0gbGluZS5nZXRSaWdodFZlY3RvcigpLmNsb25lKCksXHJcbiAgICAgIG5vcm1hbHMgPSBWZWN0b3IyLm5vcm1hbHMobCwgcik7XHJcblxyXG4gICAgbm9ybWFsc1swXS5ub3JtYWxpemUoKTtcclxuICAgIG5vcm1hbHNbMV0ubm9ybWFsaXplKCk7XHJcblxyXG4gICAgbGV0IGlzUmlnaHRDaGlyYWxDZW50ZXIgPSBsaW5lLmdldFJpZ2h0Q2hpcmFsKCksXHJcbiAgICAgIHN0YXJ0LFxyXG4gICAgICBlbmQ7XHJcblxyXG4gICAgaWYgKGlzUmlnaHRDaGlyYWxDZW50ZXIpIHtcclxuICAgICAgc3RhcnQgPSByO1xyXG4gICAgICBlbmQgPSBsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3RhcnQgPSBsO1xyXG4gICAgICBlbmQgPSByO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkaXIgPSBWZWN0b3IyLnN1YnRyYWN0KGVuZCwgc3RhcnQpLm5vcm1hbGl6ZSgpLFxyXG4gICAgICBsZW5ndGggPSBsaW5lLmdldExlbmd0aCgpLFxyXG4gICAgICBzdGVwID0gMS4yNSAvIChsZW5ndGggLyAodGhpcy5vcHRzLmJvbmRMZW5ndGggLyAxMC4wKSksXHJcbiAgICAgIGNoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICBsZXQgZ3JhZGllbnQgPSB0aGlzLmNyZWF0ZUdyYWRpZW50KGxpbmUpO1xyXG5cclxuICAgIGZvciAobGV0IHQgPSAwLjA7IHQgPCAxLjA7IHQgKz0gc3RlcCkge1xyXG4gICAgICBsZXQgdG8gPSBWZWN0b3IyLm11bHRpcGx5U2NhbGFyKGRpciwgdCAqIGxlbmd0aCksXHJcbiAgICAgICAgc3RhcnREYXNoID0gVmVjdG9yMi5hZGQoc3RhcnQsIHRvKSxcclxuICAgICAgICB3aWR0aCA9IHRoaXMub3B0cy5mb250U2l6ZUxhcmdlIC8gMi4wICogdCxcclxuICAgICAgICBkYXNoT2Zmc2V0ID0gVmVjdG9yMi5tdWx0aXBseVNjYWxhcihub3JtYWxzWzBdLCB3aWR0aCk7XHJcblxyXG4gICAgICBzdGFydERhc2guc3VidHJhY3QoZGFzaE9mZnNldCk7XHJcbiAgICAgIGxldCBlbmREYXNoID0gc3RhcnREYXNoLmNsb25lKCk7XHJcbiAgICAgIGVuZERhc2guYWRkKFZlY3RvcjIubXVsdGlwbHlTY2FsYXIoZGFzaE9mZnNldCwgMi4wKSk7XHJcblxyXG4gICAgICB0aGlzLmRyYXdMaW5lKG5ldyBMaW5lKHN0YXJ0RGFzaCwgZW5kRGFzaCksIG51bGwsIGdyYWRpZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGEgZGVidWcgZG90IGF0IGEgZ2l2ZW4gY29vcmRpbmF0ZSBhbmQgYWRkcyB0ZXh0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBjb29yZGluZGF0ZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2RlYnVnVGV4dD0nJ10gQSBzdHJpbmcuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtjb2xvcj0nI2YwMCddIEEgY29sb3IgaW4gaGV4IGZvcm0uXHJcbiAgICovXHJcbiAgZHJhd0RlYnVnUG9pbnQoeCwgeSwgZGVidWdUZXh0ID0gJycsIGNvbG9yID0gJyNmMDAnKSB7XHJcbiAgICBsZXQgcG9pbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG4gICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgeCk7XHJcbiAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCB5KTtcclxuICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdyJywgJzInKTtcclxuICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyNmMDAnKTtcclxuICAgIHRoaXMudmVydGljZXMucHVzaChwb2ludCk7XHJcbiAgICB0aGlzLmRyYXdEZWJ1Z1RleHQoeCwgeSwgZGVidWdUZXh0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGEgZGVidWcgdGV4dCBtZXNzYWdlIGF0IGEgZ2l2ZW4gcG9zaXRpb25cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29vcmRpbmF0ZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUaGUgZGVidWcgdGV4dC5cclxuICAgKi9cclxuICBkcmF3RGVidWdUZXh0KHgsIHksIHRleHQpIHtcclxuICAgIGxldCB0ZXh0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAndGV4dCcpO1xyXG4gICAgdGV4dEVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB4KTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgeSk7XHJcbiAgICB0ZXh0RWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY2xhc3MnLCAnZGVidWcnKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyNmZjAwMDAnKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsIGBcclxuICAgICAgICAgICAgICAgIGZvbnQ6IDVweCBEcm9pZCBTYW5zLCBzYW5zLXNlcmlmO1xyXG4gICAgICAgICAgICBgKTtcclxuICAgIHRleHRFbGVtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcclxuXHJcbiAgICB0aGlzLnZlcnRpY2VzLnB1c2godGV4dEVsZW0pO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGEgcmluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7eH0geCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSByaW5nLlxyXG4gICAqIEBwYXJhbSB7eX0gciBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSByaW5nLlxyXG4gICAqIEBwYXJhbSB7c30gcyBUaGUgc2l6ZSBvZiB0aGUgcmluZy5cclxuICAgKi9cclxuICBkcmF3UmluZyh4LCB5LCBzKSB7XHJcbiAgICBsZXQgY2lyY2xlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XHJcbiAgICBsZXQgcmFkaXVzID0gTWF0aEhlbHBlci5hcG90aGVtRnJvbVNpZGVMZW5ndGgodGhpcy5vcHRzLmJvbmRMZW5ndGgsIHMpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3gnLCB4KTtcclxuICAgIGNpcmNsZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N5JywgeSk7XHJcbiAgICBjaXJjbGVFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyJywgcmFkaXVzIC0gdGhpcy5vcHRzLmJvbmRTcGFjaW5nKTtcclxuICAgIGNpcmNsZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZScsIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKCdDJykpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlLXdpZHRoJywgdGhpcy5vcHRzLmJvbmRUaGlja25lc3MpO1xyXG4gICAgY2lyY2xlRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsICdub25lJyk7XHJcbiAgICB0aGlzLnBhdGhzLnB1c2goY2lyY2xlRWxlbSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhd3MgYSBsaW5lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtMaW5lfSBsaW5lIEEgbGluZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGRhc2hlZCBkZWZhdWx0cyB0byBmYWxzZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZ3JhZGllbnQgZ3JhZGllbnQgdXJsLiBEZWZhdWx0cyB0byBudWxsLlxyXG4gICAqL1xyXG4gIGRyYXdMaW5lKGxpbmUsIGRhc2hlZCA9IGZhbHNlLCBncmFkaWVudCA9IG51bGwsIGxpbmVjYXAgPSAncm91bmQnKSB7XHJcbiAgICBsZXQgb3B0cyA9IHRoaXMub3B0cyxcclxuICAgICAgc3R5bGVzQXJyID0gW1xyXG4gICAgICAgIFsnc3Ryb2tlLXdpZHRoJywgdGhpcy5vcHRzLmJvbmRUaGlja25lc3NdLFxyXG4gICAgICAgIFsnc3Ryb2tlLWxpbmVjYXAnLCBsaW5lY2FwXSxcclxuICAgICAgICBbJ3N0cm9rZS1kYXNoYXJyYXknLCBkYXNoZWQgPyAnNSwgNScgOiAnbm9uZSddLFxyXG4gICAgICBdLFxyXG4gICAgICBsID0gbGluZS5nZXRMZWZ0VmVjdG9yKCksXHJcbiAgICAgIHIgPSBsaW5lLmdldFJpZ2h0VmVjdG9yKCksXHJcbiAgICAgIGZyb21YID0gbC54LFxyXG4gICAgICBmcm9tWSA9IGwueSxcclxuICAgICAgdG9YID0gci54LFxyXG4gICAgICB0b1kgPSByLnk7XHJcblxyXG4gICAgbGV0IHN0eWxlcyA9IHN0eWxlc0Fyci5tYXAoc3ViID0+IHN1Yi5qb2luKCc6JykpLmpvaW4oJzsnKSxcclxuICAgICAgbGluZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2xpbmUnKTtcclxuXHJcbiAgICBsaW5lRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneDEnLCBmcm9tWCk7XHJcbiAgICBsaW5lRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneTEnLCBmcm9tWSk7XHJcbiAgICBsaW5lRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneDInLCB0b1gpO1xyXG4gICAgbGluZUVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3kyJywgdG9ZKTtcclxuICAgIGxpbmVFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsIHN0eWxlcyk7XHJcbiAgICB0aGlzLnBhdGhzLnB1c2gobGluZUVsZW0pO1xyXG5cclxuICAgIGlmIChncmFkaWVudCA9PSBudWxsKSB7XHJcbiAgICAgIGdyYWRpZW50ID0gdGhpcy5jcmVhdGVHcmFkaWVudChsaW5lLCBmcm9tWCwgZnJvbVksIHRvWCwgdG9ZKTtcclxuICAgIH1cclxuICAgIGxpbmVFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHJva2UnLCBgdXJsKCcjJHtncmFkaWVudH0nKWApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyBhIHBvaW50LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggcG9zaXRpb24gb2YgdGhlIHBvaW50LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBwb2ludC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGVsZW1lbnQgKHNpbmdsZS1sZXR0ZXIpLlxyXG4gICAqL1xyXG4gIGRyYXdQb2ludCh4LCB5LCBlbGVtZW50TmFtZSkge1xyXG4gICAgbGV0IHIgPSAwLjc1O1xyXG5cclxuICAgIGlmICh4IC0gciA8IHRoaXMubWluWCkge1xyXG4gICAgICB0aGlzLm1pblggPSB4IC0gcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoeCArIHIgPiB0aGlzLm1heFgpIHtcclxuICAgICAgdGhpcy5tYXhYID0geCArIHI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHkgLSByIDwgdGhpcy5taW5ZKSB7XHJcbiAgICAgIHRoaXMubWluWSA9IHkgLSByO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh5ICsgciA+IHRoaXMubWF4WSkge1xyXG4gICAgICB0aGlzLm1heFkgPSB5ICsgcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBmaXJzdCBjcmVhdGUgYSBtYXNrXHJcbiAgICBsZXQgbWFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeCcsIHgpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCB5KTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3InLCAnMS41Jyk7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJ2JsYWNrJyk7XHJcbiAgICB0aGlzLm1hc2tFbGVtZW50cy5wdXNoKG1hc2spO1xyXG5cclxuICAgIC8vIG5vdyBjcmVhdGUgdGhlIHBvaW50XHJcbiAgICBsZXQgcG9pbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG4gICAgcG9pbnQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2N4JywgeCk7XHJcbiAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3knLCB5KTtcclxuICAgIHBvaW50LnNldEF0dHJpYnV0ZU5TKG51bGwsICdyJywgcik7XHJcbiAgICBwb2ludC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZmlsbCcsIHRoaXMudGhlbWVNYW5hZ2VyLmdldENvbG9yKGVsZW1lbnROYW1lKSk7XHJcbiAgICB0aGlzLnZlcnRpY2VzLnB1c2gocG9pbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRHJhdyBhIHRleHQgdG8gdGhlIGNhbnZhcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbGVtZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZWxlbWVudCAoc2luZ2xlLWxldHRlcikuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGh5ZHJvZ2VucyBUaGUgbnVtYmVyIG9mIGh5ZHJvZ2VuIGF0b21zLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiBvZiB0aGUgdGV4dCBpbiByZWxhdGlvbiB0byB0aGUgYXNzb2NpYXRlZCB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1Rlcm1pbmFsIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZSB2ZXJ0ZXggaXMgdGVybWluYWwuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJnZSBUaGUgY2hhcmdlIG9mIHRoZSBhdG9tLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpc290b3BlIFRoZSBpc290b3BlIG51bWJlci5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdG90YWxWZXJ0aWNlcyBUaGUgdG90YWwgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSBncmFwaC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50IEEgbWFwIHdpdGggY29udGFpbmluZyBpbmZvcm1hdGlvbiBmb3IgcHNldWRvIGVsZW1lbnRzIG9yIGNvbmNhdGluYXRlZCBlbGVtZW50cy4gVGhlIGtleSBpcyBjb21wcmlzZWQgb2YgdGhlIGVsZW1lbnQgc3ltYm9sIGFuZCB0aGUgaHlkcm9nZW4gY291bnQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dGFjaGVkUHNldWRvRWxlbWVudC5lbGVtZW50IFRoZSBlbGVtZW50IHN5bWJvbC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gYXR0YWNoZWRQc2V1ZG9FbGVtZW50LmNvdW50IFRoZSBudW1iZXIgb2Ygb2NjdXJlbmNlcyB0aGF0IG1hdGNoIHRoZSBrZXkuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGF0dGFjaGVkUHNldWRvRWxlbWVudC5oeXJvZ2VuQ291bnQgVGhlIG51bWJlciBvZiBoeWRyb2dlbnMgYXR0YWNoZWQgdG8gZWFjaCBhdG9tIG1hdGNoaW5nIHRoZSBrZXkuXHJcbiAgICovXHJcbiAgZHJhd1RleHQoeCwgeSwgZWxlbWVudE5hbWUsIGh5ZHJvZ2VucywgZGlyZWN0aW9uLCBpc1Rlcm1pbmFsLCBjaGFyZ2UsIGlzb3RvcGUsIHRvdGFsVmVydGljZXMsIGF0dGFjaGVkUHNldWRvRWxlbWVudCA9IHt9KSB7XHJcbiAgICBsZXQgdGV4dCA9IFtdO1xyXG4gICAgbGV0IGRpc3BsYXkgPSBlbGVtZW50TmFtZTtcclxuXHJcbiAgICBpZiAoY2hhcmdlICE9PSAwICYmIGNoYXJnZSAhPT0gbnVsbCkge1xyXG4gICAgICBkaXNwbGF5ICs9IFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZUNoYXJnZShjaGFyZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc290b3BlICE9PSAwICYmIGlzb3RvcGUgIT09IG51bGwpIHtcclxuICAgICAgZGlzcGxheSA9IFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZVN1cGVyc2NyaXB0KGlzb3RvcGUpICsgZGlzcGxheTtcclxuICAgIH1cclxuXHJcbiAgICB0ZXh0LnB1c2goW2Rpc3BsYXksIGVsZW1lbnROYW1lXSk7XHJcblxyXG4gICAgaWYgKGh5ZHJvZ2VucyA9PT0gMSkge1xyXG4gICAgICB0ZXh0LnB1c2goWydIJywgJ0gnXSlcclxuICAgIH0gZWxzZSBpZiAoaHlkcm9nZW5zID4gMSkge1xyXG4gICAgICB0ZXh0LnB1c2goWydIJyArIFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZVN1YnNjcmlwdChoeWRyb2dlbnMpLCAnSCddKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IEJldHRlciBoYW5kbGUgZXhjZXB0aW9uc1xyXG4gICAgLy8gRXhjZXB0aW9uIGZvciBuaXRybyAoZHJhdyBuaXRybyBhcyBOTzIgaW5zdGVhZCBvZiBOK08tTylcclxuICAgIGlmIChjaGFyZ2UgPT09IDEgJiYgZWxlbWVudE5hbWUgPT09ICdOJyAmJiBhdHRhY2hlZFBzZXVkb0VsZW1lbnQuaGFzT3duUHJvcGVydHkoJzBPJykgJiZcclxuICAgICAgYXR0YWNoZWRQc2V1ZG9FbGVtZW50Lmhhc093blByb3BlcnR5KCcwTy0xJykpIHtcclxuICAgICAgYXR0YWNoZWRQc2V1ZG9FbGVtZW50ID0geyAnME8nOiB7IGVsZW1lbnQ6ICdPJywgY291bnQ6IDIsIGh5ZHJvZ2VuQ291bnQ6IDAsIHByZXZpb3VzRWxlbWVudDogJ0MnLCBjaGFyZ2U6ICcnIH0gfVxyXG4gICAgICBjaGFyZ2UgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGtleSBpbiBhdHRhY2hlZFBzZXVkb0VsZW1lbnQpIHtcclxuICAgICAgaWYgKCFhdHRhY2hlZFBzZXVkb0VsZW1lbnQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcGUgPSBhdHRhY2hlZFBzZXVkb0VsZW1lbnRba2V5XTtcclxuICAgICAgbGV0IGRpc3BsYXkgPSBwZS5lbGVtZW50O1xyXG5cclxuICAgICAgaWYgKHBlLmNvdW50ID4gMSkge1xyXG4gICAgICAgIGRpc3BsYXkgKz0gU3ZnV3JhcHBlci5jcmVhdGVVbmljb2RlU3Vic2NyaXB0KHBlLmNvdW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBlLmNoYXJnZSAhPT0gJycpIHtcclxuICAgICAgICBkaXNwbGF5ICs9IFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZUNoYXJnZShjaGFyZ2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0ZXh0LnB1c2goW2Rpc3BsYXksIHBlLmVsZW1lbnRdKTtcclxuXHJcbiAgICAgIGlmIChwZS5oeWRyb2dlbkNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgdGV4dC5wdXNoKFsnSCcsICdIJ10pXHJcbiAgICAgIH0gZWxzZSBpZiAocGUuaHlkcm9nZW5Db3VudCA+IDEpIHtcclxuICAgICAgICB0ZXh0LnB1c2goWydIJyArIFN2Z1dyYXBwZXIuY3JlYXRlVW5pY29kZVN1YnNjcmlwdChwZS5oeWRyb2dlbkNvdW50KSwgJ0gnXSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMud3JpdGUodGV4dCwgZGlyZWN0aW9uLCB4LCB5LCB0b3RhbFZlcnRpY2VzID09PSAxKTtcclxuICB9XHJcblxyXG4gIHdyaXRlKHRleHQsIGRpcmVjdGlvbiwgeCwgeSwgc2luZ2xlVmVydGV4KSB7XHJcbiAgICAvLyBNZWFzdXJlIGVsZW1lbnQgbmFtZSBvbmx5LCB3aXRob3V0IGNoYXJnZSBvciBpc290b3BlIC4uLlxyXG4gICAgbGV0IGJib3ggPSBTdmdXcmFwcGVyLm1lYXN1cmVUZXh0KHRleHRbMF1bMV0sIHRoaXMub3B0cy5mb250U2l6ZUxhcmdlLCB0aGlzLm9wdHMuZm9udEZhbWlseSk7XHJcblxyXG4gICAgLy8gLi4uIGJ1dCBmb3IgZGlyZWN0aW9uIGxlZnQgbW92ZSB0byB0aGUgcmlnaHQgdG8gXHJcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcgJiYgdGV4dFswXVswXSAhPT0gdGV4dFswXVsxXSkge1xyXG4gICAgICBiYm94LndpZHRoICo9IDIuMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgdGhlIGFwcHJveGltYXRlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGV4dCBhbmQgYWRkIHVwZGF0ZSBtYXgvbWluXHJcbiAgICAvLyB0byBhbGxvdyBmb3IgbmFycm93ZXIgcGFkZGluZ3NcclxuICAgIGlmIChzaW5nbGVWZXJ0ZXgpIHtcclxuICAgICAgaWYgKHggKyBiYm94LndpZHRoICogdGV4dC5sZW5ndGggPiB0aGlzLm1heFgpIHtcclxuICAgICAgICB0aGlzLm1heFggPSB4ICsgYmJveC53aWR0aCAqIHRleHQubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh4IC0gYmJveC53aWR0aCAvIDIuMCA8IHRoaXMubWluWCkge1xyXG4gICAgICAgIHRoaXMubWluWCA9IHggLSBiYm94LndpZHRoIC8gMi4wO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh5IC0gYmJveC5oZWlnaHQgPCB0aGlzLm1pblkpIHtcclxuICAgICAgICB0aGlzLm1pblkgPSB5IC0gYmJveC5oZWlnaHQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHkgKyBiYm94LmhlaWdodCA+IHRoaXMubWF4WSkge1xyXG4gICAgICAgIHRoaXMubWF4WSA9IHkgKyBiYm94LmhlaWdodDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGRpcmVjdGlvbiAhPT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgIGlmICh4ICsgYmJveC53aWR0aCAqIHRleHQubGVuZ3RoID4gdGhpcy5tYXhYKSB7XHJcbiAgICAgICAgICB0aGlzLm1heFggPSB4ICsgYmJveC53aWR0aCAqIHRleHQubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeCAtIGJib3gud2lkdGggKiB0ZXh0Lmxlbmd0aCA8IHRoaXMubWluWCkge1xyXG4gICAgICAgICAgdGhpcy5taW5YID0geCAtIGJib3gud2lkdGggKiB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICE9PSAnbGVmdCcpIHtcclxuICAgICAgICBpZiAoeCArIGJib3gud2lkdGggKiB0ZXh0Lmxlbmd0aCA+IHRoaXMubWF4WCkge1xyXG4gICAgICAgICAgdGhpcy5tYXhYID0geCArIGJib3gud2lkdGggKiB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHggLSBiYm94LndpZHRoIC8gMi4wIDwgdGhpcy5taW5YKSB7XHJcbiAgICAgICAgICB0aGlzLm1pblggPSB4IC0gYmJveC53aWR0aCAvIDIuMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh5IC0gYmJveC5oZWlnaHQgPCB0aGlzLm1pblkpIHtcclxuICAgICAgICB0aGlzLm1pblkgPSB5IC0gYmJveC5oZWlnaHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh5ICsgYmJveC5oZWlnaHQgPiB0aGlzLm1heFkpIHtcclxuICAgICAgICB0aGlzLm1heFkgPSB5ICsgYmJveC5oZWlnaHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdkb3duJykge1xyXG4gICAgICAgIGlmICh5ICsgMC44ICogYmJveC5oZWlnaHQgKiB0ZXh0Lmxlbmd0aCA+IHRoaXMubWF4WSkge1xyXG4gICAgICAgICAgdGhpcy5tYXhZID0geSArIDAuOCAqIGJib3guaGVpZ2h0ICogdGV4dC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnKSB7XHJcbiAgICAgICAgaWYgKHkgLSAwLjggKiBiYm94LmhlaWdodCAqIHRleHQubGVuZ3RoIDwgdGhpcy5taW5ZKSB7XHJcbiAgICAgICAgICB0aGlzLm1pblkgPSB5IC0gMC44ICogYmJveC5oZWlnaHQgKiB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgY3ggPSB4O1xyXG4gICAgbGV0IGN5ID0geTtcclxuXHJcbiAgICAvLyBEcmF3IHRoZSB0ZXh0XHJcbiAgICBsZXQgdGV4dEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3RleHQnKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsICdlbGVtZW50Jyk7XHJcbiAgICBsZXQgZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG5cclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmaWxsJywgJyNmZmZmZmYnKTtcclxuXHJcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgdGV4dCA9IHRleHQucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcgfHwgZGlyZWN0aW9uID09PSAnZG93bicgfHwgZGlyZWN0aW9uID09PSAndXAnKSB7XHJcbiAgICAgIHggLT0gYmJveC53aWR0aCAvIDIuMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgeCArPSBiYm94LndpZHRoIC8gMi4wO1xyXG4gICAgfVxyXG5cclxuICAgIHRleHQuZm9yRWFjaCgocGFydCwgaSkgPT4ge1xyXG4gICAgICBjb25zdCBkaXNwbGF5ID0gcGFydFswXTtcclxuICAgICAgY29uc3QgZWxlbWVudE5hbWUgPSBwYXJ0WzFdO1xyXG4gICAgICBsZXQgdHNwYW5FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCB0aGlzLnRoZW1lTWFuYWdlci5nZXRDb2xvcihlbGVtZW50TmFtZSkpO1xyXG4gICAgICB0c3BhbkVsZW0udGV4dENvbnRlbnQgPSBkaXNwbGF5O1xyXG5cclxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJyB8fCBkaXJlY3Rpb24gPT09ICdkb3duJykge1xyXG4gICAgICAgIHRzcGFuRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsICcwcHgnKVxyXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd1cCcpIHtcclxuICAgICAgICAgIHRzcGFuRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIGAtJHswLjkgKiBpfWVtYCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRzcGFuRWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIGAkezAuOSAqIGl9ZW1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRleHRFbGVtLmFwcGVuZENoaWxkKHRzcGFuRWxlbSk7XHJcbiAgICB9KVxyXG5cclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkYXRhLWRpcmVjdGlvbicsIGRpcmVjdGlvbik7XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICB0ZXh0RWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZG9taW5hbnQtYmFzZWxpbmUnLCAnYWxwaGFiZXRpYycpO1xyXG4gICAgICB0ZXh0RWxlbS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsICcwLjM2ZW0nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkb21pbmFudC1iYXNlbGluZScsICdjZW50cmFsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0ZXh0LWFuY2hvcicsICdlbmQnKTtcclxuICAgIH1cclxuXHJcbiAgICBnLmFwcGVuZENoaWxkKHRleHRFbGVtKVxyXG5cclxuICAgIGcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgYHRyYW5zZm9ybTogdHJhbnNsYXRlWCgke3h9cHgpIHRyYW5zbGF0ZVkoJHt5fXB4KWApO1xyXG5cclxuICAgIGxldCBtYXNrUmFkaXVzID0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKiAwLjc1O1xyXG4gICAgaWYgKHRleHRbMF1bMV0ubGVuZ3RoID4gMSkge1xyXG4gICAgICBtYXNrUmFkaXVzID0gdGhpcy5vcHRzLmZvbnRTaXplTGFyZ2UgKiAxLjE7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG4gICAgbWFzay5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnY3gnLCBjeCk7XHJcbiAgICBtYXNrLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjeScsIGN5KTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ3InLCBtYXNrUmFkaXVzKTtcclxuICAgIG1hc2suc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCAnYmxhY2snKTtcclxuXHJcbiAgICB0aGlzLm1hc2tFbGVtZW50cy5wdXNoKG1hc2spO1xyXG5cclxuICAgIHRoaXMudmVydGljZXMucHVzaChnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXcgdGhlIHdyYXBwZWQgU1ZHIHRvIGEgY2FudmFzLlxyXG4gICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyBUaGUgY2FudmFzIGVsZW1lbnQgdG8gZHJhdyB0aGUgc3ZnIHRvLlxyXG4gICAqL1xyXG4gIHRvQ2FudmFzKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgaWYgKHR5cGVvZiBjYW52YXMgPT09ICdzdHJpbmcnIHx8IGNhbnZhcyBpbnN0YW5jZW9mIFN0cmluZykge1xyXG4gICAgICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGltYWdlLnNyYyA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldC11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuc3ZnLm91dGVySFRNTCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlVW5pY29kZVN1YnNjcmlwdChuKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gJyc7XHJcblxyXG4gICAgbi50b1N0cmluZygpLnNwbGl0KCcnKS5mb3JFYWNoKGQgPT4ge1xyXG4gICAgICByZXN1bHQgKz0gWyfigoAnLCAn4oKBJywgJ+KCgicsICfigoMnLCAn4oKEJywgJ+KChScsICfigoYnLCAn4oKHJywgJ+KCiCcsICfigoknXVtwYXJzZUludChkKV07XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlVW5pY29kZVN1cGVyc2NyaXB0KG4pIHtcclxuICAgIGxldCByZXN1bHQgPSAnJztcclxuXHJcbiAgICBuLnRvU3RyaW5nKCkuc3BsaXQoJycpLmZvckVhY2goZCA9PiB7XHJcbiAgICAgIGxldCBwYXJzZWQgPSBwYXJzZUludChkKTtcclxuICAgICAgaWYgKHBhcnNlZCkge1xyXG4gICAgICAgIHJlc3VsdCArPSBbJ+KBsCcsICfCuScsICfCsicsICfCsycsICfigbQnLCAn4oG1JywgJ+KBticsICfigbcnLCAn4oG4JywgJ+KBuSddW3BhcnNlSW50KGQpXTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlcGxhY2VOdW1iZXJzV2l0aFN1YnNjcmlwdCh0ZXh0KSB7XHJcbiAgICBsZXQgc3Vic2NyaXB0TnVtYmVycyA9IHtcclxuICAgICAgJzAnOiAn4oKAJywgJzEnOiAn4oKBJywgJzInOiAn4oKCJywgJzMnOiAn4oKDJywgJzQnOiAn4oKEJyxcclxuICAgICAgJzUnOiAn4oKFJywgJzYnOiAn4oKGJywgJzcnOiAn4oKHJywgJzgnOiAn4oKIJywgJzknOiAn4oKJJ1xyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdWJzY3JpcHROdW1iZXJzKSkge1xyXG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlQWxsKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0ZXh0O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIG1lYXN1cmVUZXh0KHRleHQsIGZvbnRTaXplLCBmb250RmFtaWx5LCBsaW5lSGVpZ2h0ID0gMC45KSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICBjb25zdCBjdHggPSBlbGVtZW50LmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHQgJHtmb250RmFtaWx5fWBcclxuICAgIGxldCB0ZXh0TWV0cmljcyA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KVxyXG5cclxuICAgIGxldCBjb21wV2lkdGggPSBNYXRoLmFicyh0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQpICsgTWF0aC5hYnModGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hSaWdodCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAnd2lkdGgnOiB0ZXh0TWV0cmljcy53aWR0aCA+IGNvbXBXaWR0aCA/IHRleHRNZXRyaWNzLndpZHRoIDogY29tcFdpZHRoLFxyXG4gICAgICAnaGVpZ2h0JzogKE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50KSArIE1hdGguYWJzKHRleHRNZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50KSkgKiBsaW5lSGVpZ2h0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBhbiBTVkcgdG8gYSBjYW52YXMuIFdhcm5pbmc6IFRoaXMgaGFwcGVucyBhc3luYyFcclxuICAgKiBcclxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHN2ZyBcclxuICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgXHJcbiAgICogQHBhcmFtIHtDYWxsYWJsZUZ1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0gVGhlIGlucHV0IGh0bWwgY2FudmFzIGVsZW1lbnQgYWZ0ZXIgZHJhd2luZyB0by5cclxuICAgKi9cclxuICBzdGF0aWMgc3ZnVG9DYW52YXMoc3ZnLCBjYW52YXMsIHdpZHRoLCBoZWlnaHQsIGNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIHdpZHRoKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgaGVpZ2h0KTtcclxuXHJcbiAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgICBjYWxsYmFjayhjYW52YXMpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgaW1hZ2Uuc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0LXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoc3ZnLm91dGVySFRNTCk7XHJcbiAgICByZXR1cm4gY2FudmFzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBhbiBTVkcgdG8gYSBjYW52YXMuIFdhcm5pbmc6IFRoaXMgaGFwcGVucyBhc3luYyFcclxuICAgKiBcclxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHN2ZyBcclxuICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR9IGNhbnZhcyBcclxuICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxyXG4gICAqL1xyXG4gIHN0YXRpYyBzdmdUb0ltZyhzdmcsIGltZywgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgdGhpcy5zdmdUb0NhbnZhcyhzdmcsIGNhbnZhcywgd2lkdGgsIGhlaWdodCwgcmVzdWx0ID0+IHtcclxuICAgICAgaW1nLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbiBTVkcgZWxlbWVudCBjb250YWluaW5nIHRleHQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgXHJcbiAgICogQHBhcmFtIHsqfSB0aGVtZU1hbmFnZXIgXHJcbiAgICogQHBhcmFtIHsqfSBvcHRpb25zIFxyXG4gICAqIEByZXR1cm5zIHt7c3ZnOiBTVkdFbGVtZW50LCB3aWR0aDogTnVtYmVyLCBoZWlnaHQ6IE51bWJlcn19IFRoZSBTVkcgZWxlbWVudCBjb250YWluaW5nIHRoZSB0ZXh0IGFuZCBpdHMgZGltZW5zaW9ucy5cclxuICAgKi9cclxuICBzdGF0aWMgd3JpdGVUZXh0KHRleHQsIHRoZW1lTWFuYWdlciwgZm9udFNpemUsIGZvbnRGYW1pbHksIG1heFdpZHRoID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIHtcclxuICAgIGxldCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xyXG4gICAgbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdHlsZScpO1xyXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYFxyXG4gICAgICAgIC50ZXh0IHtcclxuICAgICAgICAgICAgZm9udDogJHtmb250U2l6ZX1wdCAke2ZvbnRGYW1pbHl9O1xyXG4gICAgICAgICAgICBkb21pbmFudC1iYXNlbGluZTogaWRlb2dyYXBoaWM7XHJcbiAgICAgICAgfVxyXG4gICAgYCkpO1xyXG4gICAgc3ZnLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuXHJcbiAgICBsZXQgdGV4dEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3RleHQnKTtcclxuICAgIHRleHRFbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICdjbGFzcycsICd0ZXh0Jyk7XHJcblxyXG4gICAgbGV0IG1heExpbmVXaWR0aCA9IDAuMDtcclxuICAgIGxldCB0b3RhbEhlaWdodCA9IDAuMDtcclxuXHJcbiAgICBsZXQgbGluZXMgPSBbXTtcclxuXHJcbiAgICB0ZXh0LnNwbGl0KFwiXFxuXCIpLmZvckVhY2gobGluZSA9PiB7XHJcbiAgICAgIGxldCBkaW1zID0gU3ZnV3JhcHBlci5tZWFzdXJlVGV4dChsaW5lLCBmb250U2l6ZSwgZm9udEZhbWlseSwgMS4wKTtcclxuICAgICAgaWYgKGRpbXMud2lkdGggPj0gbWF4V2lkdGgpIHtcclxuICAgICAgICBsZXQgdG90YWxXb3Jkc1dpZHRoID0gMC4wO1xyXG4gICAgICAgIGxldCBtYXhXb3Jkc0hlaWdodCA9IDAuMDtcclxuICAgICAgICBsZXQgd29yZHMgPSBsaW5lLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgbGV0IHdvcmREaW1zID0gU3ZnV3JhcHBlci5tZWFzdXJlVGV4dCh3b3Jkc1tpXSwgZm9udFNpemUsIGZvbnRGYW1pbHksIDEuMCk7XHJcblxyXG4gICAgICAgICAgaWYgKHRvdGFsV29yZHNXaWR0aCArIHdvcmREaW1zLndpZHRoID4gbWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgbGluZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgdGV4dDogd29yZHMuc2xpY2Uob2Zmc2V0LCBpKS5qb2luKCcgJyksXHJcbiAgICAgICAgICAgICAgd2lkdGg6IHRvdGFsV29yZHNXaWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IG1heFdvcmRzSGVpZ2h0XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdG90YWxXb3Jkc1dpZHRoID0gMC4wO1xyXG4gICAgICAgICAgICBtYXhXb3Jkc0hlaWdodCA9IDAuMDtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gaVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh3b3JkRGltcy5oZWlnaHQgPiBtYXhXb3Jkc0hlaWdodCkge1xyXG4gICAgICAgICAgICBtYXhXb3Jkc0hlaWdodCA9IHdvcmREaW1zLmhlaWdodDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0b3RhbFdvcmRzV2lkdGggKz0gd29yZERpbXMud2lkdGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob2Zmc2V0IDwgd29yZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBsaW5lcy5wdXNoKHtcclxuICAgICAgICAgICAgdGV4dDogd29yZHMuc2xpY2Uob2Zmc2V0LCB3b3Jkcy5sZW5ndGgpLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgd2lkdGg6IHRvdGFsV29yZHNXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBtYXhXb3Jkc0hlaWdodFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxpbmVzLnB1c2goe1xyXG4gICAgICAgICAgdGV4dDogbGluZSxcclxuICAgICAgICAgIHdpZHRoOiBkaW1zLndpZHRoLFxyXG4gICAgICAgICAgaGVpZ2h0OiBkaW1zLmhlaWdodFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBpKSA9PiB7XHJcbiAgICAgIHRvdGFsSGVpZ2h0ICs9IGxpbmUuaGVpZ2h0O1xyXG4gICAgICBsZXQgdHNwYW5FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0c3BhbicpO1xyXG4gICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCB0aGVtZU1hbmFnZXIuZ2V0Q29sb3IoXCJDXCIpKTtcclxuICAgICAgdHNwYW5FbGVtLnRleHRDb250ZW50ID0gbGluZS50ZXh0O1xyXG4gICAgICB0c3BhbkVsZW0uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCAnMHB4JylcclxuICAgICAgdHNwYW5FbGVtLnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgYCR7dG90YWxIZWlnaHR9cHhgKTtcclxuICAgICAgdGV4dEVsZW0uYXBwZW5kQ2hpbGQodHNwYW5FbGVtKTtcclxuXHJcbiAgICAgIGlmIChsaW5lLndpZHRoID4gbWF4TGluZVdpZHRoKSB7XHJcbiAgICAgICAgbWF4TGluZVdpZHRoID0gbGluZS53aWR0aDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgc3ZnLmFwcGVuZENoaWxkKHRleHRFbGVtKTtcclxuXHJcbiAgICByZXR1cm4geyBzdmc6IHN2Zywgd2lkdGg6IG1heExpbmVXaWR0aCwgaGVpZ2h0OiB0b3RhbEhlaWdodCB9O1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTdmdXcmFwcGVyO1xyXG4iLCJjbGFzcyBUaGVtZU1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKGNvbG9ycywgdGhlbWUpIHtcclxuICAgIHRoaXMuY29sb3JzID0gY29sb3JzO1xyXG4gICAgdGhpcy50aGVtZSA9IHRoaXMuY29sb3JzW3RoZW1lXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGhleCBjb2RlIG9mIGEgY29sb3IgYXNzb2NpYXRlZCB3aXRoIGEga2V5IGZyb20gdGhlIGN1cnJlbnQgdGhlbWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBjb2xvciBrZXkgaW4gdGhlIHRoZW1lIChlLmcuIEMsIE4sIEJBQ0tHUk9VTkQsIC4uLikuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gQSBjb2xvciBoZXggdmFsdWUuXHJcbiAgICovXHJcbiAgZ2V0Q29sb3Ioa2V5KSB7XHJcbiAgICBpZiAoa2V5KSB7XHJcbiAgICAgIGtleSA9IGtleS50b1VwcGVyQ2FzZSgpO1xyXG5cclxuICAgICAgaWYgKGtleSBpbiB0aGlzLnRoZW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbWVba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnRoZW1lWydDJ107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB0aGVtZSB0byB0aGUgc3BlY2lmaWVkIHN0cmluZyBpZiBpdCBleGlzdHMuIElmIGl0IGRvZXMgbm90LCB0aGlzXHJcbiAgICogZG9lcyBub3RoaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRoZW1lIHRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byBzd2l0Y2ggdG9cclxuICAgKi9cclxuICBzZXRUaGVtZSh0aGVtZSkge1xyXG4gICAgaWYgKHRoaXMuY29sb3JzLmhhc093blByb3BlcnR5KHRoZW1lKSkge1xyXG4gICAgICB0aGlzLnRoZW1lID0gdGhpcy5jb2xvcnNbdGhlbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IHRoaXMgcHJvYmFibHkgc2hvdWxkIG5vdGlmeSB0aG9zZSB3aG8gYXJlIHdhdGNoaW5nIHRoaXMgdGhlbWVcclxuICAgIC8vIG1hbmFnZXIgdGhhdCB0aGUgdGhlbWUgaGFzIGNoYW5nZWQgc28gdGhhdCBjb2xvcnMgY2FuIGJlIGNoYW5nZWRcclxuICAgIC8vIG9uIHRoZSBmbHlcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVGhlbWVNYW5hZ2VyOyIsIi8qKlxyXG4gKiBUcmFuc2xhdGUgdGhlIGludGVnZXIgaW5kaWNhdGluZyB0aGUgY2hhcmdlIHRvIHRoZSBhcHByb3ByaWF0ZSB0ZXh0LlxyXG4gKiBAcGFyYW0ge051bWJlcn0gY2hhcmdlIFRoZSBpbnRlZ2VyIGluZGljYXRpbmcgdGhlIGNoYXJnZS5cclxuICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgY2hhcmdlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q2hhcmdlVGV4dChjaGFyZ2UpIHtcclxuICBpZiAoY2hhcmdlID09PSAxKSB7XHJcbiAgICByZXR1cm4gJysnXHJcbiAgfSBlbHNlIGlmIChjaGFyZ2UgPT09IDIpIHtcclxuICAgIHJldHVybiAnMisnO1xyXG4gIH0gZWxzZSBpZiAoY2hhcmdlID09PSAtMSkge1xyXG4gICAgcmV0dXJuICctJztcclxuICB9IGVsc2UgaWYgKGNoYXJnZSA9PT0gLTIpIHtcclxuICAgIHJldHVybiAnMi0nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRDaGFyZ2VUZXh0LFxyXG59IiwiLy9AdHMtY2hlY2tcclxuXHJcbi8qKiBcclxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSAyRCB2ZWN0b3IuXHJcbiAqIFxyXG4gKiBAcHJvcGVydHkge051bWJlcn0geCBUaGUgeCBjb21wb25lbnQgb2YgdGhlIHZlY3Rvci5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHkgVGhlIHkgY29tcG9uZW50IG9mIHRoZSB2ZWN0b3IuXHJcbiAqL1xyXG5jbGFzcyBWZWN0b3IyIHtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBjbGFzcyBWZWN0b3IyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KE51bWJlcnxWZWN0b3IyKX0geCBUaGUgaW5pdGlhbCB4IGNvb3JkaW5hdGUgdmFsdWUgb3IsIGlmIHRoZSBzaW5nbGUgYXJndW1lbnQsIGEgVmVjdG9yMiBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgaW5pdGlhbCB5IGNvb3JkaW5hdGUgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geC54O1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB4Lnk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbG9uZXMgdGhpcyB2ZWN0b3IgYW5kIHJldHVybnMgdGhlIGNsb25lLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBUaGUgY2xvbmUgb2YgdGhpcyB2ZWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNsb25lKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gJygnICsgdGhpcy54ICsgJywnICsgdGhpcy55ICsgJyknO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIGEgdmVjdG9yIHRvIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIEFub3RoZXIgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICBhZGQodmVjKSB7XHJcbiAgICAgICAgdGhpcy54ICs9IHZlYy54O1xyXG4gICAgICAgIHRoaXMueSArPSB2ZWMueTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJ0cmFjdCB0aGUgeCBhbmQgeSBjb29yZGluYXRlIHZhbHVlcyBvZiBhIHZlY3RvciBmcm9tIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIEFub3RoZXIgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICBzdWJ0cmFjdCh2ZWMpIHtcclxuICAgICAgICB0aGlzLnggLT0gdmVjLng7XHJcbiAgICAgICAgdGhpcy55IC09IHZlYy55O1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpdmlkZSB0aGUgeCBhbmQgeSBjb29yZGluYXRlIHZhbHVlcyBvZiB0aGlzIHZlY3RvciBieSBhIHNjYWxhci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyIFRoZSBzY2FsYXIuXHJcbiAgICAgKiBAcmV0dXJucyB7VmVjdG9yMn0gUmV0dXJucyBpdHNlbGYuXHJcbiAgICAgKi9cclxuICAgIGRpdmlkZShzY2FsYXIpIHtcclxuICAgICAgICB0aGlzLnggLz0gc2NhbGFyO1xyXG4gICAgICAgIHRoaXMueSAvPSBzY2FsYXI7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIE11bHRpcGx5IHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yIGJ5IHRoZSB2YWx1ZXMgb2YgYW5vdGhlciB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2IEEgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICBtdWx0aXBseSh2KSB7XHJcbiAgICAgICAgdGhpcy54ICo9IHYueDtcclxuICAgICAgICB0aGlzLnkgKj0gdi55O1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE11bHRpcGx5IHRoZSB4IGFuZCB5IGNvb3JkaW5hdGUgdmFsdWVzIG9mIHRoaXMgdmVjdG9yIGJ5IGEgc2NhbGFyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXIgVGhlIHNjYWxhci5cclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBSZXR1cm5zIGl0c2VsZi5cclxuICAgICAqL1xyXG4gICAgbXVsdGlwbHlTY2FsYXIoc2NhbGFyKSB7XHJcbiAgICAgICAgdGhpcy54ICo9IHNjYWxhcjtcclxuICAgICAgICB0aGlzLnkgKj0gc2NhbGFyO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEludmVydHMgdGhpcyB2ZWN0b3IuIFNhbWUgYXMgbXVsdGlwbHkoLTEuMCkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICBpbnZlcnQoKSB7XHJcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcclxuICAgICAgICB0aGlzLnkgPSAtdGhpcy55O1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFuZ2xlIG9mIHRoaXMgdmVjdG9yIGluIHJlbGF0aW9uIHRvIHRoZSBjb29yZGluYXRlIHN5c3RlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cclxuICAgICAqL1xyXG4gICAgYW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodGhpcy55LCB0aGlzLngpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIGFub3RoZXIgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIEEgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGV1Y2xpZGVhbiBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgZGlzdGFuY2UodmVjKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodmVjLnggLSB0aGlzLngpICogKHZlYy54IC0gdGhpcy54KSArICh2ZWMueSAtIHRoaXMueSkgKiAodmVjLnkgLSB0aGlzLnkpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHNxdWFyZWQgZXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gdGhpcyB2ZWN0b3IgYW5kIGFub3RoZXIgdmVjdG9yLiBXaGVuIG9ubHkgdGhlIHJlbGF0aXZlIGRpc3RhbmNlcyBvZiBhIHNldCBvZiB2ZWN0b3JzIGFyZSBuZWVkZWQsIHRoaXMgaXMgaXMgbGVzcyBleHBlbnNpdmUgdGhhbiB1c2luZyBkaXN0YW5jZSh2ZWMpLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIEFub3RoZXIgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIHNxdWFyZWQgZXVjbGlkZWFuIGRpc3RhbmNlIG9mIHRoZSB0d28gdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgZGlzdGFuY2VTcSh2ZWMpIHtcclxuICAgICAgICByZXR1cm4gKHZlYy54IC0gdGhpcy54KSAqICh2ZWMueCAtIHRoaXMueCkgKyAodmVjLnkgLSB0aGlzLnkpICogKHZlYy55IC0gdGhpcy55KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHZlY3RvciBpcyBpbiBhIGNsb2Nrd2lzZSBvciBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbmFsIGRpcmVjdGlvbiBjb21wYXJlZCB0byBhbm90aGVyIHZlY3RvciBpbiByZWxhdGlvbiB0byB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgQW5vdGhlciB2ZWN0b3IuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIC0xLCAwIG9yIDEgaWYgdGhlIHZlY3RvciBzdXBwbGllZCBhcyBhbiBhcmd1bWVudCBpcyBjbG9ja3dpc2UsIG5ldXRyYWwgb3IgY291bnRlci1jbG9ja3dpc2UgcmVzcGVjdGl2ZWx5IHRvIHRoaXMgdmVjdG9yIGluIHJlbGF0aW9uIHRvIHRoZSBjb29yZGluYXRlIHN5c3RlbS5cclxuICAgICAqL1xyXG4gICAgY2xvY2t3aXNlKHZlYykge1xyXG4gICAgICAgIGxldCBhID0gdGhpcy55ICogdmVjLng7XHJcbiAgICAgICAgbGV0IGIgPSB0aGlzLnggKiB2ZWMueTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYSA+IGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyB2ZWN0b3IgaXMgaW4gYSBjbG9ja3dpc2Ugb3IgY291bnRlci1jbG9ja3dpc2Ugcm90YXRpb25hbCBkaXJlY3Rpb24gY29tcGFyZWQgdG8gYW5vdGhlciB2ZWN0b3IgaW4gcmVsYXRpb24gdG8gYW4gYXJiaXRyYXJ5IHRoaXJkIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IGNlbnRlciBUaGUgY2VudHJhbCB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlYyBBbm90aGVyIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgLTEsIDAgb3IgMSBpZiB0aGUgdmVjdG9yIHN1cHBsaWVkIGFzIGFuIGFyZ3VtZW50IGlzIGNsb2Nrd2lzZSwgbmV1dHJhbCBvciBjb3VudGVyLWNsb2Nrd2lzZSByZXNwZWN0aXZlbHkgdG8gdGhpcyB2ZWN0b3IgaW4gcmVsYXRpb24gdG8gYW4gYXJiaXRyYXJ5IHRoaXJkIHZlY3Rvci5cclxuICAgICAqL1xyXG4gICAgcmVsYXRpdmVDbG9ja3dpc2UoY2VudGVyLCB2ZWMpIHtcclxuICAgICAgICBsZXQgYSA9ICh0aGlzLnkgLSBjZW50ZXIueSkgKiAodmVjLnggLSBjZW50ZXIueCk7XHJcbiAgICAgICAgbGV0IGIgPSAodGhpcy54IC0gY2VudGVyLngpICogKHZlYy55IC0gY2VudGVyLnkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChhID4gYikge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGEgPT09IGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZXMgdGhpcyB2ZWN0b3IgYnkgYSBnaXZlbiBudW1iZXIgb2YgcmFkaWFucyBhcm91bmQgdGhlIG9yaWdpbiBvZiB0aGUgY29vcmRpbmF0ZSBzeXN0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFuZ2xlIFRoZSBhbmdsZSBpbiByYWRpYW5zIHRvIHJvdGF0ZSB0aGUgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICByb3RhdGUoYW5nbGUpIHtcclxuICAgICAgICBsZXQgdG1wID0gbmV3IFZlY3RvcjIoMCwgMCk7XHJcbiAgICAgICAgbGV0IGNvc0FuZ2xlID0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgICAgIGxldCBzaW5BbmdsZSA9IE1hdGguc2luKGFuZ2xlKTtcclxuXHJcbiAgICAgICAgdG1wLnggPSB0aGlzLnggKiBjb3NBbmdsZSAtIHRoaXMueSAqIHNpbkFuZ2xlO1xyXG4gICAgICAgIHRtcC55ID0gdGhpcy54ICogc2luQW5nbGUgKyB0aGlzLnkgKiBjb3NBbmdsZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnggPSB0bXAueDtcclxuICAgICAgICB0aGlzLnkgPSB0bXAueTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGVzIHRoaXMgdmVjdG9yIGFyb3VuZCBhbm90aGVyIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgVGhlIGFuZ2xlIGluIHJhZGlhbnMgdG8gcm90YXRlIHRoZSB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlYyBUaGUgdmVjdG9yIHdoaWNoIGlzIHVzZWQgYXMgdGhlIHJvdGF0aW9uYWwgY2VudGVyLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgaXRzZWxmLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVBcm91bmQoYW5nbGUsIHZlYykge1xyXG4gICAgICAgIGxldCBzID0gTWF0aC5zaW4oYW5nbGUpO1xyXG4gICAgICAgIGxldCBjID0gTWF0aC5jb3MoYW5nbGUpO1xyXG5cclxuICAgICAgICB0aGlzLnggLT0gdmVjLng7XHJcbiAgICAgICAgdGhpcy55IC09IHZlYy55O1xyXG5cclxuICAgICAgICBsZXQgeCA9IHRoaXMueCAqIGMgLSB0aGlzLnkgKiBzO1xyXG4gICAgICAgIGxldCB5ID0gdGhpcy54ICogcyArIHRoaXMueSAqIGM7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IHggKyB2ZWMueDtcclxuICAgICAgICB0aGlzLnkgPSB5ICsgdmVjLnk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGEgdmVjdG9yIGFyb3VuZCBhIGdpdmVuIGNlbnRlciB0byB0aGUgc2FtZSBhbmdsZSBhcyBhbm90aGVyIHZlY3RvciAoc28gdGhhdCB0aGUgdHdvIHZlY3RvcnMgYW5kIHRoZSBjZW50ZXIgYXJlIGluIGEgbGluZSwgd2l0aCBib3RoIHZlY3RvcnMgb24gb25lIHNpZGUgb2YgdGhlIGNlbnRlciksIGtlZXBzIHRoZSBkaXN0YW5jZSBmcm9tIHRoaXMgdmVjdG9yIHRvIHRoZSBjZW50ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgVGhlIHZlY3RvciB0byByb3RhdGUgdGhpcyB2ZWN0b3IgdG8uXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IGNlbnRlciBUaGUgcm90YXRpb25hbCBjZW50ZXIuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29mZnNldEFuZ2xlPTAuMF0gQW4gYWRkaXRpb25hbCBhbW91bnQgb2YgcmFkaWFucyB0byByb3RhdGUgdGhlIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBSZXR1cm5zIGl0c2VsZi5cclxuICAgICAqL1xyXG4gICAgcm90YXRlVG8odmVjLCBjZW50ZXIsIG9mZnNldEFuZ2xlID0gMC4wKSB7XHJcbiAgICAgICAgLy8gUHJvYmxlbSBpZiB0aGlzIGlzIGZpcnN0IHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy54ICs9IDAuMDAxO1xyXG4gICAgICAgIHRoaXMueSAtPSAwLjAwMTtcclxuXHJcbiAgICAgICAgbGV0IGEgPSBWZWN0b3IyLnN1YnRyYWN0KHRoaXMsIGNlbnRlcik7XHJcbiAgICAgICAgbGV0IGIgPSBWZWN0b3IyLnN1YnRyYWN0KHZlYywgY2VudGVyKTtcclxuICAgICAgICBsZXQgYW5nbGUgPSBWZWN0b3IyLmFuZ2xlKGIsIGEpO1xyXG5cclxuICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZChhbmdsZSArIG9mZnNldEFuZ2xlLCBjZW50ZXIpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhd2F5IGZyb20gYSBzcGVjaWZpZWQgdmVjdG9yIGFyb3VuZCBhIGNlbnRlci5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgVGhlIHZlY3RvciB0aGlzIG9uZSBpcyByb3RhdGVkIGF3YXkgZnJvbS5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gY2VudGVyIFRoZSByb3RhdGlvbmFsIGNlbnRlci5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlLlxyXG4gICAgICovXHJcbiAgICByb3RhdGVBd2F5RnJvbSh2ZWMsIGNlbnRlciwgYW5nbGUpIHtcclxuICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZChhbmdsZSwgY2VudGVyKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZGlzdFNxQSA9IHRoaXMuZGlzdGFuY2VTcSh2ZWMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucm90YXRlQXJvdW5kKC0yLjAgKiBhbmdsZSwgY2VudGVyKTtcclxuXHJcbiAgICAgICAgbGV0IGRpc3RTcUIgPSB0aGlzLmRpc3RhbmNlU3EodmVjKTtcclxuXHJcbiAgICAgICAgLy8gSWYgaXQgd2FzIHJvdGF0ZWQgdG93YXJkcyB0aGUgb3RoZXIgdmVydGV4LCByb3RhdGUgaW4gb3RoZXIgZGlyZWN0aW9uIGJ5IHNhbWUgYW1vdW50LlxyXG4gICAgICAgIGlmIChkaXN0U3FCIDwgZGlzdFNxQSkge1xyXG4gICAgICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZCgyLjAgKiBhbmdsZSwgY2VudGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBpbiByYWRpYW5zIHVzZWQgdG8gcm90YXRlIHRoaXMgdmVjdG9yIGF3YXkgZnJvbSBhIGdpdmVuIHZlY3Rvci5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgVGhlIHZlY3RvciB0aGlzIG9uZSBpcyByb3RhdGVkIGF3YXkgZnJvbS5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gY2VudGVyIFRoZSByb3RhdGlvbmFsIGNlbnRlci5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSBUaGUgYW5nbGUgYnkgd2hpY2ggdG8gcm90YXRlLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnMuXHJcbiAgICAgKi9cclxuICAgIGdldFJvdGF0ZUF3YXlGcm9tQW5nbGUodmVjLCBjZW50ZXIsIGFuZ2xlKSB7XHJcbiAgICAgICAgbGV0IHRtcCA9IHRoaXMuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgdG1wLnJvdGF0ZUFyb3VuZChhbmdsZSwgY2VudGVyKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZGlzdFNxQSA9IHRtcC5kaXN0YW5jZVNxKHZlYyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdG1wLnJvdGF0ZUFyb3VuZCgtMi4wICogYW5nbGUsIGNlbnRlcik7XHJcblxyXG4gICAgICAgIGxldCBkaXN0U3FCID0gdG1wLmRpc3RhbmNlU3EodmVjKTtcclxuXHJcbiAgICAgICAgaWYgKGRpc3RTcUIgPCBkaXN0U3FBKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbmdsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gLWFuZ2xlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFuZ2xlIGluIHJhZGlhbnMgdXNlZCB0byByb3RhdGUgdGhpcyB2ZWN0b3IgdG93YXJkcyBhIGdpdmVuIHZlY3Rvci5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWMgVGhlIHZlY3RvciB0aGlzIG9uZSBpcyByb3RhdGVkIHRvd2FyZHMgdG8uXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IGNlbnRlciBUaGUgcm90YXRpb25hbCBjZW50ZXIuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgVGhlIGFuZ2xlIGJ5IHdoaWNoIHRvIHJvdGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAgICovXHJcbiAgICBnZXRSb3RhdGVUb3dhcmRzQW5nbGUodmVjLCBjZW50ZXIsIGFuZ2xlKSB7XHJcbiAgICAgICAgbGV0IHRtcCA9IHRoaXMuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgdG1wLnJvdGF0ZUFyb3VuZChhbmdsZSwgY2VudGVyKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZGlzdFNxQSA9IHRtcC5kaXN0YW5jZVNxKHZlYyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdG1wLnJvdGF0ZUFyb3VuZCgtMi4wICogYW5nbGUsIGNlbnRlcik7XHJcblxyXG4gICAgICAgIGxldCBkaXN0U3FCID0gdG1wLmRpc3RhbmNlU3EodmVjKTtcclxuXHJcbiAgICAgICAgaWYgKGRpc3RTcUIgPiBkaXN0U3FBKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbmdsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gLWFuZ2xlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGFuZ2xlcyBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyIHZlY3RvciBhcm91bmQgYSBjb21tb24gY2VudGVyIG9mIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIEFub3RoZXIgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSBjZW50ZXIgVGhlIGNlbnRlciBvZiByb3RhdGlvbi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBiZXR3ZWVuIHRoaXMgdmVjdG9yIGFuZCBhbm90aGVyIHZlY3RvciBhcm91bmQgYSBjZW50ZXIgb2Ygcm90YXRpb24gaW4gcmFkaWFucy5cclxuICAgICAqL1xyXG4gICAgZ2V0Um90YXRlVG9BbmdsZSh2ZWMsIGNlbnRlcikge1xyXG4gICAgICAgIGxldCBhID0gVmVjdG9yMi5zdWJ0cmFjdCh0aGlzLCBjZW50ZXIpO1xyXG4gICAgICAgIGxldCBiID0gVmVjdG9yMi5zdWJ0cmFjdCh2ZWMsIGNlbnRlcik7XHJcbiAgICAgICAgbGV0IGFuZ2xlID0gVmVjdG9yMi5hbmdsZShiLCBhKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGFuZ2xlKSA/IDAuMCA6IGFuZ2xlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYSB2ZWN0b3IgbGllcyB3aXRoaW4gYSBwb2x5Z29uIHNwYW5uZWQgYnkgYSBzZXQgb2YgdmVjdG9ycy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJbXX0gcG9seWdvbiBBbiBhcnJheSBvZiB2ZWN0b3JzIHNwYW5uaW5nIHRoZSBwb2x5Z29uLlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdmVjdG9yIGlzIHdpdGhpbiBhIHBvbHlnb24uXHJcbiAgICAgKi9cclxuICAgIGlzSW5Qb2x5Z29uKHBvbHlnb24pIHtcclxuICAgICAgICBsZXQgaW5zaWRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIEl0cyBub3QgYWx3YXlzIGEgZ2l2ZW4sIHRoYXQgdGhlIHBvbHlnb24gaXMgY29udmV4ICgtPiBzdWdhcnMpXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2x5Z29uLmxlbmd0aCAtIDE7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaiA9IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoKChwb2x5Z29uW2ldLnkgPiB0aGlzLnkpICE9IChwb2x5Z29uW2pdLnkgPiB0aGlzLnkpKSAmJlxyXG4gICAgICAgICAgICAgICAgKHRoaXMueCA8IChwb2x5Z29uW2pdLnggLSBwb2x5Z29uW2ldLngpICogKHRoaXMueSAtIHBvbHlnb25baV0ueSkgL1xyXG4gICAgICAgICAgICAgICAgKHBvbHlnb25bal0ueSAtIHBvbHlnb25baV0ueSkgKyBwb2x5Z29uW2ldLngpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIGluc2lkZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGlzIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBsZW5ndGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodGhpcy54ICogdGhpcy54KSArICh0aGlzLnkgKiB0aGlzLnkpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHNxdWFyZSBvZiB0aGUgbGVuZ3RoIG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBzcXVhcmUgb2YgdGhlIGxlbmd0aCBvZiB0aGlzIHZlY3Rvci5cclxuICAgICAqL1xyXG4gICAgbGVuZ3RoU3EoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnggKiB0aGlzLngpICsgKHRoaXMueSAqIHRoaXMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3JtYWxpemVzIHRoaXMgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBSZXR1cm5zIGl0c2VsZi5cclxuICAgICAqL1xyXG4gICAgbm9ybWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuZGl2aWRlKHRoaXMubGVuZ3RoKCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBub3JtYWxpemVkIGNvcHkgb2YgdGhpcyB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IEEgbm9ybWFsaXplZCBjb3B5IG9mIHRoaXMgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBub3JtYWxpemVkKCkge1xyXG4gICAgICAgIHJldHVybiBWZWN0b3IyLmRpdmlkZVNjYWxhcih0aGlzLCB0aGlzLmxlbmd0aCgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgd2hpY2ggc2lkZSBvZiBhIGxpbmUgc3Bhbm5lZCBieSB0d28gdmVjdG9ycyB0aGlzIHZlY3RvciBpcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0EgQSB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0IgQSB2ZWN0b3IuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBBIG51bWJlciBpbmRpY2F0aW5nIHRoZSBzaWRlIG9mIHRoaXMgdmVjdG9yLCBnaXZlbiBhIGxpbmUgc3Bhbm5lZCBieSB0d28gb3RoZXIgdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgd2hpY2hTaWRlKHZlY0EsIHZlY0IpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMueCAtIHZlY0EueCkgKiAodmVjQi55IC0gdmVjQS55KSAtICh0aGlzLnkgLSB2ZWNBLnkpICogKHZlY0IueCAtIHZlY0EueCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBvciBub3QgdGhpcyB2ZWN0b3IgaXMgb24gdGhlIHNhbWUgc2lkZSBvZiBhIGxpbmUgc3Bhbm5lZCBieSB0d28gdmVjdG9ycyBhcyBhbm90aGVyIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0EgQSB2ZWN0b3Igc3Bhbm5pbmcgdGhlIGxpbmUuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0IgQSB2ZWN0b3Igc3Bhbm5pbmcgdGhlIGxpbmUuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0MgQSB2ZWN0b3IgdG8gY2hlY2sgd2hldGhlciBvciBub3QgaXQgaXMgb24gdGhlIHNhbWUgc2lkZSBhcyB0aGlzIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdmVjdG9yIGlzIG9uIHRoZSBzYW1lIHNpZGUgYXMgYW5vdGhlciB2ZWN0b3IuXHJcbiAgICAgKi9cclxuICAgIHNhbWVTaWRlQXModmVjQSwgdmVjQiwgdmVjQykge1xyXG4gICAgICAgIGxldCBkID0gdGhpcy53aGljaFNpZGUodmVjQSwgdmVjQik7XHJcbiAgICAgICAgbGV0IGRSZWYgPSB2ZWNDLndoaWNoU2lkZSh2ZWNBLCB2ZWNCKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGQgPCAwICYmIGRSZWYgPCAwIHx8IGQgPT0gMCAmJiBkUmVmID09IDAgfHwgZCA+IDAgJiYgZFJlZiA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHR3byB2ZWN0b3JzIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgYXMgYSBuZXcgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQSBBIHN1bW1hbmQuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0IgQSBzdW1tYW5kLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgdGhlIHN1bSBvZiB0d28gdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFkZCh2ZWNBLCB2ZWNCKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZlY0EueCArIHZlY0IueCwgdmVjQS55ICsgdmVjQi55KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN1YnRyYWN0cyBvbmUgdmVjdG9yIGZyb20gYW5vdGhlciBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IGFzIGEgbmV3IHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAc3RhdGljXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0EgVGhlIG1pbnVlbmQuXHJcbiAgICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHZlY0IgVGhlIHN1YnRyYWhlbmQuXHJcbiAgICAgKiBAcmV0dXJucyB7VmVjdG9yMn0gUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0d28gdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHN1YnRyYWN0KHZlY0EsIHZlY0IpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodmVjQS54IC0gdmVjQi54LCB2ZWNBLnkgLSB2ZWNCLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTXVsdGlwbGllcyB0d28gdmVjdG9ycyAodmFsdWUgYnkgdmFsdWUpIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNBIEEgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNCIEEgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFJldHVybnMgdGhlIHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBtdWx0aXBseSh2ZWNBLCB2ZWNCKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZlY0EueCAqIHZlY0IueCwgdmVjQS55ICogdmVjQi55KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE11bHRpcGxpZXMgdHdvIHZlY3RvcnMgKHZhbHVlIGJ5IHZhbHVlKSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjIEEgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhciBBIHNjYWxhci5cclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbXVsdGlwbHlTY2FsYXIodmVjLCBzY2FsYXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodmVjLngsIHZlYy55KS5tdWx0aXBseVNjYWxhcihzY2FsYXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbWlkcG9pbnQgb2YgYSBsaW5lIHNwYW5uZWQgYnkgdHdvIHZlY3RvcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNBIEEgdmVjdG9yIHNwYW5uaW5nIHRoZSBsaW5lLlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNCIEEgdmVjdG9yIHNwYW5uaW5nIHRoZSBsaW5lLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFRoZSBtaWRwb2ludCBvZiB0aGUgbGluZSBzcGFubmVkIGJ5IHR3byB2ZWN0b3JzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbWlkcG9pbnQodmVjQSwgdmVjQikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMigodmVjQS54ICsgdmVjQi54KSAvIDIsICh2ZWNBLnkgKyB2ZWNCLnkpIC8gMik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBub3JtYWxzIG9mIGEgbGluZSBzcGFubmVkIGJ5IHR3byB2ZWN0b3JzLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQSBBIHZlY3RvciBzcGFubmluZyB0aGUgbGluZS5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQiBBIHZlY3RvciBzcGFubmluZyB0aGUgbGluZS5cclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyW119IEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIHR3byBub3JtYWxzLCBlYWNoIHJlcHJlc2VudGVkIGJ5IGEgdmVjdG9yLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbm9ybWFscyh2ZWNBLCB2ZWNCKSB7XHJcbiAgICAgICAgbGV0IGRlbHRhID0gVmVjdG9yMi5zdWJ0cmFjdCh2ZWNCLCB2ZWNBKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgbmV3IFZlY3RvcjIoLWRlbHRhLnksIGRlbHRhLngpLFxyXG4gICAgICAgICAgICBuZXcgVmVjdG9yMihkZWx0YS55LCAtZGVsdGEueClcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdW5pdCAobm9ybWFsaXplZCBub3JtYWwpIHZlY3RvcnMgb2YgYSBsaW5lIHNwYW5uZWQgYnkgdHdvIHZlY3RvcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNBIEEgdmVjdG9yIHNwYW5uaW5nIHRoZSBsaW5lLlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNCIEEgdmVjdG9yIHNwYW5uaW5nIHRoZSBsaW5lLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJbXX0gQW4gYXJyYXkgY29udGFpbmluZyB0aGUgdHdvIHVuaXQgdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHVuaXRzKHZlY0EsIHZlY0IpIHtcclxuICAgICAgICBsZXQgZGVsdGEgPSBWZWN0b3IyLnN1YnRyYWN0KHZlY0IsIHZlY0EpO1xyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAobmV3IFZlY3RvcjIoLWRlbHRhLnksIGRlbHRhLngpKS5ub3JtYWxpemUoKSxcclxuICAgICAgICAgICAgKG5ldyBWZWN0b3IyKGRlbHRhLnksIC1kZWx0YS54KSkubm9ybWFsaXplKClcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGl2aWRlcyBhIHZlY3RvciBieSBhbm90aGVyIHZlY3RvciBhbmQgcmV0dXJucyB0aGUgcmVzdWx0IGFzIG5ldyB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNBIFRoZSBkaXZpZGVuZC5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQiBUaGUgZGl2aXNvci5cclxuICAgICAqIEByZXR1cm5zIHtWZWN0b3IyfSBUaGUgZnJhY3Rpb24gb2YgdGhlIHR3byB2ZWN0b3JzLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZGl2aWRlKHZlY0EsIHZlY0IpIHtcclxuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHZlY0EueCAvIHZlY0IueCwgdmVjQS55IC8gdmVjQi55KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpdmlkZXMgYSB2ZWN0b3IgYnkgYSBzY2FsYXIgYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBuZXcgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQSBUaGUgZGl2aWRlbmQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcyBUaGUgc2NhbGFyLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFRoZSBmcmFjdGlvbiBvZiB0aGUgdHdvIHZlY3RvcnMuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBkaXZpZGVTY2FsYXIodmVjQSwgcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih2ZWNBLnggLyBzLCB2ZWNBLnkgLyBzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQSBBIHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQiBBIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjdG9ycy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGRvdCh2ZWNBLCB2ZWNCKSB7XHJcbiAgICAgICAgcmV0dXJuIHZlY0EueCAqIHZlY0IueCArIHZlY0EueSAqIHZlY0IueTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNBIEEgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNCIEEgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGJldHdlZW4gdHdvIHZlY3RvcnMgaW4gcmFkaWFucy5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFuZ2xlKHZlY0EsIHZlY0IpIHtcclxuICAgICAgICBsZXQgZG90ID0gVmVjdG9yMi5kb3QodmVjQSwgdmVjQik7XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLmFjb3MoZG90IC8gKHZlY0EubGVuZ3RoKCkgKiB2ZWNCLmxlbmd0aCgpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byB2ZWN0b3JzIGJhc2VkIG9uIGEgdGhpcmQgdmVjdG9yIGluIGJldHdlZW4uXHJcbiAgICAgKlxyXG4gICAgICogQHN0YXRpY1xyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNBIEEgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIHtWZWN0b3IyfSB2ZWNCIEEgKGNlbnRyYWwpIHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQyBBIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdGhyZWVQb2ludGFuZ2xlKHZlY0EsIHZlY0IsIHZlY0MpIHtcclxuICAgICAgICBsZXQgYWIgPSBWZWN0b3IyLnN1YnRyYWN0KHZlY0IsIHZlY0EpO1xyXG4gICAgICAgIGxldCBiYyA9IFZlY3RvcjIuc3VidHJhY3QodmVjQywgdmVjQik7XHJcbiAgICAgICAgbGV0IGFiTGVuZ3RoID0gdmVjQS5kaXN0YW5jZSh2ZWNCKTtcclxuICAgICAgICBsZXQgYmNMZW5ndGggPSB2ZWNCLmRpc3RhbmNlKHZlY0MpO1xyXG5cclxuICAgICAgICByZXR1cm4gTWF0aC5hY29zKFZlY3RvcjIuZG90KGFiLCBiYykgLyAoYWJMZW5ndGggKiBiY0xlbmd0aCkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHNjYWxhciBwcm9qZWN0aW9uIG9mIGEgdmVjdG9yIG9uIGFub3RoZXIgdmVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQSBUaGUgdmVjdG9yIHRvIGJlIHByb2plY3RlZC5cclxuICAgICAqIEBwYXJhbSB7VmVjdG9yMn0gdmVjQiBUaGUgdmVjdG9yIHRvIGJlIHByb2plY3Rpb24gdXBvbi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBzY2FsYXIgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2NhbGFyUHJvamVjdGlvbih2ZWNBLCB2ZWNCKSB7XHJcbiAgICAgICAgbGV0IHVuaXQgPSB2ZWNCLm5vcm1hbGl6ZWQoKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gVmVjdG9yMi5kb3QodmVjQSwgdW5pdCk7XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgYXZlcmFnZSB2ZWN0b3IgKG5vcm1hbGl6ZWQpIG9mIHRoZSBpbnB1dCB2ZWN0b3JzLlxyXG4gICAgICpcclxuICAgICAqIEBzdGF0aWNcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZlY3MgQW4gYXJyYXkgY29udGFpbmluZyB2ZWN0b3JzLlxyXG4gICAgICogQHJldHVybnMge1ZlY3RvcjJ9IFRoZSByZXN1bHRpbmcgdmVjdG9yIChub3JtYWxpemVkKS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGF2ZXJhZ2VEaXJlY3Rpb24odmVjcykge1xyXG4gICAgICAgIGxldCBhdmcgPSBuZXcgVmVjdG9yMigwLjAsIDAuMCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVjcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgbGV0IHZlYyA9IHZlY3NbaV07XHJcbiAgICAgICAgICBhdmcuYWRkKHZlYyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXZnLm5vcm1hbGl6ZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvcjI7IiwiLy9AdHMtY2hlY2tcclxuY29uc3QgTWF0aEhlbHBlciA9IHJlcXVpcmUoJy4vTWF0aEhlbHBlcicpXHJcbmNvbnN0IEFycmF5SGVscGVyID0gcmVxdWlyZSgnLi9BcnJheUhlbHBlcicpXHJcbmNvbnN0IFZlY3RvcjIgPSByZXF1aXJlKCcuL1ZlY3RvcjInKVxyXG5jb25zdCBBdG9tID0gcmVxdWlyZSgnLi9BdG9tJylcclxuXHJcbi8qKiBcclxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSB2ZXJ0ZXguXHJcbiAqIFxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gaWQgVGhlIGlkIG9mIHRoaXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge0F0b219IHZhbHVlIFRoZSBhdG9tIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHZlcnRleC5cclxuICogQHByb3BlcnR5IHtWZWN0b3IyfSBwb3NpdGlvbiBUaGUgcG9zaXRpb24gb2YgdGhpcyB2ZXJ0ZXguXHJcbiAqIEBwcm9wZXJ0eSB7VmVjdG9yMn0gcHJldmlvdXNQb3NpdGlvbiBUaGUgcG9zaXRpb24gb2YgdGhlIHByZXZpb3VzIHZlcnRleC5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ8bnVsbH0gcGFyZW50VmVydGV4SWQgVGhlIGlkIG9mIHRoZSBwcmV2aW91cyB2ZXJ0ZXguXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyW119IGNoaWxkcmVuIFRoZSBpZHMgb2YgdGhlIGNoaWxkcmVuIG9mIHRoaXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge051bWJlcltdfSBzcGFubmluZ1RyZWVDaGlsZHJlbiBUaGUgaWRzIG9mIHRoZSBjaGlsZHJlbiBvZiB0aGlzIHZlcnRleCBhcyBkZWZpbmVkIGluIHRoZSBzcGFubmluZyB0cmVlIGRlZmluZWQgYnkgdGhlIFNNSUxFUy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gZWRnZXMgVGhlIGlkcyBvZiBlZGdlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyB2ZXJ0ZXguXHJcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gcG9zaXRpb25lZCBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHZlcnRleCBoYXMgYmVlbiBwb3NpdGlvbmVkLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gYW5nbGUgVGhlIGFuZ2xlIG9mIHRoaXMgdmVydGV4LlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gZGlyIFRoZSBkaXJlY3Rpb24gb2YgdGhpcyB2ZXJ0ZXguXHJcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBuZWlnaGJvdXJDb3VudCBUaGUgbnVtYmVyIG9mIG5laWdoYm91cmluZyB2ZXJ0aWNlcy5cclxuICogQHByb3BlcnR5IHtOdW1iZXJbXX0gbmVpZ2hib3VycyBUaGUgdmVydGV4IGlkcyBvZiBuZWlnaGJvdXJpbmcgdmVydGljZXMuXHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nW119IG5laWdoYm91cmluZ0VsZW1lbnRzIFRoZSBlbGVtZW50IHN5bWJvbHMgYXNzb2NpYXRlZCB3aXRoIG5laWdoYm91cmluZyB2ZXJ0aWNlcy5cclxuICogQHByb3BlcnR5IHtCb29sZWFufSBmb3JjZVBvc2l0aW9uZWQgQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyB2ZXJ0ZXggd2FzIHBvc2l0aW9uZWQgdXNpbmcgYSBmb3JjZS1iYXNlZCBhcHByb2FjaC5cclxuICovXHJcblxyXG5jbGFzcyBWZXJ0ZXgge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGNsYXNzIFZlcnRleC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXRvbX0gdmFsdWUgVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3g9MF0gVGhlIGluaXRpYWwgeCBjb29yZGluYXRlIG9mIHRoZSBwb3NpdGlvbmFsIHZlY3RvciBvZiB0aGlzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gW3k9MF0gVGhlIGluaXRpYWwgeSBjb29yZGluYXRlIG9mIHRoZSBwb3NpdGlvbmFsIHZlY3RvciBvZiB0aGlzIHZlcnRleC5cclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgeCA9IDAsIHkgPSAwKSB7XHJcbiAgICB0aGlzLmlkID0gbnVsbDtcclxuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjdG9yMih4ID8geCA6IDAsIHkgPyB5IDogMCk7XHJcbiAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24gPSBuZXcgVmVjdG9yMigwLCAwKTtcclxuICAgIHRoaXMucGFyZW50VmVydGV4SWQgPSBudWxsO1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IEFycmF5KCk7XHJcbiAgICB0aGlzLnNwYW5uaW5nVHJlZUNoaWxkcmVuID0gQXJyYXkoKTtcclxuICAgIHRoaXMuZWRnZXMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy5wb3NpdGlvbmVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmFuZ2xlID0gbnVsbDtcclxuICAgIHRoaXMuZGlyID0gMS4wO1xyXG4gICAgdGhpcy5uZWlnaGJvdXJDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5laWdoYm91cnMgPSBBcnJheSgpO1xyXG4gICAgdGhpcy5uZWlnaGJvdXJpbmdFbGVtZW50cyA9IEFycmF5KCk7XHJcbiAgICB0aGlzLmZvcmNlUG9zaXRpb25lZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSAyRCBjb29yZGluYXRlcyBvZiB0aGUgdmVydGV4LlxyXG4gICAqIFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB4IGNvbXBvbmVudCBvZiB0aGUgY29vcmRpbmF0ZXMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHkgY29tcG9uZW50IG9mIHRoZSBjb29yZGluYXRlcy5cclxuICAgKiBcclxuICAgKi9cclxuICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xyXG4gICAgdGhpcy5wb3NpdGlvbi55ID0geTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUgMkQgY29vcmRpbmF0ZXMgb2YgdGhlIHZlcnRleCBmcm9tIGEgVmVjdG9yMi5cclxuICAgKiBcclxuICAgKiBAcGFyYW0ge1ZlY3RvcjJ9IHYgQSAyRCB2ZWN0b3IuXHJcbiAgICogXHJcbiAgICovXHJcbiAgc2V0UG9zaXRpb25Gcm9tVmVjdG9yKHYpIHtcclxuICAgIHRoaXMucG9zaXRpb24ueCA9IHYueDtcclxuICAgIHRoaXMucG9zaXRpb24ueSA9IHYueTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIGNoaWxkIHZlcnRleCBpZCB0byB0aGlzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgVGhlIGlkIG9mIGEgdmVydGV4IHRvIGJlIGFkZGVkIGFzIGEgY2hpbGQgdG8gdGhpcyB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgYWRkQ2hpbGQodmVydGV4SWQpIHtcclxuICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh2ZXJ0ZXhJZCk7XHJcbiAgICB0aGlzLm5laWdoYm91cnMucHVzaCh2ZXJ0ZXhJZCk7XHJcblxyXG4gICAgdGhpcy5uZWlnaGJvdXJDb3VudCsrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgY2hpbGQgdmVydGV4IGlkIHRvIHRoaXMgdmVydGV4IGFzIHRoZSBzZWNvbmQgY2hpbGQgb2YgdGhlIG5laWdoYm91cnMgYXJyYXksXHJcbiAgICogZXhjZXB0IHRoaXMgdmVydGV4IGlzIHRoZSBmaXJzdCB2ZXJ0ZXggb2YgdGhlIFNNSUxFIHN0cmluZywgdGhlbiBpdCBpcyBhZGRlZCBhcyB0aGUgZmlyc3QuXHJcbiAgICogVGhpcyBpcyB1c2VkIHRvIGdldCB0aGUgY29ycmVjdCBvcmRlcmluZyBvZiBuZWlnaGJvdXJzIGZvciBwYXJpdHkgY2FsY3VsYXRpb25zLlxyXG4gICAqIElmIGEgaHlkcm9nZW4gaXMgaW1wbGljaXRseSBhdHRhY2hlZCB0byB0aGUgY2hpcmFsIGNlbnRlciwgaW5zZXJ0IGFzIHRoZSB0aGlyZCBjaGlsZC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gdmVydGV4SWQgVGhlIGlkIG9mIGEgdmVydGV4IHRvIGJlIGFkZGVkIGFzIGEgY2hpbGQgdG8gdGhpcyB2ZXJ0ZXguXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJpbmdib25kSW5kZXggVGhlIGluZGV4IG9mIHRoZSByaW5nYm9uZC5cclxuICAgKi9cclxuICBhZGRSaW5nYm9uZENoaWxkKHZlcnRleElkLCByaW5nYm9uZEluZGV4KSB7XHJcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2godmVydGV4SWQpO1xyXG5cclxuICAgIGlmICh0aGlzLnZhbHVlLmJyYWNrZXQpIHtcclxuICAgICAgbGV0IGluZGV4ID0gMTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmlkID09PSAwICYmIHRoaXMudmFsdWUuYnJhY2tldC5oY291bnQgPT09IDApIHtcclxuICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnZhbHVlLmJyYWNrZXQuaGNvdW50ID09PSAxICYmIHJpbmdib25kSW5kZXggPT09IDApIHtcclxuICAgICAgICBpbmRleCA9IDI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLnZhbHVlLmJyYWNrZXQuaGNvdW50ID09PSAxICYmIHJpbmdib25kSW5kZXggPT09IDEpIHtcclxuICAgICAgICBpZiAodGhpcy5uZWlnaGJvdXJzLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgIGluZGV4ID0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW5kZXggPSAzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMudmFsdWUuYnJhY2tldC5oY291bnQgPT09IG51bGwgJiYgcmluZ2JvbmRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgIGluZGV4ID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMudmFsdWUuYnJhY2tldC5oY291bnQgPT09IG51bGwgJiYgcmluZ2JvbmRJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIGlmICh0aGlzLm5laWdoYm91cnMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgaW5kZXggPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbmRleCA9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm5laWdoYm91cnMuc3BsaWNlKGluZGV4LCAwLCB2ZXJ0ZXhJZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm5laWdoYm91cnMucHVzaCh2ZXJ0ZXhJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5uZWlnaGJvdXJDb3VudCsrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB2ZXJ0ZXggaWQgb2YgdGhlIHBhcmVudC5cclxuICAgKiBcclxuICAgKiBAcGFyYW0ge051bWJlcn0gcGFyZW50VmVydGV4SWQgVGhlIHBhcmVudHMgdmVydGV4IGlkLlxyXG4gICAqL1xyXG4gIHNldFBhcmVudFZlcnRleElkKHBhcmVudFZlcnRleElkKSB7XHJcbiAgICB0aGlzLm5laWdoYm91ckNvdW50Kys7XHJcbiAgICB0aGlzLnBhcmVudFZlcnRleElkID0gcGFyZW50VmVydGV4SWQ7XHJcbiAgICB0aGlzLm5laWdoYm91cnMucHVzaChwYXJlbnRWZXJ0ZXhJZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyB2ZXJ0ZXggaXMgdGVybWluYWwgKGhhcyBubyBwYXJlbnQgb3IgY2hpbGQgdmVydGljZXMpLCBvdGhlcndpc2UgcmV0dXJucyBmYWxzZS4gQWx3YXlzIHJldHVybnMgdHJ1ZSBpZiBhc3NvY2lhdGVkIHZhbHVlIGhhcyBwcm9wZXJ0eSBoYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzIHNldCB0byB0cnVlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoaXMgdmVydGV4IGlzIHRlcm1pbmFsLlxyXG4gICAqL1xyXG4gIGlzVGVybWluYWwoKSB7XHJcbiAgICBpZiAodGhpcy52YWx1ZS5oYXNBdHRhY2hlZFBzZXVkb0VsZW1lbnRzKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAodGhpcy5wYXJlbnRWZXJ0ZXhJZCA9PT0gbnVsbCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA8IDIpIHx8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xvbmVzIHRoaXMgdmVydGV4IGFuZCByZXR1cm5zIHRoZSBjbG9uZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtWZXJ0ZXh9IEEgY2xvbmUgb2YgdGhpcyB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgY2xvbmUoKSB7XHJcbiAgICBsZXQgY2xvbmUgPSBuZXcgVmVydGV4KHRoaXMudmFsdWUsIHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcclxuICAgIGNsb25lLmlkID0gdGhpcy5pZDtcclxuICAgIGNsb25lLnByZXZpb3VzUG9zaXRpb24gPSBuZXcgVmVjdG9yMih0aGlzLnByZXZpb3VzUG9zaXRpb24ueCwgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLnkpO1xyXG4gICAgY2xvbmUucGFyZW50VmVydGV4SWQgPSB0aGlzLnBhcmVudFZlcnRleElkO1xyXG4gICAgY2xvbmUuY2hpbGRyZW4gPSBBcnJheUhlbHBlci5jbG9uZSh0aGlzLmNoaWxkcmVuKTtcclxuICAgIGNsb25lLnNwYW5uaW5nVHJlZUNoaWxkcmVuID0gQXJyYXlIZWxwZXIuY2xvbmUodGhpcy5zcGFubmluZ1RyZWVDaGlsZHJlbik7XHJcbiAgICBjbG9uZS5lZGdlcyA9IEFycmF5SGVscGVyLmNsb25lKHRoaXMuZWRnZXMpO1xyXG4gICAgY2xvbmUucG9zaXRpb25lZCA9IHRoaXMucG9zaXRpb25lZDtcclxuICAgIGNsb25lLmFuZ2xlID0gdGhpcy5hbmdsZTtcclxuICAgIGNsb25lLmZvcmNlUG9zaXRpb25lZCA9IHRoaXMuZm9yY2VQb3NpdGlvbmVkO1xyXG4gICAgcmV0dXJuIGNsb25lO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgdmVydGV4IGFuZCB0aGUgc3VwcGxpZWQgdmVydGV4IGJvdGggaGF2ZSB0aGUgc2FtZSBpZCwgZWxzZSByZXR1cm5zIGZhbHNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleCBUaGUgdmVydGV4IHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdHdvIHZlcnRpY2VzIGhhdmUgdGhlIHNhbWUgaWQuXHJcbiAgICovXHJcbiAgZXF1YWxzKHZlcnRleCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaWQgPT09IHZlcnRleC5pZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGFuZ2xlIG9mIHRoaXMgdmVydGV4ZXMgcG9zaXRpb25hbCB2ZWN0b3IuIElmIGEgcmVmZXJlbmNlIHZlY3RvciBpcyBzdXBwbGllZCBpbiByZWxhdGlvbnMgdG8gdGhpcyB2ZWN0b3IsIGVsc2UgaW4gcmVsYXRpb25zIHRvIHRoZSBjb29yZGluYXRlIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVjdG9yMn0gW3JlZmVyZW5jZVZlY3Rvcj1udWxsXSAtIFRoZSByZWZlcmVuY2UgdmVjdG9yLlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JldHVybkFzRGVncmVlcz1mYWxzZV0gLSBJZiB0cnVlLCByZXR1cm5zIGFuZ2xlIGluIGRlZ3JlZXMsIGVsc2UgaW4gcmFkaWFucy5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYW5nbGUgb2YgdGhpcyB2ZXJ0ZXguXHJcbiAgICovXHJcbiAgZ2V0QW5nbGUocmVmZXJlbmNlVmVjdG9yID0gbnVsbCwgcmV0dXJuQXNEZWdyZWVzID0gZmFsc2UpIHtcclxuICAgIGxldCB1ID0gbnVsbDtcclxuXHJcbiAgICBpZiAoIXJlZmVyZW5jZVZlY3Rvcikge1xyXG4gICAgICB1ID0gVmVjdG9yMi5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uLCB0aGlzLnByZXZpb3VzUG9zaXRpb24pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdSA9IFZlY3RvcjIuc3VidHJhY3QodGhpcy5wb3NpdGlvbiwgcmVmZXJlbmNlVmVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmV0dXJuQXNEZWdyZWVzKSB7XHJcbiAgICAgIHJldHVybiBNYXRoSGVscGVyLnRvRGVnKHUuYW5nbGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHUuYW5nbGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHN1Z2dlc3RlZCB0ZXh0IGRpcmVjdGlvbiB3aGVuIHRleHQgaXMgYWRkZWQgYXQgdGhlIHBvc2l0aW9uIG9mIHRoaXMgdmVydGV4LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZXJ0ZXhbXX0gdmVydGljZXMgVGhlIGFycmF5IG9mIHZlcnRpY2VzIGZvciB0aGUgY3VycmVudCBtb2xlY3VsZS5cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9ubHlIb3Jpem9udGFsIEluIGNhc2UgdGhlIHRleHQgZGlyZWN0aW9uIHNob3VsZCBiZSBsaW1pdGVkIHRvIGVpdGhlciBsZWZ0IG9yIHJpZ2h0LlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdWdnZXN0ZWQgZGlyZWN0aW9uIG9mIHRoZSB0ZXh0LlxyXG4gICAqL1xyXG4gIGdldFRleHREaXJlY3Rpb24odmVydGljZXMsIG9ubHlIb3Jpem9udGFsID0gZmFsc2UpIHtcclxuICAgIGxldCBuZWlnaGJvdXJzID0gdGhpcy5nZXREcmF3bk5laWdoYm91cnModmVydGljZXMpO1xyXG4gICAgbGV0IGFuZ2xlcyA9IEFycmF5KCk7XHJcblxyXG4gICAgLy8gSWYgdGhlcmUgaXMgb25seSBvbmUgdmVydGV4IGluIHRoZSBncmFwaCwgYWx3YXlzIGRyYXcgdG8gdGhlIHJpZ2h0XHJcbiAgICBpZiAodmVydGljZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHJldHVybiAncmlnaHQnO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVpZ2hib3Vycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBhbmdsZXMucHVzaCh0aGlzLmdldEFuZ2xlKHZlcnRpY2VzW25laWdoYm91cnNbaV1dLnBvc2l0aW9uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRleHRBbmdsZSA9IE1hdGhIZWxwZXIubWVhbkFuZ2xlKGFuZ2xlcyk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNUZXJtaW5hbCgpIHx8IG9ubHlIb3Jpem9udGFsKSB7XHJcbiAgICAgIC8vIFJvdW5kIHRvIDAgb3IgMTgwIGlmIHRlcm1pbmFsIG9yIG9ubHkgaG9yaXpvbnRhbCBhbGxvd2VkXHJcbiAgICAgIC8vIFdpdGggb25seSB0aGlzLCB0ZXh0IGlzIHdyaXR0ZW4gdG8gdGhlIGxlZnQgaWYgdGhlIGFuZ2xlIGlzIDkwwrAvMS41NzA4IHJhZCAoc3RyYWlnaHQgZG93bikuXHJcbiAgICAgIC8vIFNvIGlmIGFuZ2xlIGlzIH4xLjU3MDgsIGZvcmNlIGl0IGEgYml0IGFudGktY2xvY2std2lzZVxyXG4gICAgICBpZiAoTWF0aC5yb3VuZCh0ZXh0QW5nbGUgKiAxMDApIC8gMTAwID09PSAxLjU3KSB7XHJcbiAgICAgICAgdGV4dEFuZ2xlID0gdGV4dEFuZ2xlIC0gMC4yO1xyXG4gICAgICB9XHJcbiAgICAgIHRleHRBbmdsZSA9IE1hdGgucm91bmQoTWF0aC5yb3VuZCh0ZXh0QW5nbGUgLyBNYXRoLlBJKSAqIE1hdGguUEkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUm91bmQgdG8gMCwgOTAsIDE4MCBvciAyNzAgZGVncmVlIGlmIG5vdCB0ZXJtaW5hbFxyXG4gICAgICBsZXQgaGFsZlBpID0gTWF0aC5QSSAvIDIuMDtcclxuICAgICAgdGV4dEFuZ2xlID0gTWF0aC5yb3VuZChNYXRoLnJvdW5kKHRleHRBbmdsZSAvIGhhbGZQaSkgKiBoYWxmUGkpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIGlmICh0ZXh0QW5nbGUgPT09IDIpIHtcclxuICAgICAgcmV0dXJuICdkb3duJztcclxuICAgIH0gZWxzZSBpZiAodGV4dEFuZ2xlID09PSAtMikge1xyXG4gICAgICByZXR1cm4gJ3VwJztcclxuICAgIH0gZWxzZSBpZiAodGV4dEFuZ2xlID09PSAwIHx8IHRleHRBbmdsZSA9PT0gLTApIHtcclxuICAgICAgcmV0dXJuICdyaWdodCc7IC8vIGlzIGNoZWNraW5nIGZvciAtMCBuZWNlc3Nhcnk/XHJcbiAgICB9IGVsc2UgaWYgKHRleHRBbmdsZSA9PT0gMyB8fCB0ZXh0QW5nbGUgPT09IC0zKSB7XHJcbiAgICAgIHJldHVybiAnbGVmdCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gJ2Rvd24nOyAvLyBkZWZhdWx0IHRvIGRvd25cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgaWRzIG9mIG5laWdoYm91cmluZyB2ZXJ0aWNlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbdmVydGV4SWQ9bnVsbF0gSWYgYSB2YWx1ZSBpcyBzdXBwbGllZCwgdGhlIHZlcnRleCB3aXRoIHRoaXMgaWQgaXMgZXhjbHVkZWQgZnJvbSB0aGUgcmV0dXJuZWQgaW5kaWNlcy5cclxuICAgKiBAcmV0dXJucyB7TnVtYmVyW119IEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGlkcyBvZiBuZWlnaGJvdXJpbmcgdmVydGljZXMuXHJcbiAgICovXHJcbiAgZ2V0TmVpZ2hib3Vycyh2ZXJ0ZXhJZCA9IG51bGwpIHtcclxuICAgIGlmICh2ZXJ0ZXhJZCA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5uZWlnaGJvdXJzLnNsaWNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGFyciA9IEFycmF5KCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5laWdoYm91cnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMubmVpZ2hib3Vyc1tpXSAhPT0gdmVydGV4SWQpIHtcclxuICAgICAgICBhcnIucHVzaCh0aGlzLm5laWdoYm91cnNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgaWRzIG9mIG5laWdoYm91cmluZyB2ZXJ0aWNlcyB0aGF0IHdpbGwgYmUgZHJhd24gKHZlcnRleC52YWx1ZS5pc0RyYXduID09PSB0cnVlKS5cclxuICAgKiBcclxuICAgKiBAcGFyYW0ge1ZlcnRleFtdfSB2ZXJ0aWNlcyBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0aWNlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpZHMgb2YgbmVpZ2hib3VyaW5nIHZlcnRpY2VzIHRoYXQgd2lsbCBiZSBkcmF3bi5cclxuICAgKi9cclxuICBnZXREcmF3bk5laWdoYm91cnModmVydGljZXMpIHtcclxuICAgIGxldCBhcnIgPSBBcnJheSgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh2ZXJ0aWNlc1t0aGlzLm5laWdoYm91cnNbaV1dLnZhbHVlLmlzRHJhd24pIHtcclxuICAgICAgICBhcnIucHVzaCh0aGlzLm5laWdoYm91cnNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBuZWlnaGJvdXJzIG9mIHRoaXMgdmVydGV4LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWJlciBvZiBuZWlnaGJvdXJzLlxyXG4gICAqL1xyXG4gIGdldE5laWdoYm91ckNvdW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMubmVpZ2hib3VyQ291bnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBpZHMgb2YgdmVydGljZXMgbmVpZ2hib3VyaW5nIHRoaXMgb25lIGluIHRoZSBvcmlnaW5hbCBzcGFubmluZyB0cmVlLCBleGNsdWRpbmcgdGhlIHJpbmdib25kIGNvbm5lY3Rpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFt2ZXJ0ZXhJZD1udWxsXSBJZiBzdXBwbGllZCwgdGhlIHZlcnRleCB3aXRoIHRoaXMgaWQgaXMgZXhjbHVkZWQgZnJvbSB0aGUgYXJyYXkgcmV0dXJuZWQuXHJcbiAgICogQHJldHVybnMge051bWJlcltdfSBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpZHMgb2YgdGhlIG5laWdoYm91cmluZyB2ZXJ0aWNlcy5cclxuICAgKi9cclxuICBnZXRTcGFubmluZ1RyZWVOZWlnaGJvdXJzKHZlcnRleElkID0gbnVsbCkge1xyXG4gICAgbGV0IG5laWdoYm91cnMgPSBBcnJheSgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zcGFubmluZ1RyZWVDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodmVydGV4SWQgPT09IHVuZGVmaW5lZCB8fCB2ZXJ0ZXhJZCAhPSB0aGlzLnNwYW5uaW5nVHJlZUNoaWxkcmVuW2ldKSB7XHJcbiAgICAgICAgbmVpZ2hib3Vycy5wdXNoKHRoaXMuc3Bhbm5pbmdUcmVlQ2hpbGRyZW5baV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMucGFyZW50VmVydGV4SWQgIT0gbnVsbCkge1xyXG4gICAgICBpZiAodmVydGV4SWQgPT09IHVuZGVmaW5lZCB8fCB2ZXJ0ZXhJZCAhPSB0aGlzLnBhcmVudFZlcnRleElkKSB7XHJcbiAgICAgICAgbmVpZ2hib3Vycy5wdXNoKHRoaXMucGFyZW50VmVydGV4SWQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5laWdoYm91cnM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBuZXh0IHZlcnRleCBpbiB0aGUgcmluZyBpbiBvcHBvc2lkZSBkaXJlY3Rpb24gdG8gdGhlIHN1cHBsaWVkIHZlcnRleCBpZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVydGV4W119IHZlcnRpY2VzIFRoZSBhcnJheSBvZiB2ZXJ0aWNlcyBmb3IgdGhlIGN1cnJlbnQgbW9sZWN1bGUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJpbmdJZCBUaGUgaWQgb2YgdGhlIHJpbmcgY29udGFpbmluZyB0aGlzIHZlcnRleC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gcHJldmlvdXNWZXJ0ZXhJZCBUaGUgaWQgb2YgdGhlIHByZXZpb3VzIHZlcnRleC4gVGhlIG5leHQgdmVydGV4IHdpbGwgYmUgb3Bwb3NpdGUgZnJvbSB0aGUgdmVydGV4IHdpdGggdGhpcyBpZCBhcyBzZWVuIGZyb20gdGhpcyB2ZXJ0ZXguXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIGlkIG9mIHRoZSBuZXh0IHZlcnRleCBpbiB0aGUgcmluZy5cclxuICAgKi9cclxuICBnZXROZXh0SW5SaW5nKHZlcnRpY2VzLCByaW5nSWQsIHByZXZpb3VzVmVydGV4SWQpIHtcclxuICAgIGxldCBuZWlnaGJvdXJzID0gdGhpcy5nZXROZWlnaGJvdXJzKCk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWlnaGJvdXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChBcnJheUhlbHBlci5jb250YWlucyh2ZXJ0aWNlc1tuZWlnaGJvdXJzW2ldXS52YWx1ZS5yaW5ncywge1xyXG4gICAgICAgIHZhbHVlOiByaW5nSWRcclxuICAgICAgfSkgJiZcclxuICAgICAgICBuZWlnaGJvdXJzW2ldICE9IHByZXZpb3VzVmVydGV4SWQpIHtcclxuICAgICAgICByZXR1cm4gbmVpZ2hib3Vyc1tpXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBWZXJ0ZXg7IiwiLyoqXG4gKiBjaHJvbWEuanMgLSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGNvbG9yIGNvbnZlcnNpb25zXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTksIEdyZWdvciBBaXNjaFxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICpcbiAqIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEdSRUdPUiBBSVNDSCBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsXG4gKiBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWVxuICogT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSxcbiAqIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqIGNocm9tYS5qcyBpbmNsdWRlcyBjb2xvcnMgZnJvbSBjb2xvcmJyZXdlcjIub3JnLCB3aGljaCBhcmUgcmVsZWFzZWQgdW5kZXJcbiAqIHRoZSBmb2xsb3dpbmcgbGljZW5zZTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDIgQ3ludGhpYSBCcmV3ZXIsIE1hcmsgSGFycm93ZXIsXG4gKiBhbmQgVGhlIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICogTmFtZWQgY29sb3JzIGFyZSB0YWtlbiBmcm9tIFgxMSBDb2xvciBOYW1lcy5cbiAqIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvI3N2Zy1jb2xvclxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLmNocm9tYSA9IGZhY3RvcnkoKSk7XG59KSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGltaXQkMiA9IGZ1bmN0aW9uICh4LCBtaW4sIG1heCkge1xuICAgICAgICBpZiAoIG1pbiA9PT0gdm9pZCAwICkgbWluPTA7XG4gICAgICAgIGlmICggbWF4ID09PSB2b2lkIDAgKSBtYXg9MTtcblxuICAgICAgICByZXR1cm4geCA8IG1pbiA/IG1pbiA6IHggPiBtYXggPyBtYXggOiB4O1xuICAgIH07XG5cbiAgICB2YXIgbGltaXQkMSA9IGxpbWl0JDI7XG5cbiAgICB2YXIgY2xpcF9yZ2IkMyA9IGZ1bmN0aW9uIChyZ2IpIHtcbiAgICAgICAgcmdiLl9jbGlwcGVkID0gZmFsc2U7XG4gICAgICAgIHJnYi5fdW5jbGlwcGVkID0gcmdiLnNsaWNlKDApO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8PTM7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPCAzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJnYltpXSA8IDAgfHwgcmdiW2ldID4gMjU1KSB7IHJnYi5fY2xpcHBlZCA9IHRydWU7IH1cbiAgICAgICAgICAgICAgICByZ2JbaV0gPSBsaW1pdCQxKHJnYltpXSwgMCwgMjU1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJnYltpXSA9IGxpbWl0JDEocmdiW2ldLCAwLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICAvLyBwb3J0ZWQgZnJvbSBqUXVlcnkncyAkLnR5cGVcbiAgICB2YXIgY2xhc3NUb1R5cGUgPSB7fTtcbiAgICBmb3IgKHZhciBpJDEgPSAwLCBsaXN0JDEgPSBbJ0Jvb2xlYW4nLCAnTnVtYmVyJywgJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdEYXRlJywgJ1JlZ0V4cCcsICdVbmRlZmluZWQnLCAnTnVsbCddOyBpJDEgPCBsaXN0JDEubGVuZ3RoOyBpJDEgKz0gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IGxpc3QkMVtpJDFdO1xuXG4gICAgICAgIGNsYXNzVG9UeXBlWyhcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIpXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgdmFyIHR5cGUkcCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gY2xhc3NUb1R5cGVbT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCI7XG4gICAgfTtcblxuICAgIHZhciB0eXBlJG8gPSB0eXBlJHA7XG5cbiAgICB2YXIgdW5wYWNrJEIgPSBmdW5jdGlvbiAoYXJncywga2V5T3JkZXIpIHtcbiAgICAgICAgaWYgKCBrZXlPcmRlciA9PT0gdm9pZCAwICkga2V5T3JkZXI9bnVsbDtcblxuICAgIFx0Ly8gaWYgY2FsbGVkIHdpdGggbW9yZSB0aGFuIDMgYXJndW1lbnRzLCB3ZSByZXR1cm4gdGhlIGFyZ3VtZW50c1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPj0gMykgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7IH1cbiAgICAgICAgLy8gd2l0aCBsZXNzIHRoYW4gMyBhcmdzIHdlIGNoZWNrIGlmIGZpcnN0IGFyZyBpcyBvYmplY3RcbiAgICAgICAgLy8gYW5kIHVzZSB0aGUga2V5T3JkZXIgc3RyaW5nIHRvIGV4dHJhY3QgYW5kIHNvcnQgcHJvcGVydGllc1xuICAgIFx0aWYgKHR5cGUkbyhhcmdzWzBdKSA9PSAnb2JqZWN0JyAmJiBrZXlPcmRlcikge1xuICAgIFx0XHRyZXR1cm4ga2V5T3JkZXIuc3BsaXQoJycpXG4gICAgXHRcdFx0LmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gYXJnc1swXVtrXSAhPT0gdW5kZWZpbmVkOyB9KVxuICAgIFx0XHRcdC5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIGFyZ3NbMF1ba107IH0pO1xuICAgIFx0fVxuICAgIFx0Ly8gb3RoZXJ3aXNlIHdlIGp1c3QgcmV0dXJuIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgIFx0Ly8gKHdoaWNoIHdlIHN1cHBvc2UgaXMgYW4gYXJyYXkgb2YgYXJncylcbiAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfTtcblxuICAgIHZhciB0eXBlJG4gPSB0eXBlJHA7XG5cbiAgICB2YXIgbGFzdCQ0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMikgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICB2YXIgbCA9IGFyZ3MubGVuZ3RoLTE7XG4gICAgICAgIGlmICh0eXBlJG4oYXJnc1tsXSkgPT0gJ3N0cmluZycpIHsgcmV0dXJuIGFyZ3NbbF0udG9Mb3dlckNhc2UoKTsgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIFBJJDIgPSBNYXRoLlBJO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgIFx0Y2xpcF9yZ2I6IGNsaXBfcmdiJDMsXG4gICAgXHRsaW1pdDogbGltaXQkMixcbiAgICBcdHR5cGU6IHR5cGUkcCxcbiAgICBcdHVucGFjazogdW5wYWNrJEIsXG4gICAgXHRsYXN0OiBsYXN0JDQsXG4gICAgXHRQSTogUEkkMixcbiAgICBcdFRXT1BJOiBQSSQyKjIsXG4gICAgXHRQSVRISVJEOiBQSSQyLzMsXG4gICAgXHRERUcyUkFEOiBQSSQyIC8gMTgwLFxuICAgIFx0UkFEMkRFRzogMTgwIC8gUEkkMlxuICAgIH07XG5cbiAgICB2YXIgaW5wdXQkaCA9IHtcbiAgICBcdGZvcm1hdDoge30sXG4gICAgXHRhdXRvZGV0ZWN0OiBbXVxuICAgIH07XG5cbiAgICB2YXIgbGFzdCQzID0gdXRpbHMubGFzdDtcbiAgICB2YXIgY2xpcF9yZ2IkMiA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciB0eXBlJG0gPSB1dGlscy50eXBlO1xuICAgIHZhciBfaW5wdXQgPSBpbnB1dCRoO1xuXG4gICAgdmFyIENvbG9yJEQgPSBmdW5jdGlvbiBDb2xvcigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZSRtKGFyZ3NbMF0pID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgYXJnc1swXS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgICAgYXJnc1swXS5jb25zdHJ1Y3RvciA9PT0gdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgLy8gdGhlIGFyZ3VtZW50IGlzIGFscmVhZHkgYSBDb2xvciBpbnN0YW5jZVxuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsYXN0IGFyZ3VtZW50IGNvdWxkIGJlIHRoZSBtb2RlXG4gICAgICAgIHZhciBtb2RlID0gbGFzdCQzKGFyZ3MpO1xuICAgICAgICB2YXIgYXV0b2RldGVjdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghbW9kZSkge1xuICAgICAgICAgICAgYXV0b2RldGVjdCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIV9pbnB1dC5zb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBfaW5wdXQuYXV0b2RldGVjdCA9IF9pbnB1dC5hdXRvZGV0ZWN0LnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYi5wIC0gYS5wOyB9KTtcbiAgICAgICAgICAgICAgICBfaW5wdXQuc29ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGF1dG8tZGV0ZWN0IGZvcm1hdFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBfaW5wdXQuYXV0b2RldGVjdDsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hrID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIG1vZGUgPSBjaGsudGVzdC5hcHBseShjaGssIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX2lucHV0LmZvcm1hdFttb2RlXSkge1xuICAgICAgICAgICAgdmFyIHJnYiA9IF9pbnB1dC5mb3JtYXRbbW9kZV0uYXBwbHkobnVsbCwgYXV0b2RldGVjdCA/IGFyZ3MgOiBhcmdzLnNsaWNlKDAsLTEpKTtcbiAgICAgICAgICAgIG1lLl9yZ2IgPSBjbGlwX3JnYiQyKHJnYik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gZm9ybWF0OiAnK2FyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGFscGhhIGNoYW5uZWxcbiAgICAgICAgaWYgKG1lLl9yZ2IubGVuZ3RoID09PSAzKSB7IG1lLl9yZ2IucHVzaCgxKTsgfVxuICAgIH07XG5cbiAgICBDb2xvciRELnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICAgICAgaWYgKHR5cGUkbSh0aGlzLmhleCkgPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gdGhpcy5oZXgoKTsgfVxuICAgICAgICByZXR1cm4gKFwiW1wiICsgKHRoaXMuX3JnYi5qb2luKCcsJykpICsgXCJdXCIpO1xuICAgIH07XG5cbiAgICB2YXIgQ29sb3JfMSA9IENvbG9yJEQ7XG5cbiAgICB2YXIgY2hyb21hJGsgPSBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIFx0d2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIFx0cmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIGNocm9tYSRrLkNvbG9yLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MpICkpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkay5Db2xvciA9IENvbG9yXzE7XG4gICAgY2hyb21hJGsudmVyc2lvbiA9ICcyLjQuMic7XG5cbiAgICB2YXIgY2hyb21hXzEgPSBjaHJvbWEkaztcblxuICAgIHZhciB1bnBhY2skQSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgbWF4JDIgPSBNYXRoLm1heDtcblxuICAgIHZhciByZ2IyY215ayQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skQShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHIgPSByIC8gMjU1O1xuICAgICAgICBnID0gZyAvIDI1NTtcbiAgICAgICAgYiA9IGIgLyAyNTU7XG4gICAgICAgIHZhciBrID0gMSAtIG1heCQyKHIsbWF4JDIoZyxiKSk7XG4gICAgICAgIHZhciBmID0gayA8IDEgPyAxIC8gKDEtaykgOiAwO1xuICAgICAgICB2YXIgYyA9ICgxLXItaykgKiBmO1xuICAgICAgICB2YXIgbSA9ICgxLWctaykgKiBmO1xuICAgICAgICB2YXIgeSA9ICgxLWItaykgKiBmO1xuICAgICAgICByZXR1cm4gW2MsbSx5LGtdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmNteWtfMSA9IHJnYjJjbXlrJDE7XG5cbiAgICB2YXIgdW5wYWNrJHogPSB1dGlscy51bnBhY2s7XG5cbiAgICB2YXIgY215azJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayR6KGFyZ3MsICdjbXlrJyk7XG4gICAgICAgIHZhciBjID0gYXJnc1swXTtcbiAgICAgICAgdmFyIG0gPSBhcmdzWzFdO1xuICAgICAgICB2YXIgeSA9IGFyZ3NbMl07XG4gICAgICAgIHZhciBrID0gYXJnc1szXTtcbiAgICAgICAgdmFyIGFscGhhID0gYXJncy5sZW5ndGggPiA0ID8gYXJnc1s0XSA6IDE7XG4gICAgICAgIGlmIChrID09PSAxKSB7IHJldHVybiBbMCwwLDAsYWxwaGFdOyB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjID49IDEgPyAwIDogMjU1ICogKDEtYykgKiAoMS1rKSwgLy8gclxuICAgICAgICAgICAgbSA+PSAxID8gMCA6IDI1NSAqICgxLW0pICogKDEtayksIC8vIGdcbiAgICAgICAgICAgIHkgPj0gMSA/IDAgOiAyNTUgKiAoMS15KSAqICgxLWspLCAvLyBiXG4gICAgICAgICAgICBhbHBoYVxuICAgICAgICBdO1xuICAgIH07XG5cbiAgICB2YXIgY215azJyZ2JfMSA9IGNteWsycmdiO1xuXG4gICAgdmFyIGNocm9tYSRqID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJEMgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCRnID0gaW5wdXQkaDtcbiAgICB2YXIgdW5wYWNrJHkgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkbCA9IHV0aWxzLnR5cGU7XG5cbiAgICB2YXIgcmdiMmNteWsgPSByZ2IyY215a18xO1xuXG4gICAgQ29sb3IkQy5wcm90b3R5cGUuY215ayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmNteWsodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGouY215ayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkQywgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2NteWsnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0JGcuZm9ybWF0LmNteWsgPSBjbXlrMnJnYl8xO1xuXG4gICAgaW5wdXQkZy5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAyLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayR5KGFyZ3MsICdjbXlrJyk7XG4gICAgICAgICAgICBpZiAodHlwZSRsKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdjbXlrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayR4ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDIgPSB1dGlscy5sYXN0O1xuICAgIHZhciBybmQgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gTWF0aC5yb3VuZChhKjEwMCkvMTAwOyB9O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gaHNsMmNzcyhoLHMsbClcbiAgICAgKiAtIGhzbDJjc3MoaCxzLGwsYSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsXSwgbW9kZSlcbiAgICAgKiAtIGhzbDJjc3MoW2gscyxsLGFdLCBtb2RlKVxuICAgICAqIC0gaHNsMmNzcyh7aCxzLGwsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIGhzbDJjc3MkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgaHNsYSA9IHVucGFjayR4KGFyZ3MsICdoc2xhJyk7XG4gICAgICAgIHZhciBtb2RlID0gbGFzdCQyKGFyZ3MpIHx8ICdsc2EnO1xuICAgICAgICBoc2xhWzBdID0gcm5kKGhzbGFbMF0gfHwgMCk7XG4gICAgICAgIGhzbGFbMV0gPSBybmQoaHNsYVsxXSoxMDApICsgJyUnO1xuICAgICAgICBoc2xhWzJdID0gcm5kKGhzbGFbMl0qMTAwKSArICclJztcbiAgICAgICAgaWYgKG1vZGUgPT09ICdoc2xhJyB8fCAoaHNsYS5sZW5ndGggPiAzICYmIGhzbGFbM108MSkpIHtcbiAgICAgICAgICAgIGhzbGFbM10gPSBoc2xhLmxlbmd0aCA+IDMgPyBoc2xhWzNdIDogMTtcbiAgICAgICAgICAgIG1vZGUgPSAnaHNsYSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoc2xhLmxlbmd0aCA9IDM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChtb2RlICsgXCIoXCIgKyAoaHNsYS5qb2luKCcsJykpICsgXCIpXCIpO1xuICAgIH07XG5cbiAgICB2YXIgaHNsMmNzc18xID0gaHNsMmNzcyQxO1xuXG4gICAgdmFyIHVucGFjayR3ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gcmdiMmhzbChyLGcsYilcbiAgICAgKiAtIHJnYjJoc2wocixnLGIsYSlcbiAgICAgKiAtIHJnYjJoc2woW3IsZyxiXSlcbiAgICAgKiAtIHJnYjJoc2woW3IsZyxiLGFdKVxuICAgICAqIC0gcmdiMmhzbCh7cixnLGIsYX0pXG4gICAgICovXG4gICAgdmFyIHJnYjJoc2wkMyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJHcoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgdmFyIHIgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgZyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcblxuICAgICAgICByIC89IDI1NTtcbiAgICAgICAgZyAvPSAyNTU7XG4gICAgICAgIGIgLz0gMjU1O1xuXG4gICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgICAgICB2YXIgcywgaDtcblxuICAgICAgICBpZiAobWF4ID09PSBtaW4pe1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBsIDwgMC41ID8gKG1heCAtIG1pbikgLyAobWF4ICsgbWluKSA6IChtYXggLSBtaW4pIC8gKDIgLSBtYXggLSBtaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHIgPT0gbWF4KSB7IGggPSAoZyAtIGIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoZyA9PSBtYXgpIHsgaCA9IDIgKyAoYiAtIHIpIC8gKG1heCAtIG1pbik7IH1cbiAgICAgICAgZWxzZSBpZiAoYiA9PSBtYXgpIHsgaCA9IDQgKyAociAtIGcpIC8gKG1heCAtIG1pbik7IH1cblxuICAgICAgICBoICo9IDYwO1xuICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoPjMgJiYgYXJnc1szXSE9PXVuZGVmaW5lZCkgeyByZXR1cm4gW2gscyxsLGFyZ3NbM11dOyB9XG4gICAgICAgIHJldHVybiBbaCxzLGxdO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzbF8xID0gcmdiMmhzbCQzO1xuXG4gICAgdmFyIHVucGFjayR2ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0JDEgPSB1dGlscy5sYXN0O1xuICAgIHZhciBoc2wyY3NzID0gaHNsMmNzc18xO1xuICAgIHZhciByZ2IyaHNsJDIgPSByZ2IyaHNsXzE7XG4gICAgdmFyIHJvdW5kJDYgPSBNYXRoLnJvdW5kO1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gcmdiMmNzcyhyLGcsYilcbiAgICAgKiAtIHJnYjJjc3MocixnLGIsYSlcbiAgICAgKiAtIHJnYjJjc3MoW3IsZyxiXSwgbW9kZSlcbiAgICAgKiAtIHJnYjJjc3MoW3IsZyxiLGFdLCBtb2RlKVxuICAgICAqIC0gcmdiMmNzcyh7cixnLGIsYX0sIG1vZGUpXG4gICAgICovXG4gICAgdmFyIHJnYjJjc3MkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiYSA9IHVucGFjayR2KGFyZ3MsICdyZ2JhJyk7XG4gICAgICAgIHZhciBtb2RlID0gbGFzdCQxKGFyZ3MpIHx8ICdyZ2InO1xuICAgICAgICBpZiAobW9kZS5zdWJzdHIoMCwzKSA9PSAnaHNsJykge1xuICAgICAgICAgICAgcmV0dXJuIGhzbDJjc3MocmdiMmhzbCQyKHJnYmEpLCBtb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZ2JhWzBdID0gcm91bmQkNihyZ2JhWzBdKTtcbiAgICAgICAgcmdiYVsxXSA9IHJvdW5kJDYocmdiYVsxXSk7XG4gICAgICAgIHJnYmFbMl0gPSByb3VuZCQ2KHJnYmFbMl0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ3JnYmEnIHx8IChyZ2JhLmxlbmd0aCA+IDMgJiYgcmdiYVszXTwxKSkge1xuICAgICAgICAgICAgcmdiYVszXSA9IHJnYmEubGVuZ3RoID4gMyA/IHJnYmFbM10gOiAxO1xuICAgICAgICAgICAgbW9kZSA9ICdyZ2JhJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG1vZGUgKyBcIihcIiArIChyZ2JhLnNsaWNlKDAsbW9kZT09PSdyZ2InPzM6NCkuam9pbignLCcpKSArIFwiKVwiKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJjc3NfMSA9IHJnYjJjc3MkMTtcblxuICAgIHZhciB1bnBhY2skdSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcm91bmQkNSA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgaHNsMnJnYiQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduO1xuXG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG4gICAgICAgIGFyZ3MgPSB1bnBhY2skdShhcmdzLCAnaHNsJyk7XG4gICAgICAgIHZhciBoID0gYXJnc1swXTtcbiAgICAgICAgdmFyIHMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgbCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IGwqMjU1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHQzID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciBjID0gWzAsMCwwXTtcbiAgICAgICAgICAgIHZhciB0MiA9IGwgPCAwLjUgPyBsICogKDErcykgOiBsK3MtbCpzO1xuICAgICAgICAgICAgdmFyIHQxID0gMiAqIGwgLSB0MjtcbiAgICAgICAgICAgIHZhciBoXyA9IGggLyAzNjA7XG4gICAgICAgICAgICB0M1swXSA9IGhfICsgMS8zO1xuICAgICAgICAgICAgdDNbMV0gPSBoXztcbiAgICAgICAgICAgIHQzWzJdID0gaF8gLSAxLzM7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8MzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldIDwgMCkgeyB0M1tpXSArPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHQzW2ldID4gMSkgeyB0M1tpXSAtPSAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKDYgKiB0M1tpXSA8IDEpXG4gICAgICAgICAgICAgICAgICAgIHsgY1tpXSA9IHQxICsgKHQyIC0gdDEpICogNiAqIHQzW2ldOyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoMiAqIHQzW2ldIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDI7IH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgzICogdDNbaV0gPCAyKVxuICAgICAgICAgICAgICAgICAgICB7IGNbaV0gPSB0MSArICh0MiAtIHQxKSAqICgoMiAvIDMpIC0gdDNbaV0pICogNjsgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgeyBjW2ldID0gdDE7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhc3NpZ24gPSBbcm91bmQkNShjWzBdKjI1NSkscm91bmQkNShjWzFdKjI1NSkscm91bmQkNShjWzJdKjI1NSldLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsYXJnc1szXV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtyLGcsYiwxXTtcbiAgICB9O1xuXG4gICAgdmFyIGhzbDJyZ2JfMSA9IGhzbDJyZ2IkMTtcblxuICAgIHZhciBoc2wycmdiID0gaHNsMnJnYl8xO1xuICAgIHZhciBpbnB1dCRmID0gaW5wdXQkaDtcblxuICAgIHZhciBSRV9SR0IgPSAvXnJnYlxcKFxccyooLT9cXGQrKSxcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccypcXCkkLztcbiAgICB2YXIgUkVfUkdCQSA9IC9ecmdiYVxcKFxccyooLT9cXGQrKSxcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcbiAgICB2YXIgUkVfUkdCX1BDVCA9IC9ecmdiXFwoXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJSxcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKixcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKlxcKSQvO1xuICAgIHZhciBSRV9SR0JBX1BDVCA9IC9ecmdiYVxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSUsXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKihbMDFdfFswMV0/XFwuXFxkKylcXCkkLztcbiAgICB2YXIgUkVfSFNMID0gL15oc2xcXChcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyksXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccyosXFxzKigtP1xcZCsoPzpcXC5cXGQrKT8pJVxccypcXCkkLztcbiAgICB2YXIgUkVfSFNMQSA9IC9eaHNsYVxcKFxccyooLT9cXGQrKD86XFwuXFxkKyk/KSxcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKixcXHMqKC0/XFxkKyg/OlxcLlxcZCspPyklXFxzKixcXHMqKFswMV18WzAxXT9cXC5cXGQrKVxcKSQvO1xuXG4gICAgdmFyIHJvdW5kJDQgPSBNYXRoLnJvdW5kO1xuXG4gICAgdmFyIGNzczJyZ2IkMSA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgICAgICAgY3NzID0gY3NzLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgICAgICB2YXIgbTtcblxuICAgICAgICBpZiAoaW5wdXQkZi5mb3JtYXQubmFtZWQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0JGYuZm9ybWF0Lm5hbWVkKGNzcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2IoMjUwLDIwLDApXG4gICAgICAgIGlmICgobSA9IGNzcy5tYXRjaChSRV9SR0IpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiA9IG0uc2xpY2UoMSw0KTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTwzOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZ2JbaV0gPSArcmdiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiWzNdID0gMTsgIC8vIGRlZmF1bHQgYWxwaGFcbiAgICAgICAgICAgIHJldHVybiByZ2I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZ2JhKDI1MCwyMCwwLDAuNClcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQkEpKSkge1xuICAgICAgICAgICAgdmFyIHJnYiQxID0gbS5zbGljZSgxLDUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTw0OyBpJDErKykge1xuICAgICAgICAgICAgICAgIHJnYiQxW2kkMV0gPSArcmdiJDFbaSQxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZ2IkMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJnYigxMDAlLDAlLDAlKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfUkdCX1BDVCkpKSB7XG4gICAgICAgICAgICB2YXIgcmdiJDIgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDI9MDsgaSQyPDM7IGkkMisrKSB7XG4gICAgICAgICAgICAgICAgcmdiJDJbaSQyXSA9IHJvdW5kJDQocmdiJDJbaSQyXSAqIDIuNTUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmdiJDJbM10gPSAxOyAgLy8gZGVmYXVsdCBhbHBoYVxuICAgICAgICAgICAgcmV0dXJuIHJnYiQyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmdiYSgxMDAlLDAlLDAlLDAuNClcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX1JHQkFfUENUKSkpIHtcbiAgICAgICAgICAgIHZhciByZ2IkMyA9IG0uc2xpY2UoMSw1KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0wOyBpJDM8MzsgaSQzKyspIHtcbiAgICAgICAgICAgICAgICByZ2IkM1tpJDNdID0gcm91bmQkNChyZ2IkM1tpJDNdICogMi41NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZ2IkM1szXSA9ICtyZ2IkM1szXTtcbiAgICAgICAgICAgIHJldHVybiByZ2IkMztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhzbCgwLDEwMCUsNTAlKVxuICAgICAgICBpZiAoKG0gPSBjc3MubWF0Y2goUkVfSFNMKSkpIHtcbiAgICAgICAgICAgIHZhciBoc2wgPSBtLnNsaWNlKDEsNCk7XG4gICAgICAgICAgICBoc2xbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbFsyXSAqPSAwLjAxO1xuICAgICAgICAgICAgdmFyIHJnYiQ0ID0gaHNsMnJnYihoc2wpO1xuICAgICAgICAgICAgcmdiJDRbM10gPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJnYiQ0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHNsYSgwLDEwMCUsNTAlLDAuNSlcbiAgICAgICAgaWYgKChtID0gY3NzLm1hdGNoKFJFX0hTTEEpKSkge1xuICAgICAgICAgICAgdmFyIGhzbCQxID0gbS5zbGljZSgxLDQpO1xuICAgICAgICAgICAgaHNsJDFbMV0gKj0gMC4wMTtcbiAgICAgICAgICAgIGhzbCQxWzJdICo9IDAuMDE7XG4gICAgICAgICAgICB2YXIgcmdiJDUgPSBoc2wycmdiKGhzbCQxKTtcbiAgICAgICAgICAgIHJnYiQ1WzNdID0gK21bNF07ICAvLyBkZWZhdWx0IGFscGhhID0gMVxuICAgICAgICAgICAgcmV0dXJuIHJnYiQ1O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNzczJyZ2IkMS50ZXN0ID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFJFX1JHQi50ZXN0KHMpIHx8XG4gICAgICAgICAgICBSRV9SR0JBLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX1JHQl9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfUkdCQV9QQ1QudGVzdChzKSB8fFxuICAgICAgICAgICAgUkVfSFNMLnRlc3QocykgfHxcbiAgICAgICAgICAgIFJFX0hTTEEudGVzdChzKTtcbiAgICB9O1xuXG4gICAgdmFyIGNzczJyZ2JfMSA9IGNzczJyZ2IkMTtcblxuICAgIHZhciBjaHJvbWEkaSA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciRCID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkZSA9IGlucHV0JGg7XG4gICAgdmFyIHR5cGUkayA9IHV0aWxzLnR5cGU7XG5cbiAgICB2YXIgcmdiMmNzcyA9IHJnYjJjc3NfMTtcbiAgICB2YXIgY3NzMnJnYiA9IGNzczJyZ2JfMTtcblxuICAgIENvbG9yJEIucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJjc3ModGhpcy5fcmdiLCBtb2RlKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGkuY3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRCLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnY3NzJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCRlLmZvcm1hdC5jc3MgPSBjc3MycmdiO1xuXG4gICAgaW5wdXQkZS5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSRrKGgpID09PSAnc3RyaW5nJyAmJiBjc3MycmdiLnRlc3QoaCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Nzcyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBDb2xvciRBID0gQ29sb3JfMTtcbiAgICB2YXIgY2hyb21hJGggPSBjaHJvbWFfMTtcbiAgICB2YXIgaW5wdXQkZCA9IGlucHV0JGg7XG4gICAgdmFyIHVucGFjayR0ID0gdXRpbHMudW5wYWNrO1xuXG4gICAgaW5wdXQkZC5mb3JtYXQuZ2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJnYiA9IHVucGFjayR0KGFyZ3MsICdyZ2JhJyk7XG4gICAgICAgIHJnYlswXSAqPSAyNTU7XG4gICAgICAgIHJnYlsxXSAqPSAyNTU7XG4gICAgICAgIHJnYlsyXSAqPSAyNTU7XG4gICAgICAgIHJldHVybiByZ2I7XG4gICAgfTtcblxuICAgIGNocm9tYSRoLmdsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRBLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnZ2wnXSkgKSk7XG4gICAgfTtcblxuICAgIENvbG9yJEEucHJvdG90eXBlLmdsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgICAgIHJldHVybiBbcmdiWzBdLzI1NSwgcmdiWzFdLzI1NSwgcmdiWzJdLzI1NSwgcmdiWzNdXTtcbiAgICB9O1xuXG4gICAgdmFyIHVucGFjayRzID0gdXRpbHMudW5wYWNrO1xuXG4gICAgdmFyIHJnYjJoY2ckMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJHMoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgdmFyIGRlbHRhID0gbWF4IC0gbWluO1xuICAgICAgICB2YXIgYyA9IGRlbHRhICogMTAwIC8gMjU1O1xuICAgICAgICB2YXIgX2cgPSBtaW4gLyAoMjU1IC0gZGVsdGEpICogMTAwO1xuICAgICAgICB2YXIgaDtcbiAgICAgICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICAgICAgICBoID0gTnVtYmVyLk5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyID09PSBtYXgpIHsgaCA9IChnIC0gYikgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaWYgKGcgPT09IG1heCkgeyBoID0gMisoYiAtIHIpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGlmIChiID09PSBtYXgpIHsgaCA9IDQrKHIgLSBnKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBoICo9IDYwO1xuICAgICAgICAgICAgaWYgKGggPCAwKSB7IGggKz0gMzYwOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoLCBjLCBfZ107XG4gICAgfTtcblxuICAgIHZhciByZ2IyaGNnXzEgPSByZ2IyaGNnJDE7XG5cbiAgICB2YXIgdW5wYWNrJHIgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yJDMgPSBNYXRoLmZsb29yO1xuXG4gICAgLypcbiAgICAgKiB0aGlzIGlzIGJhc2ljYWxseSBqdXN0IEhTViB3aXRoIHNvbWUgbWlub3IgdHdlYWtzXG4gICAgICpcbiAgICAgKiBodWUuLiBbMC4uMzYwXVxuICAgICAqIGNocm9tYSAuLiBbMC4uMV1cbiAgICAgKiBncmF5bmVzcyAuLiBbMC4uMV1cbiAgICAgKi9cblxuICAgIHZhciBoY2cycmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDIsIGFzc2lnbiQzLCBhc3NpZ24kNCwgYXNzaWduJDU7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcbiAgICAgICAgYXJncyA9IHVucGFjayRyKGFyZ3MsICdoY2cnKTtcbiAgICAgICAgdmFyIGggPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBfZyA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByLGcsYjtcbiAgICAgICAgX2cgPSBfZyAqIDI1NTtcbiAgICAgICAgdmFyIF9jID0gYyAqIDI1NTtcbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIHIgPSBnID0gYiA9IF9nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGggPT09IDM2MCkgeyBoID0gMDsgfVxuICAgICAgICAgICAgaWYgKGggPiAzNjApIHsgaCAtPSAzNjA7IH1cbiAgICAgICAgICAgIGlmIChoIDwgMCkgeyBoICs9IDM2MDsgfVxuICAgICAgICAgICAgaCAvPSA2MDtcbiAgICAgICAgICAgIHZhciBpID0gZmxvb3IkMyhoKTtcbiAgICAgICAgICAgIHZhciBmID0gaCAtIGk7XG4gICAgICAgICAgICB2YXIgcCA9IF9nICogKDEgLSBjKTtcbiAgICAgICAgICAgIHZhciBxID0gcCArIF9jICogKDEgLSBmKTtcbiAgICAgICAgICAgIHZhciB0ID0gcCArIF9jICogZjtcbiAgICAgICAgICAgIHZhciB2ID0gcCArIF9jO1xuICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiAoYXNzaWduID0gW3YsIHQsIHBdLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IChhc3NpZ24kMSA9IFtxLCB2LCBwXSwgciA9IGFzc2lnbiQxWzBdLCBnID0gYXNzaWduJDFbMV0sIGIgPSBhc3NpZ24kMVsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAyOiAoYXNzaWduJDIgPSBbcCwgdiwgdF0sIHIgPSBhc3NpZ24kMlswXSwgZyA9IGFzc2lnbiQyWzFdLCBiID0gYXNzaWduJDJbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMzogKGFzc2lnbiQzID0gW3AsIHEsIHZdLCByID0gYXNzaWduJDNbMF0sIGcgPSBhc3NpZ24kM1sxXSwgYiA9IGFzc2lnbiQzWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IChhc3NpZ24kNCA9IFt0LCBwLCB2XSwgciA9IGFzc2lnbiQ0WzBdLCBnID0gYXNzaWduJDRbMV0sIGIgPSBhc3NpZ24kNFsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA1OiAoYXNzaWduJDUgPSBbdiwgcCwgcV0sIHIgPSBhc3NpZ24kNVswXSwgZyA9IGFzc2lnbiQ1WzFdLCBiID0gYXNzaWduJDVbMl0pOyBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbciwgZywgYiwgYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgaGNnMnJnYl8xID0gaGNnMnJnYjtcblxuICAgIHZhciB1bnBhY2skcSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSRqID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2hyb21hJGcgPSBjaHJvbWFfMTtcbiAgICB2YXIgQ29sb3IkeiA9IENvbG9yXzE7XG4gICAgdmFyIGlucHV0JGMgPSBpbnB1dCRoO1xuXG4gICAgdmFyIHJnYjJoY2cgPSByZ2IyaGNnXzE7XG5cbiAgICBDb2xvciR6LnByb3RvdHlwZS5oY2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoY2codGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGcuaGNnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR6LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGNnJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCRjLmZvcm1hdC5oY2cgPSBoY2cycmdiXzE7XG5cbiAgICBpbnB1dCRjLmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDEsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJHEoYXJncywgJ2hjZycpO1xuICAgICAgICAgICAgaWYgKHR5cGUkaihhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGNnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRwID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsYXN0ID0gdXRpbHMubGFzdDtcbiAgICB2YXIgcm91bmQkMyA9IE1hdGgucm91bmQ7XG5cbiAgICB2YXIgcmdiMmhleCQyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skcChhcmdzLCAncmdiYScpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgYSA9IHJlZlszXTtcbiAgICAgICAgdmFyIG1vZGUgPSBsYXN0KGFyZ3MpIHx8ICdhdXRvJztcbiAgICAgICAgaWYgKGEgPT09IHVuZGVmaW5lZCkgeyBhID0gMTsgfVxuICAgICAgICBpZiAobW9kZSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBtb2RlID0gYSA8IDEgPyAncmdiYScgOiAncmdiJztcbiAgICAgICAgfVxuICAgICAgICByID0gcm91bmQkMyhyKTtcbiAgICAgICAgZyA9IHJvdW5kJDMoZyk7XG4gICAgICAgIGIgPSByb3VuZCQzKGIpO1xuICAgICAgICB2YXIgdSA9IHIgPDwgMTYgfCBnIDw8IDggfCBiO1xuICAgICAgICB2YXIgc3RyID0gXCIwMDAwMDBcIiArIHUudG9TdHJpbmcoMTYpOyAvLyMudG9VcHBlckNhc2UoKTtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gNik7XG4gICAgICAgIHZhciBoeGEgPSAnMCcgKyByb3VuZCQzKGEgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgaHhhID0gaHhhLnN1YnN0cihoeGEubGVuZ3RoIC0gMik7XG4gICAgICAgIHN3aXRjaCAobW9kZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBjYXNlICdyZ2JhJzogcmV0dXJuIChcIiNcIiArIHN0ciArIGh4YSk7XG4gICAgICAgICAgICBjYXNlICdhcmdiJzogcmV0dXJuIChcIiNcIiArIGh4YSArIHN0cik7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gKFwiI1wiICsgc3RyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmdiMmhleF8xID0gcmdiMmhleCQyO1xuXG4gICAgdmFyIFJFX0hFWCA9IC9eIz8oW0EtRmEtZjAtOV17Nn18W0EtRmEtZjAtOV17M30pJC87XG4gICAgdmFyIFJFX0hFWEEgPSAvXiM/KFtBLUZhLWYwLTldezh9fFtBLUZhLWYwLTldezR9KSQvO1xuXG4gICAgdmFyIGhleDJyZ2IkMSA9IGZ1bmN0aW9uIChoZXgpIHtcbiAgICAgICAgaWYgKGhleC5tYXRjaChSRV9IRVgpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgb3B0aW9uYWwgbGVhZGluZyAjXG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCA9PT0gNCB8fCBoZXgubGVuZ3RoID09PSA3KSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV4cGFuZCBzaG9ydC1ub3RhdGlvbiB0byBmdWxsIHNpeC1kaWdpdFxuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXguc3BsaXQoJycpO1xuICAgICAgICAgICAgICAgIGhleCA9IGhleFswXStoZXhbMF0raGV4WzFdK2hleFsxXStoZXhbMl0raGV4WzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHUgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgIHZhciByID0gdSA+PiAxNjtcbiAgICAgICAgICAgIHZhciBnID0gdSA+PiA4ICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gdSAmIDB4RkY7XG4gICAgICAgICAgICByZXR1cm4gW3IsZyxiLDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWF0Y2ggcmdiYSBoZXggZm9ybWF0LCBlZyAjRkYwMDAwNzdcbiAgICAgICAgaWYgKGhleC5tYXRjaChSRV9IRVhBKSkge1xuICAgICAgICAgICAgaWYgKGhleC5sZW5ndGggPT09IDUgfHwgaGV4Lmxlbmd0aCA9PT0gOSkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBvcHRpb25hbCBsZWFkaW5nICNcbiAgICAgICAgICAgICAgICBoZXggPSBoZXguc3Vic3RyKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXhwYW5kIHNob3J0LW5vdGF0aW9uIHRvIGZ1bGwgZWlnaHQtZGlnaXRcbiAgICAgICAgICAgIGlmIChoZXgubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaGV4ID0gaGV4LnNwbGl0KCcnKTtcbiAgICAgICAgICAgICAgICBoZXggPSBoZXhbMF0raGV4WzBdK2hleFsxXStoZXhbMV0raGV4WzJdK2hleFsyXStoZXhbM10raGV4WzNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHUkMSA9IHBhcnNlSW50KGhleCwgMTYpO1xuICAgICAgICAgICAgdmFyIHIkMSA9IHUkMSA+PiAyNCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgZyQxID0gdSQxID4+IDE2ICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiJDEgPSB1JDEgPj4gOCAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgYSA9IE1hdGgucm91bmQoKHUkMSAmIDB4RkYpIC8gMHhGRiAqIDEwMCkgLyAxMDA7XG4gICAgICAgICAgICByZXR1cm4gW3IkMSxnJDEsYiQxLGFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgdXNlZCB0byBjaGVjayBmb3IgY3NzIGNvbG9ycyBoZXJlXG4gICAgICAgIC8vIGlmIF9pbnB1dC5jc3M/IGFuZCByZ2IgPSBfaW5wdXQuY3NzIGhleFxuICAgICAgICAvLyAgICAgcmV0dXJuIHJnYlxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJ1bmtub3duIGhleCBjb2xvcjogXCIgKyBoZXgpKTtcbiAgICB9O1xuXG4gICAgdmFyIGhleDJyZ2JfMSA9IGhleDJyZ2IkMTtcblxuICAgIHZhciBjaHJvbWEkZiA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciR5ID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSRpID0gdXRpbHMudHlwZTtcbiAgICB2YXIgaW5wdXQkYiA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMmhleCQxID0gcmdiMmhleF8xO1xuXG4gICAgQ29sb3IkeS5wcm90b3R5cGUuaGV4ID0gZnVuY3Rpb24obW9kZSkge1xuICAgICAgICByZXR1cm4gcmdiMmhleCQxKHRoaXMuX3JnYiwgbW9kZSk7XG4gICAgfTtcblxuICAgIGNocm9tYSRmLmhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkeSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ2hleCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkYi5mb3JtYXQuaGV4ID0gaGV4MnJnYl8xO1xuICAgIGlucHV0JGIuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogNCxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSA+IDAgKSByZXN0WyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3QubGVuZ3RoICYmIHR5cGUkaShoKSA9PT0gJ3N0cmluZycgJiYgWzMsNCw1LDYsNyw4LDldLmluZGV4T2YoaC5sZW5ndGgpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2hleCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciB1bnBhY2skbyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgVFdPUEkkMiA9IHV0aWxzLlRXT1BJO1xuICAgIHZhciBtaW4kMiA9IE1hdGgubWluO1xuICAgIHZhciBzcXJ0JDQgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGFjb3MgPSBNYXRoLmFjb3M7XG5cbiAgICB2YXIgcmdiMmhzaSQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIGJvcnJvd2VkIGZyb20gaGVyZTpcbiAgICAgICAgaHR0cDovL2h1bW1lci5zdGFuZm9yZC5lZHUvbXVzZWluZm8vZG9jL2V4YW1wbGVzL2h1bWRydW0va2V5c2NhcGUyL3JnYjJoc2kuY3BwXG4gICAgICAgICovXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skbyhhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHIgLz0gMjU1O1xuICAgICAgICBnIC89IDI1NTtcbiAgICAgICAgYiAvPSAyNTU7XG4gICAgICAgIHZhciBoO1xuICAgICAgICB2YXIgbWluXyA9IG1pbiQyKHIsZyxiKTtcbiAgICAgICAgdmFyIGkgPSAocitnK2IpIC8gMztcbiAgICAgICAgdmFyIHMgPSBpID4gMCA/IDEgLSBtaW5fL2kgOiAwO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE5hTjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggPSAoKHItZykrKHItYikpIC8gMjtcbiAgICAgICAgICAgIGggLz0gc3FydCQ0KChyLWcpKihyLWcpICsgKHItYikqKGctYikpO1xuICAgICAgICAgICAgaCA9IGFjb3MoaCk7XG4gICAgICAgICAgICBpZiAoYiA+IGcpIHtcbiAgICAgICAgICAgICAgICBoID0gVFdPUEkkMiAtIGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoIC89IFRXT1BJJDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtoKjM2MCxzLGldO1xuICAgIH07XG5cbiAgICB2YXIgcmdiMmhzaV8xID0gcmdiMmhzaSQxO1xuXG4gICAgdmFyIHVucGFjayRuID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsaW1pdCA9IHV0aWxzLmxpbWl0O1xuICAgIHZhciBUV09QSSQxID0gdXRpbHMuVFdPUEk7XG4gICAgdmFyIFBJVEhJUkQgPSB1dGlscy5QSVRISVJEO1xuICAgIHZhciBjb3MkNCA9IE1hdGguY29zO1xuXG4gICAgLypcbiAgICAgKiBodWUgWzAuLjM2MF1cbiAgICAgKiBzYXR1cmF0aW9uIFswLi4xXVxuICAgICAqIGludGVuc2l0eSBbMC4uMV1cbiAgICAgKi9cbiAgICB2YXIgaHNpMnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAvKlxuICAgICAgICBib3Jyb3dlZCBmcm9tIGhlcmU6XG4gICAgICAgIGh0dHA6Ly9odW1tZXIuc3RhbmZvcmQuZWR1L211c2VpbmZvL2RvYy9leGFtcGxlcy9odW1kcnVtL2tleXNjYXBlMi9oc2kycmdiLmNwcFxuICAgICAgICAqL1xuICAgICAgICBhcmdzID0gdW5wYWNrJG4oYXJncywgJ2hzaScpO1xuICAgICAgICB2YXIgaCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBzID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGkgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG5cbiAgICAgICAgaWYgKGlzTmFOKGgpKSB7IGggPSAwOyB9XG4gICAgICAgIGlmIChpc05hTihzKSkgeyBzID0gMDsgfVxuICAgICAgICAvLyBub3JtYWxpemUgaHVlXG4gICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgIGlmIChoIDwgMCkgeyBoICs9IDM2MDsgfVxuICAgICAgICBoIC89IDM2MDtcbiAgICAgICAgaWYgKGggPCAxLzMpIHtcbiAgICAgICAgICAgIGIgPSAoMS1zKS8zO1xuICAgICAgICAgICAgciA9ICgxK3MqY29zJDQoVFdPUEkkMSpoKS9jb3MkNChQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICBnID0gMSAtIChiK3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGggPCAyLzMpIHtcbiAgICAgICAgICAgIGggLT0gMS8zO1xuICAgICAgICAgICAgciA9ICgxLXMpLzM7XG4gICAgICAgICAgICBnID0gKDErcypjb3MkNChUV09QSSQxKmgpL2NvcyQ0KFBJVEhJUkQtVFdPUEkkMSpoKSkvMztcbiAgICAgICAgICAgIGIgPSAxIC0gKHIrZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoIC09IDIvMztcbiAgICAgICAgICAgIGcgPSAoMS1zKS8zO1xuICAgICAgICAgICAgYiA9ICgxK3MqY29zJDQoVFdPUEkkMSpoKS9jb3MkNChQSVRISVJELVRXT1BJJDEqaCkpLzM7XG4gICAgICAgICAgICByID0gMSAtIChnK2IpO1xuICAgICAgICB9XG4gICAgICAgIHIgPSBsaW1pdChpKnIqMyk7XG4gICAgICAgIGcgPSBsaW1pdChpKmcqMyk7XG4gICAgICAgIGIgPSBsaW1pdChpKmIqMyk7XG4gICAgICAgIHJldHVybiBbcioyNTUsIGcqMjU1LCBiKjI1NSwgYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgaHNpMnJnYl8xID0gaHNpMnJnYjtcblxuICAgIHZhciB1bnBhY2skbSA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSRoID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2hyb21hJGUgPSBjaHJvbWFfMTtcbiAgICB2YXIgQ29sb3IkeCA9IENvbG9yXzE7XG4gICAgdmFyIGlucHV0JGEgPSBpbnB1dCRoO1xuXG4gICAgdmFyIHJnYjJoc2kgPSByZ2IyaHNpXzE7XG5cbiAgICBDb2xvciR4LnByb3RvdHlwZS5oc2kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJoc2kodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGUuaHNpID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR4LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNpJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCRhLmZvcm1hdC5oc2kgPSBoc2kycmdiXzE7XG5cbiAgICBpbnB1dCRhLmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDIsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJG0oYXJncywgJ2hzaScpO1xuICAgICAgICAgICAgaWYgKHR5cGUkaChhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaHNpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRsID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJGcgPSB1dGlscy50eXBlO1xuICAgIHZhciBjaHJvbWEkZCA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciR3ID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkOSA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMmhzbCQxID0gcmdiMmhzbF8xO1xuXG4gICAgQ29sb3Ikdy5wcm90b3R5cGUuaHNsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IyaHNsJDEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJGQuaHNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR3LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaHNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCQ5LmZvcm1hdC5oc2wgPSBoc2wycmdiXzE7XG5cbiAgICBpbnB1dCQ5LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDIsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJGwoYXJncywgJ2hzbCcpO1xuICAgICAgICAgICAgaWYgKHR5cGUkZyhhcmdzKSA9PT0gJ2FycmF5JyAmJiBhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaHNsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayRrID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBtaW4kMSA9IE1hdGgubWluO1xuICAgIHZhciBtYXgkMSA9IE1hdGgubWF4O1xuXG4gICAgLypcbiAgICAgKiBzdXBwb3J0ZWQgYXJndW1lbnRzOlxuICAgICAqIC0gcmdiMmhzdihyLGcsYilcbiAgICAgKiAtIHJnYjJoc3YoW3IsZyxiXSlcbiAgICAgKiAtIHJnYjJoc3Yoe3IsZyxifSlcbiAgICAgKi9cbiAgICB2YXIgcmdiMmhzbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJGsoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBnID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgbWluXyA9IG1pbiQxKHIsIGcsIGIpO1xuICAgICAgICB2YXIgbWF4XyA9IG1heCQxKHIsIGcsIGIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBtYXhfIC0gbWluXztcbiAgICAgICAgdmFyIGgscyx2O1xuICAgICAgICB2ID0gbWF4XyAvIDI1NS4wO1xuICAgICAgICBpZiAobWF4XyA9PT0gMCkge1xuICAgICAgICAgICAgaCA9IE51bWJlci5OYU47XG4gICAgICAgICAgICBzID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMgPSBkZWx0YSAvIG1heF87XG4gICAgICAgICAgICBpZiAociA9PT0gbWF4XykgeyBoID0gKGcgLSBiKSAvIGRlbHRhOyB9XG4gICAgICAgICAgICBpZiAoZyA9PT0gbWF4XykgeyBoID0gMisoYiAtIHIpIC8gZGVsdGE7IH1cbiAgICAgICAgICAgIGlmIChiID09PSBtYXhfKSB7IGggPSA0KyhyIC0gZykgLyBkZWx0YTsgfVxuICAgICAgICAgICAgaCAqPSA2MDtcbiAgICAgICAgICAgIGlmIChoIDwgMCkgeyBoICs9IDM2MDsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbaCwgcywgdl1cbiAgICB9O1xuXG4gICAgdmFyIHJnYjJoc3YkMSA9IHJnYjJoc2w7XG5cbiAgICB2YXIgdW5wYWNrJGogPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIGZsb29yJDIgPSBNYXRoLmZsb29yO1xuXG4gICAgdmFyIGhzdjJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxLCBhc3NpZ24kMiwgYXNzaWduJDMsIGFzc2lnbiQ0LCBhc3NpZ24kNTtcblxuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuICAgICAgICBhcmdzID0gdW5wYWNrJGooYXJncywgJ2hzdicpO1xuICAgICAgICB2YXIgaCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBzID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIHYgPSBhcmdzWzJdO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIHYgKj0gMjU1O1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgciA9IGcgPSBiID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChoID09PSAzNjApIHsgaCA9IDA7IH1cbiAgICAgICAgICAgIGlmIChoID4gMzYwKSB7IGggLT0gMzYwOyB9XG4gICAgICAgICAgICBpZiAoaCA8IDApIHsgaCArPSAzNjA7IH1cbiAgICAgICAgICAgIGggLz0gNjA7XG5cbiAgICAgICAgICAgIHZhciBpID0gZmxvb3IkMihoKTtcbiAgICAgICAgICAgIHZhciBmID0gaCAtIGk7XG4gICAgICAgICAgICB2YXIgcCA9IHYgKiAoMSAtIHMpO1xuICAgICAgICAgICAgdmFyIHEgPSB2ICogKDEgLSBzICogZik7XG4gICAgICAgICAgICB2YXIgdCA9IHYgKiAoMSAtIHMgKiAoMSAtIGYpKTtcblxuICAgICAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiAoYXNzaWduID0gW3YsIHQsIHBdLCByID0gYXNzaWduWzBdLCBnID0gYXNzaWduWzFdLCBiID0gYXNzaWduWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDE6IChhc3NpZ24kMSA9IFtxLCB2LCBwXSwgciA9IGFzc2lnbiQxWzBdLCBnID0gYXNzaWduJDFbMV0sIGIgPSBhc3NpZ24kMVsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAyOiAoYXNzaWduJDIgPSBbcCwgdiwgdF0sIHIgPSBhc3NpZ24kMlswXSwgZyA9IGFzc2lnbiQyWzFdLCBiID0gYXNzaWduJDJbMl0pOyBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgMzogKGFzc2lnbiQzID0gW3AsIHEsIHZdLCByID0gYXNzaWduJDNbMF0sIGcgPSBhc3NpZ24kM1sxXSwgYiA9IGFzc2lnbiQzWzJdKTsgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IChhc3NpZ24kNCA9IFt0LCBwLCB2XSwgciA9IGFzc2lnbiQ0WzBdLCBnID0gYXNzaWduJDRbMV0sIGIgPSBhc3NpZ24kNFsyXSk7IGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSA1OiAoYXNzaWduJDUgPSBbdiwgcCwgcV0sIHIgPSBhc3NpZ24kNVswXSwgZyA9IGFzc2lnbiQ1WzFdLCBiID0gYXNzaWduJDVbMl0pOyBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcixnLGIsYXJncy5sZW5ndGggPiAzP2FyZ3NbM106MV07XG4gICAgfTtcblxuICAgIHZhciBoc3YycmdiXzEgPSBoc3YycmdiO1xuXG4gICAgdmFyIHVucGFjayRpID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJGYgPSB1dGlscy50eXBlO1xuICAgIHZhciBjaHJvbWEkYyA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciR2ID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkOCA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMmhzdiA9IHJnYjJoc3YkMTtcblxuICAgIENvbG9yJHYucHJvdG90eXBlLmhzdiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmdiMmhzdih0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkYy5oc3YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yJHYsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydoc3YnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0JDguZm9ybWF0LmhzdiA9IGhzdjJyZ2JfMTtcblxuICAgIGlucHV0JDguYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skaShhcmdzLCAnaHN2Jyk7XG4gICAgICAgICAgICBpZiAodHlwZSRmKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoc3YnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbGFiQ29uc3RhbnRzID0ge1xuICAgICAgICAvLyBDb3JyZXNwb25kcyByb3VnaGx5IHRvIFJHQiBicmlnaHRlci9kYXJrZXJcbiAgICAgICAgS246IDE4LFxuXG4gICAgICAgIC8vIEQ2NSBzdGFuZGFyZCByZWZlcmVudFxuICAgICAgICBYbjogMC45NTA0NzAsXG4gICAgICAgIFluOiAxLFxuICAgICAgICBabjogMS4wODg4MzAsXG5cbiAgICAgICAgdDA6IDAuMTM3OTMxMDM0LCAgLy8gNCAvIDI5XG4gICAgICAgIHQxOiAwLjIwNjg5NjU1MiwgIC8vIDYgLyAyOVxuICAgICAgICB0MjogMC4xMjg0MTg1NSwgICAvLyAzICogdDEgKiB0MVxuICAgICAgICB0MzogMC4wMDg4NTY0NTIsICAvLyB0MSAqIHQxICogdDFcbiAgICB9O1xuXG4gICAgdmFyIExBQl9DT05TVEFOVFMkMyA9IGxhYkNvbnN0YW50cztcbiAgICB2YXIgdW5wYWNrJGggPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHBvdyRhID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgcmdiMmxhYiQyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skaChhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IHJnYjJ4eXoocixnLGIpO1xuICAgICAgICB2YXIgeCA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgeSA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgeiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgbCA9IDExNiAqIHkgLSAxNjtcbiAgICAgICAgcmV0dXJuIFtsIDwgMCA/IDAgOiBsLCA1MDAgKiAoeCAtIHkpLCAyMDAgKiAoeSAtIHopXTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYl94eXogPSBmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoKHIgLz0gMjU1KSA8PSAwLjA0MDQ1KSB7IHJldHVybiByIC8gMTIuOTI7IH1cbiAgICAgICAgcmV0dXJuIHBvdyRhKChyICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gICAgfTtcblxuICAgIHZhciB4eXpfbGFiID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgaWYgKHQgPiBMQUJfQ09OU1RBTlRTJDMudDMpIHsgcmV0dXJuIHBvdyRhKHQsIDEgLyAzKTsgfVxuICAgICAgICByZXR1cm4gdCAvIExBQl9DT05TVEFOVFMkMy50MiArIExBQl9DT05TVEFOVFMkMy50MDtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJ4eXogPSBmdW5jdGlvbiAocixnLGIpIHtcbiAgICAgICAgciA9IHJnYl94eXoocik7XG4gICAgICAgIGcgPSByZ2JfeHl6KGcpO1xuICAgICAgICBiID0gcmdiX3h5eihiKTtcbiAgICAgICAgdmFyIHggPSB4eXpfbGFiKCgwLjQxMjQ1NjQgKiByICsgMC4zNTc1NzYxICogZyArIDAuMTgwNDM3NSAqIGIpIC8gTEFCX0NPTlNUQU5UUyQzLlhuKTtcbiAgICAgICAgdmFyIHkgPSB4eXpfbGFiKCgwLjIxMjY3MjkgKiByICsgMC43MTUxNTIyICogZyArIDAuMDcyMTc1MCAqIGIpIC8gTEFCX0NPTlNUQU5UUyQzLlluKTtcbiAgICAgICAgdmFyIHogPSB4eXpfbGFiKCgwLjAxOTMzMzkgKiByICsgMC4xMTkxOTIwICogZyArIDAuOTUwMzA0MSAqIGIpIC8gTEFCX0NPTlNUQU5UUyQzLlpuKTtcbiAgICAgICAgcmV0dXJuIFt4LHksel07XG4gICAgfTtcblxuICAgIHZhciByZ2IybGFiXzEgPSByZ2IybGFiJDI7XG5cbiAgICB2YXIgTEFCX0NPTlNUQU5UUyQyID0gbGFiQ29uc3RhbnRzO1xuICAgIHZhciB1bnBhY2skZyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcG93JDkgPSBNYXRoLnBvdztcblxuICAgIC8qXG4gICAgICogTCogWzAuLjEwMF1cbiAgICAgKiBhIFstMTAwLi4xMDBdXG4gICAgICogYiBbLTEwMC4uMTAwXVxuICAgICAqL1xuICAgIHZhciBsYWIycmdiJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayRnKGFyZ3MsICdsYWInKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYSA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBiID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHgseSx6LCByLGcsYl87XG5cbiAgICAgICAgeSA9IChsICsgMTYpIC8gMTE2O1xuICAgICAgICB4ID0gaXNOYU4oYSkgPyB5IDogeSArIGEgLyA1MDA7XG4gICAgICAgIHogPSBpc05hTihiKSA/IHkgOiB5IC0gYiAvIDIwMDtcblxuICAgICAgICB5ID0gTEFCX0NPTlNUQU5UUyQyLlluICogbGFiX3h5eih5KTtcbiAgICAgICAgeCA9IExBQl9DT05TVEFOVFMkMi5YbiAqIGxhYl94eXooeCk7XG4gICAgICAgIHogPSBMQUJfQ09OU1RBTlRTJDIuWm4gKiBsYWJfeHl6KHopO1xuXG4gICAgICAgIHIgPSB4eXpfcmdiKDMuMjQwNDU0MiAqIHggLSAxLjUzNzEzODUgKiB5IC0gMC40OTg1MzE0ICogeik7ICAvLyBENjUgLT4gc1JHQlxuICAgICAgICBnID0geHl6X3JnYigtMC45NjkyNjYwICogeCArIDEuODc2MDEwOCAqIHkgKyAwLjA0MTU1NjAgKiB6KTtcbiAgICAgICAgYl8gPSB4eXpfcmdiKDAuMDU1NjQzNCAqIHggLSAwLjIwNDAyNTkgKiB5ICsgMS4wNTcyMjUyICogeik7XG5cbiAgICAgICAgcmV0dXJuIFtyLGcsYl8sYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgeHl6X3JnYiA9IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHJldHVybiAyNTUgKiAociA8PSAwLjAwMzA0ID8gMTIuOTIgKiByIDogMS4wNTUgKiBwb3ckOShyLCAxIC8gMi40KSAtIDAuMDU1KVxuICAgIH07XG5cbiAgICB2YXIgbGFiX3h5eiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0ID4gTEFCX0NPTlNUQU5UUyQyLnQxID8gdCAqIHQgKiB0IDogTEFCX0NPTlNUQU5UUyQyLnQyICogKHQgLSBMQUJfQ09OU1RBTlRTJDIudDApXG4gICAgfTtcblxuICAgIHZhciBsYWIycmdiXzEgPSBsYWIycmdiJDE7XG5cbiAgICB2YXIgdW5wYWNrJGYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNocm9tYSRiID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHUgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ3ID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2IybGFiJDEgPSByZ2IybGFiXzE7XG5cbiAgICBDb2xvciR1LnByb3RvdHlwZS5sYWIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJsYWIkMSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkYi5sYWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yJHUsIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydsYWInXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0JDcuZm9ybWF0LmxhYiA9IGxhYjJyZ2JfMTtcblxuICAgIGlucHV0JDcuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMixcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skZihhcmdzLCAnbGFiJyk7XG4gICAgICAgICAgICBpZiAodHlwZSRlKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdsYWInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJGUgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIFJBRDJERUcgPSB1dGlscy5SQUQyREVHO1xuICAgIHZhciBzcXJ0JDMgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIGF0YW4yJDIgPSBNYXRoLmF0YW4yO1xuICAgIHZhciByb3VuZCQyID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciBsYWIybGNoJDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIHJlZiA9IHVucGFjayRlKGFyZ3MsICdsYWInKTtcbiAgICAgICAgdmFyIGwgPSByZWZbMF07XG4gICAgICAgIHZhciBhID0gcmVmWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZlsyXTtcbiAgICAgICAgdmFyIGMgPSBzcXJ0JDMoYSAqIGEgKyBiICogYik7XG4gICAgICAgIHZhciBoID0gKGF0YW4yJDIoYiwgYSkgKiBSQUQyREVHICsgMzYwKSAlIDM2MDtcbiAgICAgICAgaWYgKHJvdW5kJDIoYyoxMDAwMCkgPT09IDApIHsgaCA9IE51bWJlci5OYU47IH1cbiAgICAgICAgcmV0dXJuIFtsLCBjLCBoXTtcbiAgICB9O1xuXG4gICAgdmFyIGxhYjJsY2hfMSA9IGxhYjJsY2gkMjtcblxuICAgIHZhciB1bnBhY2skZCA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcmdiMmxhYiA9IHJnYjJsYWJfMTtcbiAgICB2YXIgbGFiMmxjaCQxID0gbGFiMmxjaF8xO1xuXG4gICAgdmFyIHJnYjJsY2gkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJGQoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSByZ2IybGFiKHIsZyxiKTtcbiAgICAgICAgdmFyIGwgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEgPSByZWYkMVsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBsYWIybGNoJDEobCxhLGJfKTtcbiAgICB9O1xuXG4gICAgdmFyIHJnYjJsY2hfMSA9IHJnYjJsY2gkMTtcblxuICAgIHZhciB1bnBhY2skYyA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgREVHMlJBRCA9IHV0aWxzLkRFRzJSQUQ7XG4gICAgdmFyIHNpbiQzID0gTWF0aC5zaW47XG4gICAgdmFyIGNvcyQzID0gTWF0aC5jb3M7XG5cbiAgICB2YXIgbGNoMmxhYiQyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIC8qXG4gICAgICAgIENvbnZlcnQgZnJvbSBhIHF1YWxpdGF0aXZlIHBhcmFtZXRlciBoIGFuZCBhIHF1YW50aXRhdGl2ZSBwYXJhbWV0ZXIgbCB0byBhIDI0LWJpdCBwaXhlbC5cbiAgICAgICAgVGhlc2UgZm9ybXVsYXMgd2VyZSBpbnZlbnRlZCBieSBEYXZpZCBEYWxyeW1wbGUgdG8gb2J0YWluIG1heGltdW0gY29udHJhc3Qgd2l0aG91dCBnb2luZ1xuICAgICAgICBvdXQgb2YgZ2FtdXQgaWYgdGhlIHBhcmFtZXRlcnMgYXJlIGluIHRoZSByYW5nZSAwLTEuXG5cbiAgICAgICAgQSBzYXR1cmF0aW9uIG11bHRpcGxpZXIgd2FzIGFkZGVkIGJ5IEdyZWdvciBBaXNjaFxuICAgICAgICAqL1xuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJGMoYXJncywgJ2xjaCcpO1xuICAgICAgICB2YXIgbCA9IHJlZlswXTtcbiAgICAgICAgdmFyIGMgPSByZWZbMV07XG4gICAgICAgIHZhciBoID0gcmVmWzJdO1xuICAgICAgICBpZiAoaXNOYU4oaCkpIHsgaCA9IDA7IH1cbiAgICAgICAgaCA9IGggKiBERUcyUkFEO1xuICAgICAgICByZXR1cm4gW2wsIGNvcyQzKGgpICogYywgc2luJDMoaCkgKiBjXVxuICAgIH07XG5cbiAgICB2YXIgbGNoMmxhYl8xID0gbGNoMmxhYiQyO1xuXG4gICAgdmFyIHVucGFjayRiID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsY2gybGFiJDEgPSBsY2gybGFiXzE7XG4gICAgdmFyIGxhYjJyZ2IgPSBsYWIycmdiXzE7XG5cbiAgICB2YXIgbGNoMnJnYiQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIGFyZ3MgPSB1bnBhY2skYihhcmdzLCAnbGNoJyk7XG4gICAgICAgIHZhciBsID0gYXJnc1swXTtcbiAgICAgICAgdmFyIGMgPSBhcmdzWzFdO1xuICAgICAgICB2YXIgaCA9IGFyZ3NbMl07XG4gICAgICAgIHZhciByZWYgPSBsY2gybGFiJDEgKGwsYyxoKTtcbiAgICAgICAgdmFyIEwgPSByZWZbMF07XG4gICAgICAgIHZhciBhID0gcmVmWzFdO1xuICAgICAgICB2YXIgYl8gPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGxhYjJyZ2IgKEwsYSxiXyk7XG4gICAgICAgIHZhciByID0gcmVmJDFbMF07XG4gICAgICAgIHZhciBnID0gcmVmJDFbMV07XG4gICAgICAgIHZhciBiID0gcmVmJDFbMl07XG4gICAgICAgIHJldHVybiBbciwgZywgYiwgYXJncy5sZW5ndGggPiAzID8gYXJnc1szXSA6IDFdO1xuICAgIH07XG5cbiAgICB2YXIgbGNoMnJnYl8xID0gbGNoMnJnYiQxO1xuXG4gICAgdmFyIHVucGFjayRhID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsY2gycmdiID0gbGNoMnJnYl8xO1xuXG4gICAgdmFyIGhjbDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgdmFyIGhjbCA9IHVucGFjayRhKGFyZ3MsICdoY2wnKS5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiBsY2gycmdiLmFwcGx5KHZvaWQgMCwgaGNsKTtcbiAgICB9O1xuXG4gICAgdmFyIGhjbDJyZ2JfMSA9IGhjbDJyZ2I7XG5cbiAgICB2YXIgdW5wYWNrJDkgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHR5cGUkZCA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIGNocm9tYSRhID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHQgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ2ID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2IybGNoID0gcmdiMmxjaF8xO1xuXG4gICAgQ29sb3IkdC5wcm90b3R5cGUubGNoID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoKHRoaXMuX3JnYik7IH07XG4gICAgQ29sb3IkdC5wcm90b3R5cGUuaGNsID0gZnVuY3Rpb24oKSB7IHJldHVybiByZ2IybGNoKHRoaXMuX3JnYikucmV2ZXJzZSgpOyB9O1xuXG4gICAgY2hyb21hJGEubGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR0LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnbGNoJ10pICkpO1xuICAgIH07XG4gICAgY2hyb21hJGEuaGNsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciR0LCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnaGNsJ10pICkpO1xuICAgIH07XG5cbiAgICBpbnB1dCQ2LmZvcm1hdC5sY2ggPSBsY2gycmdiXzE7XG4gICAgaW5wdXQkNi5mb3JtYXQuaGNsID0gaGNsMnJnYl8xO1xuXG4gICAgWydsY2gnLCdoY2wnXS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldHVybiBpbnB1dCQ2LmF1dG9kZXRlY3QucHVzaCh7XG4gICAgICAgIHA6IDIsXG4gICAgICAgIHRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgICAgICBhcmdzID0gdW5wYWNrJDkoYXJncywgbSk7XG4gICAgICAgICAgICBpZiAodHlwZSRkKGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTsgfSk7XG5cbiAgICAvKipcbiAgICBcdFgxMSBjb2xvciBuYW1lc1xuXG4gICAgXHRodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLyNzdmctY29sb3JcbiAgICAqL1xuXG4gICAgdmFyIHczY3gxMSQxID0ge1xuICAgICAgICBhbGljZWJsdWU6ICcjZjBmOGZmJyxcbiAgICAgICAgYW50aXF1ZXdoaXRlOiAnI2ZhZWJkNycsXG4gICAgICAgIGFxdWE6ICcjMDBmZmZmJyxcbiAgICAgICAgYXF1YW1hcmluZTogJyM3ZmZmZDQnLFxuICAgICAgICBhenVyZTogJyNmMGZmZmYnLFxuICAgICAgICBiZWlnZTogJyNmNWY1ZGMnLFxuICAgICAgICBiaXNxdWU6ICcjZmZlNGM0JyxcbiAgICAgICAgYmxhY2s6ICcjMDAwMDAwJyxcbiAgICAgICAgYmxhbmNoZWRhbG1vbmQ6ICcjZmZlYmNkJyxcbiAgICAgICAgYmx1ZTogJyMwMDAwZmYnLFxuICAgICAgICBibHVldmlvbGV0OiAnIzhhMmJlMicsXG4gICAgICAgIGJyb3duOiAnI2E1MmEyYScsXG4gICAgICAgIGJ1cmx5d29vZDogJyNkZWI4ODcnLFxuICAgICAgICBjYWRldGJsdWU6ICcjNWY5ZWEwJyxcbiAgICAgICAgY2hhcnRyZXVzZTogJyM3ZmZmMDAnLFxuICAgICAgICBjaG9jb2xhdGU6ICcjZDI2OTFlJyxcbiAgICAgICAgY29yYWw6ICcjZmY3ZjUwJyxcbiAgICAgICAgY29ybmZsb3dlcjogJyM2NDk1ZWQnLFxuICAgICAgICBjb3JuZmxvd2VyYmx1ZTogJyM2NDk1ZWQnLFxuICAgICAgICBjb3Juc2lsazogJyNmZmY4ZGMnLFxuICAgICAgICBjcmltc29uOiAnI2RjMTQzYycsXG4gICAgICAgIGN5YW46ICcjMDBmZmZmJyxcbiAgICAgICAgZGFya2JsdWU6ICcjMDAwMDhiJyxcbiAgICAgICAgZGFya2N5YW46ICcjMDA4YjhiJyxcbiAgICAgICAgZGFya2dvbGRlbnJvZDogJyNiODg2MGInLFxuICAgICAgICBkYXJrZ3JheTogJyNhOWE5YTknLFxuICAgICAgICBkYXJrZ3JlZW46ICcjMDA2NDAwJyxcbiAgICAgICAgZGFya2dyZXk6ICcjYTlhOWE5JyxcbiAgICAgICAgZGFya2toYWtpOiAnI2JkYjc2YicsXG4gICAgICAgIGRhcmttYWdlbnRhOiAnIzhiMDA4YicsXG4gICAgICAgIGRhcmtvbGl2ZWdyZWVuOiAnIzU1NmIyZicsXG4gICAgICAgIGRhcmtvcmFuZ2U6ICcjZmY4YzAwJyxcbiAgICAgICAgZGFya29yY2hpZDogJyM5OTMyY2MnLFxuICAgICAgICBkYXJrcmVkOiAnIzhiMDAwMCcsXG4gICAgICAgIGRhcmtzYWxtb246ICcjZTk5NjdhJyxcbiAgICAgICAgZGFya3NlYWdyZWVuOiAnIzhmYmM4ZicsXG4gICAgICAgIGRhcmtzbGF0ZWJsdWU6ICcjNDgzZDhiJyxcbiAgICAgICAgZGFya3NsYXRlZ3JheTogJyMyZjRmNGYnLFxuICAgICAgICBkYXJrc2xhdGVncmV5OiAnIzJmNGY0ZicsXG4gICAgICAgIGRhcmt0dXJxdW9pc2U6ICcjMDBjZWQxJyxcbiAgICAgICAgZGFya3Zpb2xldDogJyM5NDAwZDMnLFxuICAgICAgICBkZWVwcGluazogJyNmZjE0OTMnLFxuICAgICAgICBkZWVwc2t5Ymx1ZTogJyMwMGJmZmYnLFxuICAgICAgICBkaW1ncmF5OiAnIzY5Njk2OScsXG4gICAgICAgIGRpbWdyZXk6ICcjNjk2OTY5JyxcbiAgICAgICAgZG9kZ2VyYmx1ZTogJyMxZTkwZmYnLFxuICAgICAgICBmaXJlYnJpY2s6ICcjYjIyMjIyJyxcbiAgICAgICAgZmxvcmFsd2hpdGU6ICcjZmZmYWYwJyxcbiAgICAgICAgZm9yZXN0Z3JlZW46ICcjMjI4YjIyJyxcbiAgICAgICAgZnVjaHNpYTogJyNmZjAwZmYnLFxuICAgICAgICBnYWluc2Jvcm86ICcjZGNkY2RjJyxcbiAgICAgICAgZ2hvc3R3aGl0ZTogJyNmOGY4ZmYnLFxuICAgICAgICBnb2xkOiAnI2ZmZDcwMCcsXG4gICAgICAgIGdvbGRlbnJvZDogJyNkYWE1MjAnLFxuICAgICAgICBncmF5OiAnIzgwODA4MCcsXG4gICAgICAgIGdyZWVuOiAnIzAwODAwMCcsXG4gICAgICAgIGdyZWVueWVsbG93OiAnI2FkZmYyZicsXG4gICAgICAgIGdyZXk6ICcjODA4MDgwJyxcbiAgICAgICAgaG9uZXlkZXc6ICcjZjBmZmYwJyxcbiAgICAgICAgaG90cGluazogJyNmZjY5YjQnLFxuICAgICAgICBpbmRpYW5yZWQ6ICcjY2Q1YzVjJyxcbiAgICAgICAgaW5kaWdvOiAnIzRiMDA4MicsXG4gICAgICAgIGl2b3J5OiAnI2ZmZmZmMCcsXG4gICAgICAgIGtoYWtpOiAnI2YwZTY4YycsXG4gICAgICAgIGxhc2VybGVtb246ICcjZmZmZjU0JyxcbiAgICAgICAgbGF2ZW5kZXI6ICcjZTZlNmZhJyxcbiAgICAgICAgbGF2ZW5kZXJibHVzaDogJyNmZmYwZjUnLFxuICAgICAgICBsYXduZ3JlZW46ICcjN2NmYzAwJyxcbiAgICAgICAgbGVtb25jaGlmZm9uOiAnI2ZmZmFjZCcsXG4gICAgICAgIGxpZ2h0Ymx1ZTogJyNhZGQ4ZTYnLFxuICAgICAgICBsaWdodGNvcmFsOiAnI2YwODA4MCcsXG4gICAgICAgIGxpZ2h0Y3lhbjogJyNlMGZmZmYnLFxuICAgICAgICBsaWdodGdvbGRlbnJvZDogJyNmYWZhZDInLFxuICAgICAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogJyNmYWZhZDInLFxuICAgICAgICBsaWdodGdyYXk6ICcjZDNkM2QzJyxcbiAgICAgICAgbGlnaHRncmVlbjogJyM5MGVlOTAnLFxuICAgICAgICBsaWdodGdyZXk6ICcjZDNkM2QzJyxcbiAgICAgICAgbGlnaHRwaW5rOiAnI2ZmYjZjMScsXG4gICAgICAgIGxpZ2h0c2FsbW9uOiAnI2ZmYTA3YScsXG4gICAgICAgIGxpZ2h0c2VhZ3JlZW46ICcjMjBiMmFhJyxcbiAgICAgICAgbGlnaHRza3libHVlOiAnIzg3Y2VmYScsXG4gICAgICAgIGxpZ2h0c2xhdGVncmF5OiAnIzc3ODg5OScsXG4gICAgICAgIGxpZ2h0c2xhdGVncmV5OiAnIzc3ODg5OScsXG4gICAgICAgIGxpZ2h0c3RlZWxibHVlOiAnI2IwYzRkZScsXG4gICAgICAgIGxpZ2h0eWVsbG93OiAnI2ZmZmZlMCcsXG4gICAgICAgIGxpbWU6ICcjMDBmZjAwJyxcbiAgICAgICAgbGltZWdyZWVuOiAnIzMyY2QzMicsXG4gICAgICAgIGxpbmVuOiAnI2ZhZjBlNicsXG4gICAgICAgIG1hZ2VudGE6ICcjZmYwMGZmJyxcbiAgICAgICAgbWFyb29uOiAnIzgwMDAwMCcsXG4gICAgICAgIG1hcm9vbjI6ICcjN2YwMDAwJyxcbiAgICAgICAgbWFyb29uMzogJyNiMDMwNjAnLFxuICAgICAgICBtZWRpdW1hcXVhbWFyaW5lOiAnIzY2Y2RhYScsXG4gICAgICAgIG1lZGl1bWJsdWU6ICcjMDAwMGNkJyxcbiAgICAgICAgbWVkaXVtb3JjaGlkOiAnI2JhNTVkMycsXG4gICAgICAgIG1lZGl1bXB1cnBsZTogJyM5MzcwZGInLFxuICAgICAgICBtZWRpdW1zZWFncmVlbjogJyMzY2IzNzEnLFxuICAgICAgICBtZWRpdW1zbGF0ZWJsdWU6ICcjN2I2OGVlJyxcbiAgICAgICAgbWVkaXVtc3ByaW5nZ3JlZW46ICcjMDBmYTlhJyxcbiAgICAgICAgbWVkaXVtdHVycXVvaXNlOiAnIzQ4ZDFjYycsXG4gICAgICAgIG1lZGl1bXZpb2xldHJlZDogJyNjNzE1ODUnLFxuICAgICAgICBtaWRuaWdodGJsdWU6ICcjMTkxOTcwJyxcbiAgICAgICAgbWludGNyZWFtOiAnI2Y1ZmZmYScsXG4gICAgICAgIG1pc3R5cm9zZTogJyNmZmU0ZTEnLFxuICAgICAgICBtb2NjYXNpbjogJyNmZmU0YjUnLFxuICAgICAgICBuYXZham93aGl0ZTogJyNmZmRlYWQnLFxuICAgICAgICBuYXZ5OiAnIzAwMDA4MCcsXG4gICAgICAgIG9sZGxhY2U6ICcjZmRmNWU2JyxcbiAgICAgICAgb2xpdmU6ICcjODA4MDAwJyxcbiAgICAgICAgb2xpdmVkcmFiOiAnIzZiOGUyMycsXG4gICAgICAgIG9yYW5nZTogJyNmZmE1MDAnLFxuICAgICAgICBvcmFuZ2VyZWQ6ICcjZmY0NTAwJyxcbiAgICAgICAgb3JjaGlkOiAnI2RhNzBkNicsXG4gICAgICAgIHBhbGVnb2xkZW5yb2Q6ICcjZWVlOGFhJyxcbiAgICAgICAgcGFsZWdyZWVuOiAnIzk4ZmI5OCcsXG4gICAgICAgIHBhbGV0dXJxdW9pc2U6ICcjYWZlZWVlJyxcbiAgICAgICAgcGFsZXZpb2xldHJlZDogJyNkYjcwOTMnLFxuICAgICAgICBwYXBheWF3aGlwOiAnI2ZmZWZkNScsXG4gICAgICAgIHBlYWNocHVmZjogJyNmZmRhYjknLFxuICAgICAgICBwZXJ1OiAnI2NkODUzZicsXG4gICAgICAgIHBpbms6ICcjZmZjMGNiJyxcbiAgICAgICAgcGx1bTogJyNkZGEwZGQnLFxuICAgICAgICBwb3dkZXJibHVlOiAnI2IwZTBlNicsXG4gICAgICAgIHB1cnBsZTogJyM4MDAwODAnLFxuICAgICAgICBwdXJwbGUyOiAnIzdmMDA3ZicsXG4gICAgICAgIHB1cnBsZTM6ICcjYTAyMGYwJyxcbiAgICAgICAgcmViZWNjYXB1cnBsZTogJyM2NjMzOTknLFxuICAgICAgICByZWQ6ICcjZmYwMDAwJyxcbiAgICAgICAgcm9zeWJyb3duOiAnI2JjOGY4ZicsXG4gICAgICAgIHJveWFsYmx1ZTogJyM0MTY5ZTEnLFxuICAgICAgICBzYWRkbGVicm93bjogJyM4YjQ1MTMnLFxuICAgICAgICBzYWxtb246ICcjZmE4MDcyJyxcbiAgICAgICAgc2FuZHlicm93bjogJyNmNGE0NjAnLFxuICAgICAgICBzZWFncmVlbjogJyMyZThiNTcnLFxuICAgICAgICBzZWFzaGVsbDogJyNmZmY1ZWUnLFxuICAgICAgICBzaWVubmE6ICcjYTA1MjJkJyxcbiAgICAgICAgc2lsdmVyOiAnI2MwYzBjMCcsXG4gICAgICAgIHNreWJsdWU6ICcjODdjZWViJyxcbiAgICAgICAgc2xhdGVibHVlOiAnIzZhNWFjZCcsXG4gICAgICAgIHNsYXRlZ3JheTogJyM3MDgwOTAnLFxuICAgICAgICBzbGF0ZWdyZXk6ICcjNzA4MDkwJyxcbiAgICAgICAgc25vdzogJyNmZmZhZmEnLFxuICAgICAgICBzcHJpbmdncmVlbjogJyMwMGZmN2YnLFxuICAgICAgICBzdGVlbGJsdWU6ICcjNDY4MmI0JyxcbiAgICAgICAgdGFuOiAnI2QyYjQ4YycsXG4gICAgICAgIHRlYWw6ICcjMDA4MDgwJyxcbiAgICAgICAgdGhpc3RsZTogJyNkOGJmZDgnLFxuICAgICAgICB0b21hdG86ICcjZmY2MzQ3JyxcbiAgICAgICAgdHVycXVvaXNlOiAnIzQwZTBkMCcsXG4gICAgICAgIHZpb2xldDogJyNlZTgyZWUnLFxuICAgICAgICB3aGVhdDogJyNmNWRlYjMnLFxuICAgICAgICB3aGl0ZTogJyNmZmZmZmYnLFxuICAgICAgICB3aGl0ZXNtb2tlOiAnI2Y1ZjVmNScsXG4gICAgICAgIHllbGxvdzogJyNmZmZmMDAnLFxuICAgICAgICB5ZWxsb3dncmVlbjogJyM5YWNkMzInXG4gICAgfTtcblxuICAgIHZhciB3M2N4MTFfMSA9IHczY3gxMSQxO1xuXG4gICAgdmFyIENvbG9yJHMgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ1ID0gaW5wdXQkaDtcbiAgICB2YXIgdHlwZSRjID0gdXRpbHMudHlwZTtcblxuICAgIHZhciB3M2N4MTEgPSB3M2N4MTFfMTtcbiAgICB2YXIgaGV4MnJnYiA9IGhleDJyZ2JfMTtcbiAgICB2YXIgcmdiMmhleCA9IHJnYjJoZXhfMTtcblxuICAgIENvbG9yJHMucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhleCA9IHJnYjJoZXgodGhpcy5fcmdiLCAncmdiJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gT2JqZWN0LmtleXModzNjeDExKTsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBuID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgaWYgKHczY3gxMVtuXSA9PT0gaGV4KSB7IHJldHVybiBuLnRvTG93ZXJDYXNlKCk7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGV4O1xuICAgIH07XG5cbiAgICBpbnB1dCQ1LmZvcm1hdC5uYW1lZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICh3M2N4MTFbbmFtZV0pIHsgcmV0dXJuIGhleDJyZ2IodzNjeDExW25hbWVdKTsgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY29sb3IgbmFtZTogJytuYW1lKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkNS5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgdmFyIHJlc3QgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoIGxlbi0tID4gMCApIHJlc3RbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICAgICAgICAgIGlmICghcmVzdC5sZW5ndGggJiYgdHlwZSRjKGgpID09PSAnc3RyaW5nJyAmJiB3M2N4MTFbaC50b0xvd2VyQ2FzZSgpXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnbmFtZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgdW5wYWNrJDggPSB1dGlscy51bnBhY2s7XG5cbiAgICB2YXIgcmdiMm51bSQxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skOChhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHJldHVybiAociA8PCAxNikgKyAoZyA8PCA4KSArIGI7XG4gICAgfTtcblxuICAgIHZhciByZ2IybnVtXzEgPSByZ2IybnVtJDE7XG5cbiAgICB2YXIgdHlwZSRiID0gdXRpbHMudHlwZTtcblxuICAgIHZhciBudW0ycmdiID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICBpZiAodHlwZSRiKG51bSkgPT0gXCJudW1iZXJcIiAmJiBudW0gPj0gMCAmJiBudW0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgIHZhciByID0gbnVtID4+IDE2O1xuICAgICAgICAgICAgdmFyIGcgPSAobnVtID4+IDgpICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBiID0gbnVtICYgMHhGRjtcbiAgICAgICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBudW0gY29sb3I6IFwiK251bSk7XG4gICAgfTtcblxuICAgIHZhciBudW0ycmdiXzEgPSBudW0ycmdiO1xuXG4gICAgdmFyIGNocm9tYSQ5ID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHIgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQ0ID0gaW5wdXQkaDtcbiAgICB2YXIgdHlwZSRhID0gdXRpbHMudHlwZTtcblxuICAgIHZhciByZ2IybnVtID0gcmdiMm51bV8xO1xuXG4gICAgQ29sb3Ikci5wcm90b3R5cGUubnVtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByZ2IybnVtKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYSQ5Lm51bSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkciwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ251bSddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkNC5mb3JtYXQubnVtID0gbnVtMnJnYl8xO1xuXG4gICAgaW5wdXQkNC5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiA1LFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIHR5cGUkYShhcmdzWzBdKSA9PT0gJ251bWJlcicgJiYgYXJnc1swXSA+PSAwICYmIGFyZ3NbMF0gPD0gMHhGRkZGRkYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ251bSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBjaHJvbWEkOCA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciRxID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkMyA9IGlucHV0JGg7XG4gICAgdmFyIHVucGFjayQ3ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDkgPSB1dGlscy50eXBlO1xuICAgIHZhciByb3VuZCQxID0gTWF0aC5yb3VuZDtcblxuICAgIENvbG9yJHEucHJvdG90eXBlLnJnYiA9IGZ1bmN0aW9uKHJuZCkge1xuICAgICAgICBpZiAoIHJuZCA9PT0gdm9pZCAwICkgcm5kPXRydWU7XG5cbiAgICAgICAgaWYgKHJuZCA9PT0gZmFsc2UpIHsgcmV0dXJuIHRoaXMuX3JnYi5zbGljZSgwLDMpOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZ2Iuc2xpY2UoMCwzKS5tYXAocm91bmQkMSk7XG4gICAgfTtcblxuICAgIENvbG9yJHEucHJvdG90eXBlLnJnYmEgPSBmdW5jdGlvbihybmQpIHtcbiAgICAgICAgaWYgKCBybmQgPT09IHZvaWQgMCApIHJuZD10cnVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZ2Iuc2xpY2UoMCw0KS5tYXAoZnVuY3Rpb24gKHYsaSkge1xuICAgICAgICAgICAgcmV0dXJuIGk8MyA/IChybmQgPT09IGZhbHNlID8gdiA6IHJvdW5kJDEodikpIDogdjtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNocm9tYSQ4LnJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IkcSwgWyBudWxsIF0uY29uY2F0KCBhcmdzLCBbJ3JnYiddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMy5mb3JtYXQucmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHZhciByZ2JhID0gdW5wYWNrJDcoYXJncywgJ3JnYmEnKTtcbiAgICAgICAgaWYgKHJnYmFbM10gPT09IHVuZGVmaW5lZCkgeyByZ2JhWzNdID0gMTsgfVxuICAgICAgICByZXR1cm4gcmdiYTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMy5hdXRvZGV0ZWN0LnB1c2goe1xuICAgICAgICBwOiAzLFxuICAgICAgICB0ZXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICAgICAgYXJncyA9IHVucGFjayQ3KGFyZ3MsICdyZ2JhJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ5KGFyZ3MpID09PSAnYXJyYXknICYmIChhcmdzLmxlbmd0aCA9PT0gMyB8fFxuICAgICAgICAgICAgICAgIGFyZ3MubGVuZ3RoID09PSA0ICYmIHR5cGUkOShhcmdzWzNdKSA9PSAnbnVtYmVyJyAmJiBhcmdzWzNdID49IDAgJiYgYXJnc1szXSA8PSAxKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAncmdiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBCYXNlZCBvbiBpbXBsZW1lbnRhdGlvbiBieSBOZWlsIEJhcnRsZXR0XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL25laWxiYXJ0bGV0dC9jb2xvci10ZW1wZXJhdHVyZVxuICAgICAqL1xuXG4gICAgdmFyIGxvZyQxID0gTWF0aC5sb2c7XG5cbiAgICB2YXIgdGVtcGVyYXR1cmUycmdiJDEgPSBmdW5jdGlvbiAoa2VsdmluKSB7XG4gICAgICAgIHZhciB0ZW1wID0ga2VsdmluIC8gMTAwO1xuICAgICAgICB2YXIgcixnLGI7XG4gICAgICAgIGlmICh0ZW1wIDwgNjYpIHtcbiAgICAgICAgICAgIHIgPSAyNTU7XG4gICAgICAgICAgICBnID0gdGVtcCA8IDYgPyAwIDogLTE1NS4yNTQ4NTU2MjcwOTE3OSAtIDAuNDQ1OTY5NTA0Njk1NzkxMzMgKiAoZyA9IHRlbXAtMikgKyAxMDQuNDkyMTYxOTkzOTM4ODggKiBsb2ckMShnKTtcbiAgICAgICAgICAgIGIgPSB0ZW1wIDwgMjAgPyAwIDogLTI1NC43NjkzNTE4NDEyMDkwMiArIDAuODI3NDA5NjA2NDAwNzM5NSAqIChiID0gdGVtcC0xMCkgKyAxMTUuNjc5OTQ0MDEwNjYxNDcgKiBsb2ckMShiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHIgPSAzNTEuOTc2OTA1NjY4MDU2OTMgKyAwLjExNDIwNjQ1Mzc4NDE2NSAqIChyID0gdGVtcC01NSkgLSA0MC4yNTM2NjMwOTMzMjEyNyAqIGxvZyQxKHIpO1xuICAgICAgICAgICAgZyA9IDMyNS40NDk0MTI1NzExOTc0ICsgMC4wNzk0MzQ1NjUzNjY2MjM0MiAqIChnID0gdGVtcC01MCkgLSAyOC4wODUyOTYzNTA3OTU3ICogbG9nJDEoZyk7XG4gICAgICAgICAgICBiID0gMjU1O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcixnLGIsMV07XG4gICAgfTtcblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2JfMSA9IHRlbXBlcmF0dXJlMnJnYiQxO1xuXG4gICAgLypcbiAgICAgKiBCYXNlZCBvbiBpbXBsZW1lbnRhdGlvbiBieSBOZWlsIEJhcnRsZXR0XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL25laWxiYXJ0bGV0dC9jb2xvci10ZW1wZXJhdHVyZVxuICAgICAqKi9cblxuICAgIHZhciB0ZW1wZXJhdHVyZTJyZ2IgPSB0ZW1wZXJhdHVyZTJyZ2JfMTtcbiAgICB2YXIgdW5wYWNrJDYgPSB1dGlscy51bnBhY2s7XG4gICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAgIHZhciByZ2IydGVtcGVyYXR1cmUkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmdiID0gdW5wYWNrJDYoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJnYlswXSwgYiA9IHJnYlsyXTtcbiAgICAgICAgdmFyIG1pblRlbXAgPSAxMDAwO1xuICAgICAgICB2YXIgbWF4VGVtcCA9IDQwMDAwO1xuICAgICAgICB2YXIgZXBzID0gMC40O1xuICAgICAgICB2YXIgdGVtcDtcbiAgICAgICAgd2hpbGUgKG1heFRlbXAgLSBtaW5UZW1wID4gZXBzKSB7XG4gICAgICAgICAgICB0ZW1wID0gKG1heFRlbXAgKyBtaW5UZW1wKSAqIDAuNTtcbiAgICAgICAgICAgIHZhciByZ2IkMSA9IHRlbXBlcmF0dXJlMnJnYih0ZW1wKTtcbiAgICAgICAgICAgIGlmICgocmdiJDFbMl0gLyByZ2IkMVswXSkgPj0gKGIgLyByKSkge1xuICAgICAgICAgICAgICAgIG1heFRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5UZW1wID0gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm91bmQodGVtcCk7XG4gICAgfTtcblxuICAgIHZhciByZ2IydGVtcGVyYXR1cmVfMSA9IHJnYjJ0ZW1wZXJhdHVyZSQxO1xuXG4gICAgdmFyIGNocm9tYSQ3ID0gY2hyb21hXzE7XG4gICAgdmFyIENvbG9yJHAgPSBDb2xvcl8xO1xuICAgIHZhciBpbnB1dCQyID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2IydGVtcGVyYXR1cmUgPSByZ2IydGVtcGVyYXR1cmVfMTtcblxuICAgIENvbG9yJHAucHJvdG90eXBlLnRlbXAgPVxuICAgIENvbG9yJHAucHJvdG90eXBlLmtlbHZpbiA9XG4gICAgQ29sb3IkcC5wcm90b3R5cGUudGVtcGVyYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHJnYjJ0ZW1wZXJhdHVyZSh0aGlzLl9yZ2IpO1xuICAgIH07XG5cbiAgICBjaHJvbWEkNy50ZW1wID1cbiAgICBjaHJvbWEkNy5rZWx2aW4gPVxuICAgIGNocm9tYSQ3LnRlbXBlcmF0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRwLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsndGVtcCddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMi5mb3JtYXQudGVtcCA9XG4gICAgaW5wdXQkMi5mb3JtYXQua2VsdmluID1cbiAgICBpbnB1dCQyLmZvcm1hdC50ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlMnJnYl8xO1xuXG4gICAgdmFyIHVucGFjayQ1ID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBjYnJ0ID0gTWF0aC5jYnJ0O1xuICAgIHZhciBwb3ckOCA9IE1hdGgucG93O1xuICAgIHZhciBzaWduJDEgPSBNYXRoLnNpZ247XG5cbiAgICB2YXIgcmdiMm9rbGFiJDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgLy8gT0tMYWIgY29sb3Igc3BhY2UgaW1wbGVtZW50YXRpb24gdGFrZW4gZnJvbVxuICAgICAgICAvLyBodHRwczovL2JvdHRvc3Nvbi5naXRodWIuaW8vcG9zdHMvb2tsYWIvXG4gICAgICAgIHZhciByZWYgPSB1bnBhY2skNShhcmdzLCAncmdiJyk7XG4gICAgICAgIHZhciByID0gcmVmWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IFtyZ2IybHJnYihyIC8gMjU1KSwgcmdiMmxyZ2IoZyAvIDI1NSksIHJnYjJscmdiKGIgLyAyNTUpXTtcbiAgICAgICAgdmFyIGxyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciBsZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgbGIgPSByZWYkMVsyXTtcbiAgICAgICAgdmFyIGwgPSBjYnJ0KDAuNDEyMjIxNDcwOCAqIGxyICsgMC41MzYzMzI1MzYzICogbGcgKyAwLjA1MTQ0NTk5MjkgKiBsYik7XG4gICAgICAgIHZhciBtID0gY2JydCgwLjIxMTkwMzQ5ODIgKiBsciArIDAuNjgwNjk5NTQ1MSAqIGxnICsgMC4xMDczOTY5NTY2ICogbGIpO1xuICAgICAgICB2YXIgcyA9IGNicnQoMC4wODgzMDI0NjE5ICogbHIgKyAwLjI4MTcxODgzNzYgKiBsZyArIDAuNjI5OTc4NzAwNSAqIGxiKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgMC4yMTA0NTQyNTUzICogbCArIDAuNzkzNjE3Nzg1ICogbSAtIDAuMDA0MDcyMDQ2OCAqIHMsXG4gICAgICAgICAgICAxLjk3Nzk5ODQ5NTEgKiBsIC0gMi40Mjg1OTIyMDUgKiBtICsgMC40NTA1OTM3MDk5ICogcyxcbiAgICAgICAgICAgIDAuMDI1OTA0MDM3MSAqIGwgKyAwLjc4Mjc3MTc2NjIgKiBtIC0gMC44MDg2NzU3NjYgKiBzXG4gICAgICAgIF07XG4gICAgfTtcblxuICAgIHZhciByZ2Iyb2tsYWJfMSA9IHJnYjJva2xhYiQyO1xuXG4gICAgZnVuY3Rpb24gcmdiMmxyZ2IoYykge1xuICAgICAgICB2YXIgYWJzID0gTWF0aC5hYnMoYyk7XG4gICAgICAgIGlmIChhYnMgPCAwLjA0MDQ1KSB7XG4gICAgICAgICAgICByZXR1cm4gYyAvIDEyLjkyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoc2lnbiQxKGMpIHx8IDEpICogcG93JDgoKGFicyArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgIH1cblxuICAgIHZhciB1bnBhY2skNCA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgcG93JDcgPSBNYXRoLnBvdztcbiAgICB2YXIgc2lnbiA9IE1hdGguc2lnbjtcblxuICAgIC8qXG4gICAgICogTCogWzAuLjEwMF1cbiAgICAgKiBhIFstMTAwLi4xMDBdXG4gICAgICogYiBbLTEwMC4uMTAwXVxuICAgICAqL1xuICAgIHZhciBva2xhYjJyZ2IkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICBhcmdzID0gdW5wYWNrJDQoYXJncywgJ2xhYicpO1xuICAgICAgICB2YXIgTCA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBhID0gYXJnc1sxXTtcbiAgICAgICAgdmFyIGIgPSBhcmdzWzJdO1xuXG4gICAgICAgIHZhciBsID0gcG93JDcoTCArIDAuMzk2MzM3Nzc3NCAqIGEgKyAwLjIxNTgwMzc1NzMgKiBiLCAzKTtcbiAgICAgICAgdmFyIG0gPSBwb3ckNyhMIC0gMC4xMDU1NjEzNDU4ICogYSAtIDAuMDYzODU0MTcyOCAqIGIsIDMpO1xuICAgICAgICB2YXIgcyA9IHBvdyQ3KEwgLSAwLjA4OTQ4NDE3NzUgKiBhIC0gMS4yOTE0ODU1NDggKiBiLCAzKTtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgMjU1ICogbHJnYjJyZ2IoKzQuMDc2NzQxNjYyMSAqIGwgLSAzLjMwNzcxMTU5MTMgKiBtICsgMC4yMzA5Njk5MjkyICogcyksXG4gICAgICAgICAgICAyNTUgKiBscmdiMnJnYigtMS4yNjg0MzgwMDQ2ICogbCArIDIuNjA5NzU3NDAxMSAqIG0gLSAwLjM0MTMxOTM5NjUgKiBzKSxcbiAgICAgICAgICAgIDI1NSAqIGxyZ2IycmdiKC0wLjAwNDE5NjA4NjMgKiBsIC0gMC43MDM0MTg2MTQ3ICogbSArIDEuNzA3NjE0NzAxICogcyksXG4gICAgICAgICAgICBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWzNdIDogMVxuICAgICAgICBdO1xuICAgIH07XG5cbiAgICB2YXIgb2tsYWIycmdiXzEgPSBva2xhYjJyZ2IkMTtcblxuICAgIGZ1bmN0aW9uIGxyZ2IycmdiKGMpIHtcbiAgICAgICAgdmFyIGFicyA9IE1hdGguYWJzKGMpO1xuICAgICAgICBpZiAoYWJzID4gMC4wMDMxMzA4KSB7XG4gICAgICAgICAgICByZXR1cm4gKHNpZ24oYykgfHwgMSkgKiAoMS4wNTUgKiBwb3ckNyhhYnMsIDEgLyAyLjQpIC0gMC4wNTUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjICogMTIuOTI7XG4gICAgfVxuXG4gICAgdmFyIHVucGFjayQzID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciB0eXBlJDggPSB1dGlscy50eXBlO1xuICAgIHZhciBjaHJvbWEkNiA9IGNocm9tYV8xO1xuICAgIHZhciBDb2xvciRvID0gQ29sb3JfMTtcbiAgICB2YXIgaW5wdXQkMSA9IGlucHV0JGg7XG5cbiAgICB2YXIgcmdiMm9rbGFiJDEgPSByZ2Iyb2tsYWJfMTtcblxuICAgIENvbG9yJG8ucHJvdG90eXBlLm9rbGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmdiMm9rbGFiJDEodGhpcy5fcmdiKTtcbiAgICB9O1xuXG4gICAgY2hyb21hJDYub2tsYWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoIENvbG9yJG8sIFsgbnVsbCBdLmNvbmNhdCggYXJncywgWydva2xhYiddKSApKTtcbiAgICB9O1xuXG4gICAgaW5wdXQkMS5mb3JtYXQub2tsYWIgPSBva2xhYjJyZ2JfMTtcblxuICAgIGlucHV0JDEuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2skMyhhcmdzLCAnb2tsYWInKTtcbiAgICAgICAgICAgIGlmICh0eXBlJDgoYXJncykgPT09ICdhcnJheScgJiYgYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ29rbGFiJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHVucGFjayQyID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciByZ2Iyb2tsYWIgPSByZ2Iyb2tsYWJfMTtcbiAgICB2YXIgbGFiMmxjaCA9IGxhYjJsY2hfMTtcblxuICAgIHZhciByZ2Iyb2tsY2gkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB2YXIgcmVmID0gdW5wYWNrJDIoYXJncywgJ3JnYicpO1xuICAgICAgICB2YXIgciA9IHJlZlswXTtcbiAgICAgICAgdmFyIGcgPSByZWZbMV07XG4gICAgICAgIHZhciBiID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSByZ2Iyb2tsYWIociwgZywgYik7XG4gICAgICAgIHZhciBsID0gcmVmJDFbMF07XG4gICAgICAgIHZhciBhID0gcmVmJDFbMV07XG4gICAgICAgIHZhciBiXyA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gbGFiMmxjaChsLCBhLCBiXyk7XG4gICAgfTtcblxuICAgIHZhciByZ2Iyb2tsY2hfMSA9IHJnYjJva2xjaCQxO1xuXG4gICAgdmFyIHVucGFjayQxID0gdXRpbHMudW5wYWNrO1xuICAgIHZhciBsY2gybGFiID0gbGNoMmxhYl8xO1xuICAgIHZhciBva2xhYjJyZ2IgPSBva2xhYjJyZ2JfMTtcblxuICAgIHZhciBva2xjaDJyZ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgYXJncyA9IHVucGFjayQxKGFyZ3MsICdsY2gnKTtcbiAgICAgICAgdmFyIGwgPSBhcmdzWzBdO1xuICAgICAgICB2YXIgYyA9IGFyZ3NbMV07XG4gICAgICAgIHZhciBoID0gYXJnc1syXTtcbiAgICAgICAgdmFyIHJlZiA9IGxjaDJsYWIobCwgYywgaCk7XG4gICAgICAgIHZhciBMID0gcmVmWzBdO1xuICAgICAgICB2YXIgYSA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGJfID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSBva2xhYjJyZ2IoTCwgYSwgYl8pO1xuICAgICAgICB2YXIgciA9IHJlZiQxWzBdO1xuICAgICAgICB2YXIgZyA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgYiA9IHJlZiQxWzJdO1xuICAgICAgICByZXR1cm4gW3IsIGcsIGIsIGFyZ3MubGVuZ3RoID4gMyA/IGFyZ3NbM10gOiAxXTtcbiAgICB9O1xuXG4gICAgdmFyIG9rbGNoMnJnYl8xID0gb2tsY2gycmdiO1xuXG4gICAgdmFyIHVucGFjayA9IHV0aWxzLnVucGFjaztcbiAgICB2YXIgdHlwZSQ3ID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2hyb21hJDUgPSBjaHJvbWFfMTtcbiAgICB2YXIgQ29sb3IkbiA9IENvbG9yXzE7XG4gICAgdmFyIGlucHV0ID0gaW5wdXQkaDtcblxuICAgIHZhciByZ2Iyb2tsY2ggPSByZ2Iyb2tsY2hfMTtcblxuICAgIENvbG9yJG4ucHJvdG90eXBlLm9rbGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmdiMm9rbGNoKHRoaXMuX3JnYik7XG4gICAgfTtcblxuICAgIGNocm9tYSQ1Lm9rbGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCBDb2xvciRuLCBbIG51bGwgXS5jb25jYXQoIGFyZ3MsIFsnb2tsY2gnXSkgKSk7XG4gICAgfTtcblxuICAgIGlucHV0LmZvcm1hdC5va2xjaCA9IG9rbGNoMnJnYl8xO1xuXG4gICAgaW5wdXQuYXV0b2RldGVjdC5wdXNoKHtcbiAgICAgICAgcDogMyxcbiAgICAgICAgdGVzdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICAgICAgICAgIGFyZ3MgPSB1bnBhY2soYXJncywgJ29rbGNoJyk7XG4gICAgICAgICAgICBpZiAodHlwZSQ3KGFyZ3MpID09PSAnYXJyYXknICYmIGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdva2xjaCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciBDb2xvciRtID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSQ2ID0gdXRpbHMudHlwZTtcblxuICAgIENvbG9yJG0ucHJvdG90eXBlLmFscGhhID0gZnVuY3Rpb24oYSwgbXV0YXRlKSB7XG4gICAgICAgIGlmICggbXV0YXRlID09PSB2b2lkIDAgKSBtdXRhdGU9ZmFsc2U7XG5cbiAgICAgICAgaWYgKGEgIT09IHVuZGVmaW5lZCAmJiB0eXBlJDYoYSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobXV0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmdiWzNdID0gYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkbShbdGhpcy5fcmdiWzBdLCB0aGlzLl9yZ2JbMV0sIHRoaXMuX3JnYlsyXSwgYV0sICdyZ2InKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmdiWzNdO1xuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkbCA9IENvbG9yXzE7XG5cbiAgICBDb2xvciRsLnByb3RvdHlwZS5jbGlwcGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZ2IuX2NsaXBwZWQgfHwgZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRrID0gQ29sb3JfMTtcbiAgICB2YXIgTEFCX0NPTlNUQU5UUyQxID0gbGFiQ29uc3RhbnRzO1xuXG4gICAgQ29sb3Ikay5wcm90b3R5cGUuZGFya2VuID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgXHRpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50PTE7XG5cbiAgICBcdHZhciBtZSA9IHRoaXM7XG4gICAgXHR2YXIgbGFiID0gbWUubGFiKCk7XG4gICAgXHRsYWJbMF0gLT0gTEFCX0NPTlNUQU5UUyQxLktuICogYW1vdW50O1xuICAgIFx0cmV0dXJuIG5ldyBDb2xvciRrKGxhYiwgJ2xhYicpLmFscGhhKG1lLmFscGhhKCksIHRydWUpO1xuICAgIH07XG5cbiAgICBDb2xvciRrLnByb3RvdHlwZS5icmlnaHRlbiA9IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgIFx0aWYgKCBhbW91bnQgPT09IHZvaWQgMCApIGFtb3VudD0xO1xuXG4gICAgXHRyZXR1cm4gdGhpcy5kYXJrZW4oLWFtb3VudCk7XG4gICAgfTtcblxuICAgIENvbG9yJGsucHJvdG90eXBlLmRhcmtlciA9IENvbG9yJGsucHJvdG90eXBlLmRhcmtlbjtcbiAgICBDb2xvciRrLnByb3RvdHlwZS5icmlnaHRlciA9IENvbG9yJGsucHJvdG90eXBlLmJyaWdodGVuO1xuXG4gICAgdmFyIENvbG9yJGogPSBDb2xvcl8xO1xuXG4gICAgQ29sb3Ikai5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKG1jKSB7XG4gICAgICAgIHZhciByZWYgPSBtYy5zcGxpdCgnLicpO1xuICAgICAgICB2YXIgbW9kZSA9IHJlZlswXTtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSByZWZbMV07XG4gICAgICAgIHZhciBzcmMgPSB0aGlzW21vZGVdKCk7XG4gICAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1vZGUuaW5kZXhPZihjaGFubmVsKSAtIChtb2RlLnN1YnN0cigwLCAyKSA9PT0gJ29rJyA/IDIgOiAwKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpIHsgcmV0dXJuIHNyY1tpXTsgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcInVua25vd24gY2hhbm5lbCBcIiArIGNoYW5uZWwgKyBcIiBpbiBtb2RlIFwiICsgbW9kZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNyYztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkaSA9IENvbG9yXzE7XG4gICAgdmFyIHR5cGUkNSA9IHV0aWxzLnR5cGU7XG4gICAgdmFyIHBvdyQ2ID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgRVBTID0gMWUtNztcbiAgICB2YXIgTUFYX0lURVIgPSAyMDtcblxuICAgIENvbG9yJGkucHJvdG90eXBlLmx1bWluYW5jZSA9IGZ1bmN0aW9uKGx1bSkge1xuICAgICAgICBpZiAobHVtICE9PSB1bmRlZmluZWQgJiYgdHlwZSQ1KGx1bSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobHVtID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHB1cmUgYmxhY2tcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yJGkoWzAsMCwwLHRoaXMuX3JnYlszXV0sICdyZ2InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsdW0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gcHVyZSB3aGl0ZVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkaShbMjU1LDI1NSwyNTUsdGhpcy5fcmdiWzNdXSwgJ3JnYicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBuZXcgY29sb3IgdXNpbmcuLi5cbiAgICAgICAgICAgIHZhciBjdXJfbHVtID0gdGhpcy5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBtb2RlID0gJ3JnYic7XG4gICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSBNQVhfSVRFUjtcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBmdW5jdGlvbiAobG93LCBoaWdoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pZCA9IGxvdy5pbnRlcnBvbGF0ZShoaWdoLCAwLjUsIG1vZGUpO1xuICAgICAgICAgICAgICAgIHZhciBsbSA9IG1pZC5sdW1pbmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobHVtIC0gbG0pIDwgRVBTIHx8ICFtYXhfaXRlci0tKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG0gPiBsdW0gPyB0ZXN0KGxvdywgbWlkKSA6IHRlc3QobWlkLCBoaWdoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZ2IgPSAoY3VyX2x1bSA+IGx1bSA/IHRlc3QobmV3IENvbG9yJGkoWzAsMCwwXSksIHRoaXMpIDogdGVzdCh0aGlzLCBuZXcgQ29sb3IkaShbMjU1LDI1NSwyNTVdKSkpLnJnYigpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvciRpKHJnYi5jb25jYXQoIFt0aGlzLl9yZ2JbM11dKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJnYjJsdW1pbmFuY2UuYXBwbHkodm9pZCAwLCAodGhpcy5fcmdiKS5zbGljZSgwLDMpKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgcmdiMmx1bWluYW5jZSA9IGZ1bmN0aW9uIChyLGcsYikge1xuICAgICAgICAvLyByZWxhdGl2ZSBsdW1pbmFuY2VcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgciA9IGx1bWluYW5jZV94KHIpO1xuICAgICAgICBnID0gbHVtaW5hbmNlX3goZyk7XG4gICAgICAgIGIgPSBsdW1pbmFuY2VfeChiKTtcbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYjtcbiAgICB9O1xuXG4gICAgdmFyIGx1bWluYW5jZV94ID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgeCAvPSAyNTU7XG4gICAgICAgIHJldHVybiB4IDw9IDAuMDM5MjggPyB4LzEyLjkyIDogcG93JDYoKHgrMC4wNTUpLzEuMDU1LCAyLjQpO1xuICAgIH07XG5cbiAgICB2YXIgaW50ZXJwb2xhdG9yJDEgPSB7fTtcblxuICAgIHZhciBDb2xvciRoID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSQ0ID0gdXRpbHMudHlwZTtcbiAgICB2YXIgaW50ZXJwb2xhdG9yID0gaW50ZXJwb2xhdG9yJDE7XG5cbiAgICB2YXIgbWl4JDEgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICBpZiAoIGYgPT09IHZvaWQgMCApIGY9MC41O1xuICAgICAgICB2YXIgcmVzdCA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMztcbiAgICAgICAgd2hpbGUgKCBsZW4tLSA+IDAgKSByZXN0WyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMyBdO1xuXG4gICAgICAgIHZhciBtb2RlID0gcmVzdFswXSB8fCAnbHJnYic7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdG9yW21vZGVdICYmICFyZXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIHRoZSBmaXJzdCBzdXBwb3J0ZWQgbW9kZVxuICAgICAgICAgICAgbW9kZSA9IE9iamVjdC5rZXlzKGludGVycG9sYXRvcilbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpbnRlcnBvbGF0b3JbbW9kZV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJpbnRlcnBvbGF0aW9uIG1vZGUgXCIgKyBtb2RlICsgXCIgaXMgbm90IGRlZmluZWRcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlJDQoY29sMSkgIT09ICdvYmplY3QnKSB7IGNvbDEgPSBuZXcgQ29sb3IkaChjb2wxKTsgfVxuICAgICAgICBpZiAodHlwZSQ0KGNvbDIpICE9PSAnb2JqZWN0JykgeyBjb2wyID0gbmV3IENvbG9yJGgoY29sMik7IH1cbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRvclttb2RlXShjb2wxLCBjb2wyLCBmKVxuICAgICAgICAgICAgLmFscGhhKGNvbDEuYWxwaGEoKSArIGYgKiAoY29sMi5hbHBoYSgpIC0gY29sMS5hbHBoYSgpKSk7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRnID0gQ29sb3JfMTtcbiAgICB2YXIgbWl4ID0gbWl4JDE7XG5cbiAgICBDb2xvciRnLnByb3RvdHlwZS5taXggPVxuICAgIENvbG9yJGcucHJvdG90eXBlLmludGVycG9sYXRlID0gZnVuY3Rpb24oY29sMiwgZikge1xuICAgIFx0aWYgKCBmID09PSB2b2lkIDAgKSBmPTAuNTtcbiAgICBcdHZhciByZXN0ID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgIFx0d2hpbGUgKCBsZW4tLSA+IDAgKSByZXN0WyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMiBdO1xuXG4gICAgXHRyZXR1cm4gbWl4LmFwcGx5KHZvaWQgMCwgWyB0aGlzLCBjb2wyLCBmIF0uY29uY2F0KCByZXN0ICkpO1xuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkZiA9IENvbG9yXzE7XG5cbiAgICBDb2xvciRmLnByb3RvdHlwZS5wcmVtdWx0aXBseSA9IGZ1bmN0aW9uKG11dGF0ZSkge1xuICAgIFx0aWYgKCBtdXRhdGUgPT09IHZvaWQgMCApIG11dGF0ZT1mYWxzZTtcblxuICAgIFx0dmFyIHJnYiA9IHRoaXMuX3JnYjtcbiAgICBcdHZhciBhID0gcmdiWzNdO1xuICAgIFx0aWYgKG11dGF0ZSkge1xuICAgIFx0XHR0aGlzLl9yZ2IgPSBbcmdiWzBdKmEsIHJnYlsxXSphLCByZ2JbMl0qYSwgYV07XG4gICAgXHRcdHJldHVybiB0aGlzO1xuICAgIFx0fSBlbHNlIHtcbiAgICBcdFx0cmV0dXJuIG5ldyBDb2xvciRmKFtyZ2JbMF0qYSwgcmdiWzFdKmEsIHJnYlsyXSphLCBhXSwgJ3JnYicpO1xuICAgIFx0fVxuICAgIH07XG5cbiAgICB2YXIgQ29sb3IkZSA9IENvbG9yXzE7XG4gICAgdmFyIExBQl9DT05TVEFOVFMgPSBsYWJDb25zdGFudHM7XG5cbiAgICBDb2xvciRlLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgIFx0aWYgKCBhbW91bnQgPT09IHZvaWQgMCApIGFtb3VudD0xO1xuXG4gICAgXHR2YXIgbWUgPSB0aGlzO1xuICAgIFx0dmFyIGxjaCA9IG1lLmxjaCgpO1xuICAgIFx0bGNoWzFdICs9IExBQl9DT05TVEFOVFMuS24gKiBhbW91bnQ7XG4gICAgXHRpZiAobGNoWzFdIDwgMCkgeyBsY2hbMV0gPSAwOyB9XG4gICAgXHRyZXR1cm4gbmV3IENvbG9yJGUobGNoLCAnbGNoJykuYWxwaGEobWUuYWxwaGEoKSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIENvbG9yJGUucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbihhbW91bnQpIHtcbiAgICBcdGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQ9MTtcblxuICAgIFx0cmV0dXJuIHRoaXMuc2F0dXJhdGUoLWFtb3VudCk7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRkID0gQ29sb3JfMTtcbiAgICB2YXIgdHlwZSQzID0gdXRpbHMudHlwZTtcblxuICAgIENvbG9yJGQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChtYywgdmFsdWUsIG11dGF0ZSkge1xuICAgICAgICBpZiAoIG11dGF0ZSA9PT0gdm9pZCAwICkgbXV0YXRlID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHJlZiA9IG1jLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBtb2RlID0gcmVmWzBdO1xuICAgICAgICB2YXIgY2hhbm5lbCA9IHJlZlsxXTtcbiAgICAgICAgdmFyIHNyYyA9IHRoaXNbbW9kZV0oKTtcbiAgICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgICAgIHZhciBpID0gbW9kZS5pbmRleE9mKGNoYW5uZWwpIC0gKG1vZGUuc3Vic3RyKDAsIDIpID09PSAnb2snID8gMiA6IDApO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlJDModmFsdWUpID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUuY2hhckF0KDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNbaV0gKz0gK3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjW2ldICs9ICt2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tpXSAqPSArdmFsdWUuc3Vic3RyKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjW2ldIC89ICt2YWx1ZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tpXSA9ICt2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSQzKHZhbHVlKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3JjW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQgdmFsdWUgZm9yIENvbG9yLnNldFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG91dCA9IG5ldyBDb2xvciRkKHNyYywgbW9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZ2IgPSBvdXQuX3JnYjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwidW5rbm93biBjaGFubmVsIFwiICsgY2hhbm5lbCArIFwiIGluIG1vZGUgXCIgKyBtb2RlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3JjO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBDb2xvciRjID0gQ29sb3JfMTtcblxuICAgIHZhciByZ2IgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEuX3JnYjtcbiAgICAgICAgdmFyIHh5ejEgPSBjb2wyLl9yZ2I7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkYyhcbiAgICAgICAgICAgIHh5ejBbMF0gKyBmICogKHh5ejFbMF0teHl6MFswXSksXG4gICAgICAgICAgICB4eXowWzFdICsgZiAqICh4eXoxWzFdLXh5ejBbMV0pLFxuICAgICAgICAgICAgeHl6MFsyXSArIGYgKiAoeHl6MVsyXS14eXowWzJdKSxcbiAgICAgICAgICAgICdyZ2InXG4gICAgICAgIClcbiAgICB9O1xuXG4gICAgLy8gcmVnaXN0ZXIgaW50ZXJwb2xhdG9yXG4gICAgaW50ZXJwb2xhdG9yJDEucmdiID0gcmdiO1xuXG4gICAgdmFyIENvbG9yJGIgPSBDb2xvcl8xO1xuICAgIHZhciBzcXJ0JDIgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIHBvdyQ1ID0gTWF0aC5wb3c7XG5cbiAgICB2YXIgbHJnYiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgICAgIHZhciByZWYgPSBjb2wxLl9yZ2I7XG4gICAgICAgIHZhciB4MSA9IHJlZlswXTtcbiAgICAgICAgdmFyIHkxID0gcmVmWzFdO1xuICAgICAgICB2YXIgejEgPSByZWZbMl07XG4gICAgICAgIHZhciByZWYkMSA9IGNvbDIuX3JnYjtcbiAgICAgICAgdmFyIHgyID0gcmVmJDFbMF07XG4gICAgICAgIHZhciB5MiA9IHJlZiQxWzFdO1xuICAgICAgICB2YXIgejIgPSByZWYkMVsyXTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciRiKFxuICAgICAgICAgICAgc3FydCQyKHBvdyQ1KHgxLDIpICogKDEtZikgKyBwb3ckNSh4MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQ1KHkxLDIpICogKDEtZikgKyBwb3ckNSh5MiwyKSAqIGYpLFxuICAgICAgICAgICAgc3FydCQyKHBvdyQ1KHoxLDIpICogKDEtZikgKyBwb3ckNSh6MiwyKSAqIGYpLFxuICAgICAgICAgICAgJ3JnYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5scmdiID0gbHJnYjtcblxuICAgIHZhciBDb2xvciRhID0gQ29sb3JfMTtcblxuICAgIHZhciBsYWIgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEubGFiKCk7XG4gICAgICAgIHZhciB4eXoxID0gY29sMi5sYWIoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciRhKFxuICAgICAgICAgICAgeHl6MFswXSArIGYgKiAoeHl6MVswXS14eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0teHl6MFsxXSksXG4gICAgICAgICAgICB4eXowWzJdICsgZiAqICh4eXoxWzJdLXh5ejBbMl0pLFxuICAgICAgICAgICAgJ2xhYidcbiAgICAgICAgKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5sYWIgPSBsYWI7XG5cbiAgICB2YXIgQ29sb3IkOSA9IENvbG9yXzE7XG5cbiAgICB2YXIgX2hzeCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmLCBtKSB7XG4gICAgICAgIHZhciBhc3NpZ24sIGFzc2lnbiQxO1xuXG4gICAgICAgIHZhciB4eXowLCB4eXoxO1xuICAgICAgICBpZiAobSA9PT0gJ2hzbCcpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzdicpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzdigpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHN2KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hjZycpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjZygpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNnKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2hzaScpIHtcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhzaSgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaHNpKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ2xjaCcgfHwgbSA9PT0gJ2hjbCcpIHtcbiAgICAgICAgICAgIG0gPSAnaGNsJztcbiAgICAgICAgICAgIHh5ejAgPSBjb2wxLmhjbCgpO1xuICAgICAgICAgICAgeHl6MSA9IGNvbDIuaGNsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobSA9PT0gJ29rbGNoJykge1xuICAgICAgICAgICAgeHl6MCA9IGNvbDEub2tsY2goKS5yZXZlcnNlKCk7XG4gICAgICAgICAgICB4eXoxID0gY29sMi5va2xjaCgpLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBodWUwLCBodWUxLCBzYXQwLCBzYXQxLCBsYnYwLCBsYnYxO1xuICAgICAgICBpZiAobS5zdWJzdHIoMCwgMSkgPT09ICdoJyB8fCBtID09PSAnb2tsY2gnKSB7XG4gICAgICAgICAgICAoYXNzaWduID0geHl6MCwgaHVlMCA9IGFzc2lnblswXSwgc2F0MCA9IGFzc2lnblsxXSwgbGJ2MCA9IGFzc2lnblsyXSk7XG4gICAgICAgICAgICAoYXNzaWduJDEgPSB4eXoxLCBodWUxID0gYXNzaWduJDFbMF0sIHNhdDEgPSBhc3NpZ24kMVsxXSwgbGJ2MSA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzYXQsIGh1ZSwgbGJ2LCBkaDtcblxuICAgICAgICBpZiAoIWlzTmFOKGh1ZTApICYmICFpc05hTihodWUxKSkge1xuICAgICAgICAgICAgLy8gYm90aCBjb2xvcnMgaGF2ZSBodWVcbiAgICAgICAgICAgIGlmIChodWUxID4gaHVlMCAmJiBodWUxIC0gaHVlMCA+IDE4MCkge1xuICAgICAgICAgICAgICAgIGRoID0gaHVlMSAtIChodWUwICsgMzYwKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaHVlMSA8IGh1ZTAgJiYgaHVlMCAtIGh1ZTEgPiAxODApIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZTEgKyAzNjAgLSBodWUwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaCA9IGh1ZTEgLSBodWUwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHVlID0gaHVlMCArIGYgKiBkaDtcbiAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oaHVlMCkpIHtcbiAgICAgICAgICAgIGh1ZSA9IGh1ZTA7XG4gICAgICAgICAgICBpZiAoKGxidjEgPT0gMSB8fCBsYnYxID09IDApICYmIG0gIT0gJ2hzdicpIHsgc2F0ID0gc2F0MDsgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc05hTihodWUxKSkge1xuICAgICAgICAgICAgaHVlID0gaHVlMTtcbiAgICAgICAgICAgIGlmICgobGJ2MCA9PSAxIHx8IGxidjAgPT0gMCkgJiYgbSAhPSAnaHN2JykgeyBzYXQgPSBzYXQxOyB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodWUgPSBOdW1iZXIuTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNhdCA9PT0gdW5kZWZpbmVkKSB7IHNhdCA9IHNhdDAgKyBmICogKHNhdDEgLSBzYXQwKTsgfVxuICAgICAgICBsYnYgPSBsYnYwICsgZiAqIChsYnYxIC0gbGJ2MCk7XG4gICAgICAgIHJldHVybiBtID09PSAnb2tsY2gnID8gbmV3IENvbG9yJDkoW2xidiwgc2F0LCBodWVdLCBtKSA6IG5ldyBDb2xvciQ5KFtodWUsIHNhdCwgbGJ2XSwgbSk7XG4gICAgfTtcblxuICAgIHZhciBpbnRlcnBvbGF0ZV9oc3gkNSA9IF9oc3g7XG5cbiAgICB2YXIgbGNoID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICBcdHJldHVybiBpbnRlcnBvbGF0ZV9oc3gkNShjb2wxLCBjb2wyLCBmLCAnbGNoJyk7XG4gICAgfTtcblxuICAgIC8vIHJlZ2lzdGVyIGludGVycG9sYXRvclxuICAgIGludGVycG9sYXRvciQxLmxjaCA9IGxjaDtcbiAgICBpbnRlcnBvbGF0b3IkMS5oY2wgPSBsY2g7XG5cbiAgICB2YXIgQ29sb3IkOCA9IENvbG9yXzE7XG5cbiAgICB2YXIgbnVtID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgdmFyIGMxID0gY29sMS5udW0oKTtcbiAgICAgICAgdmFyIGMyID0gY29sMi5udW0oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvciQ4KGMxICsgZiAqIChjMi1jMSksICdudW0nKVxuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5udW0gPSBudW07XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDQgPSBfaHN4O1xuXG4gICAgdmFyIGhjZyA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDQoY29sMSwgY29sMiwgZiwgJ2hjZycpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oY2cgPSBoY2c7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDMgPSBfaHN4O1xuXG4gICAgdmFyIGhzaSA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDMoY29sMSwgY29sMiwgZiwgJ2hzaScpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oc2kgPSBoc2k7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDIgPSBfaHN4O1xuXG4gICAgdmFyIGhzbCA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDIoY29sMSwgY29sMiwgZiwgJ2hzbCcpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oc2wgPSBoc2w7XG5cbiAgICB2YXIgaW50ZXJwb2xhdGVfaHN4JDEgPSBfaHN4O1xuXG4gICAgdmFyIGhzdiA9IGZ1bmN0aW9uIChjb2wxLCBjb2wyLCBmKSB7XG4gICAgXHRyZXR1cm4gaW50ZXJwb2xhdGVfaHN4JDEoY29sMSwgY29sMiwgZiwgJ2hzdicpO1xuICAgIH07XG5cbiAgICAvLyByZWdpc3RlciBpbnRlcnBvbGF0b3JcbiAgICBpbnRlcnBvbGF0b3IkMS5oc3YgPSBoc3Y7XG5cbiAgICB2YXIgQ29sb3IkNyA9IENvbG9yXzE7XG5cbiAgICB2YXIgb2tsYWIgPSBmdW5jdGlvbiAoY29sMSwgY29sMiwgZikge1xuICAgICAgICB2YXIgeHl6MCA9IGNvbDEub2tsYWIoKTtcbiAgICAgICAgdmFyIHh5ejEgPSBjb2wyLm9rbGFiKCk7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkNyhcbiAgICAgICAgICAgIHh5ejBbMF0gKyBmICogKHh5ejFbMF0gLSB4eXowWzBdKSxcbiAgICAgICAgICAgIHh5ejBbMV0gKyBmICogKHh5ejFbMV0gLSB4eXowWzFdKSxcbiAgICAgICAgICAgIHh5ejBbMl0gKyBmICogKHh5ejFbMl0gLSB4eXowWzJdKSxcbiAgICAgICAgICAgICdva2xhYidcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgLy8gcmVnaXN0ZXIgaW50ZXJwb2xhdG9yXG4gICAgaW50ZXJwb2xhdG9yJDEub2tsYWIgPSBva2xhYjtcblxuICAgIHZhciBpbnRlcnBvbGF0ZV9oc3ggPSBfaHN4O1xuXG4gICAgdmFyIG9rbGNoID0gZnVuY3Rpb24gKGNvbDEsIGNvbDIsIGYpIHtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYXRlX2hzeChjb2wxLCBjb2wyLCBmLCAnb2tsY2gnKTtcbiAgICB9O1xuXG4gICAgLy8gcmVnaXN0ZXIgaW50ZXJwb2xhdG9yXG4gICAgaW50ZXJwb2xhdG9yJDEub2tsY2ggPSBva2xjaDtcblxuICAgIHZhciBDb2xvciQ2ID0gQ29sb3JfMTtcbiAgICB2YXIgY2xpcF9yZ2IkMSA9IHV0aWxzLmNsaXBfcmdiO1xuICAgIHZhciBwb3ckNCA9IE1hdGgucG93O1xuICAgIHZhciBzcXJ0JDEgPSBNYXRoLnNxcnQ7XG4gICAgdmFyIFBJJDEgPSBNYXRoLlBJO1xuICAgIHZhciBjb3MkMiA9IE1hdGguY29zO1xuICAgIHZhciBzaW4kMiA9IE1hdGguc2luO1xuICAgIHZhciBhdGFuMiQxID0gTWF0aC5hdGFuMjtcblxuICAgIHZhciBhdmVyYWdlID0gZnVuY3Rpb24gKGNvbG9ycywgbW9kZSwgd2VpZ2h0cykge1xuICAgICAgICBpZiAoIG1vZGUgPT09IHZvaWQgMCApIG1vZGU9J2xyZ2InO1xuICAgICAgICBpZiAoIHdlaWdodHMgPT09IHZvaWQgMCApIHdlaWdodHM9bnVsbDtcblxuICAgICAgICB2YXIgbCA9IGNvbG9ycy5sZW5ndGg7XG4gICAgICAgIGlmICghd2VpZ2h0cykgeyB3ZWlnaHRzID0gQXJyYXkuZnJvbShuZXcgQXJyYXkobCkpLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9KTsgfVxuICAgICAgICAvLyBub3JtYWxpemUgd2VpZ2h0c1xuICAgICAgICB2YXIgayA9IGwgLyB3ZWlnaHRzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgIHdlaWdodHMuZm9yRWFjaChmdW5jdGlvbiAodyxpKSB7IHdlaWdodHNbaV0gKj0gazsgfSk7XG4gICAgICAgIC8vIGNvbnZlcnQgY29sb3JzIHRvIENvbG9yIG9iamVjdHNcbiAgICAgICAgY29sb3JzID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gbmV3IENvbG9yJDYoYyk7IH0pO1xuICAgICAgICBpZiAobW9kZSA9PT0gJ2xyZ2InKSB7XG4gICAgICAgICAgICByZXR1cm4gX2F2ZXJhZ2VfbHJnYihjb2xvcnMsIHdlaWdodHMpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0ID0gY29sb3JzLnNoaWZ0KCk7XG4gICAgICAgIHZhciB4eXogPSBmaXJzdC5nZXQobW9kZSk7XG4gICAgICAgIHZhciBjbnQgPSBbXTtcbiAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgLy8gaW5pdGlhbCBjb2xvclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8eHl6Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4eXpbaV0gPSAoeHl6W2ldIHx8IDApICogd2VpZ2h0c1swXTtcbiAgICAgICAgICAgIGNudC5wdXNoKGlzTmFOKHh5eltpXSkgPyAwIDogd2VpZ2h0c1swXSk7XG4gICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJyAmJiAhaXNOYU4oeHl6W2ldKSkge1xuICAgICAgICAgICAgICAgIHZhciBBID0geHl6W2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICBkeCArPSBjb3MkMihBKSAqIHdlaWdodHNbMF07XG4gICAgICAgICAgICAgICAgZHkgKz0gc2luJDIoQSkgKiB3ZWlnaHRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFscGhhID0gZmlyc3QuYWxwaGEoKSAqIHdlaWdodHNbMF07XG4gICAgICAgIGNvbG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChjLGNpKSB7XG4gICAgICAgICAgICB2YXIgeHl6MiA9IGMuZ2V0KG1vZGUpO1xuICAgICAgICAgICAgYWxwaGEgKz0gYy5hbHBoYSgpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx4eXoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHh5ejJbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNudFtpXSArPSB3ZWlnaHRzW2NpKzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kZS5jaGFyQXQoaSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEEgPSB4eXoyW2ldIC8gMTgwICogUEkkMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ICs9IGNvcyQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ICs9IHNpbiQyKEEpICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh5eltpXSArPSB4eXoyW2ldICogd2VpZ2h0c1tjaSsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxPTA7IGkkMTx4eXoubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgaWYgKG1vZGUuY2hhckF0KGkkMSkgPT09ICdoJykge1xuICAgICAgICAgICAgICAgIHZhciBBJDEgPSBhdGFuMiQxKGR5IC8gY250W2kkMV0sIGR4IC8gY250W2kkMV0pIC8gUEkkMSAqIDE4MDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoQSQxIDwgMCkgeyBBJDEgKz0gMzYwOyB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEEkMSA+PSAzNjApIHsgQSQxIC09IDM2MDsgfVxuICAgICAgICAgICAgICAgIHh5eltpJDFdID0gQSQxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4eXpbaSQxXSA9IHh5eltpJDFdL2NudFtpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFscGhhIC89IGw7XG4gICAgICAgIHJldHVybiAobmV3IENvbG9yJDYoeHl6LCBtb2RlKSkuYWxwaGEoYWxwaGEgPiAwLjk5OTk5ID8gMSA6IGFscGhhLCB0cnVlKTtcbiAgICB9O1xuXG5cbiAgICB2YXIgX2F2ZXJhZ2VfbHJnYiA9IGZ1bmN0aW9uIChjb2xvcnMsIHdlaWdodHMpIHtcbiAgICAgICAgdmFyIGwgPSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICB2YXIgeHl6ID0gWzAsMCwwLDBdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBjb2xvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb2wgPSBjb2xvcnNbaV07XG4gICAgICAgICAgICB2YXIgZiA9IHdlaWdodHNbaV0gLyBsO1xuICAgICAgICAgICAgdmFyIHJnYiA9IGNvbC5fcmdiO1xuICAgICAgICAgICAgeHl6WzBdICs9IHBvdyQ0KHJnYlswXSwyKSAqIGY7XG4gICAgICAgICAgICB4eXpbMV0gKz0gcG93JDQocmdiWzFdLDIpICogZjtcbiAgICAgICAgICAgIHh5elsyXSArPSBwb3ckNChyZ2JbMl0sMikgKiBmO1xuICAgICAgICAgICAgeHl6WzNdICs9IHJnYlszXSAqIGY7XG4gICAgICAgIH1cbiAgICAgICAgeHl6WzBdID0gc3FydCQxKHh5elswXSk7XG4gICAgICAgIHh5elsxXSA9IHNxcnQkMSh4eXpbMV0pO1xuICAgICAgICB4eXpbMl0gPSBzcXJ0JDEoeHl6WzJdKTtcbiAgICAgICAgaWYgKHh5elszXSA+IDAuOTk5OTk5OSkgeyB4eXpbM10gPSAxOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkNihjbGlwX3JnYiQxKHh5eikpO1xuICAgIH07XG5cbiAgICAvLyBtaW5pbWFsIG11bHRpLXB1cnBvc2UgaW50ZXJmYWNlXG5cbiAgICAvLyBAcmVxdWlyZXMgdXRpbHMgY29sb3IgYW5hbHl6ZVxuXG4gICAgdmFyIGNocm9tYSQ0ID0gY2hyb21hXzE7XG4gICAgdmFyIHR5cGUkMiA9IHV0aWxzLnR5cGU7XG5cbiAgICB2YXIgcG93JDMgPSBNYXRoLnBvdztcblxuICAgIHZhciBzY2FsZSQyID0gZnVuY3Rpb24oY29sb3JzKSB7XG5cbiAgICAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgdmFyIF9tb2RlID0gJ3JnYic7XG4gICAgICAgIHZhciBfbmFjb2wgPSBjaHJvbWEkNCgnI2NjYycpO1xuICAgICAgICB2YXIgX3NwcmVhZCA9IDA7XG4gICAgICAgIC8vIGNvbnN0IF9maXhlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgX2RvbWFpbiA9IFswLCAxXTtcbiAgICAgICAgdmFyIF9wb3MgPSBbXTtcbiAgICAgICAgdmFyIF9wYWRkaW5nID0gWzAsMF07XG4gICAgICAgIHZhciBfY2xhc3NlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgX2NvbG9ycyA9IFtdO1xuICAgICAgICB2YXIgX291dCA9IGZhbHNlO1xuICAgICAgICB2YXIgX21pbiA9IDA7XG4gICAgICAgIHZhciBfbWF4ID0gMTtcbiAgICAgICAgdmFyIF9jb3JyZWN0TGlnaHRuZXNzID0gZmFsc2U7XG4gICAgICAgIHZhciBfY29sb3JDYWNoZSA9IHt9O1xuICAgICAgICB2YXIgX3VzZUNhY2hlID0gdHJ1ZTtcbiAgICAgICAgdmFyIF9nYW1tYSA9IDE7XG5cbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgdmFyIHNldENvbG9ycyA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzIHx8IFsnI2ZmZicsICcjMDAwJ107XG4gICAgICAgICAgICBpZiAoY29sb3JzICYmIHR5cGUkMihjb2xvcnMpID09PSAnc3RyaW5nJyAmJiBjaHJvbWEkNC5icmV3ZXIgJiZcbiAgICAgICAgICAgICAgICBjaHJvbWEkNC5icmV3ZXJbY29sb3JzLnRvTG93ZXJDYXNlKCldKSB7XG4gICAgICAgICAgICAgICAgY29sb3JzID0gY2hyb21hJDQuYnJld2VyW2NvbG9ycy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlJDIoY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzaW5nbGUgY29sb3JcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBbY29sb3JzWzBdLCBjb2xvcnNbMF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgY29sb3JzXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY29sb3JzLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gY2hyb21hIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjPTA7IGM8Y29sb3JzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yc1tjXSA9IGNocm9tYSQ0KGNvbG9yc1tjXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF1dG8tZmlsbCBjb2xvciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIF9wb3MubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjJDE9MDsgYyQxPGNvbG9ycy5sZW5ndGg7IGMkMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3MucHVzaChjJDEvKGNvbG9ycy5sZW5ndGgtMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBfY29sb3JzID0gY29sb3JzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRDbGFzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX2NsYXNzZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgbiAmJiB2YWx1ZSA+PSBfY2xhc3Nlc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdE1hcExpZ2h0bmVzcyA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuICAgICAgICB2YXIgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiB0OyB9O1xuXG4gICAgICAgIC8vIGNvbnN0IGNsYXNzaWZ5VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyAgICAgbGV0IHZhbCA9IHZhbHVlO1xuICAgICAgICAvLyAgICAgaWYgKF9jbGFzc2VzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBuID0gX2NsYXNzZXMubGVuZ3RoLTE7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgaSA9IGdldENsYXNzKHZhbHVlKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zdCBtaW5jID0gX2NsYXNzZXNbMF0gKyAoKF9jbGFzc2VzWzFdLV9jbGFzc2VzWzBdKSAqICgwICsgKF9zcHJlYWQgKiAwLjUpKSk7ICAvLyBjZW50ZXIgb2YgMXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgY29uc3QgbWF4YyA9IF9jbGFzc2VzW24tMV0gKyAoKF9jbGFzc2VzW25dLV9jbGFzc2VzW24tMV0pICogKDEgLSAoX3NwcmVhZCAqIDAuNSkpKTsgIC8vIGNlbnRlciBvZiBsYXN0IGNsYXNzXG4gICAgICAgIC8vICAgICAgICAgdmFsID0gX21pbiArICgoKChfY2xhc3Nlc1tpXSArICgoX2NsYXNzZXNbaSsxXSAtIF9jbGFzc2VzW2ldKSAqIDAuNSkpIC0gbWluYykgLyAobWF4Yy1taW5jKSkgKiAoX21heCAtIF9taW4pKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiB2YWw7XG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24odmFsLCBieXBhc3NNYXApIHtcbiAgICAgICAgICAgIHZhciBjb2wsIHQ7XG4gICAgICAgICAgICBpZiAoYnlwYXNzTWFwID09IG51bGwpIHsgYnlwYXNzTWFwID0gZmFsc2U7IH1cbiAgICAgICAgICAgIGlmIChpc05hTih2YWwpIHx8ICh2YWwgPT09IG51bGwpKSB7IHJldHVybiBfbmFjb2w7IH1cbiAgICAgICAgICAgIGlmICghYnlwYXNzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjbGFzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGdldENsYXNzKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSBjIC8gKF9jbGFzc2VzLmxlbmd0aC0yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9tYXggIT09IF9taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ganVzdCBpbnRlcnBvbGF0ZSBiZXR3ZWVuIG1pbi9tYXhcbiAgICAgICAgICAgICAgICAgICAgdCA9ICh2YWwgLSBfbWluKSAvIChfbWF4IC0gX21pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ID0gdmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb21haW4gbWFwXG4gICAgICAgICAgICB0ID0gdE1hcERvbWFpbih0KTtcblxuICAgICAgICAgICAgaWYgKCFieXBhc3NNYXApIHtcbiAgICAgICAgICAgICAgICB0ID0gdE1hcExpZ2h0bmVzcyh0KTsgIC8vIGxpZ2h0bmVzcyBjb3JyZWN0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfZ2FtbWEgIT09IDEpIHsgdCA9IHBvdyQzKHQsIF9nYW1tYSk7IH1cblxuICAgICAgICAgICAgdCA9IF9wYWRkaW5nWzBdICsgKHQgKiAoMSAtIF9wYWRkaW5nWzBdIC0gX3BhZGRpbmdbMV0pKTtcblxuICAgICAgICAgICAgdCA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHQpKTtcblxuICAgICAgICAgICAgdmFyIGsgPSBNYXRoLmZsb29yKHQgKiAxMDAwMCk7XG5cbiAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUgJiYgX2NvbG9yQ2FjaGVba10pIHtcbiAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JDYWNoZVtrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkMihfY29sb3JzKSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICAvL2ZvciBpIGluIFswLi5fcG9zLmxlbmd0aC0xXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8X3Bvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBfcG9zW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHQgPj0gcCkgJiYgKGkgPT09IChfcG9zLmxlbmd0aC0xKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBfY29sb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPiBwICYmIHQgPCBfcG9zW2krMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gKHQtcCkvKF9wb3NbaSsxXS1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wgPSBjaHJvbWEkNC5pbnRlcnBvbGF0ZShfY29sb3JzW2ldLCBfY29sb3JzW2krMV0sIHQsIF9tb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSQyKF9jb2xvcnMpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IF9jb2xvcnModCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdXNlQ2FjaGUpIHsgX2NvbG9yQ2FjaGVba10gPSBjb2w7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0Q2FjaGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfY29sb3JDYWNoZSA9IHt9OyB9O1xuXG4gICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBpbnRlcmZhY2VcblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHZhciBjID0gY2hyb21hJDQoZ2V0Q29sb3IodikpO1xuICAgICAgICAgICAgaWYgKF9vdXQgJiYgY1tfb3V0XSkgeyByZXR1cm4gY1tfb3V0XSgpOyB9IGVsc2UgeyByZXR1cm4gYzsgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2xhc3NlcyA9IGZ1bmN0aW9uKGNsYXNzZXMpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSQyKGNsYXNzZXMpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICAgICAgX2RvbWFpbiA9IFtjbGFzc2VzWzBdLCBjbGFzc2VzW2NsYXNzZXMubGVuZ3RoLTFdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IGNocm9tYSQ0LmFuYWx5emUoX2RvbWFpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xhc3NlcyA9IFtkLm1pbiwgZC5tYXhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NsYXNzZXMgPSBjaHJvbWEkNC5saW1pdHMoZCwgJ2UnLCBjbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfY2xhc3NlcztcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGYuZG9tYWluID0gZnVuY3Rpb24oZG9tYWluKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2RvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9taW4gPSBkb21haW5bMF07XG4gICAgICAgICAgICBfbWF4ID0gZG9tYWluW2RvbWFpbi5sZW5ndGgtMV07XG4gICAgICAgICAgICBfcG9zID0gW107XG4gICAgICAgICAgICB2YXIgayA9IF9jb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChkb21haW4ubGVuZ3RoID09PSBrKSAmJiAoX21pbiAhPT0gX21heCkpIHtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBBcnJheS5mcm9tKGRvbWFpbik7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgICAgX3Bvcy5wdXNoKChkLV9taW4pIC8gKF9tYXgtX21pbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjPGs7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBfcG9zLnB1c2goYy8oay0xKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb21haW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgZG9tYWluIG1hcFxuICAgICAgICAgICAgICAgICAgICB2YXIgdE91dCA9IGRvbWFpbi5tYXAoZnVuY3Rpb24gKGQsaSkgeyByZXR1cm4gaS8oZG9tYWluLmxlbmd0aC0xKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0QnJlYWtzID0gZG9tYWluLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gKGQgLSBfbWluKSAvIChfbWF4IC0gX21pbik7IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRCcmVha3MuZXZlcnkoZnVuY3Rpb24gKHZhbCwgaSkgeyByZXR1cm4gdE91dFtpXSA9PT0gdmFsOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdE1hcERvbWFpbiA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPD0gMCB8fCB0ID49IDEpIHsgcmV0dXJuIHQ7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHQgPj0gdEJyZWFrc1tpKzFdKSB7IGkrKzsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gKHQgLSB0QnJlYWtzW2ldKSAvICh0QnJlYWtzW2krMV0gLSB0QnJlYWtzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0ID0gdE91dFtpXSArIGYgKiAodE91dFtpKzFdIC0gdE91dFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9kb21haW4gPSBbX21pbiwgX21heF07XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLm1vZGUgPSBmdW5jdGlvbihfbSkge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9tb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX21vZGUgPSBfbTtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYucmFuZ2UgPSBmdW5jdGlvbihjb2xvcnMsIF9wb3MpIHtcbiAgICAgICAgICAgIHNldENvbG9ycyhjb2xvcnMpO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5vdXQgPSBmdW5jdGlvbihfbykge1xuICAgICAgICAgICAgX291dCA9IF9vO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5zcHJlYWQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3ByZWFkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NwcmVhZCA9IHZhbDtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY29ycmVjdExpZ2h0bmVzcyA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIGlmICh2ID09IG51bGwpIHsgdiA9IHRydWU7IH1cbiAgICAgICAgICAgIF9jb3JyZWN0TGlnaHRuZXNzID0gdjtcbiAgICAgICAgICAgIHJlc2V0Q2FjaGUoKTtcbiAgICAgICAgICAgIGlmIChfY29ycmVjdExpZ2h0bmVzcykge1xuICAgICAgICAgICAgICAgIHRNYXBMaWdodG5lc3MgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMMCA9IGdldENvbG9yKDAsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTDEgPSBnZXRDb2xvcigxLCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvbCA9IEwwID4gTDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBMX2FjdHVhbCA9IGdldENvbG9yKHQsIHRydWUpLmxhYigpWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9pZGVhbCA9IEwwICsgKChMMSAtIEwwKSAqIHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4X2l0ZXIgPSAyMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChNYXRoLmFicyhMX2RpZmYpID4gMWUtMikgJiYgKG1heF9pdGVyLS0gPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2wpIHsgTF9kaWZmICo9IC0xOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExfZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDAgPSB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICs9ICh0MSAtIHQpICogMC41O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCArPSAodDAgLSB0KSAqIDAuNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTF9hY3R1YWwgPSBnZXRDb2xvcih0LCB0cnVlKS5sYWIoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTF9kaWZmID0gTF9hY3R1YWwgLSBMX2lkZWFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0TWFwTGlnaHRuZXNzID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnBhZGRpbmcgPSBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICBpZiAocCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUkMihwKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IFtwLHBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfcGFkZGluZyA9IHA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmNvbG9ycyA9IGZ1bmN0aW9uKG51bUNvbG9ycywgb3V0KSB7XG4gICAgICAgICAgICAvLyBJZiBubyBhcmd1bWVudHMgYXJlIGdpdmVuLCByZXR1cm4gdGhlIG9yaWdpbmFsIGNvbG9ycyB0aGF0IHdlcmUgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgeyBvdXQgPSAnaGV4JzsgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb2xvcnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW2YoMC41KV07XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtQ29sb3JzID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBkbSA9IF9kb21haW5bMF07XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gX2RvbWFpblsxXSAtIGRtO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9fcmFuZ2VfXygwLCBudW1Db2xvcnMsIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGYoIGRtICsgKChpLyhudW1Db2xvcnMtMSkpICogZGQpICk7IH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyByZXR1cm5zIGFsbCBjb2xvcnMgYmFzZWQgb24gdGhlIGRlZmluZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIGNvbG9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgICAgICAgICAgaWYgKF9jbGFzc2VzICYmIChfY2xhc3Nlcy5sZW5ndGggPiAyKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMSwgZW5kID0gX2NsYXNzZXMubGVuZ3RoLCBhc2MgPSAxIDw9IGVuZDsgYXNjID8gaSA8IGVuZCA6IGkgPiBlbmQ7IGFzYyA/IGkrKyA6IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlcy5wdXNoKChfY2xhc3Nlc1tpLTFdK19jbGFzc2VzW2ldKSowLjUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlcyA9IF9kb21haW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNhbXBsZXMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiBmKHYpOyB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNocm9tYSQ0W291dF0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjW291dF0oKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuY2FjaGUgPSBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3VzZUNhY2hlID0gYztcbiAgICAgICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF91c2VDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmLmdhbW1hID0gZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgaWYgKGcgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9nYW1tYSA9IGc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZ2FtbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5ub2RhdGEgPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX25hY29sID0gY2hyb21hJDQoZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbmFjb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGY7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9fcmFuZ2VfXyhsZWZ0LCByaWdodCwgaW5jbHVzaXZlKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBbXTtcbiAgICAgIHZhciBhc2NlbmRpbmcgPSBsZWZ0IDwgcmlnaHQ7XG4gICAgICB2YXIgZW5kID0gIWluY2x1c2l2ZSA/IHJpZ2h0IDogYXNjZW5kaW5nID8gcmlnaHQgKyAxIDogcmlnaHQgLSAxO1xuICAgICAgZm9yICh2YXIgaSA9IGxlZnQ7IGFzY2VuZGluZyA/IGkgPCBlbmQgOiBpID4gZW5kOyBhc2NlbmRpbmcgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgcmFuZ2UucHVzaChpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAvL1xuXG4gICAgLy8gQHJlcXVpcmVzIHV0aWxzIGxhYlxuICAgIHZhciBDb2xvciQ1ID0gQ29sb3JfMTtcblxuICAgIHZhciBzY2FsZSQxID0gc2NhbGUkMjtcblxuICAgIC8vIG50aCByb3cgb2YgdGhlIHBhc2NhbCB0cmlhbmdsZVxuICAgIHZhciBiaW5vbV9yb3cgPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIHZhciByb3cgPSBbMSwgMV07XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmV3cm93ID0gWzFdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPD0gcm93Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbmV3cm93W2pdID0gKHJvd1tqXSB8fCAwKSArIHJvd1tqIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3cgPSBuZXdyb3c7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9O1xuXG4gICAgdmFyIGJlemllciA9IGZ1bmN0aW9uKGNvbG9ycykge1xuICAgICAgICB2YXIgYXNzaWduLCBhc3NpZ24kMSwgYXNzaWduJDI7XG5cbiAgICAgICAgdmFyIEksIGxhYjAsIGxhYjEsIGxhYjI7XG4gICAgICAgIGNvbG9ycyA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG5ldyBDb2xvciQ1KGMpOyB9KTtcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAgICAgICAgICAoYXNzaWduID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ25bMF0sIGxhYjEgPSBhc3NpZ25bMV0pO1xuICAgICAgICAgICAgSSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiID0gKFswLCAxLCAyXS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxhYjBbaV0gKyAodCAqIChsYWIxW2ldIC0gbGFiMFtpXSkpOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvciQ1KGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvLyBxdWFkcmF0aWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIChhc3NpZ24kMSA9IGNvbG9ycy5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGFiKCk7IH0pLCBsYWIwID0gYXNzaWduJDFbMF0sIGxhYjEgPSBhc3NpZ24kMVsxXSwgbGFiMiA9IGFzc2lnbiQxWzJdKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiAoKDEtdCkqKDEtdCkgKiBsYWIwW2ldKSArICgyICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAodCAqIHQgKiBsYWIyW2ldKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkNShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sb3JzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgLy8gY3ViaWMgYmV6aWVyIGludGVycG9sYXRpb25cbiAgICAgICAgICAgIHZhciBsYWIzO1xuICAgICAgICAgICAgKGFzc2lnbiQyID0gY29sb3JzLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sYWIoKTsgfSksIGxhYjAgPSBhc3NpZ24kMlswXSwgbGFiMSA9IGFzc2lnbiQyWzFdLCBsYWIyID0gYXNzaWduJDJbMl0sIGxhYjMgPSBhc3NpZ24kMlszXSk7XG4gICAgICAgICAgICBJID0gZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWIgPSAoWzAsIDEsIDJdLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gKCgxLXQpKigxLXQpKigxLXQpICogbGFiMFtpXSkgKyAoMyAqICgxLXQpICogKDEtdCkgKiB0ICogbGFiMVtpXSkgKyAoMyAqICgxLXQpICogdCAqIHQgKiBsYWIyW2ldKSArICh0KnQqdCAqIGxhYjNbaV0pOyB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvciQ1KGxhYiwgJ2xhYicpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvcnMubGVuZ3RoID49IDUpIHtcbiAgICAgICAgICAgIC8vIGdlbmVyYWwgY2FzZSAoZGVncmVlIG4gYmV6aWVyKVxuICAgICAgICAgICAgdmFyIGxhYnMsIHJvdywgbjtcbiAgICAgICAgICAgIGxhYnMgPSBjb2xvcnMubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmxhYigpOyB9KTtcbiAgICAgICAgICAgIG4gPSBjb2xvcnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvdyA9IGJpbm9tX3JvdyhuKTtcbiAgICAgICAgICAgIEkgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHZhciB1ID0gMSAtIHQ7XG4gICAgICAgICAgICAgICAgdmFyIGxhYiA9IChbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBsYWJzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBlbCwgaikgeyByZXR1cm4gKHN1bSArIHJvd1tqXSAqIE1hdGgucG93KCB1LCAobiAtIGopICkgKiBNYXRoLnBvdyggdCwgaiApICogZWxbaV0pOyB9LCAwKTsgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IkNShsYWIsICdsYWInKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vIHBvaW50IGluIHJ1bm5pbmcgYmV6aWVyIHdpdGggb25seSBvbmUgY29sb3IuXCIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEk7XG4gICAgfTtcblxuICAgIHZhciBiZXppZXJfMSA9IGZ1bmN0aW9uIChjb2xvcnMpIHtcbiAgICAgICAgdmFyIGYgPSBiZXppZXIoY29sb3JzKTtcbiAgICAgICAgZi5zY2FsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNjYWxlJDEoZik7IH07XG4gICAgICAgIHJldHVybiBmO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAqIGludGVycG9sYXRlcyBiZXR3ZWVuIGEgc2V0IG9mIGNvbG9ycyB1emluZyBhIGJlemllciBzcGxpbmVcbiAgICAgKiBibGVuZCBtb2RlIGZvcm11bGFzIHRha2VuIGZyb20gaHR0cDovL3d3dy52ZW50dXJlLXdhcmUuY29tL2tldmluL2NvZGluZy9sZXRzLWxlYXJuLW1hdGgtcGhvdG9zaG9wLWJsZW5kLW1vZGVzL1xuICAgICAqL1xuXG4gICAgdmFyIGNocm9tYSQzID0gY2hyb21hXzE7XG5cbiAgICB2YXIgYmxlbmQgPSBmdW5jdGlvbiAoYm90dG9tLCB0b3AsIG1vZGUpIHtcbiAgICAgICAgaWYgKCFibGVuZFttb2RlXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGJsZW5kIG1vZGUgJyArIG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBibGVuZFttb2RlXShib3R0b20sIHRvcCk7XG4gICAgfTtcblxuICAgIHZhciBibGVuZF9mID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChib3R0b20sdG9wKSB7XG4gICAgICAgICAgICB2YXIgYzAgPSBjaHJvbWEkMyh0b3ApLnJnYigpO1xuICAgICAgICAgICAgdmFyIGMxID0gY2hyb21hJDMoYm90dG9tKS5yZ2IoKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWEkMy5yZ2IoZihjMCwgYzEpKTtcbiAgICAgICAgfTsgfTtcblxuICAgIHZhciBlYWNoID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGZ1bmN0aW9uIChjMCwgYzEpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgICAgIG91dFswXSA9IGYoYzBbMF0sIGMxWzBdKTtcbiAgICAgICAgICAgIG91dFsxXSA9IGYoYzBbMV0sIGMxWzFdKTtcbiAgICAgICAgICAgIG91dFsyXSA9IGYoYzBbMl0sIGMxWzJdKTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07IH07XG5cbiAgICB2YXIgbm9ybWFsID0gZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGE7IH07XG4gICAgdmFyIG11bHRpcGx5ID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYSAqIGIgLyAyNTU7IH07XG4gICAgdmFyIGRhcmtlbiA9IGZ1bmN0aW9uIChhLGIpIHsgcmV0dXJuIGEgPiBiID8gYiA6IGE7IH07XG4gICAgdmFyIGxpZ2h0ZW4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBhID4gYiA/IGEgOiBiOyB9O1xuICAgIHZhciBzY3JlZW4gPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiAyNTUgKiAoMSAtICgxLWEvMjU1KSAqICgxLWIvMjU1KSk7IH07XG4gICAgdmFyIG92ZXJsYXkgPSBmdW5jdGlvbiAoYSxiKSB7IHJldHVybiBiIDwgMTI4ID8gMiAqIGEgKiBiIC8gMjU1IDogMjU1ICogKDEgLSAyICogKDEgLSBhIC8gMjU1ICkgKiAoIDEgLSBiIC8gMjU1ICkpOyB9O1xuICAgIHZhciBidXJuID0gZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gMjU1ICogKDEgLSAoMSAtIGIgLyAyNTUpIC8gKGEvMjU1KSk7IH07XG4gICAgdmFyIGRvZGdlID0gZnVuY3Rpb24gKGEsYikge1xuICAgICAgICBpZiAoYSA9PT0gMjU1KSB7IHJldHVybiAyNTU7IH1cbiAgICAgICAgYSA9IDI1NSAqIChiIC8gMjU1KSAvICgxIC0gYSAvIDI1NSk7XG4gICAgICAgIHJldHVybiBhID4gMjU1ID8gMjU1IDogYVxuICAgIH07XG5cbiAgICAvLyAjIGFkZCA9IChhLGIpIC0+XG4gICAgLy8gIyAgICAgaWYgKGEgKyBiID4gMjU1KSB0aGVuIDI1NSBlbHNlIGEgKyBiXG5cbiAgICBibGVuZC5ub3JtYWwgPSBibGVuZF9mKGVhY2gobm9ybWFsKSk7XG4gICAgYmxlbmQubXVsdGlwbHkgPSBibGVuZF9mKGVhY2gobXVsdGlwbHkpKTtcbiAgICBibGVuZC5zY3JlZW4gPSBibGVuZF9mKGVhY2goc2NyZWVuKSk7XG4gICAgYmxlbmQub3ZlcmxheSA9IGJsZW5kX2YoZWFjaChvdmVybGF5KSk7XG4gICAgYmxlbmQuZGFya2VuID0gYmxlbmRfZihlYWNoKGRhcmtlbikpO1xuICAgIGJsZW5kLmxpZ2h0ZW4gPSBibGVuZF9mKGVhY2gobGlnaHRlbikpO1xuICAgIGJsZW5kLmRvZGdlID0gYmxlbmRfZihlYWNoKGRvZGdlKSk7XG4gICAgYmxlbmQuYnVybiA9IGJsZW5kX2YoZWFjaChidXJuKSk7XG4gICAgLy8gYmxlbmQuYWRkID0gYmxlbmRfZihlYWNoKGFkZCkpO1xuXG4gICAgdmFyIGJsZW5kXzEgPSBibGVuZDtcblxuICAgIC8vIGN1YmVoZWxpeCBpbnRlcnBvbGF0aW9uXG4gICAgLy8gYmFzZWQgb24gRC5BLiBHcmVlbiBcIkEgY29sb3VyIHNjaGVtZSBmb3IgdGhlIGRpc3BsYXkgb2YgYXN0cm9ub21pY2FsIGludGVuc2l0eSBpbWFnZXNcIlxuICAgIC8vIGh0dHA6Ly9hc3Ryb24tc29jLmluL2J1bGxldGluLzExSnVuZS8yODkzOTIwMTEucGRmXG5cbiAgICB2YXIgdHlwZSQxID0gdXRpbHMudHlwZTtcbiAgICB2YXIgY2xpcF9yZ2IgPSB1dGlscy5jbGlwX3JnYjtcbiAgICB2YXIgVFdPUEkgPSB1dGlscy5UV09QSTtcbiAgICB2YXIgcG93JDIgPSBNYXRoLnBvdztcbiAgICB2YXIgc2luJDEgPSBNYXRoLnNpbjtcbiAgICB2YXIgY29zJDEgPSBNYXRoLmNvcztcbiAgICB2YXIgY2hyb21hJDIgPSBjaHJvbWFfMTtcblxuICAgIHZhciBjdWJlaGVsaXggPSBmdW5jdGlvbihzdGFydCwgcm90YXRpb25zLCBodWUsIGdhbW1hLCBsaWdodG5lc3MpIHtcbiAgICAgICAgaWYgKCBzdGFydCA9PT0gdm9pZCAwICkgc3RhcnQ9MzAwO1xuICAgICAgICBpZiAoIHJvdGF0aW9ucyA9PT0gdm9pZCAwICkgcm90YXRpb25zPS0xLjU7XG4gICAgICAgIGlmICggaHVlID09PSB2b2lkIDAgKSBodWU9MTtcbiAgICAgICAgaWYgKCBnYW1tYSA9PT0gdm9pZCAwICkgZ2FtbWE9MTtcbiAgICAgICAgaWYgKCBsaWdodG5lc3MgPT09IHZvaWQgMCApIGxpZ2h0bmVzcz1bMCwxXTtcblxuICAgICAgICB2YXIgZGggPSAwLCBkbDtcbiAgICAgICAgaWYgKHR5cGUkMShsaWdodG5lc3MpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkbCA9IGxpZ2h0bmVzc1sxXSAtIGxpZ2h0bmVzc1swXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRsID0gMDtcbiAgICAgICAgICAgIGxpZ2h0bmVzcyA9IFtsaWdodG5lc3MsIGxpZ2h0bmVzc107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZiA9IGZ1bmN0aW9uKGZyYWN0KSB7XG4gICAgICAgICAgICB2YXIgYSA9IFRXT1BJICogKCgoc3RhcnQrMTIwKS8zNjApICsgKHJvdGF0aW9ucyAqIGZyYWN0KSk7XG4gICAgICAgICAgICB2YXIgbCA9IHBvdyQyKGxpZ2h0bmVzc1swXSArIChkbCAqIGZyYWN0KSwgZ2FtbWEpO1xuICAgICAgICAgICAgdmFyIGggPSBkaCAhPT0gMCA/IGh1ZVswXSArIChmcmFjdCAqIGRoKSA6IGh1ZTtcbiAgICAgICAgICAgIHZhciBhbXAgPSAoaCAqIGwgKiAoMS1sKSkgLyAyO1xuICAgICAgICAgICAgdmFyIGNvc19hID0gY29zJDEoYSk7XG4gICAgICAgICAgICB2YXIgc2luX2EgPSBzaW4kMShhKTtcbiAgICAgICAgICAgIHZhciByID0gbCArIChhbXAgKiAoKC0wLjE0ODYxICogY29zX2EpICsgKDEuNzgyNzcqIHNpbl9hKSkpO1xuICAgICAgICAgICAgdmFyIGcgPSBsICsgKGFtcCAqICgoLTAuMjkyMjcgKiBjb3NfYSkgLSAoMC45MDY0OSogc2luX2EpKSk7XG4gICAgICAgICAgICB2YXIgYiA9IGwgKyAoYW1wICogKCsxLjk3Mjk0ICogY29zX2EpKTtcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWEkMihjbGlwX3JnYihbcioyNTUsZyoyNTUsYioyNTUsMV0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnN0YXJ0ID0gZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgaWYgKChzID09IG51bGwpKSB7IHJldHVybiBzdGFydDsgfVxuICAgICAgICAgICAgc3RhcnQgPSBzO1xuICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgIH07XG5cbiAgICAgICAgZi5yb3RhdGlvbnMgPSBmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICBpZiAoKHIgPT0gbnVsbCkpIHsgcmV0dXJuIHJvdGF0aW9uczsgfVxuICAgICAgICAgICAgcm90YXRpb25zID0gcjtcbiAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICB9O1xuXG4gICAgICAgIGYuZ2FtbWEgPSBmdW5jdGlvbihnKSB7XG4gICAgICAgICAgICBpZiAoKGcgPT0gbnVsbCkpIHsgcmV0dXJuIGdhbW1hOyB9XG4gICAgICAgICAgICBnYW1tYSA9IGc7XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLmh1ZSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgIGlmICgoaCA9PSBudWxsKSkgeyByZXR1cm4gaHVlOyB9XG4gICAgICAgICAgICBodWUgPSBoO1xuICAgICAgICAgICAgaWYgKHR5cGUkMShodWUpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgZGggPSBodWVbMV0gLSBodWVbMF07XG4gICAgICAgICAgICAgICAgaWYgKGRoID09PSAwKSB7IGh1ZSA9IGh1ZVsxXTsgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLmxpZ2h0bmVzcyA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgIGlmICgoaCA9PSBudWxsKSkgeyByZXR1cm4gbGlnaHRuZXNzOyB9XG4gICAgICAgICAgICBpZiAodHlwZSQxKGgpID09PSAnYXJyYXknKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzID0gaDtcbiAgICAgICAgICAgICAgICBkbCA9IGhbMV0gLSBoWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3MgPSBbaCxoXTtcbiAgICAgICAgICAgICAgICBkbCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZjtcbiAgICAgICAgfTtcblxuICAgICAgICBmLnNjYWxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hyb21hJDIuc2NhbGUoZik7IH07XG5cbiAgICAgICAgZi5odWUoaHVlKTtcblxuICAgICAgICByZXR1cm4gZjtcbiAgICB9O1xuXG4gICAgdmFyIENvbG9yJDQgPSBDb2xvcl8xO1xuICAgIHZhciBkaWdpdHMgPSAnMDEyMzQ1Njc4OWFiY2RlZic7XG5cbiAgICB2YXIgZmxvb3IkMSA9IE1hdGguZmxvb3I7XG4gICAgdmFyIHJhbmRvbSA9IE1hdGgucmFuZG9tO1xuXG4gICAgdmFyIHJhbmRvbV8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29kZSA9ICcjJztcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPDY7IGkrKykge1xuICAgICAgICAgICAgY29kZSArPSBkaWdpdHMuY2hhckF0KGZsb29yJDEocmFuZG9tKCkgKiAxNikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IkNChjb2RlLCAnaGV4Jyk7XG4gICAgfTtcblxuICAgIHZhciB0eXBlID0gdHlwZSRwO1xuICAgIHZhciBsb2cgPSBNYXRoLmxvZztcbiAgICB2YXIgcG93JDEgPSBNYXRoLnBvdztcbiAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgIHZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5cbiAgICB2YXIgYW5hbHl6ZSA9IGZ1bmN0aW9uIChkYXRhLCBrZXkpIHtcbiAgICAgICAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleT1udWxsO1xuXG4gICAgICAgIHZhciByID0ge1xuICAgICAgICAgICAgbWluOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTUFYX1ZBTFVFKi0xLFxuICAgICAgICAgICAgc3VtOiAwLFxuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0eXBlKGRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZGF0YSA9IE9iamVjdC52YWx1ZXMoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIGlmIChrZXkgJiYgdHlwZSh2YWwpID09PSAnb2JqZWN0JykgeyB2YWwgPSB2YWxba2V5XTsgfVxuICAgICAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCAmJiAhaXNOYU4odmFsKSkge1xuICAgICAgICAgICAgICAgIHIudmFsdWVzLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICByLnN1bSArPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHIubWluKSB7IHIubWluID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA+IHIubWF4KSB7IHIubWF4ID0gdmFsOyB9XG4gICAgICAgICAgICAgICAgci5jb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByLmRvbWFpbiA9IFtyLm1pbiwgci5tYXhdO1xuXG4gICAgICAgIHIubGltaXRzID0gZnVuY3Rpb24gKG1vZGUsIG51bSkgeyByZXR1cm4gbGltaXRzKHIsIG1vZGUsIG51bSk7IH07XG5cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuXG4gICAgdmFyIGxpbWl0cyA9IGZ1bmN0aW9uIChkYXRhLCBtb2RlLCBudW0pIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdlcXVhbCc7XG4gICAgICAgIGlmICggbnVtID09PSB2b2lkIDAgKSBudW09NztcblxuICAgICAgICBpZiAodHlwZShkYXRhKSA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgICBkYXRhID0gYW5hbHl6ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGRhdGEudmFsdWVzLnNvcnQoZnVuY3Rpb24gKGEsYikgeyByZXR1cm4gYS1iOyB9KTtcblxuICAgICAgICBpZiAobnVtID09PSAxKSB7IHJldHVybiBbbWluLG1heF07IH1cblxuICAgICAgICB2YXIgbGltaXRzID0gW107XG5cbiAgICAgICAgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdjJykgeyAvLyBjb250aW51b3VzXG4gICAgICAgICAgICBsaW1pdHMucHVzaChtaW4pO1xuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtb2RlLnN1YnN0cigwLDEpID09PSAnZScpIHsgLy8gZXF1YWwgaW50ZXJ2YWxcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8bnVtOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChtaW4rKChpL251bSkqKG1heC1taW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdHMucHVzaChtYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2wnKSB7IC8vIGxvZyBzY2FsZVxuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dhcml0aG1pYyBzY2FsZXMgYXJlIG9ubHkgcG9zc2libGUgZm9yIHZhbHVlcyA+IDAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtaW5fbG9nID0gTWF0aC5MT0cxMEUgKiBsb2cobWluKTtcbiAgICAgICAgICAgIHZhciBtYXhfbG9nID0gTWF0aC5MT0cxMEUgKiBsb2cobWF4KTtcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKG1pbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDE9MTsgaSQxPG51bTsgaSQxKyspIHtcbiAgICAgICAgICAgICAgICBsaW1pdHMucHVzaChwb3ckMSgxMCwgbWluX2xvZyArICgoaSQxL251bSkgKiAobWF4X2xvZyAtIG1pbl9sb2cpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG1vZGUuc3Vic3RyKDAsMSkgPT09ICdxJykgeyAvLyBxdWFudGlsZSBzY2FsZVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMj0xOyBpJDI8bnVtOyBpJDIrKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gKCh2YWx1ZXMubGVuZ3RoLTEpICogaSQyKS9udW07XG4gICAgICAgICAgICAgICAgdmFyIHBiID0gZmxvb3IocCk7XG4gICAgICAgICAgICAgICAgaWYgKHBiID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKHZhbHVlc1twYl0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHAgPiBwYlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBwIC0gcGI7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0cy5wdXNoKCh2YWx1ZXNbcGJdKigxLXByKSkgKyAodmFsdWVzW3BiKzFdKnByKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXRzLnB1c2gobWF4KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobW9kZS5zdWJzdHIoMCwxKSA9PT0gJ2snKSB7IC8vIGstbWVhbnMgY2x1c3RlcmluZ1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uXG4gICAgICAgICAgICBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvZmlndWUvc291cmNlL2Jyb3dzZS90cnVuay9maWd1ZS5qcyMzMzZcbiAgICAgICAgICAgIHNpbXBsaWZpZWQgZm9yIDEtZCBpbnB1dCB2YWx1ZXNcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgY2x1c3RlcjtcbiAgICAgICAgICAgIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9IG5ldyBBcnJheShuKTtcbiAgICAgICAgICAgIHZhciBjbHVzdGVyU2l6ZXMgPSBuZXcgQXJyYXkobnVtKTtcbiAgICAgICAgICAgIHZhciByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5iX2l0ZXJzID0gMDtcbiAgICAgICAgICAgIHZhciBjZW50cm9pZHMgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBnZXQgc2VlZCB2YWx1ZXNcbiAgICAgICAgICAgIGNlbnRyb2lkcyA9IFtdO1xuICAgICAgICAgICAgY2VudHJvaWRzLnB1c2gobWluKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMz0xOyBpJDM8bnVtOyBpJDMrKykge1xuICAgICAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1pbiArICgoaSQzL251bSkgKiAobWF4LW1pbikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlbnRyb2lkcy5wdXNoKG1heCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ25tZW50IHN0ZXBcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqPTA7IGo8bnVtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlclNpemVzW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ0PTA7IGkkNDxuOyBpJDQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaSQ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVzdCA9ICh2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDE9MDsgaiQxPG51bTsgaiQxKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYWJzJDEoY2VudHJvaWRzW2okMV0tdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPCBtaW5kaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluZGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdCA9IGokMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsdXN0ZXJTaXplc1tiZXN0XSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudHNbaSQ0XSA9IGJlc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY2VudHJvaWRzIHN0ZXBcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q2VudHJvaWRzID0gbmV3IEFycmF5KG51bSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQyPTA7IGokMjxudW07IGokMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tqJDJdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSQ1PTA7IGkkNTxuOyBpJDUrKykge1xuICAgICAgICAgICAgICAgICAgICBjbHVzdGVyID0gYXNzaWdubWVudHNbaSQ1XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NlbnRyb2lkc1tjbHVzdGVyXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VudHJvaWRzW2NsdXN0ZXJdID0gdmFsdWVzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZW50cm9pZHNbY2x1c3Rlcl0gKz0gdmFsdWVzW2kkNV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQzPTA7IGokMzxudW07IGokMysrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbnRyb2lkc1tqJDNdICo9IDEvY2x1c3RlclNpemVzW2okM107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgY29udmVyZ2VuY2VcbiAgICAgICAgICAgICAgICByZXBlYXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDQ9MDsgaiQ0PG51bTsgaiQ0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NlbnRyb2lkc1tqJDRdICE9PSBjZW50cm9pZHNbaiQ0XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2VudHJvaWRzID0gbmV3Q2VudHJvaWRzO1xuICAgICAgICAgICAgICAgIG5iX2l0ZXJzKys7XG5cbiAgICAgICAgICAgICAgICBpZiAobmJfaXRlcnMgPiAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmaW5pc2hlZCBrLW1lYW5zIGNsdXN0ZXJpbmdcbiAgICAgICAgICAgIC8vIHRoZSBuZXh0IHBhcnQgaXMgYm9ycm93ZWQgZnJvbSBnYWJyaWVsZmxvci5pdFxuICAgICAgICAgICAgdmFyIGtDbHVzdGVycyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaiQ1PTA7IGokNTxudW07IGokNSsrKSB7XG4gICAgICAgICAgICAgICAga0NsdXN0ZXJzW2okNV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkkNj0wOyBpJDY8bjsgaSQ2KyspIHtcbiAgICAgICAgICAgICAgICBjbHVzdGVyID0gYXNzaWdubWVudHNbaSQ2XTtcbiAgICAgICAgICAgICAgICBrQ2x1c3RlcnNbY2x1c3Rlcl0ucHVzaCh2YWx1ZXNbaSQ2XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdG1wS01lYW5zQnJlYWtzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBqJDY9MDsgaiQ2PG51bTsgaiQ2KyspIHtcbiAgICAgICAgICAgICAgICB0bXBLTWVhbnNCcmVha3MucHVzaChrQ2x1c3RlcnNbaiQ2XVswXSk7XG4gICAgICAgICAgICAgICAgdG1wS01lYW5zQnJlYWtzLnB1c2goa0NsdXN0ZXJzW2okNl1ba0NsdXN0ZXJzW2okNl0ubGVuZ3RoLTFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRtcEtNZWFuc0JyZWFrcyA9IHRtcEtNZWFuc0JyZWFrcy5zb3J0KGZ1bmN0aW9uIChhLGIpeyByZXR1cm4gYS1iOyB9KTtcbiAgICAgICAgICAgIGxpbWl0cy5wdXNoKHRtcEtNZWFuc0JyZWFrc1swXSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDc9MTsgaSQ3IDwgdG1wS01lYW5zQnJlYWtzLmxlbmd0aDsgaSQ3Kz0gMikge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gdG1wS01lYW5zQnJlYWtzW2kkN107XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTih2KSAmJiAobGltaXRzLmluZGV4T2YodikgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICBsaW1pdHMucHVzaCh2KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbWl0cztcbiAgICB9O1xuXG4gICAgdmFyIGFuYWx5emVfMSA9IHthbmFseXplOiBhbmFseXplLCBsaW1pdHM6IGxpbWl0c307XG5cbiAgICB2YXIgQ29sb3IkMyA9IENvbG9yXzE7XG5cblxuICAgIHZhciBjb250cmFzdCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIC8vIFdDQUcgY29udHJhc3QgcmF0aW9cbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jY29udHJhc3QtcmF0aW9kZWZcbiAgICAgICAgYSA9IG5ldyBDb2xvciQzKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yJDMoYik7XG4gICAgICAgIHZhciBsMSA9IGEubHVtaW5hbmNlKCk7XG4gICAgICAgIHZhciBsMiA9IGIubHVtaW5hbmNlKCk7XG4gICAgICAgIHJldHVybiBsMSA+IGwyID8gKGwxICsgMC4wNSkgLyAobDIgKyAwLjA1KSA6IChsMiArIDAuMDUpIC8gKGwxICsgMC4wNSk7XG4gICAgfTtcblxuICAgIHZhciBDb2xvciQyID0gQ29sb3JfMTtcbiAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgICB2YXIgcG93ID0gTWF0aC5wb3c7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluO1xuICAgIHZhciBtYXggPSBNYXRoLm1heDtcbiAgICB2YXIgYXRhbjIgPSBNYXRoLmF0YW4yO1xuICAgIHZhciBhYnMgPSBNYXRoLmFicztcbiAgICB2YXIgY29zID0gTWF0aC5jb3M7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luO1xuICAgIHZhciBleHAgPSBNYXRoLmV4cDtcbiAgICB2YXIgUEkgPSBNYXRoLlBJO1xuXG4gICAgdmFyIGRlbHRhRSA9IGZ1bmN0aW9uKGEsIGIsIEtsLCBLYywgS2gpIHtcbiAgICAgICAgaWYgKCBLbCA9PT0gdm9pZCAwICkgS2w9MTtcbiAgICAgICAgaWYgKCBLYyA9PT0gdm9pZCAwICkgS2M9MTtcbiAgICAgICAgaWYgKCBLaCA9PT0gdm9pZCAwICkgS2g9MTtcblxuICAgICAgICAvLyBEZWx0YSBFIChDSUUgMjAwMClcbiAgICAgICAgLy8gc2VlIGh0dHA6Ly93d3cuYnJ1Y2VsaW5kYmxvb20uY29tL2luZGV4Lmh0bWw/RXFuX0RlbHRhRV9DSUUyMDAwLmh0bWxcbiAgICAgICAgdmFyIHJhZDJkZWcgPSBmdW5jdGlvbihyYWQpIHtcbiAgICAgICAgICAgIHJldHVybiAzNjAgKiByYWQgLyAoMiAqIFBJKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRlZzJyYWQgPSBmdW5jdGlvbihkZWcpIHtcbiAgICAgICAgICAgIHJldHVybiAoMiAqIFBJICogZGVnKSAvIDM2MDtcbiAgICAgICAgfTtcbiAgICAgICAgYSA9IG5ldyBDb2xvciQyKGEpO1xuICAgICAgICBiID0gbmV3IENvbG9yJDIoYik7XG4gICAgICAgIHZhciByZWYgPSBBcnJheS5mcm9tKGEubGFiKCkpO1xuICAgICAgICB2YXIgTDEgPSByZWZbMF07XG4gICAgICAgIHZhciBhMSA9IHJlZlsxXTtcbiAgICAgICAgdmFyIGIxID0gcmVmWzJdO1xuICAgICAgICB2YXIgcmVmJDEgPSBBcnJheS5mcm9tKGIubGFiKCkpO1xuICAgICAgICB2YXIgTDIgPSByZWYkMVswXTtcbiAgICAgICAgdmFyIGEyID0gcmVmJDFbMV07XG4gICAgICAgIHZhciBiMiA9IHJlZiQxWzJdO1xuICAgICAgICB2YXIgYXZnTCA9IChMMSArIEwyKS8yO1xuICAgICAgICB2YXIgQzEgPSBzcXJ0KHBvdyhhMSwgMikgKyBwb3coYjEsIDIpKTtcbiAgICAgICAgdmFyIEMyID0gc3FydChwb3coYTIsIDIpICsgcG93KGIyLCAyKSk7XG4gICAgICAgIHZhciBhdmdDID0gKEMxICsgQzIpLzI7XG4gICAgICAgIHZhciBHID0gMC41KigxLXNxcnQocG93KGF2Z0MsIDcpLyhwb3coYXZnQywgNykgKyBwb3coMjUsIDcpKSkpO1xuICAgICAgICB2YXIgYTFwID0gYTEqKDErRyk7XG4gICAgICAgIHZhciBhMnAgPSBhMiooMStHKTtcbiAgICAgICAgdmFyIEMxcCA9IHNxcnQocG93KGExcCwgMikgKyBwb3coYjEsIDIpKTtcbiAgICAgICAgdmFyIEMycCA9IHNxcnQocG93KGEycCwgMikgKyBwb3coYjIsIDIpKTtcbiAgICAgICAgdmFyIGF2Z0NwID0gKEMxcCArIEMycCkvMjtcbiAgICAgICAgdmFyIGFyY3RhbjEgPSByYWQyZGVnKGF0YW4yKGIxLCBhMXApKTtcbiAgICAgICAgdmFyIGFyY3RhbjIgPSByYWQyZGVnKGF0YW4yKGIyLCBhMnApKTtcbiAgICAgICAgdmFyIGgxcCA9IGFyY3RhbjEgPj0gMCA/IGFyY3RhbjEgOiBhcmN0YW4xICsgMzYwO1xuICAgICAgICB2YXIgaDJwID0gYXJjdGFuMiA+PSAwID8gYXJjdGFuMiA6IGFyY3RhbjIgKyAzNjA7XG4gICAgICAgIHZhciBhdmdIcCA9IGFicyhoMXAgLSBoMnApID4gMTgwID8gKGgxcCArIGgycCArIDM2MCkvMiA6IChoMXAgKyBoMnApLzI7XG4gICAgICAgIHZhciBUID0gMSAtIDAuMTcqY29zKGRlZzJyYWQoYXZnSHAgLSAzMCkpICsgMC4yNCpjb3MoZGVnMnJhZCgyKmF2Z0hwKSkgKyAwLjMyKmNvcyhkZWcycmFkKDMqYXZnSHAgKyA2KSkgLSAwLjIqY29zKGRlZzJyYWQoNCphdmdIcCAtIDYzKSk7XG4gICAgICAgIHZhciBkZWx0YUhwID0gaDJwIC0gaDFwO1xuICAgICAgICBkZWx0YUhwID0gYWJzKGRlbHRhSHApIDw9IDE4MCA/IGRlbHRhSHAgOiBoMnAgPD0gaDFwID8gZGVsdGFIcCArIDM2MCA6IGRlbHRhSHAgLSAzNjA7XG4gICAgICAgIGRlbHRhSHAgPSAyKnNxcnQoQzFwKkMycCkqc2luKGRlZzJyYWQoZGVsdGFIcCkvMik7XG4gICAgICAgIHZhciBkZWx0YUwgPSBMMiAtIEwxO1xuICAgICAgICB2YXIgZGVsdGFDcCA9IEMycCAtIEMxcDsgICAgXG4gICAgICAgIHZhciBzbCA9IDEgKyAoMC4wMTUqcG93KGF2Z0wgLSA1MCwgMikpL3NxcnQoMjAgKyBwb3coYXZnTCAtIDUwLCAyKSk7XG4gICAgICAgIHZhciBzYyA9IDEgKyAwLjA0NSphdmdDcDtcbiAgICAgICAgdmFyIHNoID0gMSArIDAuMDE1KmF2Z0NwKlQ7XG4gICAgICAgIHZhciBkZWx0YVRoZXRhID0gMzAqZXhwKC1wb3coKGF2Z0hwIC0gMjc1KS8yNSwgMikpO1xuICAgICAgICB2YXIgUmMgPSAyKnNxcnQocG93KGF2Z0NwLCA3KS8ocG93KGF2Z0NwLCA3KSArIHBvdygyNSwgNykpKTtcbiAgICAgICAgdmFyIFJ0ID0gLVJjKnNpbigyKmRlZzJyYWQoZGVsdGFUaGV0YSkpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gc3FydChwb3coZGVsdGFMLyhLbCpzbCksIDIpICsgcG93KGRlbHRhQ3AvKEtjKnNjKSwgMikgKyBwb3coZGVsdGFIcC8oS2gqc2gpLCAyKSArIFJ0KihkZWx0YUNwLyhLYypzYykpKihkZWx0YUhwLyhLaCpzaCkpKTtcbiAgICAgICAgcmV0dXJuIG1heCgwLCBtaW4oMTAwLCByZXN1bHQpKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbG9yJDEgPSBDb2xvcl8xO1xuXG4gICAgLy8gc2ltcGxlIEV1Y2xpZGVhbiBkaXN0YW5jZVxuICAgIHZhciBkaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIsIG1vZGUpIHtcbiAgICAgICAgaWYgKCBtb2RlID09PSB2b2lkIDAgKSBtb2RlPSdsYWInO1xuXG4gICAgICAgIC8vIERlbHRhIEUgKENJRSAxOTc2KVxuICAgICAgICAvLyBzZWUgaHR0cDovL3d3dy5icnVjZWxpbmRibG9vbS5jb20vaW5kZXguaHRtbD9FcXVhdGlvbnMuaHRtbFxuICAgICAgICBhID0gbmV3IENvbG9yJDEoYSk7XG4gICAgICAgIGIgPSBuZXcgQ29sb3IkMShiKTtcbiAgICAgICAgdmFyIGwxID0gYS5nZXQobW9kZSk7XG4gICAgICAgIHZhciBsMiA9IGIuZ2V0KG1vZGUpO1xuICAgICAgICB2YXIgc3VtX3NxID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBsMSkge1xuICAgICAgICAgICAgdmFyIGQgPSAobDFbaV0gfHwgMCkgLSAobDJbaV0gfHwgMCk7XG4gICAgICAgICAgICBzdW1fc3EgKz0gZCpkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoc3VtX3NxKTtcbiAgICB9O1xuXG4gICAgdmFyIENvbG9yID0gQ29sb3JfMTtcblxuICAgIHZhciB2YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseSggQ29sb3IsIFsgbnVsbCBdLmNvbmNhdCggYXJncykgKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHNvbWUgcHJlLWRlZmluZWQgY29sb3Igc2NhbGVzOlxuICAgIHZhciBjaHJvbWEkMSA9IGNocm9tYV8xO1xuXG4gICAgdmFyIHNjYWxlID0gc2NhbGUkMjtcblxuICAgIHZhciBzY2FsZXMgPSB7XG4gICAgXHRjb29sOiBmdW5jdGlvbiBjb29sKCkgeyByZXR1cm4gc2NhbGUoW2Nocm9tYSQxLmhzbCgxODAsMSwuOSksIGNocm9tYSQxLmhzbCgyNTAsLjcsLjQpXSkgfSxcbiAgICBcdGhvdDogZnVuY3Rpb24gaG90KCkgeyByZXR1cm4gc2NhbGUoWycjMDAwJywnI2YwMCcsJyNmZjAnLCcjZmZmJ10pLm1vZGUoJ3JnYicpIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICAgIENvbG9yQnJld2VyIGNvbG9ycyBmb3IgY2hyb21hLmpzXG5cbiAgICAgICAgQ29weXJpZ2h0IChjKSAyMDAyIEN5bnRoaWEgQnJld2VyLCBNYXJrIEhhcnJvd2VyLCBhbmQgVGhlXG4gICAgICAgIFBlbm5zeWx2YW5pYSBTdGF0ZSBVbml2ZXJzaXR5LlxuXG4gICAgICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gICAgICAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgICAgICAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gICAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4gICAgICAgIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUgZGlzdHJpYnV0ZWRcbiAgICAgICAgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1JcbiAgICAgICAgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAgICAgICAgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAgICAqL1xuXG4gICAgdmFyIGNvbG9yYnJld2VyID0ge1xuICAgICAgICAvLyBzZXF1ZW50aWFsXG4gICAgICAgIE9yUmQ6IFsnI2ZmZjdlYycsICcjZmVlOGM4JywgJyNmZGQ0OWUnLCAnI2ZkYmI4NCcsICcjZmM4ZDU5JywgJyNlZjY1NDgnLCAnI2Q3MzAxZicsICcjYjMwMDAwJywgJyM3ZjAwMDAnXSxcbiAgICAgICAgUHVCdTogWycjZmZmN2ZiJywgJyNlY2U3ZjInLCAnI2QwZDFlNicsICcjYTZiZGRiJywgJyM3NGE5Y2YnLCAnIzM2OTBjMCcsICcjMDU3MGIwJywgJyMwNDVhOGQnLCAnIzAyMzg1OCddLFxuICAgICAgICBCdVB1OiBbJyNmN2ZjZmQnLCAnI2UwZWNmNCcsICcjYmZkM2U2JywgJyM5ZWJjZGEnLCAnIzhjOTZjNicsICcjOGM2YmIxJywgJyM4ODQxOWQnLCAnIzgxMGY3YycsICcjNGQwMDRiJ10sXG4gICAgICAgIE9yYW5nZXM6IFsnI2ZmZjVlYicsICcjZmVlNmNlJywgJyNmZGQwYTInLCAnI2ZkYWU2YicsICcjZmQ4ZDNjJywgJyNmMTY5MTMnLCAnI2Q5NDgwMScsICcjYTYzNjAzJywgJyM3ZjI3MDQnXSxcbiAgICAgICAgQnVHbjogWycjZjdmY2ZkJywgJyNlNWY1ZjknLCAnI2NjZWNlNicsICcjOTlkOGM5JywgJyM2NmMyYTQnLCAnIzQxYWU3NicsICcjMjM4YjQ1JywgJyMwMDZkMmMnLCAnIzAwNDQxYiddLFxuICAgICAgICBZbE9yQnI6IFsnI2ZmZmZlNScsICcjZmZmN2JjJywgJyNmZWUzOTEnLCAnI2ZlYzQ0ZicsICcjZmU5OTI5JywgJyNlYzcwMTQnLCAnI2NjNGMwMicsICcjOTkzNDA0JywgJyM2NjI1MDYnXSxcbiAgICAgICAgWWxHbjogWycjZmZmZmU1JywgJyNmN2ZjYjknLCAnI2Q5ZjBhMycsICcjYWRkZDhlJywgJyM3OGM2NzknLCAnIzQxYWI1ZCcsICcjMjM4NDQzJywgJyMwMDY4MzcnLCAnIzAwNDUyOSddLFxuICAgICAgICBSZWRzOiBbJyNmZmY1ZjAnLCAnI2ZlZTBkMicsICcjZmNiYmExJywgJyNmYzkyNzInLCAnI2ZiNmE0YScsICcjZWYzYjJjJywgJyNjYjE4MWQnLCAnI2E1MGYxNScsICcjNjcwMDBkJ10sXG4gICAgICAgIFJkUHU6IFsnI2ZmZjdmMycsICcjZmRlMGRkJywgJyNmY2M1YzAnLCAnI2ZhOWZiNScsICcjZjc2OGExJywgJyNkZDM0OTcnLCAnI2FlMDE3ZScsICcjN2EwMTc3JywgJyM0OTAwNmEnXSxcbiAgICAgICAgR3JlZW5zOiBbJyNmN2ZjZjUnLCAnI2U1ZjVlMCcsICcjYzdlOWMwJywgJyNhMWQ5OWInLCAnIzc0YzQ3NicsICcjNDFhYjVkJywgJyMyMzhiNDUnLCAnIzAwNmQyYycsICcjMDA0NDFiJ10sXG4gICAgICAgIFlsR25CdTogWycjZmZmZmQ5JywgJyNlZGY4YjEnLCAnI2M3ZTliNCcsICcjN2ZjZGJiJywgJyM0MWI2YzQnLCAnIzFkOTFjMCcsICcjMjI1ZWE4JywgJyMyNTM0OTQnLCAnIzA4MWQ1OCddLFxuICAgICAgICBQdXJwbGVzOiBbJyNmY2ZiZmQnLCAnI2VmZWRmNScsICcjZGFkYWViJywgJyNiY2JkZGMnLCAnIzllOWFjOCcsICcjODA3ZGJhJywgJyM2YTUxYTMnLCAnIzU0Mjc4ZicsICcjM2YwMDdkJ10sXG4gICAgICAgIEduQnU6IFsnI2Y3ZmNmMCcsICcjZTBmM2RiJywgJyNjY2ViYzUnLCAnI2E4ZGRiNScsICcjN2JjY2M0JywgJyM0ZWIzZDMnLCAnIzJiOGNiZScsICcjMDg2OGFjJywgJyMwODQwODEnXSxcbiAgICAgICAgR3JleXM6IFsnI2ZmZmZmZicsICcjZjBmMGYwJywgJyNkOWQ5ZDknLCAnI2JkYmRiZCcsICcjOTY5Njk2JywgJyM3MzczNzMnLCAnIzUyNTI1MicsICcjMjUyNTI1JywgJyMwMDAwMDAnXSxcbiAgICAgICAgWWxPclJkOiBbJyNmZmZmY2MnLCAnI2ZmZWRhMCcsICcjZmVkOTc2JywgJyNmZWIyNGMnLCAnI2ZkOGQzYycsICcjZmM0ZTJhJywgJyNlMzFhMWMnLCAnI2JkMDAyNicsICcjODAwMDI2J10sXG4gICAgICAgIFB1UmQ6IFsnI2Y3ZjRmOScsICcjZTdlMWVmJywgJyNkNGI5ZGEnLCAnI2M5OTRjNycsICcjZGY2NWIwJywgJyNlNzI5OGEnLCAnI2NlMTI1NicsICcjOTgwMDQzJywgJyM2NzAwMWYnXSxcbiAgICAgICAgQmx1ZXM6IFsnI2Y3ZmJmZicsICcjZGVlYmY3JywgJyNjNmRiZWYnLCAnIzllY2FlMScsICcjNmJhZWQ2JywgJyM0MjkyYzYnLCAnIzIxNzFiNScsICcjMDg1MTljJywgJyMwODMwNmInXSxcbiAgICAgICAgUHVCdUduOiBbJyNmZmY3ZmInLCAnI2VjZTJmMCcsICcjZDBkMWU2JywgJyNhNmJkZGInLCAnIzY3YTljZicsICcjMzY5MGMwJywgJyMwMjgxOGEnLCAnIzAxNmM1OScsICcjMDE0NjM2J10sXG4gICAgICAgIFZpcmlkaXM6IFsnIzQ0MDE1NCcsICcjNDgyNzc3JywgJyMzZjRhOGEnLCAnIzMxNjc4ZScsICcjMjY4MzhmJywgJyMxZjlkOGEnLCAnIzZjY2U1YScsICcjYjZkZTJiJywgJyNmZWU4MjUnXSxcblxuICAgICAgICAvLyBkaXZlcmdpbmdcblxuICAgICAgICBTcGVjdHJhbDogWycjOWUwMTQyJywgJyNkNTNlNGYnLCAnI2Y0NmQ0MycsICcjZmRhZTYxJywgJyNmZWUwOGInLCAnI2ZmZmZiZicsICcjZTZmNTk4JywgJyNhYmRkYTQnLCAnIzY2YzJhNScsICcjMzI4OGJkJywgJyM1ZTRmYTInXSxcbiAgICAgICAgUmRZbEduOiBbJyNhNTAwMjYnLCAnI2Q3MzAyNycsICcjZjQ2ZDQzJywgJyNmZGFlNjEnLCAnI2ZlZTA4YicsICcjZmZmZmJmJywgJyNkOWVmOGInLCAnI2E2ZDk2YScsICcjNjZiZDYzJywgJyMxYTk4NTAnLCAnIzAwNjgzNyddLFxuICAgICAgICBSZEJ1OiBbJyM2NzAwMWYnLCAnI2IyMTgyYicsICcjZDY2MDRkJywgJyNmNGE1ODInLCAnI2ZkZGJjNycsICcjZjdmN2Y3JywgJyNkMWU1ZjAnLCAnIzkyYzVkZScsICcjNDM5M2MzJywgJyMyMTY2YWMnLCAnIzA1MzA2MSddLFxuICAgICAgICBQaVlHOiBbJyM4ZTAxNTInLCAnI2M1MWI3ZCcsICcjZGU3N2FlJywgJyNmMWI2ZGEnLCAnI2ZkZTBlZicsICcjZjdmN2Y3JywgJyNlNmY1ZDAnLCAnI2I4ZTE4NicsICcjN2ZiYzQxJywgJyM0ZDkyMjEnLCAnIzI3NjQxOSddLFxuICAgICAgICBQUkduOiBbJyM0MDAwNGInLCAnIzc2MmE4MycsICcjOTk3MGFiJywgJyNjMmE1Y2YnLCAnI2U3ZDRlOCcsICcjZjdmN2Y3JywgJyNkOWYwZDMnLCAnI2E2ZGJhMCcsICcjNWFhZTYxJywgJyMxYjc4MzcnLCAnIzAwNDQxYiddLFxuICAgICAgICBSZFlsQnU6IFsnI2E1MDAyNicsICcjZDczMDI3JywgJyNmNDZkNDMnLCAnI2ZkYWU2MScsICcjZmVlMDkwJywgJyNmZmZmYmYnLCAnI2UwZjNmOCcsICcjYWJkOWU5JywgJyM3NGFkZDEnLCAnIzQ1NzViNCcsICcjMzEzNjk1J10sXG4gICAgICAgIEJyQkc6IFsnIzU0MzAwNScsICcjOGM1MTBhJywgJyNiZjgxMmQnLCAnI2RmYzI3ZCcsICcjZjZlOGMzJywgJyNmNWY1ZjUnLCAnI2M3ZWFlNScsICcjODBjZGMxJywgJyMzNTk3OGYnLCAnIzAxNjY1ZScsICcjMDAzYzMwJ10sXG4gICAgICAgIFJkR3k6IFsnIzY3MDAxZicsICcjYjIxODJiJywgJyNkNjYwNGQnLCAnI2Y0YTU4MicsICcjZmRkYmM3JywgJyNmZmZmZmYnLCAnI2UwZTBlMCcsICcjYmFiYWJhJywgJyM4Nzg3ODcnLCAnIzRkNGQ0ZCcsICcjMWExYTFhJ10sXG4gICAgICAgIFB1T3I6IFsnIzdmM2IwOCcsICcjYjM1ODA2JywgJyNlMDgyMTQnLCAnI2ZkYjg2MycsICcjZmVlMGI2JywgJyNmN2Y3ZjcnLCAnI2Q4ZGFlYicsICcjYjJhYmQyJywgJyM4MDczYWMnLCAnIzU0Mjc4OCcsICcjMmQwMDRiJ10sXG5cbiAgICAgICAgLy8gcXVhbGl0YXRpdmVcblxuICAgICAgICBTZXQyOiBbJyM2NmMyYTUnLCAnI2ZjOGQ2MicsICcjOGRhMGNiJywgJyNlNzhhYzMnLCAnI2E2ZDg1NCcsICcjZmZkOTJmJywgJyNlNWM0OTQnLCAnI2IzYjNiMyddLFxuICAgICAgICBBY2NlbnQ6IFsnIzdmYzk3ZicsICcjYmVhZWQ0JywgJyNmZGMwODYnLCAnI2ZmZmY5OScsICcjMzg2Y2IwJywgJyNmMDAyN2YnLCAnI2JmNWIxNycsICcjNjY2NjY2J10sXG4gICAgICAgIFNldDE6IFsnI2U0MWExYycsICcjMzc3ZWI4JywgJyM0ZGFmNGEnLCAnIzk4NGVhMycsICcjZmY3ZjAwJywgJyNmZmZmMzMnLCAnI2E2NTYyOCcsICcjZjc4MWJmJywgJyM5OTk5OTknXSxcbiAgICAgICAgU2V0MzogWycjOGRkM2M3JywgJyNmZmZmYjMnLCAnI2JlYmFkYScsICcjZmI4MDcyJywgJyM4MGIxZDMnLCAnI2ZkYjQ2MicsICcjYjNkZTY5JywgJyNmY2NkZTUnLCAnI2Q5ZDlkOScsICcjYmM4MGJkJywgJyNjY2ViYzUnLCAnI2ZmZWQ2ZiddLFxuICAgICAgICBEYXJrMjogWycjMWI5ZTc3JywgJyNkOTVmMDInLCAnIzc1NzBiMycsICcjZTcyOThhJywgJyM2NmE2MWUnLCAnI2U2YWIwMicsICcjYTY3NjFkJywgJyM2NjY2NjYnXSxcbiAgICAgICAgUGFpcmVkOiBbJyNhNmNlZTMnLCAnIzFmNzhiNCcsICcjYjJkZjhhJywgJyMzM2EwMmMnLCAnI2ZiOWE5OScsICcjZTMxYTFjJywgJyNmZGJmNmYnLCAnI2ZmN2YwMCcsICcjY2FiMmQ2JywgJyM2YTNkOWEnLCAnI2ZmZmY5OScsICcjYjE1OTI4J10sXG4gICAgICAgIFBhc3RlbDI6IFsnI2IzZTJjZCcsICcjZmRjZGFjJywgJyNjYmQ1ZTgnLCAnI2Y0Y2FlNCcsICcjZTZmNWM5JywgJyNmZmYyYWUnLCAnI2YxZTJjYycsICcjY2NjY2NjJ10sXG4gICAgICAgIFBhc3RlbDE6IFsnI2ZiYjRhZScsICcjYjNjZGUzJywgJyNjY2ViYzUnLCAnI2RlY2JlNCcsICcjZmVkOWE2JywgJyNmZmZmY2MnLCAnI2U1ZDhiZCcsICcjZmRkYWVjJywgJyNmMmYyZjInXSxcbiAgICB9O1xuXG4gICAgLy8gYWRkIGxvd2VyY2FzZSBhbGlhc2VzIGZvciBjYXNlLWluc2Vuc2l0aXZlIG1hdGNoZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbGlzdCA9IE9iamVjdC5rZXlzKGNvbG9yYnJld2VyKTsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGtleSA9IGxpc3RbaV07XG5cbiAgICAgICAgY29sb3JicmV3ZXJba2V5LnRvTG93ZXJDYXNlKCldID0gY29sb3JicmV3ZXJba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3JicmV3ZXJfMSA9IGNvbG9yYnJld2VyO1xuXG4gICAgdmFyIGNocm9tYSA9IGNocm9tYV8xO1xuXG4gICAgLy8gZmVlbCBmcmVlIHRvIGNvbW1lbnQgb3V0IGFueXRoaW5nIHRvIHJvbGx1cFxuICAgIC8vIGEgc21hbGxlciBjaHJvbWEuanMgYnVpbHRcblxuICAgIC8vIGlvIC0tPiBjb252ZXJ0IGNvbG9yc1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAvLyBvcGVyYXRvcnMgLS0+IG1vZGlmeSBleGlzdGluZyBDb2xvcnNcblxuXG5cblxuXG5cblxuXG5cblxuICAgIC8vIGludGVycG9sYXRvcnNcblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiAgICAvLyBnZW5lcmF0b3JzIC0tID4gY3JlYXRlIG5ldyBjb2xvcnNcbiAgICBjaHJvbWEuYXZlcmFnZSA9IGF2ZXJhZ2U7XG4gICAgY2hyb21hLmJlemllciA9IGJlemllcl8xO1xuICAgIGNocm9tYS5ibGVuZCA9IGJsZW5kXzE7XG4gICAgY2hyb21hLmN1YmVoZWxpeCA9IGN1YmVoZWxpeDtcbiAgICBjaHJvbWEubWl4ID0gY2hyb21hLmludGVycG9sYXRlID0gbWl4JDE7XG4gICAgY2hyb21hLnJhbmRvbSA9IHJhbmRvbV8xO1xuICAgIGNocm9tYS5zY2FsZSA9IHNjYWxlJDI7XG5cbiAgICAvLyBvdGhlciB1dGlsaXR5IG1ldGhvZHNcbiAgICBjaHJvbWEuYW5hbHl6ZSA9IGFuYWx5emVfMS5hbmFseXplO1xuICAgIGNocm9tYS5jb250cmFzdCA9IGNvbnRyYXN0O1xuICAgIGNocm9tYS5kZWx0YUUgPSBkZWx0YUU7XG4gICAgY2hyb21hLmRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgY2hyb21hLmxpbWl0cyA9IGFuYWx5emVfMS5saW1pdHM7XG4gICAgY2hyb21hLnZhbGlkID0gdmFsaWQ7XG5cbiAgICAvLyBzY2FsZVxuICAgIGNocm9tYS5zY2FsZXMgPSBzY2FsZXM7XG5cbiAgICAvLyBjb2xvcnNcbiAgICBjaHJvbWEuY29sb3JzID0gdzNjeDExXzE7XG4gICAgY2hyb21hLmJyZXdlciA9IGNvbG9yYnJld2VyXzE7XG5cbiAgICB2YXIgY2hyb21hX2pzID0gY2hyb21hO1xuXG4gICAgcmV0dXJuIGNocm9tYV9qcztcblxufSkpO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vYXBwLmpzXCIpO1xuIiwiIl0sIm5hbWVzIjpbIkRyYXdlciIsInJlcXVpcmUiLCJQYXJzZXIiLCJSZWFjdGlvblBhcnNlciIsIlN2Z0RyYXdlciIsIlJlYWN0aW9uRHJhd2VyIiwiU21pRHJhd2VyIiwiR2F1c3NEcmF3ZXIiLCJjYW5Vc2VET00iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJTbWlsZXNEcmF3ZXIiLCJWZXJzaW9uIiwiY2xlYW4iLCJzbWlsZXMiLCJyZXBsYWNlIiwiYXBwbHkiLCJvcHRpb25zIiwic2VsZWN0b3IiLCJ0aGVtZU5hbWUiLCJvbkVycm9yIiwic21pbGVzRHJhd2VyIiwiZWxlbWVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsImVsZW1lbnQiLCJwYXJzZSIsImdldEF0dHJpYnV0ZSIsInRyZWUiLCJkcmF3IiwiZXJyIiwic3VjY2Vzc0NhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsInBhcnNlUmVhY3Rpb24iLCJyZWFjdGlvblNtaWxlcyIsIkFycmF5IiwicHJvdG90eXBlIiwiZmlsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJUeXBlRXJyb3IiLCJPIiwibGVuIiwic3RhcnQiLCJhcmd1bWVudHMiLCJyZWxhdGl2ZVN0YXJ0IiwiayIsIk1hdGgiLCJtYXgiLCJtaW4iLCJlbmQiLCJyZWxhdGl2ZUVuZCIsInVuZGVmaW5lZCIsImZpbmFsIiwibW9kdWxlIiwiZXhwb3J0cyIsIkFycmF5SGVscGVyIiwiY2xvbmUiLCJhcnIiLCJvdXQiLCJpc0FycmF5Iiwia2V5IiwiZXF1YWxzIiwiYXJyQSIsImFyckIiLCJ0bXBBIiwic2xpY2UiLCJzb3J0IiwidG1wQiIsInByaW50IiwicyIsImlkIiwic3Vic3RyaW5nIiwiZWFjaCIsImNhbGxiYWNrIiwiZ2V0IiwicHJvcGVydHkiLCJjb250YWlucyIsImZ1bmMiLCJpbnRlcnNlY3Rpb24iLCJqIiwicHVzaCIsInVuaXF1ZSIsImZpbHRlciIsImNvdW50IiwidG9nZ2xlIiwibmV3QXJyIiwicmVtb3ZlZCIsInJlbW92ZSIsInRtcCIsInJlbW92ZVVuaXF1ZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInJlbW92ZUFsbCIsIml0ZW0iLCJtZXJnZSIsImNvbnRhaW5zQWxsIiwiY29udGFpbmluZyIsInNvcnRCeUF0b21pY051bWJlckRlc2MiLCJtYXAiLCJlIiwiYXRvbWljTnVtYmVyIiwic3BsaXQiLCJOdW1iZXIiLCJhIiwiYiIsImRlZXBDb3B5IiwiVmVydGV4IiwiUmluZyIsIkF0b20iLCJjb25zdHJ1Y3RvciIsImJvbmRUeXBlIiwiaWR4IiwidG9VcHBlckNhc2UiLCJkcmF3RXhwbGljaXQiLCJyaW5nYm9uZHMiLCJyaW5ncyIsImJyYW5jaEJvbmQiLCJpc0JyaWRnZSIsImlzQnJpZGdlTm9kZSIsIm9yaWdpbmFsUmluZ3MiLCJicmlkZ2VkUmluZyIsImFuY2hvcmVkUmluZ3MiLCJicmFja2V0IiwicGxhbmUiLCJhdHRhY2hlZFBzZXVkb0VsZW1lbnRzIiwiaGFzQXR0YWNoZWRQc2V1ZG9FbGVtZW50cyIsImlzRHJhd24iLCJpc0Nvbm5lY3RlZFRvUmluZyIsIm5laWdoYm91cmluZ0VsZW1lbnRzIiwiaXNQYXJ0T2ZBcm9tYXRpY1JpbmciLCJib25kQ291bnQiLCJjaGlyYWxpdHkiLCJpc1N0ZXJlb0NlbnRlciIsInByaW9yaXR5IiwibWFpbkNoYWluIiwiaHlkcm9nZW5EaXJlY3Rpb24iLCJzdWJ0cmVlRGVwdGgiLCJoYXNIeWRyb2dlbiIsImNsYXNzIiwiYWRkTmVpZ2hib3VyaW5nRWxlbWVudCIsImF0dGFjaFBzZXVkb0VsZW1lbnQiLCJwcmV2aW91c0VsZW1lbnQiLCJoeWRyb2dlbkNvdW50IiwiY2hhcmdlIiwiZ2V0QXR0YWNoZWRQc2V1ZG9FbGVtZW50cyIsIm9yZGVyZWQiLCJ0aGF0Iiwia2V5cyIsImZvckVhY2giLCJnZXRBdHRhY2hlZFBzZXVkb0VsZW1lbnRzQ291bnQiLCJpc0hldGVyb0F0b20iLCJhZGRBbmNob3JlZFJpbmciLCJyaW5nSWQiLCJnZXRSaW5nYm9uZENvdW50IiwiYmFja3VwUmluZ3MiLCJyZXN0b3JlUmluZ3MiLCJoYXZlQ29tbW9uUmluZ2JvbmQiLCJhdG9tQSIsImF0b21CIiwibmVpZ2hib3VyaW5nRWxlbWVudHNFcXVhbCIsImdldEF0b21pY051bWJlciIsImF0b21pY051bWJlcnMiLCJnZXRNYXhCb25kcyIsIm1heEJvbmRzIiwibWFzcyIsIk1hdGhIZWxwZXIiLCJWZWN0b3IyIiwiTGluZSIsImdldENoYXJnZVRleHQiLCJDYW52YXNXcmFwcGVyIiwidGFyZ2V0IiwidGhlbWVNYW5hZ2VyIiwiU3RyaW5nIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0Iiwib3B0cyIsImRyYXdpbmdXaWR0aCIsImRyYXdpbmdIZWlnaHQiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImZvbnRMYXJnZSIsImZvbnRTaXplTGFyZ2UiLCJmb250U21hbGwiLCJmb250U2l6ZVNtYWxsIiwidXBkYXRlU2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZm9udCIsImh5ZHJvZ2VuV2lkdGgiLCJtZWFzdXJlVGV4dCIsImhhbGZIeWRyb2dlbldpZHRoIiwiaGFsZkJvbmRUaGlja25lc3MiLCJib25kVGhpY2tuZXNzIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVJhdGlvIiwid2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJvQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJyYXRpbyIsInN0eWxlIiwic2V0VHJhbnNmb3JtIiwic2V0VGhlbWUiLCJ0aGVtZSIsImNvbG9ycyIsInNjYWxlIiwidmVydGljZXMiLCJtYXhYIiwiTUFYX1ZBTFVFIiwibWF4WSIsIm1pblgiLCJtaW5ZIiwicCIsInBvc2l0aW9uIiwieCIsInkiLCJwYWRkaW5nIiwic2NhbGVYIiwib2Zmc2V0V2lkdGgiLCJzY2FsZVkiLCJvZmZzZXRIZWlnaHQiLCJyZXNldCIsImdldENvbG9yIiwiZHJhd0NpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwiZGVidWciLCJkZWJ1Z1RleHQiLCJzYXZlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwiYXJjIiwidHdvUEkiLCJjbG9zZVBhdGgiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImRyYXdEZWJ1Z1RleHQiLCJyZXN0b3JlIiwiZHJhd0xpbmUiLCJsaW5lIiwiZGFzaGVkIiwiYWxwaGEiLCJzaG9ydExpbmUiLCJzaG9ydGVuIiwibCIsImdldExlZnRWZWN0b3IiLCJyIiwiZ2V0UmlnaHRWZWN0b3IiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJtb3ZlVG8iLCJsaW5lVG8iLCJsaW5lQ2FwIiwiZ3JhZGllbnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImdldExlZnRFbGVtZW50IiwiZ2V0UmlnaHRFbGVtZW50Iiwic2V0TGluZURhc2giLCJnbG9iYWxBbHBoYSIsImRyYXdXZWRnZSIsImlzTmFOIiwiZnJvbSIsInRvIiwibm9ybWFscyIsIm5vcm1hbGl6ZSIsImlzUmlnaHRDaGlyYWxDZW50ZXIiLCJnZXRSaWdodENoaXJhbCIsInQiLCJhZGQiLCJtdWx0aXBseVNjYWxhciIsInUiLCJ2IiwidyIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiYm9uZExlbmd0aCIsImRyYXdEYXNoZWRXZWRnZSIsInNTdGFydCIsInNFbmQiLCJzaG9ydGVuUmlnaHQiLCJzaG9ydGVuTGVmdCIsImRpciIsInN1YnRyYWN0IiwiZ2V0TGVuZ3RoIiwic3RlcCIsImNoYW5nZWQiLCJzdGFydERhc2giLCJkYXNoT2Zmc2V0IiwidGV4dCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwiZHJhd0JhbGwiLCJlbGVtZW50TmFtZSIsImRyYXdQb2ludCIsImRyYXdUZXh0IiwiaHlkcm9nZW5zIiwiZGlyZWN0aW9uIiwiaXNUZXJtaW5hbCIsImlzb3RvcGUiLCJ2ZXJ0ZXhDb3VudCIsImF0dGFjaGVkUHNldWRvRWxlbWVudCIsInBzZXVkb0VsZW1lbnRIYW5kbGVkIiwiY2hhcmdlVGV4dCIsImNoYXJnZVdpZHRoIiwiaXNvdG9wZVRleHQiLCJpc290b3BlV2lkdGgiLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwiZGltIiwidG90YWxXaWR0aCIsInBhcnNlSW50IiwiY3Vyc29yUG9zIiwiY3Vyc29yUG9zTGVmdCIsImhhbGZGb250U2l6ZUxhcmdlIiwiZmlmdGhGb250U2l6ZVNtYWxsIiwiaHlkcm9nZW5Db3VudFdpZHRoIiwiaHgiLCJoeSIsInF1YXJ0ZXJGb250U2l6ZUxhcmdlIiwib3BlblBhcmVudGhlc2lzV2lkdGgiLCJjbG9zZVBhcmVudGhlc2lzV2lkdGgiLCJlbGVtZW50Q291bnQiLCJlbGVtZW50Q2hhcmdlIiwiZWxlbWVudFdpZHRoIiwiZWxlbWVudENvdW50V2lkdGgiLCJlbGVtZW50Q2hhcmdlVGV4dCIsImVsZW1lbnRDaGFyZ2VXaWR0aCIsImRyYXdEZWJ1Z1BvaW50IiwiZHJhd0Fyb21hdGljaXR5UmluZyIsInJpbmciLCJhcG90aGVtRnJvbVNpZGVMZW5ndGgiLCJnZXRTaXplIiwiY2VudGVyIiwiYm9uZFNwYWNpbmciLCJQSSIsImNsZWFyIiwiY2xlYXJSZWN0Iiwic3ZnRHJhd2VyIiwiZGF0YSIsImluZm9Pbmx5IiwiaGlnaGxpZ2h0X2F0b21zIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlTlMiLCJzdmdXcmFwcGVyIiwidG9DYW52YXMiLCJnZXRUb3RhbE92ZXJsYXBTY29yZSIsImdldE1vbGVjdWxhckZvcm11bGEiLCJFZGdlIiwiUmluZ0Nvbm5lY3Rpb24iLCJHcmFwaCIsIlNTU1IiLCJUaGVtZU1hbmFnZXIiLCJPcHRpb25zIiwiRHJhd2VyQmFzZSIsImdyYXBoIiwiZG91YmxlQm9uZENvbmZpZ0NvdW50IiwiZG91YmxlQm9uZENvbmZpZyIsInJpbmdJZENvdW50ZXIiLCJyaW5nQ29ubmVjdGlvbklkQ291bnRlciIsImNhbnZhc1dyYXBwZXIiLCJ0b3RhbE92ZXJsYXBTY29yZSIsImRlZmF1bHRPcHRpb25zIiwic2hvcnRCb25kTGVuZ3RoIiwiYXRvbVZpc3VhbGl6YXRpb24iLCJpc29tZXJpYyIsInRlcm1pbmFsQ2FyYm9ucyIsImV4cGxpY2l0SHlkcm9nZW5zIiwib3ZlcmxhcFNlbnNpdGl2aXR5Iiwib3ZlcmxhcFJlc29sdXRpb25JdGVyYXRpb25zIiwiY29tcGFjdERyYXdpbmciLCJmb250RmFtaWx5IiwiZXhwZXJpbWVudGFsU1NTUiIsImtrVGhyZXNob2xkIiwia2tJbm5lclRocmVzaG9sZCIsImtrTWF4SXRlcmF0aW9uIiwia2tNYXhJbm5lckl0ZXJhdGlvbiIsImtrTWF4RW5lcmd5Iiwid2VpZ2h0cyIsImNvbG9ybWFwIiwiYWRkaXRpb25hbFBhZGRpbmciLCJzaWdtYSIsImludGVydmFsIiwib3BhY2l0eSIsInRoZW1lcyIsImRhcmsiLCJDIiwiTiIsIkYiLCJDTCIsIkJSIiwiSSIsIlAiLCJTIiwiQiIsIlNJIiwiSCIsIkJBQ0tHUk9VTkQiLCJsaWdodCIsIm9sZHNjaG9vbCIsImN1c3RvbSIsImV4dGVuZCIsImhhbGZCb25kU3BhY2luZyIsImJvbmRMZW5ndGhTcSIsImluaXREcmF3IiwicHJvY2Vzc0dyYXBoIiwiZHJhd0VkZ2VzIiwiZHJhd1ZlcnRpY2VzIiwiY29uc29sZSIsImxvZyIsInJpbmdDb25uZWN0aW9ucyIsImVkZ2VSaW5nQ291bnQiLCJlZGdlSWQiLCJlZGdlIiwiZWRnZXMiLCJzb3VyY2VJZCIsInRhcmdldElkIiwiZ2V0QnJpZGdlZFJpbmdzIiwiYnJpZGdlZFJpbmdzIiwiaXNCcmlkZ2VkIiwiZ2V0RnVzZWRSaW5ncyIsImZ1c2VkUmluZ3MiLCJpc0Z1c2VkIiwiZ2V0U3Bpcm9zIiwic3Bpcm9zIiwiaXNTcGlybyIsInByaW50UmluZ0luZm8iLCJyZXN1bHQiLCJtZW1iZXJzIiwibmVpZ2hib3VycyIsInJvdGF0ZURyYXdpbmciLCJtYXhEaXN0IiwidmVydGV4QSIsInZlcnRleEIiLCJkaXN0IiwiZGlzdGFuY2VTcSIsImFuZ2xlIiwicmVtYWluZGVyIiwicm90YXRlQXJvdW5kIiwiZ2V0UmluZ0NvdW50IiwiaGFzQnJpZGdlZFJpbmciLCJnZXRIZWF2eUF0b21Db3VudCIsImhhYyIsIm1vbGVjdWxhckZvcm11bGEiLCJjb3VudHMiLCJNYXAiLCJhdG9tIiwiaGFzIiwic2V0IiwiaGNvdW50Iiwibkh5ZHJvZ2VucyIsImRlbGV0ZSIsImdldFJpbmdib25kVHlwZSIsImJvbmQiLCJvcmlnaW5hbFJpbmdDb25uZWN0aW9ucyIsImluaXRSaW5ncyIsImluaXRIeWRyb2dlbnMiLCJyZXN0b3JlUmluZ0luZm9ybWF0aW9uIiwicmVzb2x2ZVByaW1hcnlPdmVybGFwcyIsIm92ZXJsYXBTY29yZSIsImdldE92ZXJsYXBTY29yZSIsInRvdGFsIiwibyIsImlzRWRnZVJvdGF0YWJsZSIsInN1YlRyZWVEZXB0aEEiLCJnZXRUcmVlRGVwdGgiLCJzdWJUcmVlRGVwdGhCIiwic3ViVHJlZU92ZXJsYXAiLCJnZXRTdWJ0cmVlT3ZlcmxhcFNjb3JlIiwidmVydGV4U2NvcmVzIiwibmVpZ2hib3Vyc0IiLCJnZXROZWlnaGJvdXJzIiwibmVpZ2hib3VyIiwiZ2V0Um90YXRlQXdheUZyb21BbmdsZSIsInRvUmFkIiwicm90YXRlU3VidHJlZSIsIm5ld1RvdGFsT3ZlcmxhcFNjb3JlIiwibmVpZ2hib3VyQSIsIm5laWdoYm91ckIiLCJhbmdsZUEiLCJhbmdsZUIiLCJyZXNvbHZlU2Vjb25kYXJ5T3ZlcmxhcHMiLCJzY29yZXMiLCJhbm5vdGF0ZVN0ZXJlb2NoZW1pc3RyeSIsImluaXRQc2V1ZG9FbGVtZW50cyIsIm9wZW5Cb25kcyIsInZlcnRleCIsInJpbmdib25kSWQiLCJyaW5nYm9uZEJvbmQiLCJzb3VyY2VWZXJ0ZXhJZCIsInRhcmdldFZlcnRleElkIiwidGFyZ2V0UmluZ2JvbmRCb25kIiwic2V0Qm9uZFR5cGUiLCJhZGRFZGdlIiwidGFyZ2V0VmVydGV4IiwiYWRkUmluZ2JvbmRDaGlsZCIsImdldFJpbmdzIiwicmluZ1ZlcnRpY2VzIiwiYWRkUmluZyIsInJpbmdDb25uZWN0aW9uIiwic2l6ZSIsImFkZFJpbmdDb25uZWN0aW9uIiwiYmFja3VwUmluZ0luZm9ybWF0aW9uIiwiaXNQYXJ0T2ZCcmlkZ2VkUmluZyIsImdldFJpbmciLCJpbnZvbHZlZFJpbmdzIiwiZ2V0QnJpZGdlZFJpbmdSaW5ncyIsImNyZWF0ZUJyaWRnZWRSaW5nIiwicmVtb3ZlUmluZyIsInJlY3Vyc2UiLCJuIiwiY29udGFpbnNSaW5nIiwicmluZ0lkcyIsInJpbmdNZW1iZXJzIiwiU2V0IiwiaXNQYXJ0T2ZCcmlkZ2VkIiwibGVmdG92ZXJzIiwiaW5zaWRlUmluZyIsIm9uUmluZyIsInJlbW92ZVJpbmdDb25uZWN0aW9uc0JldHdlZW4iLCJjb25uZWN0aW9ucyIsImdldFJpbmdDb25uZWN0aW9ucyIsImdldFJpbmdDb25uZWN0aW9uIiwidXBkYXRlT3RoZXIiLCJhcmVWZXJ0aWNlc0luU2FtZVJpbmciLCJnZXRDb21tb25SaW5ncyIsImNvbW1vblJpbmdzIiwiZ2V0TGFyZ2VzdE9yQXJvbWF0aWNDb21tb25SaW5nIiwibWF4U2l6ZSIsImxhcmdlc3RDb21tb25SaW5nIiwiaXNCZW56ZW5lTGlrZSIsImdldFZlcnRpY2VzQXQiLCJleGNsdWRlVmVydGV4SWQiLCJsb2NhbHMiLCJwb3NpdGlvbmVkIiwiZGlzdGFuY2UiLCJnZXRDbG9zZXN0VmVydGV4IiwibWluRGlzdCIsIm1pblZlcnRleCIsImRpc3RTcSIsImZpcnN0UmluZ0lkIiwic2Vjb25kUmluZ0lkIiwicmVtb3ZlUmluZ0Nvbm5lY3Rpb24iLCJyaW5nQ29ubmVjdGlvbklkIiwidmVydGV4SWRBIiwidmVydGV4SWRCIiwidG9SZW1vdmUiLCJyYyIsIm92ZXJsYXBTY29yZXMiLCJGbG9hdDMyQXJyYXkiLCJsZW5ndGhTcSIsIndlaWdodGVkIiwic3FydCIsInNvcnRhYmxlIiwic2NvcmUiLCJjaG9vc2VTaWRlIiwic2lkZXMiLCJhbiIsImJuIiwiYW5Db3VudCIsImJuQ291bnQiLCJ0biIsInNpZGVDb3VudCIsInNhbWVTaWRlQXMiLCJ0b3RhbFNpZGVDb3VudCIsInRvdGFsUG9zaXRpb24iLCJzZXRSaW5nQ2VudGVyIiwicmluZ1NpemUiLCJkaXZpZGUiLCJnZXRTdWJyaW5nQ2VudGVyIiwic21hbGxlc3QiLCJkcmF3biIsInRyYXZlcnNlQkYiLCJnZXRFZGdlcyIsImRyYXdFZGdlIiwiaXNSaW5nQXJvbWF0aWMiLCJlbGVtZW50QSIsImVsZW1lbnRCIiwiZ2V0RWRnZU5vcm1hbHMiLCJpblJpbmciLCJsY3IiLCJsaW5lQSIsImxpbmVCIiwiaXNDaGlyYWxDZW50ZXJBIiwiaXNDaGlyYWxDZW50ZXJCIiwid2VkZ2UiLCJtaWRwb2ludCIsImdldFRleHREaXJlY3Rpb24iLCJpc0NhcmJvbiIsImdldE5laWdoYm91ckNvdW50IiwiZm9yY2VQb3NpdGlvbmVkIiwidGhyZWVQb2ludGFuZ2xlIiwiYWJzIiwic3RhcnRWZXJ0ZXgiLCJjcmVhdGVOZXh0Qm9uZCIsImNyZWF0ZVJpbmciLCJwcmV2aW91c1ZlcnRleCIsIm9yZGVyZWROZWlnaGJvdXJzIiwiZ2V0T3JkZXJlZE5laWdoYm91cnMiLCJzdGFydGluZ0FuZ2xlIiwicG9seUNpcmN1bXJhZGl1cyIsImNlbnRyYWxBbmdsZSIsInN0YXJ0VmVydGV4SWQiLCJra0xheW91dCIsImVhY2hNZW1iZXIiLCJzZXRQb3NpdGlvbiIsImNvcyIsInNpbiIsImdldFZlcnRpY2VzIiwiYXBvdGhlbSIsIm5leHRDZW50ZXIiLCJwb3NBIiwicG9zQiIsImNsb2Nrd2lzZSIsImludmVydCIsInJpbmdNZW1iZXIiLCJyaW5nTWVtYmVyTmVpZ2hib3VycyIsInZlcnRleElkIiwicGFyZW50VmVydGV4SWQiLCJ0cmF2ZXJzZVRyZWUiLCJ2ZXJ0ZXhPdmVybGFwU2NvcmVzIiwiZ2V0Q3VycmVudENlbnRlck9mTWFzcyIsImdldEN1cnJlbnRDZW50ZXJPZk1hc3NJbk5laWdib3VyaG9vZCIsInZlYyIsInJTcSIsIm92ZXJsYXBzIiwiZG9uZSIsIm5vblJpbmdOZWlnaGJvdXJzIiwiZ2V0Tm9uUmluZ05laWdoYm91cnMiLCJjb21tb24iLCJvdmVybGFwIiwiZ2V0QW5nbGUiLCJzdWJUcmVlT3ZlcmxhcEEiLCJzdWJUcmVlT3ZlcmxhcEIiLCJjbG9zZXN0IiwiY2xvc2VzdFBvc2l0aW9uIiwicHJldmlvdXNQb3NpdGlvbiIsInZlcnRleFByZXZpb3VzUG9zaXRpb24iLCJyb3RhdGVBd2F5RnJvbSIsImdldExhc3RWZXJ0ZXhXaXRoQW5nbGUiLCJvcmlnaW5TaG9ydGVzdCIsInNraXBQb3NpdGlvbmluZyIsImRvdWJsZUJvbmRDb25maWdTZXQiLCJnZXRFZGdlIiwiZHVtbXkiLCJyb3RhdGUiLCJqb2luZWRWZXJ0ZXgiLCJwb3MiLCJzZXRQb3NpdGlvbkZyb21WZWN0b3IiLCJuZXh0UmluZyIsInRtcE5laWdoYm91cnMiLCJwcmV2aW91c0FuZ2xlIiwibmV4dFZlcnRleCIsInN0cmFpZ2h0RWRnZTEiLCJzdHJhaWdodEVkZ2UyIiwicHJvcG9zZWRBbmdsZUEiLCJwcm9wb3NlZEFuZ2xlQiIsInByb3Bvc2VkVmVjdG9yQSIsInByb3Bvc2VkVmVjdG9yQiIsImNlbnRlck9mTWFzcyIsImRpc3RhbmNlQSIsImRpc3RhbmNlQiIsInN1YlRyZWVEZXB0aEMiLCJjaXMiLCJ0cmFucyIsImNpc1ZlcnRleCIsInRyYW5zVmVydGV4IiwiZWRnZUNpcyIsImVkZ2VUcmFucyIsImQxIiwiZDIiLCJkMyIsImQ0IiwieiIsImdldENvbW1vblJpbmdib25kTmVpZ2hib3VyIiwiaXNQb2ludEluUmluZyIsInJhZGl1c1NxIiwiaXNFZGdlSW5SaW5nIiwic291cmNlIiwidjEiLCJ2MiIsInVuaXRzIiwibnJuZWlnaGJvdXJzIiwibkludGVyc2VjdGlvbnMiLCJtYXhEZXB0aCIsIm5OZWlnaGJvdXJzIiwicHJpb3JpdGllcyIsInZpc2l0ZWQiLCJVaW50OEFycmF5IiwidmlzaXRTdGVyZW9jaGVtaXN0cnkiLCJtYXhMZXZlbHMiLCJtYXhFbnRyaWVzIiwiZGlmZiIsIm9yZGVyIiwicG9zQyIsImN3QSIsInJlbGF0aXZlQ2xvY2t3aXNlIiwiY3dCIiwiaXNDdyIsInJvdGF0aW9uIiwicnMiLCJwYXJpdHlPZlBlcm11dGF0aW9uIiwid2VkZ2VBIiwid2VkZ2VCIiwid2VkZ2VPcmRlciIsInNob3dIeWRyb2dlbiIsIm9mZnNldCIsIlVpbnQzMkFycmF5Iiwid2VkZ2VJZCIsInByZXZpb3VzVmVydGV4SWQiLCJkZXB0aCIsInBhcmVudEF0b21pY051bWJlciIsIndlaWdodCIsImJvbmRzIiwibmVpZ2hib3VySWRzIiwiaGV0ZXJvQXRvbUNvdW50IiwiY3RuIiwibmVpZ2hib3VyaW5nRWxlbWVudCIsIm5laWdoYm91ckNvdW50IiwicHJldmlvdXMiLCJwc2V1ZG9FbGVtZW50cyIsImZvcm11bGFUb0NvbW1vbk5hbWUiLCJjb252ZXJ0SW1hZ2UiLCJjaHJvbWEiLCJwb2ludHMiLCJub3JtYWxpemVkIiwicGl5ZzExIiwiY29udGV4dCIsInNldEZyb21BcnJheSIsImFycl9wb2ludHMiLCJhcnJfd2VpZ2h0cyIsIm0iLCJyb3ciLCJkaXZpc29yIiwidl94eSIsInZhbCIsImV4cCIsImFic19tYXgiLCJNQVhfU0FGRV9JTlRFR0VSIiwiZG9tYWluIiwicm91bmQiLCJnIiwicmdiIiwic2V0UGl4ZWwiLCJnZXRJbWFnZSIsImltYWdlIiwiSW1hZ2UiLCJvbmxvYWQiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJkcmF3SW1hZ2UiLCJvbmVycm9yIiwic3JjIiwidG9EYXRhVVJMIiwiZ2V0U1ZHIiwiZ2V0SW1hZ2VEYXRhIiwiZmlsbFJlY3QiLCJwYXJzZVRyZWUiLCJhdG9tSWR4VG9WZXJ0ZXhJZCIsInZlcnRleElkc1RvRWRnZUlkIiwiX2F0b21JZHgiLCJfdGltZSIsIl9pbml0Iiwibm9kZSIsImlzQnJhbmNoIiwiaGFzTmV4dCIsInBhcmVudFZlcnRleCIsImFkZFZlcnRleCIsInNldFBhcmVudFZlcnRleElkIiwiYWRkQ2hpbGQiLCJzcGFubmluZ1RyZWVDaGlsZHJlbiIsInJpbmdib25kQ291bnQiLCJzdGVyZW9IeWRyb2dlbnMiLCJpc0JyYWNrZXQiLCJicmFuY2hlcyIsImJyYW5jaENvdW50IiwibmV4dCIsImVkZ2VJZHMiLCJoYXNFZGdlIiwiZ2V0VmVydGV4TGlzdCIsImdldEVkZ2VMaXN0IiwiZ2V0QWRqYWNlbmN5TWF0cml4IiwiYWRqYWNlbmN5TWF0cml4IiwiZ2V0Q29tcG9uZW50c0FkamFjZW5jeU1hdHJpeCIsImJyaWRnZXMiLCJnZXRCcmlkZ2VzIiwiZ2V0U3ViZ3JhcGhBZGphY2VuY3lNYXRyaXgiLCJ2ZXJ0ZXhJZHMiLCJnZXREaXN0YW5jZU1hdHJpeCIsImFkamEiLCJJbmZpbml0eSIsImdldFN1YmdyYXBoRGlzdGFuY2VNYXRyaXgiLCJnZXRBZGphY2VuY3lMaXN0IiwiYWRqYWNlbmN5TGlzdCIsImdldFN1YmdyYXBoQWRqYWNlbmN5TGlzdCIsImRpc2MiLCJsb3ciLCJwYXJlbnQiLCJhZGoiLCJvdXRCcmlkZ2VzIiwiX2JyaWRnZURmcyIsInF1ZXVlIiwic2hpZnQiLCJnZXRTcGFubmluZ1RyZWVOZWlnaGJvdXJzIiwiY2hpbGRJZCIsImQiLCJpZ25vcmVGaXJzdCIsInRocmVzaG9sZCIsImlubmVyVGhyZXNob2xkIiwibWF4SXRlcmF0aW9uIiwibWF4SW5uZXJJdGVyYXRpb24iLCJtYXhFbmVyZ3kiLCJlZGdlU3RyZW5ndGgiLCJtYXREaXN0IiwiYXJyUG9zaXRpb25YIiwiYXJyUG9zaXRpb25ZIiwiYXJyUG9zaXRpb25lZCIsIm1hdExlbmd0aCIsIm1hdFN0cmVuZ3RoIiwicG93IiwibWF0RW5lcmd5IiwiYXJyRW5lcmd5U3VtWCIsImFyckVuZXJneVN1bVkiLCJ1eCIsInV5IiwiZEV4IiwiZEV5IiwidngiLCJ2eSIsImRlbm9tIiwiZW5lcmd5IiwiaGlnaGVzdEVuZXJneSIsIm1heEVuZXJneUlkIiwibWF4REVYIiwibWF4REVZIiwiZGVsdGEiLCJkRVgiLCJkRVkiLCJ1cGRhdGUiLCJkeHgiLCJkeXkiLCJkeHkiLCJhcnJMIiwiYXJySyIsImR5IiwiZHgiLCJhcnJFIiwicHJldkV4IiwicHJldkV5IiwiaXRlcmF0aW9uIiwiaW5uZXJJdGVyYXRpb24iLCJnZXRDb25uZWN0ZWRDb21wb25lbnRzIiwiY29tcG9uZW50cyIsImNvbXBvbmVudCIsIl9jY0dldERmcyIsImdldENvbm5lY3RlZENvbXBvbmVudENvdW50IiwiX2NjQ291bnREZnMiLCJjIiwiZWxlbWVudEZyb20iLCJlbGVtZW50VG8iLCJjaGlyYWxGcm9tIiwiY2hpcmFsVG8iLCJnZXRMZWZ0Q2hpcmFsIiwic2V0UmlnaHRWZWN0b3IiLCJzZXRMZWZ0VmVjdG9yIiwicm90YXRlVG9YQXhpcyIsImxlZnQiLCJ0aGV0YSIsInNpblRoZXRhIiwiY29zVGhldGEiLCJzaG9ydGVuRnJvbSIsImJ5IiwiZiIsInNob3J0ZW5UbyIsImRlY2ltYWxzIiwibWVhbkFuZ2xlIiwiYXRhbjIiLCJpbm5lckFuZ2xlIiwidG9EZWciLCJyYWQiLCJkZWdGYWN0b3IiLCJkZWciLCJyYWRGYWN0b3IiLCJldmVuTGVuZ3RoQ3ljbGVDb3VudCIsInRyYXZlcnNlQ3ljbGUiLCJjeWNsZUxlbmd0aCIsImV4dGVuZGVkIiwiZGVlcCIsImNhbGwiLCJvYmoiLCJwcm9wIiwicGVnJHN1YmNsYXNzIiwiY2hpbGQiLCJjdG9yIiwicGVnJFN5bnRheEVycm9yIiwibWVzc2FnZSIsImV4cGVjdGVkIiwiZm91bmQiLCJsb2NhdGlvbiIsIm5hbWUiLCJFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiYnVpbGRNZXNzYWdlIiwiREVTQ1JJQkVfRVhQRUNUQVRJT05fRk5TIiwibGl0ZXJhbCIsImV4cGVjdGF0aW9uIiwibGl0ZXJhbEVzY2FwZSIsImVzY2FwZWRQYXJ0cyIsInBhcnRzIiwiY2xhc3NFc2NhcGUiLCJpbnZlcnRlZCIsImFueSIsIm90aGVyIiwiZGVzY3JpcHRpb24iLCJoZXgiLCJjaCIsImNoYXJDb2RlQXQiLCJkZXNjcmliZUV4cGVjdGF0aW9uIiwidHlwZSIsImRlc2NyaWJlRXhwZWN0ZWQiLCJkZXNjcmlwdGlvbnMiLCJqb2luIiwiZGVzY3JpYmVGb3VuZCIsInBlZyRwYXJzZSIsImlucHV0Iiwibk9wZW5QYXJlbnRoZXNlcyIsIm5DbG9zZVBhcmVudGhlc2VzIiwicGVnJGJ1aWxkU2ltcGxlRXJyb3IiLCJwZWckRkFJTEVEIiwicGVnJHN0YXJ0UnVsZUZ1bmN0aW9ucyIsImNoYWluIiwicGVnJHBhcnNlY2hhaW4iLCJwZWckc3RhcnRSdWxlRnVuY3Rpb24iLCJwZWckYzAiLCJwZWckYzEiLCJwZWckYzIiLCJwZWckbGl0ZXJhbEV4cGVjdGF0aW9uIiwicGVnJGMzIiwicGVnJGM0IiwicGVnJGM1IiwicGVnJGM2IiwicGVnJGM3IiwicGVnJGM4IiwicGVnJGNsYXNzRXhwZWN0YXRpb24iLCJwZWckYzkiLCJwZWckYzEwIiwicGVnJGMxMSIsInBlZyRjMTIiLCJwZWckYzEzIiwicGVnJGMxNCIsInBlZyRjMTUiLCJwZWckYzE2IiwicGVnJGMxNyIsInBlZyRjMTgiLCJwZWckYzE5IiwicGVnJGMyMCIsInBlZyRjMjEiLCJwZWckYzIyIiwicGVnJGMyMyIsInBlZyRjMjQiLCJwZWckYzI1IiwicGVnJGMyNiIsInBlZyRjMjciLCJwZWckYzI4IiwicGVnJGMyOSIsInBlZyRjMzAiLCJwZWckYzMxIiwicGVnJGMzMiIsInBlZyRjMzMiLCJwZWckYzM0IiwicGVnJGMzNSIsInBlZyRjMzYiLCJwZWckYzM3IiwicGVnJGMzOCIsInBlZyRjMzkiLCJwZWckYzQwIiwicGVnJGM0MSIsInBlZyRjNDIiLCJwZWckYzQzIiwicGVnJGM0NCIsInBlZyRjNDUiLCJwZWckYzQ2IiwicGVnJGM0NyIsInBlZyRjNDgiLCJwZWckYzQ5IiwicGVnJGM1MCIsInBlZyRjNTEiLCJwZWckYzUyIiwicGVnJGM1MyIsInBlZyRjNTQiLCJwZWckYzU1IiwicGVnJGM1NiIsInBlZyRjNTciLCJwZWckYzU4IiwicGVnJGM1OSIsInBlZyRjNjAiLCJwZWckYzYxIiwicGVnJGM2MiIsInBlZyRjNjMiLCJwZWckYzY0IiwicGVnJGM2NSIsInBlZyRjNjYiLCJwZWckYzY3IiwicGVnJGM2OCIsInBlZyRjNjkiLCJwZWckYzcwIiwicGVnJGM3MSIsInBlZyRjNzIiLCJwZWckYzczIiwiaCIsInBlZyRjNzQiLCJwZWckYzc1IiwicGVnJGM3NiIsInBlZyRjNzciLCJwZWckYzc4IiwicGVnJGM3OSIsInBlZyRjdXJyUG9zIiwicGVnJHNhdmVkUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsImNvbHVtbiIsInBlZyRtYXhGYWlsUG9zIiwicGVnJG1heEZhaWxFeHBlY3RlZCIsInBlZyRzaWxlbnRGYWlscyIsInBlZyRyZXN1bHQiLCJzdGFydFJ1bGUiLCJwZWckY29tcHV0ZUxvY2F0aW9uIiwicGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yIiwicGVnJG90aGVyRXhwZWN0YXRpb24iLCJlcnJvciIsImlnbm9yZUNhc2UiLCJwZWckYW55RXhwZWN0YXRpb24iLCJwZWckZW5kRXhwZWN0YXRpb24iLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJkZXRhaWxzIiwic3RhcnRQb3MiLCJlbmRQb3MiLCJzdGFydFBvc0RldGFpbHMiLCJlbmRQb3NEZXRhaWxzIiwicGVnJGZhaWwiLCJzMCIsInMxIiwiczIiLCJzMyIsInM0IiwiczUiLCJzNiIsInM3IiwiczgiLCJzOSIsInBlZyRwYXJzZWF0b20iLCJwZWckcGFyc2VicmFuY2giLCJwZWckcGFyc2Vib25kIiwicGVnJHBhcnNlcmluZyIsInBlZyRwYXJzZW9yZ2FuaWNzeW1ib2wiLCJwZWckcGFyc2Vhcm9tYXRpY3N5bWJvbCIsInBlZyRwYXJzZWJyYWNrZXRhdG9tIiwicGVnJHBhcnNld2lsZGNhcmQiLCJ0ZXN0IiwiY2hhckF0IiwicGVnJHBhcnNlaXNvdG9wZSIsInN1YnN0ciIsInBlZyRwYXJzZWVsZW1lbnRzeW1ib2wiLCJwZWckcGFyc2VjaGlyYWwiLCJwZWckcGFyc2VoY291bnQiLCJwZWckcGFyc2VjaGFyZ2UiLCJwZWckcGFyc2VjbGFzcyIsInBlZyRwYXJzZXBvc2NoYXJnZSIsInBlZyRwYXJzZW5lZ2NoYXJnZSIsIlN5bnRheEVycm9yIiwiaW1nIiwiZm4iLCJsaWtlQXJyYXkiLCJjb21wb25lbnRUb0hleCIsIm1ha2VQYXRoRGF0YSIsIm1ha2VQYXRoIiwiY29sb3JzVG9QYXRocyIsIm91dHB1dCIsInZhbHVlcyIsIm9yaWciLCJwYXRocyIsImN1clBhdGgiLCJnZXRDb2xvcnMiLCJmbG9vciIsImR1bW15RGl2IiwiaW5uZXJIVE1MIiwiZmlyc3RDaGlsZCIsIlJlYWN0aW9uIiwicmVhY3RhbnRzU21pbGVzIiwicmVhZ2VudHNTbWlsZXMiLCJwcm9kdWN0c1NtaWxlcyIsInJlYWN0YW50c1dlaWdodHMiLCJyZWFnZW50c1dlaWdodHMiLCJwcm9kdWN0c1dlaWdodHMiLCJyZWFjdGFudHMiLCJyZWFnZW50cyIsInByb2R1Y3RzIiwiU3ZnV3JhcHBlciIsIm1vbGVjdWxlT3B0aW9ucyIsImZvbnRTaXplIiwic3BhY2luZyIsInBsdXMiLCJ0aGlja25lc3MiLCJhcnJvdyIsImhlYWRTaXplIiwibWFyZ2luIiwiZHJhd2VyIiwibW9sT3B0cyIsInJlYWN0aW9uIiwidGV4dEFib3ZlIiwidGV4dEJlbG93IiwicmVtb3ZlQ2hpbGQiLCJtYXhIZWlnaHQiLCJnZXRQbHVzIiwicmVhY3RhbnRXZWlnaHRzIiwicmVhY3RhbnRTdmciLCJ2aWV3Qm94IiwiYmFzZVZhbCIsImdldEFycm93IiwicmVhZ2VudHNUZXh0IiwicmVwbGFjZU51bWJlcnNXaXRoU3Vic2NyaXB0IiwidG9wVGV4dCIsIndyaXRlVGV4dCIsImNlbnRlck9mZnNldFgiLCJib3R0b21UZXh0IiwicHJvZHVjdFdlaWdodHMiLCJwcm9kdWN0U3ZnIiwiX2VsZW1lbnQkb2Zmc2V0WCIsIl9lbGVtZW50JG9mZnNldFkiLCJhcHBlbmRDaGlsZCIsInJlY3RfaCIsInJlY3RfdiIsImdldEFycm93aGVhZCIsIm1hcmtlciIsInBvbHlnb24iLCJnZXRDREFycm93aGVhZCIsInN3IiwicGF0aCIsImRlZnMiLCJpbnNpZGVycyIsImNhbkZsaXAiLCJnZXRQb2x5Z29uIiwiY3VycmVudCIsInByZXYiLCJnZXROZXh0SW5SaW5nIiwiZGIiLCJnZXREb3VibGVCb25kQ291bnQiLCJkb3VibGVCb25kQ291bnQiLCJmaXJzdFJpbmciLCJzZWNvbmRSaW5nIiwib3RoZXJSaW5nSWQiLCJleHBlcmltZW50YWwiLCJjb25uZWN0ZWRDb21wb25lbnRzIiwiY29ubmVjdGVkQ29tcG9uZW50IiwiY2NBZGphY2VuY3lNYXRyaXgiLCJhcnJCb25kQ291bnQiLCJVaW50MTZBcnJheSIsImFyclJpbmdDb3VudCIsIm5FZGdlcyIsIm5Tc3NyIiwiYWxsVGhyZWUiLCJwZSIsInBlX3ByaW1lIiwiZ2V0UGF0aEluY2x1ZGVkRGlzdGFuY2VNYXRyaWNlcyIsImdldFJpbmdDYW5kaWRhdGVzIiwic3NzciIsImdldFNTU1IiLCJtYXRyaXhUb1N0cmluZyIsIm1hdHJpeCIsInN0ciIsIlBPU0lUSVZFX0lORklOSVRZIiwicHJldmlvdXNQYXRoTGVuZ3RoIiwibmV3UGF0aExlbmd0aCIsImNhbmRpZGF0ZXMiLCJuc3NzciIsImNTc3NyIiwiYWxsQm9uZHMiLCJjb25jYXQiLCJhdG9tcyIsImJvbmRzVG9BdG9tcyIsImdldEJvbmRDb3VudCIsInBhdGhTZXRzQ29udGFpbiIsImdldEVkZ2VDb3VudCIsImVkZ2VDb3VudCIsImVkZ2VMaXN0IiwicGF0aFNldHMiLCJwYXRoU2V0IiwiaXNTdXBlcnNldE9mIiwiYXJlU2V0c0VxdWFsIiwiYWxsQ29udGFpbmVkIiwic3BlY2lhbENhc2UiLCJzZXRBIiwic2V0QiIsInJlYWN0aW9uT3B0aW9ucyIsInJlYWN0aW9uRHJhd2VyIiwiSlNPTiIsInN0cmluZ2lmeSIsImF0dHJpYnV0ZSIsImN1cnJlbnRUaGVtZSIsImhhc0F0dHJpYnV0ZSIsInBhcnNlRmxvYXQiLCJyZXBsYWNlQWxsIiwicmVzdCIsImluZm8iLCJzZXR0aW5ncyIsImluY2x1ZGVzIiwic2V0dGluZ3NTdHJpbmciLCJsYXN0SW5kZXhPZiIsImRlZmF1bHRTZXR0aW5ncyIsInRleHRBYm92ZUFycm93IiwidGV4dEJlbG93QXJyb3ciLCJkcmF3UmVhY3Rpb24iLCJkcmF3TW9sZWN1bGUiLCJkaW1zIiwiZ2V0RGltZW5zaW9ucyIsInN2Z1RvQ2FudmFzIiwic3ZnVG9JbWciLCJIVE1MSW1hZ2VFbGVtZW50IiwiU1ZHRWxlbWVudCIsInRhZyIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJwcmVwcm9jZXNzb3IiLCJ3ZWlnaHRzTm9ybWFsaXplZCIsIm9wdGlvbkJhY2t1cCIsImRldGVybWluZURpbWVuc2lvbnMiLCJkcmF3QXRvbUhpZ2hsaWdodHMiLCJkcmF3V2VpZ2h0cyIsImNvbnN0cnVjdFN2ZyIsImRyYXdDYW52YXMiLCJib2R5IiwiZHJhd1JpbmciLCJtdWx0aXBseU5vcm1hbHMiLCJoaWdobGlnaHQiLCJkcmF3QXRvbUhpZ2hsaWdodCIsImV2ZXJ5IiwiYXRvbUlkeCIsImdkIiwiYWRkTGF5ZXIiLCJtYWtlaWQiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsInJhbmRvbSIsImNvbnRhaW5lciIsInVpZCIsImdyYWRpZW50SWQiLCJiYWNrZ3JvdW5kSXRlbXMiLCJncmFkaWVudHMiLCJoaWdobGlnaHRzIiwibWFza0VsZW1lbnRzIiwiY3JlYXRlVGV4dE5vZGUiLCJtYXNrcyIsImJhY2tncm91bmQiLCJwYXRoQ2hpbGROb2RlcyIsIm1hc2siLCJiYWNrZ3JvdW5kSXRlbSIsInVwZGF0ZVZpZXdib3giLCJjcmVhdGVHcmFkaWVudCIsImdyYWRpZW50VXJsIiwiZnJvbVgiLCJmcm9tWSIsInRvWCIsInRvWSIsImZpcnN0U3RvcCIsInNlY29uZFN0b3AiLCJjcmVhdGVTdWJTdXBlclNjcmlwdHMiLCJlbGVtIiwiY3JlYXRlVW5pY29kZUNoYXJnZSIsImNyZWF0ZVVuaWNvZGVTdXBlcnNjcmlwdCIsImJhbGwiLCJlbmREYXNoIiwicG9pbnQiLCJ0ZXh0RWxlbSIsImNpcmNsZUVsZW0iLCJsaW5lY2FwIiwic3R5bGVzQXJyIiwic3R5bGVzIiwic3ViIiwibGluZUVsZW0iLCJ0b3RhbFZlcnRpY2VzIiwiZGlzcGxheSIsImNyZWF0ZVVuaWNvZGVTdWJzY3JpcHQiLCJ3cml0ZSIsInNpbmdsZVZlcnRleCIsImJib3giLCJjeCIsImN5IiwicmV2ZXJzZSIsInBhcnQiLCJ0c3BhbkVsZW0iLCJ0ZXh0Q29udGVudCIsIm1hc2tSYWRpdXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvdXRlckhUTUwiLCJwYXJzZWQiLCJzdWJzY3JpcHROdW1iZXJzIiwiZW50cmllcyIsImxpbmVIZWlnaHQiLCJ0ZXh0TWV0cmljcyIsImNvbXBXaWR0aCIsImFjdHVhbEJvdW5kaW5nQm94TGVmdCIsImFjdHVhbEJvdW5kaW5nQm94UmlnaHQiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsIm1heFdpZHRoIiwibWF4TGluZVdpZHRoIiwidG90YWxIZWlnaHQiLCJsaW5lcyIsInRvdGFsV29yZHNXaWR0aCIsIm1heFdvcmRzSGVpZ2h0Iiwid29yZHMiLCJ3b3JkRGltcyIsInNjYWxhciIsIm11bHRpcGx5IiwiY29zQW5nbGUiLCJzaW5BbmdsZSIsInJvdGF0ZVRvIiwib2Zmc2V0QW5nbGUiLCJkaXN0U3FBIiwiZGlzdFNxQiIsImdldFJvdGF0ZVRvd2FyZHNBbmdsZSIsImdldFJvdGF0ZVRvQW5nbGUiLCJpc0luUG9seWdvbiIsImluc2lkZSIsImRpdmlkZVNjYWxhciIsIndoaWNoU2lkZSIsInZlY0EiLCJ2ZWNCIiwidmVjQyIsImRSZWYiLCJkb3QiLCJhY29zIiwiYWIiLCJiYyIsImFiTGVuZ3RoIiwiYmNMZW5ndGgiLCJzY2FsYXJQcm9qZWN0aW9uIiwidW5pdCIsImF2ZXJhZ2VEaXJlY3Rpb24iLCJ2ZWNzIiwiYXZnIiwiY2hpbGRyZW4iLCJyaW5nYm9uZEluZGV4IiwicmVmZXJlbmNlVmVjdG9yIiwicmV0dXJuQXNEZWdyZWVzIiwib25seUhvcml6b250YWwiLCJnZXREcmF3bk5laWdoYm91cnMiLCJhbmdsZXMiLCJ0ZXh0QW5nbGUiLCJoYWxmUGkiXSwic291cmNlUm9vdCI6IiJ9